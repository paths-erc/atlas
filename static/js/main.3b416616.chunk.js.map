{"version":3,"sources":["components/mainLayout/img/erc.jpg","components/mainLayout/img/sapienza.jpg","components/Loading/Ripple-1.7s-200px.svg","components/Home/IntroMd.md","components/Home/LogoMd.md","components/Home/MissionStatementMd.md","components/Home/lod.md","components/Home/license.md","components/Intro/places/places.md","components/Intro/places/places.jpg","components/Intro/manuscripts/manuscripts.md","components/Intro/manuscripts/manuscripts.jpg","components/Intro/works/works.md","components/Intro/works/works-without-clavis.md","components/Intro/works/works.jpg","components/Intro/titles/titles.md","components/Intro/titles/titles.jpg","components/Intro/authors/authors.md","components/Intro/authors/authors.jpg","components/Intro/colophons/colophons.md","components/Intro/colophons/colophons.jpg","components/Intro/collections/collections.md","components/Intro/collections/collections.jpg","components/Cite/Cite.md","components/Api/Api.md","components/mainLayout/Header.jsx","components/mainLayout/Footer.jsx","components/mainLayout/MainTemplate.jsx","components/Loading/Loading.jsx","components/ReactMarkdownPath/ReactMarkdownPath.jsx","components/Home/Home.jsx","components/Home/BrowserNotSupported.jsx","components/PathsMap/ListPlaces.jsx","components/PathsMap/UrlFilterButton.jsx","components/PathsMap/Tabs/Legend.jsx","components/Services/SavedQueries.js","components/PathsMap/Tabs/MapSavedQueries.jsx","components/PathsMap/ClearButton.jsx","components/ShowError/ShowError.jsx","components/Services/Cfg/remoteGisSources.js","components/PathsMap/Map/SiteMaps.jsx","components/PathsMap/Map/PathsPlaces.jsx","components/PathsMap/Map/Defaults.js","components/PathsMap/Map/Layers.jsx","components/Services/Database/Database.jsx","components/PathsMap/PathsMap.jsx","components/SubHead/SavedQueriesList.jsx","components/Services/Cfg/Cfg.js","components/SubHead/SubHead.jsx","components/PaginateResult/PaginateResult.jsx","components/SqlModal/SqlModal.jsx","components/PaginateResult/PaginateResultSummary.jsx","components/Search/ItemPreview.jsx","components/Manuscripts/OpenInMap.jsx","components/Search/Results.jsx","components/Search/SearchSaved.jsx","components/Search/FldSelect.jsx","components/Search/ValueInput.jsx","components/Search/CustomSearchForm.jsx","components/Search/SearchSimple.jsx","components/Search/OperatorSelect.jsx","components/Search/ConnectorSelect.jsx","components/Search/SearchAdv.jsx","components/Search/SearchEncoded.jsx","components/Search/SearchAll.jsx","components/Intro/Intro.jsx","components/Record/QuireMatrixView.jsx","components/Utils/internalLinks.jsx","components/Record/PreviewText.jsx","components/Utils/relaxedSplit.jsx","components/Record/RecordCell.jsx","components/Record/PluginBiblio.jsx","components/Record/PluginShelfmarks.jsx","components/Record/PluginToponyms.jsx","components/Record/Plugin.jsx","components/Record/RecordCellDb.jsx","components/Record/Bodies/FieldSet.jsx","components/Record/Bodies/ManuscriptsBody.jsx","components/Record/Bodies/Body.jsx","components/Record/RecordLinks.jsx","components/Record/UserLinks.jsx","components/ViewFiles/Caption.jsx","components/ViewFiles/PreviewModal.jsx","components/ViewFiles/MoreImages.jsx","components/ViewFiles/Files.jsx","components/Record/MiniMap.jsx","components/Record/ExternalLinks/CoptOT.jsx","components/Record/ExternalLinks/TM.jsx","components/Record/ExternalLinks/TmGeo.jsx","components/Record/ExternalLinks/Ldab.jsx","components/Record/ExternalLinks/Pleiades.jsx","components/Record/ExternalLinks/CopticColophons.jsx","components/Record/ExternalLinks/Dbmnt.jsx","components/Record/ExternalLinks.jsx","components/Record/ViewOne.jsx","components/Charts/ChartView.jsx","components/Charts/ChartList.jsx","components/Charts/Charts.jsx","components/Cite/Cite.jsx","components/Api/Api.jsx","App.js","registerServiceWorker.js","index.js","components/Home/paths-logo.png"],"names":["module","exports","FixedNavbar","props","useState","isOpen","toggleOpen","Navbar","color","dark","expand","className","NavbarBrand","to","tag","Link","NavbarToggler","onClick","Collapse","navbar","Nav","NavItem","NavLink","style","backgroundColor","RRNavLink","icon","href","Footer","target","rel","title","Row","Col","xs","size","md","offset","src","Sapienza","alt","Erc","borderWidth","packageJson","version","MainTemplate","location","role","children","Loading","width","Ripple","ReactMarkdownPath","mdText","setMdtext","useEffect","path","a","fetch","then","response","text","getMd","source","escapeHtml","Home","titles","id","intro","logo","missionstatement","lod","license","imgPathsLogo","map","k","i","key","listStyle","BrowserNotSupported","compatibility","browser","name","os","Object","keys","ListPlaces","this","places","features","length","e","properties","copticname","ee","ii","Badge","Component","UrlFilterButton","urlFilter","Legend","Fragment","margin","padding","background","discovery_places","url","data","btoa","storage_places","production_places","episcopal_sees","ms_in_graves","cemeteries","hermitages","mines","monasteries","settlements","final","q_encoded","section_headings","authors","bishops","manuscripts","palimpsest_ms","wandering_ms","ms_has_bindings","detached_bindings","horizontal_rolls","vertical_rolls","minor_dialects","miniature_codices","square_codices","oblong_codices","early_bohairic","fayyumic","ms_third_c","ms_forth_c","ms_fifth_c","ms_sixth_c","ms_seventh_c","works","translations_biblical_sahidic","translations_biblical_bohairic","early_translations_other","translations_apocryphal","unescape","encodeURIComponent","translations_gnostic","translations_manichaean","translations_patristic","pachomius","shenoute","standard_translations","translations_apocryphal_second","translations_hagiographical","classsical_translations_homilies","classsical_translations_historiae","classsical_translations_acts","classsical_translations_monastic","post_chalcedonian","historiographic","orig_lit_formation","orig_lit_damian_hag","orig_lit_damian_hom","poetry","orig_lit_hom","original_lit_early_islamic","standard_translations_in_bohairic","original_lit_later_hag","synaxarial","late_liturgical","colophons","cryptography","greek_minuscule","coptic_minuscule","all_ms_places","bishoprics","MapSavedQueries","values","SavedQueries","show","InputGroupAddon","addonType","Button","aria-hidden","ShowError","modal","toggleModal","Modal","toggle","ModalHeader","ModalBody","ModalFooter","block","Themes","SiteMapsList","getStyle","f","opacity","p","s","weight","fillOpacity","reconstr","dashArray","phase","fillColor","part","indexOf","fill","onEachFeature","feature","layer","bindPopup","place","subplace","subsource","SiteMaps","bounds","zoom","loadedSites","addLoadedSite","siteMaps","addSiteMap","z","contains","c","n","json","j","includes","concat","GeoJSON","pointToLayer","t","col","type","L","CircleMarker","radius","base","window","pathname","replace","on","openPopup","PathsPlaces","shownPlaces","onAdd","hash","info","html","entries","filter","Boolean","join","BaseLayer","LayersControl","Overlay","googleKey","Layers","cached","addToCache","remotes","addRemote","GisThemes","position","checked","TileLayer","googlekey","maptype","WMSTileLayer","layers","mapBounds","r","Math","random","toString","substr","geojson","baseUrl","hostname","Database","params","callback","axios","method","headers","res","console","log","catch","Error","message","tb","fld","string","cb","getData","verb","d","grp","q","page","status","val","strict","forEach","v","o","head","table_label","sql","gj","newgj","currentId","value","push","toponym","where","ms_where","PathsMap","state","sidebarCollapsed","selected","manualFilter","error","geoJsonBounds","placesLayerRef","React","createRef","mapRef","setState","str","fgj","toLowerCase","fitMapToBounds","_northEast","_southWest","lat","lng","pad","current","leafletElement","fitBounds","savedQ","locationSearch","getSaved","qstring","qs","parse","search","ignoreQueryPrefix","getMsPlaces","getPlaces","getBounds","nextProps","fetchData","match","textAlign","zIndex","marginTop","collapsed","onOpen","onSidebarOpen","bind","onClose","onSidebarClose","closeIcon","header","InputGroup","Input","onChange","filterPlaces","placeholder","clearFiltered","top","Map","zoomControl","ref","onViewportChanged","onAddgeoJson","SavedQueriesList","tblabel","Card","aria-label","closeFn","CardBody","CardTitle","ListGroup","ListGroupItem","SubHead","showSaved","Cfg","label","menuItems","Jumbotron","light","toggleSaved","cursor","PaginateResult","result","queryString","tot_rows","curr_page","tot_pages","ceil","parseInt","qString","stringify","disabled","active","build_object","totalRows","Pagination","PaginationItem","PaginationLink","SqlModal","height","whiteSpace","PaginateResultSummary","start_at","up_to","query","ItemPreviewWrapper","ItemPreview","el","record","flds","fields","preview_flds","previewFlds","id_field","idField","sm","outline","CardHeader","Table","hover","ButtonGroup","OpenInMap","encodeURI","Results","getSimple","getAdv","getAll","getByEncodedSql","prevProps","_fetchData","Alert","decodeURIComponent","trace","total_rows","stripped_table","query_where","query_arrived","records","id_fld","table","preview","withRouter","SearchSaved","saved","prevState","old_qstring","new_qstring","FldSelect","fldList","selObj","fld_whitelist","searchDefault","inspect","_setState","defaultValue","options","ValueInput","_handleSearch","isLoading","split","getUniqueVal","multiple","minLength","onSearch","onInputChange","defaultInputValue","CustomSearchForm","handleSubmit","_changeField","_changeVal","_changeStrict","constructor","Array","event","preventDefault","onSubmit","alert","FormGroup","row","Label","check","SearchSimple","_onFormSubmit","history","OperatorSelect","ConnectorSelect","AdvSearchForm","rows","getOwnPropertyNames","showResults","_changeOperator","_changeConnector","_addRow","_removeRow","index","_handleSubmit","SearchAll","Intro","dataMap","img","PlacesImg","mdPath","PlacesMd","ManuscriptsImg","ManuscriptsMd","WorksImg","WorksMd","WorksWithoutClavisMd","TitlesImg","TitlesMd","AuthorsImg","AuthorsMd","ColophonsImg","ColophonsMd","collections","CollectionsImg","CollectionsMd","hasOwnProperty","styles","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","QuireMatrixView","uid","Matrix","parseString","internalLinks","p1","p2","p3","p4","parseText","nl2br","dangerouslySetInnerHTML","__html","getExternalLink","service","trim","undefined","PreviewText","separator","display","setDisplay","linkedText","link","textParts","until","str1","start","cont","relaxedSplit","RecordCell","isCoptic","coptic","isGreek","greek","PluginBiblio","metadata","tb_label","di","zotero","short","details","images","PluginShelfmarks","country","town","institution","fullsegnat","fullname","body","getHtmlModalBody","shelfmark","pp","ToggleText","toggleDisplay","TopoCell","tot","language","notes","transcription","PluginToponyms","obj","l","parseNames","Plugin","tb_id","fi","hidden","tb_stripped","val_label","RecordCellDb","FieldSet","legend","fontSize","ManuscriptBody","rec","core","cmclid","tm","ldab","lcbm","dbmnt","alias","issinglefrag","reusedinbinding","stratigraphy","modernhistory","contents","plugins","dialect","dialectnotes","datingsource","chronofrom","chronoto","datingcriteria","bookform","writingsupport","leaftotextant","fragtot","fragdim","leaftotestimated","quiresextant","gennotes","columns","colnotes","linespercolumn","charsperline","alignment","alignmentnotes","leafw","leafh","framew","frameh","intercolumnium","marginup","marginlow","marginin","marginout","marginleft","marginright","heighttenlines","prophw","propwt","dimnotes","quirenotes","quiresig","quiretype","quireposition","quirenrnotes","pagination","pagtype","pagposition","pagnote","foliation","foltype","folposition","folnotes","handstot","lectionalsigns","structuralsigns","signsnotes","abbreviations","abbrnotes","ruling","rulingtype","rulingtool","pricking","rulingnotes","leaftabs","leaftabsnotes","kolleseis","kolleseseisdescr","tracesnotes","kollno","kolldim","bindings","covers","coversnotes","sewings","sewingtype","holesno","holesarrangement","holesnotes","pgmcol","pgmlocation","pgmnotes","blktype","blklocation","blknotes","marginalnotes","greekminuscule","greekminusculenotes","palimpsest","palimpsestnotes","decortype","decorsubj","decorationdescr","enlargedinitials","restancient","restmodern","sourceinfo","editors","ViewOne","renderTemplate","RecordLinks","links","makeHref","backlinks","arr","renderLinks","renderBackLinks","UserLinks","ref_id","ref_label","Caption","fontStyle","PreviewModal","CardImg","file","description","MoreImages","shown","buttonText","files","ext","Files","firstFiles","slice","otherFiles","MiniMap","geom","JSON","coordinates","reverse","center","coord","Marker","CoptOT","TM","TmGeo","Ldab","Pleiades","CopticColophons","Dbmnt","ExternalLinks","tmgeo","pleiades","copied","getOne","onCopy","setTimeout","geodata","getBaseUrl","manualLinks","ChartView","labels","datasets","borderColor","hoverBackgroundColor","hoverBorderColor","series_name","loading","parseData","maintainAspectRatio","ChartList","getChart","charts","loadChart","Charts","chartList","Cite","cite","Api","api","detect","ReactGA","initialize","pageview","notSupported","bName","bVersion","library","add","fas","fab","faArrowCircleRight","faBug","faEye","faExternalLinkSquareAlt","faFilter","faGithub","faIdBadge","faLink","faMapMarkerAlt","App","basename","component","exact","SearchAdv","SearchEncoded","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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ACA,2BACA,6BACA,+BACA,gCACA,mCACA,kCACA,wBACA,+BAEA,wBACA,8BACA,6BACA,0BACA,iCACA,0BAEA,wBACA,iCACA,gCACA,4BACA,wBACA,0BACA,0BACA,2BACA,2BACA,8BACA,oCACA,kCACA,mCACA,qCACA,kCACA,mCACA,8BACA,6BACA,gCACA,8BACA,0BACA,yBACA,+BACA,kCACA,mCACA,kCACA,6BACA,oCACA,kCACA,2BACA,2BACA,4BACA,4BACA,8BACA,+BACA,mCACA,+BACA,+BACA,gCACA,6BACA,iCACA,+BACA,6BACA,iCACA,8BACA,oCACA,qCACA,gCACA,mCACA,4BACA,gCACA,gCACA,8BACA,8BACA,+BACA,sCACA,8BACA,8BACA,6BACA,4BACA,mCACA,oCACA,gCACA,iCACA,gCACA,4BACA,iCACA,6BACA,iCACA,+BACA,+BACA,qCACA,gCACA,4BACA,wBACA,iCACA,6BACA,8BACA,gCACA,8BAEA,wBACA,4BClJOuS,G,YAtEb,WAAYrY,GAAQ,IAAD,8BACjB,4CAAMA,KACDgU,MAAQ,CACXsE,WAAW,GAHI,E,yEAOP9S,GACVJ,KAAKsP,SAAS,CACZ4D,WAAYlT,KAAK4O,MAAMsE,c,+BAKzB,IAAMT,EAAUzS,KAAKpF,MAAM6X,QAAUzS,KAAKpF,MAAM6X,QAAUU,GAAIC,MAAMpT,KAAKpF,MAAMoS,IACzEA,EAAKhN,KAAKpF,MAAMoS,GAChB1O,IAAO0B,KAAKpF,MAAM0D,MAAO,0BAAMlD,UAAU,WAAW4E,KAAKpF,MAAM0D,MAEjE+U,EAAY,CACd,CACE/X,GAAI,WAAa0R,EAAK,OACtB7Q,KAAM,UACNmC,KAAM,YAER,CACEhD,GAAI,WAAa0R,EACjB7Q,KAAM,SACNmC,KAAM,UAER,CACEhD,GAAI,WAAa0R,EAAK,OACtB7Q,KAAM,cACNmC,KAAM,oBAIV,OACE,6BACE,kBAACgV,GAAA,EAAD,CAAWlY,UAAU,OAErB,yBAAKA,UAAU,aACb,4BAAKkD,GACL,kBAACtD,EAAA,EAAD,CAAQC,MAAM,QAAQsY,OAAK,EAACpY,OAAO,K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","file":"static/js/main.3b416616.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/erc.9fb24811.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sapienza.8672e003.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Ripple-1.7s-200px.7466db60.svg\";","module.exports = __webpack_public_path__ + \"static/media/IntroMd.a1ede9f8.md\";","module.exports = __webpack_public_path__ + \"static/media/LogoMd.36d698ce.md\";","module.exports = __webpack_public_path__ + \"static/media/MissionStatementMd.9709d2db.md\";","module.exports = __webpack_public_path__ + \"static/media/lod.3a5d08d7.md\";","module.exports = __webpack_public_path__ + \"static/media/license.69087295.md\";","module.exports = __webpack_public_path__ + \"static/media/places.c6fdd924.md\";","module.exports = __webpack_public_path__ + \"static/media/places.1485b780.jpg\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.a19f686b.md\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.ef53f386.jpg\";","module.exports = __webpack_public_path__ + \"static/media/works.a14c270e.md\";","module.exports = __webpack_public_path__ + \"static/media/works-without-clavis.107bee25.md\";","module.exports = __webpack_public_path__ + \"static/media/works.7aa6593a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/titles.018dac5d.md\";","module.exports = __webpack_public_path__ + \"static/media/titles.2b8757e2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/authors.1055b2ab.md\";","module.exports = __webpack_public_path__ + \"static/media/authors.d6df50d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/colophons.96843ce5.md\";","module.exports = __webpack_public_path__ + \"static/media/colophons.1df56f78.jpg\";","module.exports = __webpack_public_path__ + \"static/media/collections.63bdac97.md\";","module.exports = __webpack_public_path__ + \"static/media/collections.93d620a0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Cite.0ac293ef.md\";","module.exports = __webpack_public_path__ + \"static/media/Api.ed3fdf35.md\";","import React, { useState } from 'react';\n\nimport { NavLink, Navbar, Nav, NavItem, NavbarBrand, NavbarToggler, Collapse } from 'reactstrap';\nimport { Link, NavLink as RRNavLink } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default function FixedNavbar(props) {\n\n  const [isOpen, toggleOpen] = useState(false);\n\n  return (\n        <div>\n          <Navbar color=\"dark\" dark expand=\"md\" className=\"fixed-top\">\n            <NavbarBrand to=\"/\" tag={Link}>PAThs</NavbarBrand>\n            <NavbarToggler onClick={()=>{ toggleOpen(!isOpen) }} />\n            <Collapse isOpen={ isOpen } navbar>\n              <Nav navbar>\n                <NavItem>\n                  <NavLink style={{ backgroundColor: '#cc545a', color: '#fff'}} to=\"/map/saved/all_ms_places\" tag={RRNavLink}>\n                    <FontAwesomeIcon icon=\"map\" /> Atlas\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/places\" tag={RRNavLink}>Places</NavLink>\n                </NavItem>\n\n                <NavItem>\n                  <NavLink to=\"/manuscripts\" tag={RRNavLink}>Manuscripts</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/works\" tag={RRNavLink}>Works</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/authors\" tag={RRNavLink}>Authors</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/titles\" tag={RRNavLink}>Titles</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/colophons\" tag={RRNavLink}>Colophons</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/collections\" tag={RRNavLink}>Collections</NavLink>\n                </NavItem>\n              </Nav>\n\n              <Nav className=\"ml-auto\" navbar>\n                <NavItem>\n                  <NavLink href=\"http://paths.uniroma1.it\">\n                    Website\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/cite\" tag={RRNavLink}>\n                    How to cite PAThs</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink to=\"/api\" tag={RRNavLink}>\n                    API</NavLink>\n                </NavItem>\n              </Nav>\n            </Collapse>\n          </Navbar>\n        </div>\n  );\n}\n","import React from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport packageJson from '../../../package.json';\n\nimport Erc from './img/erc.jpg';\nimport Sapienza from './img/sapienza.jpg';\n\nexport default function Footer () {\n\n  return (\n    <footer className=\"mt-5 bg-dark text-white p-3\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <p>Tracking Papyrus and Parchment Paths<br />\n            <span  className=\"lead\" style={{ color: '#ffab00'}}>An Archaeological Atlas of Coptic Literature</span><br />\n            <small>Literary Texts in their Geographical Context:<br />\n            Production, Copying, Usage, Dissemination and Preservation</small></p>\n          </div>\n          <div className=\"col text-right\">\n            <p>An <a href=\"https://erc.europa.eu/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"European Research Council\">ERC</a> funded project hosted at the <a href=\"https://www.uniroma1.it\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Sapienza University of Rome\">Sapienza University of Rome</a></p>\n            <p>Principal Investigator <a href=\"http://www.lettere.uniroma1.it/users/paola-buzi\" title=\"Paola Buzi\" target=\"_blank\" rel=\"noopener noreferrer\">Paola Buzi</a> [<a href=\"mailto:paola.buzi@uniroma1.it\" title=\"Email to Paola Buzi\">paola.buzi(at)uniroma1.it</a>]</p>\n            <p>\n              <a href=\"http://paths.uniroma1.it/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"PAThs web site\">\n                paths.uniroma1.it\n              </a>\n            </p>\n          </div>\n        </div>\n\n        <Row className=\"my-3\">\n          <Col xs={{ size: 6 }} md={{size: 3, offset: 3}}><img src={Sapienza} alt=\"Sapienza Universit di Roma\" className=\"img-fluid\" /></Col>\n          <Col xs={{ size: 6 }} md={{size: 3}}><img src={Erc} alt=\"European Research Council\" className=\"img-fluid\" /></Col>\n        </Row>\n\n        <div className=\"text-center\">\n          <p className=\"\">\n            Copyright  PAThs team, Sapienza Universit di Roma.<br />\n            <small>\n              <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/4.0/\">\n                Use, sharing and remixing permitted under terms of the<br />\n                Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License<br />\n                <img alt=\"Creative Commons License\" style={{borderWidth:0}}\n                      src=\"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\" />\n              </a>\n            </small>\n          </p>\n\n          <p>\n            Version { packageJson.version }<br />\n            <a href=\"https://github.com/paths-erc/atlas/commits/master\" target=\"_blank\" rel=\"noopener noreferrer\">Changelog</a>\n          </p>\n\n        </div>\n\n      </div>\n    </footer>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport './MainTemplate.css';\n\nexport default function MainTemplate (props){\n  return (\n    <div>\n      <Header location={ props.location } />\n        <main role=\"main\" className=\"maxHeight\">\n          { props.children }\n        </main>\n      <Footer />\n    </div>\n  );\n}\n","import React from 'react';\nimport Ripple from './Ripple-1.7s-200px.svg';\n\n\n\nexport default function Loading(props) {\n\n  const style = {\n    width: props.width ? props.width : '100px'\n  };\n  return (\n    <span>\n      <img src={Ripple} style={style} alt=\"Loading...\"/>\n      {\n        props.children !== '' ? props.children : <span>Loading...</span>\n      }\n    </span>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport ReactMarkdown from 'react-markdown/with-html';\n\n\nimport Loading from '../Loading/Loading';\n\n\n\n\nexport default function ReactMarkdownPath(props){\n\n  const [mdText, setMdtext] = useState();\n\n  useEffect( () => {\n    async function getMd(path){\n      await fetch(path).then((response) => response.text()).then((text) => {\n        setMdtext(text);\n      });\n    }\n    getMd(props.path);\n  } );\n\n  if (mdText){\n    return <ReactMarkdown source={mdText} escapeHtml={false} />;\n  } else {\n    return <Loading />\n  }\n}\n","import React from \"react\";\n\nimport imgPathsLogo from './paths-logo.png';\n\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\nimport intro from './IntroMd.md';\nimport logo from './LogoMd.md';\nimport missionstatement from './MissionStatementMd.md';\nimport lod from './lod.md';\nimport license from './license.md';\n\nexport default function Home(){\n   const titles = [\n     {\n       id    : 'intro',\n       title : \"Introduction\",\n       path  : intro\n     },\n     {\n       id    : 'logo',\n       title : \"Logo\",\n       path  : logo\n     },\n     {\n       id    : 'missionstatement',\n       title : \"Mission Statement\",\n       path  : missionstatement\n     },\n     {\n       id    : 'lod',\n       title : \"Linked Open Data\",\n       path  : lod\n     },\n     {\n       id    : 'license',\n       title : \"Copyright and license\",\n       path  : license\n     }\n   ];\n\n\n   const showContentAndToc = function(){\n     return (\n       <div>\n         <div className=\"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow\">\n           <h4>Table of contents</h4>\n           <ul className=\"p-0 m-0\">\n             {titles.map( (k, i) =>{\n               return (\n                 <li key={i} style={{ listStyle: 'none' }}>\n                   <a href={ '#' + k.id }>{ k.title }</a>\n                 </li>\n               );\n             })}\n           </ul>\n         </div>\n         { titles.map( (k, i) =>{\n           return (\n             <div key={i} className=\"text-justify\">\n               <h1 id={ k.id } className=\"mt-5\">{ k.title }</h1>\n               <ReactMarkdownPath path={k.path} />\n             </div>\n           );\n         })}\n       </div>\n     );\n   }\n\n   return (\n     <div>\n       <div className=\"jumbotron\">\n         <div className=\"container text-center\">\n           <img className=\"img-fluid shadow-lg\" src={ imgPathsLogo } alt=\"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation\" />\n         </div>\n       </div>\n       <div className=\"container\">\n         <div className=\"my-5 px-5\">\n\n           { showContentAndToc() }\n         </div>\n       </div>\n     </div>\n   );\n} // end of function\n","import React from \"react\";\n\nimport imgPathsLogo from './paths-logo.png';\n\nexport default function BrowserNotSupported(props) {\n\n  const compatibility = props.compatibility;\n  const browser       = props.browser;\n\n\n  return (\n    <div className=\"container text-center\">\n      <div className=\"my-5 py-5\">\n        <h1>Sorry, it seems that your browser is not supported!</h1>\n        <p>You are running <code>{ browser.name }</code>, version <code>{ browser.version }</code> on <code>{ browser.os }</code>.</p>\n        <p>Please upgrade your browser or use a modern one to work with PAThs Atlas.</p>\n\n        <div>\n          <h4>Compatibility list</h4>\n          <pre>\n          {\n            Object.keys(compatibility).map((i, k)=>{\n              return (\n                <div key={k}>\n                  {\n                    (compatibility[i] !== 10000 ? i + ' >= ' + compatibility[i] : '' )\n                  }\n              </div>\n              );\n            })\n          }\n          </pre>\n        </div>\n\n        <div className=\"border-top pt-5 mt-5\">\n          <img className=\"img-fluid shadow-lg\" src={ imgPathsLogo } alt=\"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation\" />\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Badge } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n\n    if (!this.props.places || !this.props.places.features) {\n      return null;\n    }\n\n    return (\n      <div className=\"mt-3\">\n        <h5>Found { this.props.places.features.length } places</h5>\n        <ol>\n          {\n            this.props.places.features.map( (e, i)=>{\n              return <li key={i} className=\"border-bottom border-info mb-3 pb-1\">\n                <strong>{ e.properties.name }</strong>\n                <br /><small><span className=\"coptic\">{e.properties.copticname}</span></small>\n                {\n                  ['greekname', 'egyptianname'].map( (ee, ii)=>{\n                    if (e[ee]){\n                      return (<div key={ii}><small>{e.properties[ee]}</small></div>);\n                    } else {\n                      return null;\n                    }\n                  } )\n                }\n\n                {\n                  e.properties['count(mp.id_link)'] ?  <div className=\"text-right\"><Badge color=\"secondary\">{ e.properties['count(mp.id_link)'] } manuscripts related</Badge></div>  : null\n                }\n\n                <div><small><FontAwesomeIcon icon=\"id-badge\" /> <Link to={ '/places/' + e.properties.id }>paths.places.{e.properties.id}</Link></small></div>\n              </li>\n            } )\n          }\n        </ol>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nexport default class UrlFilterButton extends Component {\n\nrender() {\n\n    if (this.props.urlFilter) {\n      return (\n        <div>\n          <Link to=\"/map\" className=\"btn btn-warning btn-block mt-1 mb-3\">\n            <FontAwesomeIcon icon=\"filter\" /> Filter active. Click to disable\n          </Link>\n        </div>\n\n      );\n    } else {\n      return null;\n    }\n\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Legend extends Component {\n\n  render() {\n\n    return (\n      <React.Fragment>\n\n        <h5>Map legend</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#f64747'}}></span>\n            Production places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#d47500'}}></span>\n            Storage places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#aa8f00'}}></span>\n            Discovery places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#b381b3'}}></span>\n            Discovery and production places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#009fd4'}}></span>\n            Storage and production places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#00aa55'}}></span>\n            Discovery and storage places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#939393'}}></span>\n            Discovery, storage and production places of manuscripts\n          </li>\n        </ul>\n\n        <hr />\n        <h5>Available basemaps</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://pelagios.org/maps/greco-roman/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Pelagios</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://dare.ht.lu.se/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Digital Atlas of Ancient World (DARE)</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://awmc.unc.edu/wordpress/\" target=\"_blank\" rel=\"noopener noreferrer\">Ancient World Mapping Center</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"https://www.openstreetmap.org\" target=\"_blank\" rel=\"noopener noreferrer\">Open Street Map</a>\n          </li>\n        </ul>\n      </React.Fragment>\n    );\n  }\n}\n","/*jshint esversion: 6 */\n\nexport default {\n  places: {\n    discovery_places: {\n      id: 'discovery_places',\n      title: 'Discovery places of Coptic literary manuscripts',\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"join\": \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` \",\n        \"group\": \"paths__places.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" `mp`.`type` = 'discovery' \")\n      }\n    },\n    storage_places: {\n      id: 'storage_places',\n      title: 'Storage places of Coptic literary manuscripts',\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"join\": \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` \",\n        \"group\": \"paths__places.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" `mp`.`type` = 'storage' \")\n      }\n    },\n    production_places: {\n      id: 'production_places',\n      title: 'Production places of Coptic literary manuscripts',\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"join\": \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` \",\n        \"group\": \"paths__places.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" `mp`.`type` = 'production' \")\n      }\n    },\n    episcopal_sees: {\n      id: \"episcopal_sees\",\n      title: \"Episcopal sees\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`episcopalsee`=1\")\n      }\n    },\n    ms_in_graves: {\n      id: \"ms_in_graves\",\n      title: \"Places where manuscrips used in funerary contexts have been found\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`id` IN (24, 28, 74, 83, 174, 178, 274)\")\n      }\n    },\n    // has_monasteries: {\n    //   id: \"has_monasteries\",\n    //   title: \"Sites with one or more monasteries\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`hasmonastery` = 1\")\n    //   }\n    // },\n    // churches: {\n    //   id: \"churches\",\n    //   title: \"Churches\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`typology` = 'church'\")\n    //   }\n    // },\n    cemeteries: {\n      id: \"cemeteries\",\n      title: \"Catacombs, cemeteries tombs or necropoleis\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'catacomb, cemetery, necropolis' OR `typology` = 'tomb'\")\n      }\n    },\n    // forts: {\n    //   id: \"forts\",\n    //   title: \"Forts or towers\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`typology` = 'fort, tower'\")\n    //   }\n    // },\n    hermitages: {\n      id: \"hermitages\",\n      title: \"Hermitage units (mainly referred to the area of Western Thebes)\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'hermitage unit(s)'\")\n      }\n    },\n    mines: {\n      id: \"mines\",\n      title: \"Mines or quarries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'mine, quarry'\")\n      }\n    },\n    monasteries: {\n      id: \"monasteries\",\n      title: \"Monasteries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'monastery'\")\n      }\n    },\n    settlements: {\n      id: \"settlements\",\n      title: \"Settlement\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'settlement'\")\n      }\n    },\n    // shrines: {\n    //   id: \"shrines\",\n    //   title: \"Shrines\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`typology` = 'shrine'\")\n    //   }\n    // },\n  },\n  titles: {\n    final: {\n      id: \"final\",\n      title: \"Final titles\",\n      url: \"titles?verb=search&type=encoded\",\n      data: {\n        q_encoded: btoa(\" `type` = 'final'\")\n      }\n    },\n    section_headings: {\n      id: \"section_headings\",\n      title: \"Section headings\",\n      url: \"titles?verb=search&type=encoded\",\n      data: {\n        q_encoded: btoa(\" `type` = 'section heading'\")\n      }\n    }\n  },\n  authors: {\n    bishops: {\n      id: \"bishops\",\n      title: \"Authors-(arch)bishops\",\n      url: 'authors?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `title` LIKE '%bishop' \")\n      }\n    }\n  },\n  manuscripts: {\n    palimpsest_ms: {\n      id: \"palimpsest_ms\",\n      title: \"Palimpsest manuscripts\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`palimpsest` = 1\")\n      }\n    },\n    wandering_ms: {\n      id: \"wandering_ms\",\n      title: \"Wandering manuscripts (for instance manufactured in a place but stored in another palace, etc.)\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`id` IN ( SELECT `mp`.`id_link` FROM `paths__m_msplaces` as `mp` GROUP BY `mp`.`id_link` HAVING COUNT(DISTINCT `place`) > 1 )\")\n      }\n    },\n    ms_has_bindings: {\n      id: \"ms_has_bindings\",\n      title: \"Manuscripts with ancient bookbindings\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bindings`=1\")\n      }\n    },\n    detached_bindings: {\n      id: \"detached_bindings\",\n      title: \"Bookbindings detached from original manuscripts\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`isbookbinding`=1\")\n      }\n    },\n    horizontal_rolls : {\n      id: \"horizontal_rolls\",\n      title: \"Horizontal rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'horizontal roll'\")\n      }\n    },\n    vertical_rolls : {\n      id: \"vertical_rolls\",\n      title: \"Vertical rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'vertical roll'\")\n      }\n    },\n    minor_dialects : {\n      id: \"minor_dialects\",\n      title: \"Minor dialects\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` NOT LIKE '%F;%' AND `dialect` NOT LIKE '%S;%' AND `dialect` NOT LIKE '%B;%' AND `dialect` NOT LIKE '%F' AND `dialect` NOT LIKE '%S' AND `dialect` NOT LIKE '%B'\")\n      }\n    },\n    miniature_codices : {\n      id: \"miniature_codices\",\n      title: \"Miniature codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`leafw`<101 AND `leafw`>0 AND `bookform` = 'codex'\")\n      }\n    },\n    square_codices : {\n      id: \"square_codices\",\n      title: \"Square format codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform`='codex' AND `prophw`>.84 AND `prophw`<1.16\")\n      }\n    },\n    oblong_codices : {\n      id: \"oblong_codices\",\n      title: \"Oblong format codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform`='codex' AND `prophw`>1.84\")\n      }\n    },\n    // ms_with_date: {\n    //   id: \"ms_with_date\",\n    //   title: \"Dated manuscripts\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"(`chronofrom`!='' AND `chronofrom` IS NOT NULL) OR (`chronoto`!='' AND `chronoto` IS NOT NULL)\")\n    //   }\n    // },\n    early_bohairic: {\n      id: \"early_bohairic\",\n      title: \"Early Bohairic manuscripts (up to 7th cent.)\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` LIKE '%B%' AND `chronoto`<'701'\")\n      }\n    },\n    fayyumic: {\n      id: \"fayyumic\",\n      title: \"Fayyumic dialect manuscripts\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` LIKE '%F%' \")\n      }\n    },\n    ms_third_c: {\n      id: \"ms_third_c\",\n      title: \"Manuscripts up to the 3rd Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` < 301\")\n      }\n    },\n    ms_forth_c: {\n      id: \"ms_forth_c\",\n      title: \"Manuscripts of the 4th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 299 AND `chronofrom` < 400\")\n      }\n    },\n    ms_fifth_c: {\n      id: \"ms_fifth_c\",\n      title: \"Manuscripts of the 5th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 399 AND `chronofrom` < 500\")\n      }\n    },\n    ms_sixth_c: {\n      id: \"ms_sixth_c\",\n      title: \"Manuscripts of the 6th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 499 AND `chronofrom` < 600\")\n      }\n    },\n    ms_seventh_c: {\n      id: \"ms_seventh_c\",\n      title: \"Manuscripts of the 7th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 599 AND `chronofrom` < 700\")\n      }\n    },\n    // ms_eighth_c: {\n    //   id: \"ms_eighth_c\",\n    //   title: \"Manuscripts of the 8th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 699  AND `chronofrom` < 800\")\n    //   }\n    // },\n    // ms_ninth_c: {\n    //   id: \"ms_ninth_c\",\n    //   title: \"Manuscripts of the 9th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 799 AND `chronofrom` < 900\")\n    //   }\n    // },\n    // ms_tenth_c: {\n    //   id: \"ms_tenth_c\",\n    //   title: \"Manuscripts of the 10th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 899 AND `chronofrom` < 1000\")\n    //   }\n    // },\n    // ms_eleventh_c: {\n    //   id: \"ms_eleventh_c\",\n    //   title: \"Manuscripts of the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 999 AND `chronofrom` < 1100\")\n    //   }\n    // },\n    // ms_post_eleventh_c: {\n    //   id: \"ms_post_eleventh_c\",\n    //   title: \"Manuscripts after the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 1099\")\n    //   }\n    // }\n  },\n  works: {\n    translations_biblical_sahidic: {\n      id: \"translations_biblical_sahidic\",\n      title: \"Translations of biblical works into Sahidic - first phase (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into Sahidic - first phase (3rd-4th cent.)'\")\n      }\n    },\n    translations_biblical_bohairic: {\n      id: \"translations_biblical_bohairic\",\n      title: \"Translations of biblical works into Bohairic - first phase (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into Bohairic - first phase (4th cent.)\")\n      }\n    },\n    early_translations_other: {\n      id: \"early_translations_other\",\n      title: \"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)'\")\n      }\n    },\n    translations_apocryphal: {\n      id: \"translations_apocryphal\",\n      title: \"Translations of apocryphal works  first phase (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\" `litperiod` = 'Translations of apocryphal works  first phase (4th cent.)'\")))\n      }\n    },\n    translations_gnostic: {\n      id: \"translations_gnostic\",\n      title: \"Translation and (eventual) re-elaboration of a Gnostic corpus (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a Gnostic corpus (3rd-4th cent.)' \")))\n      }\n    },\n    translations_manichaean: {\n      id: \"translations_manichaean\",\n      title: \"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)' \")))\n      }\n    },\n    translations_patristic: {\n      id: \"translations_patristic\",\n      title: \"Translation of patristic works  first phase (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation of patristic works  first phase (3th-5th cent.)' \")))\n      }\n    },\n    pachomius: {\n      id: \"pachomius\",\n      title: \"Pachomius and the early Pachomian milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Pachomius and the early Pachomian milieu (4th-5th cent.)' \")))\n      }\n    },\n    shenoute: {\n      id: \"shenoute\",\n      title: \"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)' \")))\n      }\n    },\n    standard_translations: {\n      id: \"standard_translations\",\n      title: \"Standard translations of biblical works into Sahidic (5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Standard translations of biblical works into Sahidic (5th cent.)' \")))\n      }\n    },\n    translations_apocryphal_second: {\n      id: \"translations_apocryphal_second\",\n      title: \"Translations of apocryphal texts  second phase (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translations of apocryphal texts  second phase (4th-5th cent.)' \")))\n      }\n    },\n    translations_hagiographical: {\n      id: \"translations_hagiographical\",\n      title: \"Translations of hagiographical works  first phase (4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translations of hagiographical works  first phase (4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_homilies: {\n      id: \"classsical_translations_homilies\",\n      title: \"Classical translations - homilies (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations - homilies (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_historiae: {\n      id: \"classsical_translations_historiae\",\n      title: \"Classical translations  historiae monachorum (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  historiae monachorum (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_acts: {\n      id: \"classsical_translations_acts\",\n      title: \"Classical translations  acts of councils and Canones (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  acts of councils and Canones (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_monastic: {\n      id: \"classsical_translations_monastic\",\n      title: \"Classical translations  monastic works (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  monastic works (end of 4th-6th cent.)' \")))\n      }\n    },\n    post_chalcedonian: {\n      id: \"post_chalcedonian\",\n      title: \"Post-Chalcedonian opposition literature: the plerophories and other works (5th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Post-Chalcedonian opposition literature: the plerophories and other works (5th-6th cent.)' \")))\n      }\n    },\n    historiographic: {\n      id: \"historiographic\",\n      title: \"Historiographic Production (6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Historiographic Production (6th cent.)' \")))\n      }\n    },\n    orig_lit_formation: {\n      id: \"orig_lit_formation\",\n      title: \"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the earlier hagiographic cycles (6 cent.)' \")))\n      }\n    },\n    orig_lit_damian_hag: {\n      id: \"orig_lit_damian_hag\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies' \")))\n      }\n    },\n    orig_lit_damian_hom: {\n      id: \"orig_lit_damian_hom\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies' \")))\n      }\n    },\n    poetry: {\n      id: \"poetry\",\n      title: \"Poetic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Poetic production (7th-8th cent.)' \")))\n      }\n    },\n    orig_lit_hom: {\n      id: \"orig_lit_hom\",\n      title: \"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Homilies with apocryphal insertions (6th -8th cent.)' \")))\n      }\n    },\n    original_lit_early_islamic: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Literary production of the early Islamic period (7th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Literary production of the early Islamic period (7th cent.)' \")))\n      }\n    },\n    standard_translations_in_bohairic: {\n      id: \"standard_translations_in_bohairic\",\n      title: \"Standard translations of biblical works into Bohairic (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Standard translations of biblical works into Bohairic (7th-8th cent.)' \")))\n      }\n    },\n    original_lit_later_hag: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)' \")))\n      }\n    },\n    synaxarial: {\n      id: \"synaxarial\",\n      title: \"Synaxarial arrangement (9th-10th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Synaxarial arrangement (9th-10th cent.)' \")))\n      }\n    },\n    late_liturgical: {\n      id: \"late_liturgical\",\n      title: \"Late liturgical production (10th-14th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Late liturgical production (10th-14th cent.)' \")))\n      }\n    },\n  },\n  colophons: {\n    cryptography: {\n      id: 'cryptography',\n      title: \"Colophons with cryptography\",\n      url: 'colophons?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`cryptography`=1 \")))\n      }\n    },\n    greek_minuscule: {\n      id: 'greek_minuscule',\n      title: \"Colophons with Greek minuscule\",\n      url: 'colophons?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`minusculegreek`=1 \")))\n      }\n    },\n    coptic_minuscule: {\n      id: 'coptic_minuscule',\n      title: \"Colophons with Coptic minuscule\",\n      url: 'colophons?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`minusculecopitc`=1 \")))\n      }\n    }\n  },\n  map: {\n    discovery_places: {\n      id: 'discovery_places',\n      title: 'Discovery places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'discovery' \")\n      }\n    },\n    storage_places: {\n      id: 'storage_places',\n      title: 'Storage places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n\n        \"q_encoded\": btoa(\" mp.type = 'storage' \")\n      }\n    },\n    production_places: {\n      id: 'production_places',\n      title: 'Production places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'production' \")\n      }\n    },\n    all_ms_places: {\n      id: 'all_ms_places',\n      title: 'All places connected to manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[GROUP_CONCAT(DISTINCT mp.type) as type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" 1 \")\n      }\n    },\n    bishoprics: {\n      id: 'bishoprics',\n      title: 'Bishoprics',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[paths__places.id]\": \"Id\",\n        \"fields[paths__places.name]\": \"Name\",\n        \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n        \"fields[paths__places.typology]\": \"Site typology\",\n        \"q_encoded\": btoa( '`paths__places`.`episcopalsee`=1 LIMIT 0, 100')\n      }\n    },\n    // multi_stratified: {\n    //   id: 'multi_stratified',\n    //   title: 'Multi stratified sites',\n    //   url: 'geodata?verb=search&geojson=true&type=encoded',\n    //   data: {\n    //     \"join\": \"JOIN `paths__places` ON `paths__geodata`.`table_link` = 'paths__places' AND `paths__geodata`.`id_link` = `paths__places`.`id` \" +\n    //     \"JOIN (SELECT `id_link`, count(id) as tot from `paths__m_placephase` GROUP BY `id_link` ORDER BY `tot` DESC LIMIT 0,10) as t ON `t`.`id_link` = `paths__geodata`.`id_link` \",\n    //     \"fields[paths__geodata.geometry]\": \"Geometry\",\n    //     \"fields[paths__places.id]\": \"Id\",\n    //     \"fields[paths__places.name]\": \"Name\",\n    //     \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n    //     \"fields[paths__places.typology]\": \"Site typology\",\n    //     \"q_encoded\": btoa( '1 ORDER BY `t`.`tot` DESC')\n    //   }\n    // }\n  }\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueries from '../../Services/SavedQueries';\n\nexport default class MapSavedQueries extends Component {\n\n  render() {\n    return (\n      <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n        { Object.values(SavedQueries.map).map( (e, i) => {\n          return <li key={i}  className=\"mb-3\">\n            <Link to={ '/map/saved/' + e.id }>\n              <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n            </Link>\n          </li>\n        }) }\n      </ul>\n    );\n  }\n}\n","import React from 'react';\nimport { InputGroupAddon, Button } from 'reactstrap';\n\nexport default function ListPlaces (props) {\n\n    if (!props.show){\n      return null;\n    }\n    return (\n      <InputGroupAddon addonType=\"append\">\n        <Button color=\"danger\" onClick = { props.onClick }>\n          <span aria-hidden=\"true\">&times;</span>\n        </Button>\n      </InputGroupAddon>\n    );\n}\n","import React, {useState} from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nexport default function ShowError(props) {\n  const [modal, toggleModal] = useState(false);\n\n  return (\n    <Modal isOpen={ !modal } toggle={ ()=>toggleModal(!modal) } className={props.className}>\n      <ModalHeader>Error</ModalHeader>\n      <ModalBody>\n        { props.children }\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" block onClick={ () => toggleModal(!modal) }>Close</Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n","/* jshint esversion: 6 */\n\nexport const Themes = [\n  {\n    \"name\": \"Holy family in Egypt\",\n    \"url\": \"https://raw.githubusercontent.com/paths-erc/docs/master/data/gis/sacra-famiglia-in-egitto/sacra-famiglia-in-egitto.geojson\",\n    \"info\": \"https://docs.paths-erc.eu/gis/vectors\"\n  },\n  {\n    \"name\": \"Coptic monasteries with coordinates\",\n    \"url\": \"https://raw.githubusercontent.com/paths-erc/docs/master/data/gis/coptic-monasteries-with-coordinates/coptic-monasteries-with-coordinates.geojson\",\n    \"info\": \"https://docs.paths-erc.eu/gis/vectors\"\n  }\n];\n\nexport const SiteMapsList = [\n  {\n    \"n\": \"paths.places.104-Medinet-Madi/BGQ6JNX2-39\",\n    \"z\": 22,\n    \"c\": [29.187713084722045, 30.645887794423942]\n  },\n  {\n    \"n\": \"paths.places.53-Antinoupolis/BGQ6JNX2-53\",\n    \"z\": 20,\n    \"c\": [27.804805651118542, 30.884793049007914]\n  },\n  {\n    \"n\": \"paths.places.53-Antinoupolis/BGQ6JNX2-55\",\n    \"z\": 20,\n    \"c\": [27.800021344980067, 30.886799300871274]\n  },\n  {\n    \"n\": \"paths.places.53-Antinoupolis/BGQ6JNX2-54\",\n    \"z\": 20,\n    \"c\": [27.805697423297435, 30.883554978308435]\n  },\n  {\n    \"n\": \"paths.places.104-Medinet-Madi/BGQ6JNX2-40\",\n    \"z\": 21,\n    \"c\": [29.190446292864074, 30.645202184111902]\n  },\n  {\n    \"n\": \"paths.places.104-Medinet-Madi/BGQ6JNX2-41\",\n    \"z\": 21,\n    \"c\": [29.190116487098024, 30.64613541004499]\n  },\n  {\n    \"n\": \"paths.places.104-Medinet-Madi/BGQ6JNX2-42\",\n    \"z\": 20,\n    \"c\": [29.190972759188547, 30.646467617008607]\n  },\n  {\n    \"n\": \"paths.places.104-Medinet-Madi/BGQ6JNX2-43\",\n    \"z\": 21,\n    \"c\": [29.189340490736054, 30.643205744556145]\n  },\n  {\n    \"n\": \"paths.places.104-Medinet-Madi/BGQ6JNX2-44\",\n    \"z\": 20,\n    \"c\": [29.192977992608427, 30.645290498255815]\n  },\n  {\n    \"n\": \"paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-154\",\n    \"z\": 20,\n    \"c\": [26.5342036060775, 31.6442502591251]\n  },\n  {\n    \"n\": \"paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-156\",\n    \"z\": 21,\n    \"c\": [26.55461884509286, 31.61998551365044]\n  },\n  {\n    \"n\": \"paths.places.114-Kellis/BGQ6JNX2-85\",\n    \"z\": 21,\n    \"c\": [25.51541409579421, 29.096567848661103]\n  },\n  {\n    \"n\": \"paths.places.115-Bagawat/BGQ6JNX2-86\",\n    \"z\": 21,\n    \"c\": [25.48669784573843, 30.555114548921043]\n  },\n  {\n    \"n\": \"paths.places.115-Bagawat/BGQ6JNX2-87\",\n    \"z\": 21,\n    \"c\": [25.485700305307027, 30.555148501199593]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-103\",\n    \"z\": 21,\n    \"c\": [30.843438195841582, 29.664018532295632]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-104\",\n    \"z\": 21,\n    \"c\": [30.843438195841582, 29.664018532295632]\n  },\n  {\n    \"n\": \"paths.places.58-Esna/BGQ6JNX2-169\",\n    \"z\": 21,\n    \"c\": [25.25720467312582, 32.54782292766117]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-105\",\n    \"z\": 22,\n    \"c\": [30.84353961444547, 29.663716841996493]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-21a1\",\n    \"z\": 21,\n    \"c\": [30.84088541628571, 29.66256167706822]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-21a2\",\n    \"z\": 21,\n    \"c\": [30.840885601026393, 29.662561570991272]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-21a3\",\n    \"z\": 21,\n    \"c\": [30.84088450472146, 29.662561565637592]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-21b\",\n    \"z\": 21,\n    \"c\": [30.84088450472146, 29.662561565637592]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-21b1\",\n    \"z\": 21,\n    \"c\": [30.84088450472146, 29.662561565637592]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-22\",\n    \"z\": 20,\n    \"c\": [30.84785278407858, 29.662086178505934]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-28b\",\n    \"z\": 21,\n    \"c\": [30.84195651613142, 29.664850637490858]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-30\",\n    \"z\": 21,\n    \"c\": [30.842633232930766, 29.65911461973712]\n  },\n  {\n    \"n\": \"paths.places.116-Abu-Mina/BGQ6JNX2-31\",\n    \"z\": 21,\n    \"c\": [30.841368754913667, 29.66300427312458]\n  },\n  {\n    \"n\": \"paths.places.119-Dionysias/BGQ6JNX2-46\",\n    \"z\": 22,\n    \"c\": [29.40325610322086, 30.422296439498176]\n  },\n  {\n    \"n\": \"paths.places.122-Hawara/BGQ6JNX2-49\",\n    \"z\": 22,\n    \"c\": [29.275638761445162, 30.897718186054327]\n  },\n  {\n    \"n\": \"paths.places.143-Marea/BGQ6JNX2-9\",\n    \"z\": 20,\n    \"c\": [30.99640560875678, 29.656863370514802]\n  },\n  {\n    \"n\": \"paths.places.16-Elephantine/BGQ6JNX2-186\",\n    \"z\": 19,\n    \"c\": [24.084247780038762, 32.88639600397803]\n  },\n  {\n    \"n\": \"paths.places.16-Elephantine/BGQ6JNX2-77\",\n    \"z\": 19,\n    \"c\": [24.084247780038762, 32.88639600397803]\n  },\n  {\n    \"n\": \"paths.places.169-Manqabad/BGQ6JNX2-144\",\n    \"z\": 21,\n    \"c\": [27.18215857083099, 31.11543848821127]\n  },\n  {\n    \"n\": \"paths.places.58-Esna/BGQ6JNX2-76\",\n    \"z\": 21,\n    \"c\": [25.29353440413271, 32.55645642663842]\n  },\n  {\n    \"n\": \"paths.places.169-Manqabad/BGQ6JNX2-145\",\n    \"z\": 21,\n    \"c\": [27.182475722183746, 31.112559788881956]\n  },\n  {\n    \"n\": \"paths.places.173-Dakhleh/BGQ6JNX2-181\",\n    \"z\": 21,\n    \"c\": [25.66885216564107, 28.870803633631088]\n  },\n  {\n    \"n\": \"paths.places.176-Deir abu Matta/BGQ6JNX2-180\",\n    \"z\": 21,\n    \"c\": [25.59377898002804, 28.9121434938785]\n  },\n  {\n    \"n\": \"paths.places.182-Karnak/BGQ6JNX2-166\",\n    \"z\": 19,\n    \"c\": [25.717780361101507, 32.6595160667346]\n  },\n  {\n    \"n\": \"paths.places.182-Karnak/BGQ6JNX2-167\",\n    \"z\": 19,\n    \"c\": [25.717780361101507, 32.6595160667346]\n  },\n  {\n    \"n\": \"paths.places.188-Pharan/BGQ6JNX2-96a\",\n    \"z\": 22,\n    \"c\": [28.704848982709343, 33.63482147864396]\n  },\n  {\n    \"n\": \"paths.places.188-Pharan/BGQ6JNX2-96b\",\n    \"z\": 22,\n    \"c\": [28.704848982709343, 33.63482147864396]\n  },\n  {\n    \"n\": \"paths.places.188-Pharan/BGQ6JNX2-97\",\n    \"z\": 20,\n    \"c\": [28.705347801871415, 33.63495371489594]\n  },\n  {\n    \"n\": \"paths.places.19-Luxor-complex/BGQ6JNX2-69\",\n    \"z\": 21,\n    \"c\": [25.701256443006596, 32.64115390712226]\n  },\n  {\n    \"n\": \"paths.places.19-Luxor-complex/BGQ6JNX2-70\",\n    \"z\": 21,\n    \"c\": [25.699852781295732, 32.63888319155756]\n  },\n  {\n    \"n\": \"paths.places.19-Luxor-complex/BGQ6JNX2-71\",\n    \"z\": 20,\n    \"c\": [25.700143901286207, 32.64001806277448]\n  },\n  {\n    \"n\": \"paths.places.20-Koptos/BGQ6JNX2-64\",\n    \"z\": 22,\n    \"c\": [25.996230777036267, 32.81373241040219]\n  },\n  {\n    \"n\": \"paths.places.68-Pbou/BGQ6JNX2-162b\",\n    \"z\": 20,\n    \"c\": [26.112588250912747, 32.40311080332181]\n  },\n  {\n    \"n\": \"paths.places.74-Naqlun/BGQ6JNX2-131b\",\n    \"z\": 22,\n    \"c\": [29.19505890878909, 30.878506347361654]\n  },\n  {\n    \"n\": \"paths.places.74-Naqlun/BGQ6JNX2-131a\",\n    \"z\": 22,\n    \"c\": [29.19505890878909, 30.878506347361654]\n  },\n  {\n    \"n\": \"paths.places.74-Naqlun/BGQ6JNX2-131c\",\n    \"z\": 22,\n    \"c\": [29.195058998138123, 30.878507159650326]\n  },\n  {\n    \"n\": \"paths.places.78-Kellia/BGQ6JNX2-114\",\n    \"z\": 21,\n    \"c\": [30.780959394377504, 30.36481238334848]\n  },\n  {\n    \"n\": \"paths.places.78-Kellia/BGQ6JNX2-115\",\n    \"z\": 21,\n    \"c\": [30.78101741247412, 30.367026588603107]\n  },\n  {\n    \"n\": \"paths.places.78-Kellia/BGQ6JNX2-116\",\n    \"z\": 20,\n    \"c\": [30.780327477596863, 30.368028812951334]\n  },\n  {\n    \"n\": \"paths.places.78-Kellia/BGQ6JNX2-117\",\n    \"z\": 20,\n    \"c\": [30.780327477596863, 30.368028812951334]\n  },\n  {\n    \"n\": \"paths.places.88-Petemout/BGQ6JNX2-66\",\n    \"z\": 21,\n    \"c\": [25.734482729225938, 32.70913503127934]\n  },\n  {\n    \"n\": \"paths.places.88-Petemout/BGQ6JNX2-67\",\n    \"z\": 21,\n    \"c\": [25.734125554949877, 32.71016965934224]\n  },\n  {\n    \"n\": \"paths.places.96-Philae/BGQ6JNX2-78\",\n    \"z\": 20,\n    \"c\": [24.026162711796047, 32.88471292369061]\n  },\n  {\n    \"n\": \"paths.places.96-Philae/BGQ6JNX2-79\",\n    \"z\": 20,\n    \"c\": [24.026162711796047, 32.88471292369061]\n  },\n  {\n    \"n\": \"paths.places.96-Philae/BGQ6JNX2-80\",\n    \"z\": 21,\n    \"c\": [24.02560660684249, 32.88407618774808]\n  },\n  {\n    \"n\": \"paths.places.21-Dendera/BGQ6JNX2-58\",\n    \"z\": 20,\n    \"c\": [27.77922774421122, 30.80270035746382]\n  },\n  {\n    \"n\": \"paths.places.21-Dendera/BGQ6JNX2-63\",\n    \"z\": 21,\n    \"c\": [26.142846800838385, 32.67027365056673]\n  },\n  {\n    \"n\": \"paths.places.215-Deir-Abu-Hennes/BGQ6JNX2-141\",\n    \"z\": 21,\n    \"c\": [27.786862075230307, 30.90470231457129]\n  },\n  {\n    \"n\": \"paths.places.217-Deir-al-Dik/BGQ6JNX2-51\",\n    \"z\": 21,\n    \"c\": [27.829442770562405, 30.86180866253168]\n  },\n  {\n    \"n\": \"paths.places.24-Panopolis/BGQ6JNX2-159\",\n    \"z\": 21,\n    \"c\": [26.598300544535153, 31.79157930250137]\n  },\n  {\n    \"n\": \"paths.places.24-Panopolis/BGQ6JNX2-161\",\n    \"z\": 21,\n    \"c\": [26.477690475121953, 31.820103846838318]\n  },\n  {\n    \"n\": \"paths.places.338-Taposiris-Magna/BGQ6JNX2-185\",\n    \"z\": 18,\n    \"c\": [30.94613861050185, 29.518677935874415]\n  },\n  {\n    \"n\": \"paths.places.338-Taposiris-Magna/BGQ6JNX2-4\",\n    \"z\": 20,\n    \"c\": [30.941986991898826, 29.522353874906862]\n  },\n  {\n    \"n\": \"paths.places.338-Taposiris-Magna/BGQ6JNX2-5\",\n    \"z\": 19,\n    \"c\": [30.942163347265492, 29.514647906219466]\n  },\n  {\n    \"n\": \"paths.places.338-Taposiris-Magna/taposiris\",\n    \"z\": 19,\n    \"c\": [30.942163347265492, 29.514647906219466]\n  },\n  {\n    \"n\": \"paths.places.36-Pelusium/BGQ6JNX2-189\",\n    \"z\": 17,\n    \"c\": [31.042570283455497, 32.5400549810067]\n  },\n  {\n    \"n\": \"paths.places.36-Pelusium/BGQ6JNX2-88\",\n    \"z\": 17,\n    \"c\": [31.042570283455497, 32.5400549810067]\n  },\n  {\n    \"n\": \"paths.places.36-Pelusium/BGQ6JNX2-89\",\n    \"z\": 20,\n    \"c\": [31.042295517396344, 32.55677972073124]\n  },\n  {\n    \"n\": \"paths.places.36-Pelusium/BGQ6JNX2-90\",\n    \"z\": 21,\n    \"c\": [31.04182432955881, 32.55712329743325]\n  },\n  {\n    \"n\": \"paths.places.368-Upper-Ansina/BGQ6JNX2-137\",\n    \"z\": 20,\n    \"c\": [27.798181397632575, 30.890187864330862]\n  },\n  {\n    \"n\": \"paths.places.368-Upper-Ansina/BGQ6JNX2-138\",\n    \"z\": 20,\n    \"c\": [27.798181397632575, 30.890187864330862]\n  },\n  {\n    \"n\": \"paths.places.368-Upper-Ansina/BGQ6JNX2-139\",\n    \"z\": 19,\n    \"c\": [27.798209463938218, 30.895134920255376]\n  },\n  {\n    \"n\": \"paths.places.368-Upper-Ansina/BGQ6JNX2-56\",\n    \"z\": 20,\n    \"c\": [27.80102610168583, 30.88937311272564]\n  },\n  {\n    \"n\": \"paths.places.374-Deir-el-Matmar/BGQ6JNX2-168\",\n    \"z\": 21,\n    \"c\": [25.645374000611568, 32.45618138907984]\n  },\n  {\n    \"n\": \"paths.places.38-Alexandria/BGQ6JNX2-1\",\n    \"z\": 20,\n    \"c\": [31.19784616916719, 29.902649609223268]\n  },\n  {\n    \"n\": \"paths.places.53-Antinoupolis/BGQ6JNX2-52\",\n    \"z\": 21,\n    \"c\": [27.810324304595852, 30.881748393073345]\n  },\n  {\n    \"n\": \"paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-155\",\n    \"z\": 20,\n    \"c\": [26.554759495305074, 31.61991702381268]\n  },\n  {\n    \"n\": \"paths.places.70-Hermonthis/BGQ6JNX2-74\",\n    \"z\": 20,\n    \"c\": [25.6213456308842, 32.54525094474053]\n  },\n  {\n    \"n\": \"paths.places.24-Panopolis/BGQ6JNX2-160\",\n    \"z\": 20,\n    \"c\": [26.548895680414724, 31.815046089715846]\n  },\n  {\n    \"n\": \"paths.places.28-Hermopolis-Magna/BGQ6JNX2-59\",\n    \"z\": 20,\n    \"c\": [26.548895680414724, 31.815046089715846]\n  }\n];\n","import React, { useState, useEffect } from 'react';\nimport { GeoJSON } from 'react-leaflet';\n\nimport { SiteMapsList } from '../../Services/Cfg/remoteGisSources';\n\n\nconst getStyle = (f) =>{\n  const p = f.properties;\n\n  // Default stroke and fill opacity\n  let s = {\n    weight: 2,\n    fillOpacity: .2\n  };\n\n  // Set opacity variable\n  let opacity;\n\n  // Reconstructed features have dashed strokes and .4 opacity\n  if (p.reconstr){\n    s.dashArray = '4 4';\n    opacity = 0.4;\n  } else {\n    // Other features have .8 opacity\n    opacity = 0.8\n  }\n\n  // Differentiate strike and fill colors by phase\n  switch(true){\n    case (p.phase < -1):\n      s.color = 'rgba(150, 150, 150, ' + opacity + ')';\n      s.fillColor = 'rgba(150, 150, 150, .4)';\n      break;\n    case (p.phase === -1):\n      s.color = 'rgba(61, 90, 128, ' + opacity + ')';\n      s.fillColor = 'rgba(61, 90, 128, .4)';\n      break;\n      case (p.phase === 1):\n      s.color = 'rgba(247, 110, 1, ' + opacity + ')';\n      s.fillColor = 'rgba(247, 110, 1, .4)';\n      break;\n    case (p.phase === 2):\n      s.color = 'rgba(194, 0, 251, ' + opacity + ')';\n      s.fillColor = 'rgba(194, 0, 251, .4)';\n      break;\n    case (p.phase === 3):\n      s.color = 'rgba(56, 134, 89, ' + opacity + ')';\n      s.fillColor = 'rgba(56, 134, 89, .4)';\n      break;\n    case (p.phase > 3):\n      s.color = 'rgba(80, 47, 76, ' + opacity + ')';\n      s.fillColor = 'rgba(56, 134, 89, .4)';\n      break;\n    default:\n      s.color = 'rgba(31, 120, 180, ' + opacity + ')';\n      s.fillColor = 'rgba(31, 120, 180, .4)';\n      break;\n  }\n\n  // Set style for upper projections\n  if (p.part && p.part.indexOf('u') > -1) {\n    s.fill = false;\n    s.color = 'rgba(0, 0, 0, .2)';\n\n  // Set style for lower projections\n  } else if (p.part && p.part.indexOf('l') > -1) {\n    s.fillColor = 'rgba(0, 0, 0, .1)';\n    s.color = 'rgba(0, 0, 0, .2)';\n\n  // Set style for doorways\n  } else if (p.part && p.part.indexOf('d') > -1) {\n    s.fillColor = 'rgba(171, 221, 164, .8)';\n    s.color = 'rgba(171, 221, 164, 1)';\n  }\n\n  // finished: return the style object\n  return s;\n};\n\nconst onEachFeature = (feature, layer) => {\n  layer.bindPopup(`<a href=\"https://atlas.paths-erc.eu/places/${feature.properties.place}\">paths.places.${feature.properties.place}</a>\n  <br />${feature.properties.subplace}\n  <br />Vectorized from: <a href=\"https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/${feature.properties.source}\" target=\"_blank\">PAThs Zotero ${feature.properties.source} ${feature.properties.subsource}</a>\n  <br />Phase: ${feature.properties.phase}`\n  );\n}\n\n\nexport default function SiteMaps(props){\n  const bounds = props.bounds;\n  const zoom = props.zoom;\n\n  const [loadedSites, addLoadedSite] = useState([]);\n  const [siteMaps, addSiteMap] = useState([]);\n\n\n  useEffect( ()=>{\n    SiteMapsList.map( e => {\n      if (zoom >= e.z - 5 && bounds.contains(e.c)){\n        fetch(`https://docs.paths-erc.eu/data/geojson/${e.n}.geojson`).then( function(response){\n          response.json().then(function(j){\n            if (loadedSites.includes(e.n)){\n              return;\n            }\n            addLoadedSite(loadedSites.concat(e.n));\n            addSiteMap(siteMaps.concat(j));\n          });\n        });\n      }\n      return true;\n    });\n  });\n\n  return (\n    <React.Fragment>\n      { siteMaps.map((e, i)=>{\n        return <GeoJSON\n            key={i}\n            data={e}\n            style={ getStyle }\n            onEachFeature={ onEachFeature }\n          />\n      }) }\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { GeoJSON } from 'react-leaflet';\nimport L from 'leaflet';\nimport hash from 'object-hash';\n\n\nconst pointToLayer = (t, i) => {\n  let col = '#0f4880'; // 15, 72, 128\n\n  if (t.properties.type){\n\n    // discovery && storage && production\n    if (t.properties.type.includes('discovery') && t.properties.type.includes('storage') && t.properties.type.includes('production')) {\n      col = '#939393'; //147, 147, 147\n\n    // dicovery && storage\n    } else if (t.properties.type.includes('discovery') && t.properties.type.includes('storage')) {\n      col = '#00aa55'; // rgb 0,170,85\n\n    // storage && production\n    } else if (t.properties.type.includes('storage') && t.properties.type.includes('production')) {\n      col = '#009fd4'; // 0, 159, 212\n\n    // dicovery && production\n    } else if (t.properties.type.includes('discovery') && t.properties.type.includes('production')) {\n      col = '#b381b3'; // 179, 129, 179\n\n    // discovery\n    } else if (t.properties.type.includes('discovery')){\n      col = '#aa8f00'; // 170, 143, 0\n\n    // storage\n    } else if (t.properties.type.includes('storage')) {\n      col = '#d47500'; // 212, 117, 0\n\n    // production\n    } else if (t.properties.type.includes('production')) {\n      col = '#f64747'; // 246, 71, 71\n    }\n  }\n\n  return new L.CircleMarker(i, {\n    radius: 5,\n    weight: 1,\n    color: \"#fff\",\n    opacity: 0.9,\n    fillColor: col,\n    fillOpacity: 1\n  })\n};\n\nconst onEachFeature = (feature, layer) => {\n  const base = window.location.pathname.replace(/\\/map(.*)/, '');\n  layer.bindPopup(`<strong>${feature.properties.name}</strong>` +\n     (feature.properties.copticname ? '<br /><span class=\"coptic\">' + feature.properties.copticname + '</span>': '') +\n     (feature.properties.type ? `<br /><span class=\"text-secondary\">${feature.properties.type}</span>` : '') +\n     `<br /><a href=\"${base}/places/${feature.properties.id}\">paths/places/${feature.properties.id}</a>`\n  );\n  layer.on('mouseover', function() { layer.openPopup(); });\n};\n\nexport default function PathsPlaces(props){\n\n  return(\n    <React.Fragment>\n      { props.shownPlaces && <GeoJSON\n        onAdd={props.onAdd}\n        key={ hash(props.shownPlaces) }\n        data={ props.shownPlaces }\n        pointToLayer={ pointToLayer }\n        onEachFeature={ onEachFeature }\n        /> }\n    </React.Fragment>\n  );\n}\n","/* jshint esversion: 6 */\n\nimport L from 'leaflet';\n\nexport const pointToLayer = (t, i, col) => {\n  return new L.CircleMarker(i, {\n    radius: 5,\n    weight: 1,\n    color: col ? col : false\n  });\n};\n\n\nexport const onEachFeature = (feature, layer, info) => {\n  const html = Object.entries(feature.properties).map(e => {\n    if (!e[1]){\n      return false;\n    }\n    return `<strong>${e[0]}</strong>: ${e[1]}`;\n  });\n\n  layer.bindPopup(\n    html.filter(Boolean).join('<br>') +\n    `<hr><strong>${info.name}</strong><br>\n    <a href=\"${info.info}\" title=\"More information\">${info.info}</a>\n    `);\n};\n","import React, { useState, useEffect } from 'react';\nimport { TileLayer, LayersControl, WMSTileLayer, GeoJSON } from 'react-leaflet';\n\nimport { GoogleLayer } from 'react-leaflet-google';\n\nimport SiteMaps from './SiteMaps';\nimport PathsPlaces from './PathsPlaces';\nimport { Themes as GisThemes} from '../../Services/Cfg/remoteGisSources';\nimport { pointToLayer, onEachFeature } from './Defaults';\n\nconst { BaseLayer, Overlay } = LayersControl;\n\n\nconst googleKey = \"AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o\";\n\nexport default function Layers(props){\n\n  const [cached, addToCache] = useState([]);\n  const [remotes, addRemote] = useState([]);\n\n  useEffect( ()=>{\n    GisThemes.map(e => {\n      if (cached.includes(e.name)){\n        return false;\n      }\n      fetch(e.url).then( function(response){\n        response.json().then(function(j){\n          addToCache(cached.concat(e.name));\n          addRemote(remotes.concat({\n            \"name\": e.name,\n            \"url\": e.url,\n            \"info\": e.info,\n            \"geojson\": j,\n          }));\n        });\n      });\n      return true;\n    });\n  });\n\n  return (\n    <LayersControl position=\"topright\">\n\n      {\n      // <BaseLayer name=\"Imperium (Pelagios)\">\n      //   <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n      // </BaseLayer>\n      }\n\n      <BaseLayer name=\"AWMC\" checked=\"true\">\n        <TileLayer url=\"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png\" />\n      </BaseLayer>\n\n      <BaseLayer name=\"Imperium (DARE)\">\n        <TileLayer url=\"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png\" />\n      </BaseLayer>\n\n      <BaseLayer name=\"OpenStreetMap\">\n        <TileLayer url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" />\n      </BaseLayer>\n\n\n      <BaseLayer name=\"Google Maps\">\n        <GoogleLayer googlekey={googleKey}  maptype=\"ROADMAP\" />\n      </BaseLayer>\n\n      <BaseLayer name=\"Google Satellite\">\n        <GoogleLayer googlekey={googleKey}  maptype=\"SATELLITE\" />\n      </BaseLayer>\n\n\n      <BaseLayer name=\"Series 4085 - GB &amp; USA\">\n        <WMSTileLayer url=\"http://wms.paths-erc.eu/\"\n            layers=\"Series 4085-Great Britain War Office-U.S. Army Map Service-1941-\" />\n      </BaseLayer>\n\n      <BaseLayer name=\"Arrowsmith 1807\">\n        <WMSTileLayer url=\"http://wms.paths-erc.eu/\"\n            layers=\"Arrowsmith 1807\" />\n      </BaseLayer>\n\n      { props.shownPlaces &&\n        <PathsPlaces\n          shownPlaces={ props.shownPlaces }\n          onAdd={ props.onAdd }\n          />\n      }\n\n      { props.mapBounds && props.zoom &&\n        <SiteMaps\n          bounds={ props.mapBounds }\n          zoom={ props.zoom } />\n      }\n      {\n        remotes.map( (r, i) =>{\n          const col = '#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6);\n          return (<Overlay name={r.name} key={i}>\n            <GeoJSON\n              data={r.geojson}\n              pointToLayer={ (t, i) => pointToLayer(t, i, col) }\n              onEachFeature={ (feature, layer) => onEachFeature(feature, layer, r) }\n              />\n          </Overlay>)\n        })\n      }\n    </LayersControl>\n  );\n\n}\n","import axios from 'axios';\nimport SavedQueries from '../SavedQueries';\n\n\nlet baseUrl = 'https://db-dev.bradypus.net/api/paths/';\n\nif (window.location.hostname === 'localhost'){\n  baseUrl = 'http://db.localhost/api/paths/';\n}\n\nexport default class Database {\n\n  static getData(url, params, callback) {\n\n    url = baseUrl + url;\n\n    axios({\n      method: 'post',\n      url: url,\n      params: params,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      if (res.data.type && res.data.type === 'error'){\n        console.log('API error:');\n        console.log(res.data.text);\n        return false;\n      }\n      callback(res.data);\n    })\n    .catch( res => {\n      if(res instanceof Error) {\n        console.log(res.message);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  static getBaseUrl(){\n    return baseUrl;\n  }\n\n  static getUniqueVal(tb, fld, string, cb) {\n    this.getData('../v2/paths/' + tb, {\n      verb: 'getUniqueVal',\n      tb: tb.replace('paths__', ''),\n      fld: fld,\n      s: string\n    }, d => { cb(d); }, true);\n\n  }\n\n  static getSaved(grp, q, page, cb) {\n    if (typeof SavedQueries[grp][q] === 'undefined') {\n      cb({\n        status: 'error',\n        text: `No saved query found for id: ${grp}.${q}`\n      });\n      return;\n    } else {\n      SavedQueries[grp][q].data.page = page;\n      this.getData(SavedQueries[grp][q].url, SavedQueries[grp][q].data, d => {\n        cb(d, SavedQueries[grp][q].title);\n      });\n    }\n  }\n\n  static getSimple(tb, fld, val, strict, page, cb){\n    const data = {\n      verb: 'search',\n      type: 'advanced',\n      page: page,\n      'adv[a0][fld]': fld,\n      'adv[a0][operator]': strict ? '=' : 'LIKE',\n      'adv[a0][value]': val\n    };\n    this.getData(tb, data, d => { cb(d); }, true);\n  }\n\n  /**\n   * Executes an advanced query on the database\n   * @param  {String}   tb   Table to be queried, no prefix\n   * @param  {Object}   data Object of query data: {a:{f:'fieldname', v:'value', o: 'operator'}, a2:{f:'fieldname', v:'value', o: 'operator', c: 'connector'}}\n   * @param  {Integer}   page Page number\n   * @param  {Function} cb   Callback function\n   */\n  static getAdv(tb, data, page, cb) {\n    let d = {\n      verb: 'search',\n      type: 'advanced',\n      page: page\n    };\n    Object.entries(data).forEach(([k, v]) => {\n      d[`adv[${k}][fld]`] = v.f;\n      d[`adv[${k}][value]`] = v.v;\n      d[`adv[${k}][operator]`] = v.o;\n      d[`adv[${k}][connector]`] = v.c;\n    });\n\n    this.getData(tb, d, d => { cb(d); }, true);\n  }\n\n  static getStr(tb, string, page, cb) {\n    this.getData(tb, {\n      verb: 'search',\n      type: 'fast',\n      string: string,\n      page: page\n    }, d => { cb(d, 'Search [' + string + '] in ' + d.head.table_label); }, true);\n  }\n\n  static getByEncodedSql(tb, sql, page, cb) {\n      this.getData(tb, {\n        verb: 'search',\n        type: 'encoded',\n        'q_encoded': sql,\n        page: page\n      }, d => { cb(d); }, true);\n  }\n\n  static getAll(tb, page, cb) {\n    this.getData(tb, {\n      verb : 'search',\n      type: 'all',\n      page: page\n    }, d => { cb(d); });\n  }\n\n  static getOne(tb, id, cb) {\n    this.getData('../v2/paths', {\n      tb: tb,\n      verb : 'read',\n      id : id\n    }, d => { cb(d); });\n  }\n\n  static inspect(tb, cb) {\n    this.getData('../v2/paths' , {\n      tb: tb,\n      'verb':'inspect'\n    }, d => { cb(d); });\n  }\n\n  static getChart(id, cb) {\n    this.getData('../v2/paths/' + id, {\n      id: id,\n      'verb':'getChart'\n    }, d => { cb(d); });\n  }\n\n  static simplifyGeojson(gj) {\n    let newgj = {\n      type: \"FeatureCollection\",\n      features: [ ]\n    };\n    let currentId = false;\n\n    Object.entries(gj.features).forEach( ([key, value]) => {\n      if (!currentId || currentId !== value.properties.id){\n        newgj.features.push(value);\n        currentId = value.properties.id;\n      }\n      if (currentId === value.properties.id){\n        newgj.features[newgj.features.length-1].properties.toponym += '|'+value.properties.toponym;\n      }\n    });\n    return newgj;\n  }\n\n  static getPlaces(where, cb) {\n    let data = {\n      \"join\": \"JOIN paths__geodata as g ON g.table_link = 'paths__places' AND g.id_link = paths__places.id \"\n      + \" JOIN paths__m_toponyms as t ON t.table_link = 'paths__places' AND t.id_link = paths__places.id\",\n      \"fields[g.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[GROUP_CONCAT(t.toponym)]\": \"Toponyms\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa( ( where ? where.replace(/`id`/gi, '`paths__places`.`id`') : \" 1\" ))\n    };\n\n    this.getData(\n      'places?verb=search&geojson=true&type=encoded',\n      data,\n      d => {\n        cb( d );\n      }\n    );\n  }\n\n  static getMsPlaces(ms_where, cb) {\n    const data = {\n      \"join\": \" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\" +\n              \" JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` \",\n      \"fields[paths__geodata.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[paths__m_msplaces.type]\": \"Place type\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa(\" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE \" + ms_where + \" )\")\n    };\n    this.getData(\n      'geodata?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb(d) }\n    );\n  }\n\n}\n","import React, { Component } from 'react';\nimport { Map } from 'react-leaflet';\nimport { InputGroup, InputGroupAddon, Input } from 'reactstrap';\nimport qs from 'qs';\nimport { Sidebar, Tab } from 'react-leaflet-sidebarv2';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nimport Header from \"../mainLayout/Header\"\nimport ListPlaces from './ListPlaces';\nimport UrlFilterButton from './UrlFilterButton';\nimport Legend from './Tabs/Legend';\nimport MapSavedQueries from './Tabs/MapSavedQueries';\nimport ClearButton from './ClearButton';\nimport Loading from '../Loading/Loading';\nimport ShowError from '../ShowError/ShowError';\n\nimport Layers from './Map/Layers';\n\nimport Database from '../Services/Database/Database';\n\nimport './PathsMap.css';\n\n\n\nexport default class PathsMap extends Component {\n\n  constructor(props) {\n\n    super(props);\n    this.state = {\n      places: null,\n      shownPlaces: null,\n      urlFilter: false,\n      sidebarCollapsed: false,\n      selected: 'home',\n      manualFilter: '',\n      error: false,\n      mapBounds: false,\n      zoom: false,\n      geoJsonBounds: false\n    };\n    this.placesLayerRef = React.createRef();\n    this.mapRef = React.createRef();\n  }\n\n  onSidebarClose() {\n    this.setState({\n      sidebarCollapsed: true\n    });\n  }\n\n  onSidebarOpen(id) {\n    this.setState({\n      sidebarCollapsed: false,\n      selected: id,\n    })\n  }\n\n  filterPlaces(e) {\n    const str =  e.target.value;\n    let fgj = {};\n    if (str === ''){\n      fgj = this.state.places;\n    } else {\n      fgj = {\n        \"type\": \"FeatureCollection\",\n        \"features\": []\n      };\n      for (const val of Object.values(this.state.places.features)) {\n        if (Object.values(val.properties).join('|').toLowerCase().includes(str.toLowerCase())){\n          fgj.features.push(val);\n        }\n      }\n    }\n\n    this.setState({\n      manualFilter: str,\n      shownPlaces: fgj\n    });\n    this.fitMapToBounds();\n  }\n\n  clearFiltered(){\n    this.setState({\n      manualFilter: '',\n      shownPlaces: this.state.places\n    });\n    this.fitMapToBounds();\n  }\n\n  fitMapToBounds(){\n    let bounds = [ [19.700194, 16.570227], [35.4737, 32.869317] ];\n    if (this.state.geoJsonBounds && bounds._northEast && bounds._southWest){\n      bounds = this.state.geoJsonBounds;\n      if(bounds._northEast.lat === bounds._southWest.lat && bounds._northEast.lng === bounds._southWest.lng){\n        bounds.pad();\n      }\n    }\n    this.mapRef.current.leafletElement.fitBounds(bounds);\n  }\n\n\n  fetchData(savedQ, locationSearch){\n    if (savedQ) {\n      Database.getSaved('map', savedQ, null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n          urlFilter: true\n        });\n        this.fitMapToBounds()\n      });\n    } else if (locationSearch) {\n      let qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true})\n      if (qstring.tb === 'manuscripts') {\n        Database.getMsPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else if (qstring.tb === 'places') {\n\n        Database.getPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else {\n        return false;\n      }\n\n    } else {\n      Database.getPlaces(null, data => {\n        if (data.type && data.type === 'error') {\n          this.setState({\n            error: <div>Sorry. There was an error in getting the data from database. Please report this error to <a href=\"mailto:julian.bogdani@uniroma1.it\">julian.bogdani@uniroma1.it</a> and be sure to copy and paste the following lines:<br /><div className=\"border p-3 mt-3\"><code>{window.location.href}</code><pre>{data.text}</pre></div></div>\n          });\n          return;\n        }\n        this.setState({\n          places: data,\n          shownPlaces: data,\n        });\n        this.fitMapToBounds();\n      });\n    }\n  }\n\n  onViewportChanged(e){\n    const mapBounds = this.mapRef.current.leafletElement.getBounds();\n    const zoom = e.zoom;\n    this.setState({\n      mapBounds: mapBounds,\n      zoom: zoom\n    });\n  }\n\n\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        places: null,\n        urlFilter: null\n      });\n      this.fetchData(nextProps.match.params.data, null);\n    }\n  }\n\n\n  componentDidMount(){\n    this.fetchData(this.props.match.params.data, this.props.location.search);\n  }\n\n  showGeoJson(){\n    if (!this.state.shownPlaces){\n      return <div style={{ textAlign: 'center', zIndex: 999, marginTop: '5rem'}}>\n          <Loading>Loading map data...</Loading>\n        </div>\n    }\n  }\n  onAddgeoJson(e){\n    this.setState({\n      geoJsonBounds: e.target.getBounds()\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"maxHeight\">\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n\n          <Sidebar id=\"sidebar\" collapsed={this.state.sidebarCollapsed} selected={this.state.selected}\n                   onOpen={this.onSidebarOpen.bind(this)} onClose={this.onSidebarClose.bind(this)}\n                   closeIcon={<FontAwesomeIcon icon=\"caret-left\" />}>\n            <Tab id=\"home\" header=\"Home\" icon={<FontAwesomeIcon icon=\"home\" />}>\n\n              <div className=\"sidebarSearch\">\n                <InputGroup className=\"my-2\">\n                  <InputGroupAddon addonType=\"prepend\">\n                    Search:\n                  </InputGroupAddon>\n                  <Input type=\"search\" value={this.state.manualFilter} onChange={this.filterPlaces.bind(this)} placeholder=\"start typing to filter places...\" />\n                    <ClearButton show={this.state.manualFilter} onClick={ this.clearFiltered.bind(this) } />\n                </InputGroup>\n              </div>\n\n              <div className=\"mt-2\">\n                <UrlFilterButton urlFilter={ this.state.urlFilter } filter={ this.state.filter }/>\n                <ListPlaces places={ this.state.shownPlaces } />\n              </div>\n            </Tab>\n\n            <Tab id=\"savedQueries\" header=\"Saved queries\" icon={<FontAwesomeIcon icon=\"save\" />}>\n              <div className=\"mt-5\">\n                <MapSavedQueries />\n              </div>\n            </Tab>\n\n            <Tab id=\"legend\" header=\"Legend\" icon={<FontAwesomeIcon icon=\"info\" />}>\n              <div className=\"mt-5\">\n                <Legend />\n              </div>\n            </Tab>\n          </Sidebar>\n\n          {this.state.error && <ShowError>{this.state.error}</ShowError>}\n\n          { !this.state.shownPlaces && <div style={{ position: 'absolute', top: '5rem', textAlign: 'center', zIndex: 999, width: '100%'}}>\n                <Loading>Loading map data...</Loading>\n              </div>\n          }\n\n          <Map\n              className=\"sidebar-map maxHeight\"\n              zoomControl={true}\n              ref={this.mapRef}\n              onViewportChanged={ this.onViewportChanged.bind(this) }\n              >\n\n          <Layers\n              shownPlaces={ this.state.shownPlaces }\n              onAdd={this.onAddgeoJson.bind(this) }\n              mapBounds={this.state.mapBounds}\n              zoom={this.state.zoom}\n            />\n          </Map>\n        </main>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardTitle, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Link } from 'react-router-dom';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class SavedQueriesList extends Component {\n\n  render(){\n    const tblabel = this.props.tblabel;\n    const tb = this.props.tb;\n\n    return (\n      <div>\n        <Card className=\"mt-5 mb-5\" color=\"light\">\n          <div className=\"text-right\">\n            <button type=\"button\" className=\"close mr-2 mt-2\" aria-label=\"Close\" onClick={this.props.closeFn}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n        <CardBody>\n          <CardTitle>Saved queries for {tblabel}</CardTitle>\n            <ListGroup>\n              { Object.values(SavedQueries[tb]).map( (e, i) => {\n                return <ListGroupItem key={i}  onClick={this.props.closeFn} className=\"mb-3\" tag={Link} to={ `/search/${tb}/saved?q=${e.id}`} color=\"secondary\">\n                    <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n                </ListGroupItem>\n              }) }\n            </ListGroup>\n        </CardBody>\n      </Card>\n      </div>\n    );\n  }\n}\n","/*jshint esversion: 6 */\n\n\nexport default {\n    \"coptic\": [\n      \"authors.copticname\",\n      \"titles.text\",\n      \"colophons.text\"\n    ],\n    \"greek\": [\n      \"authors.greekname\"\n    ],\n    \"hidden\": [\n      \"manuscripts.creator\",\n      \"collections.creator\",\n      \"collections.cmclname\",\n      \"works.id\",\n      \"works.creator\",\n      \"works.shelfmarks\",\n      \"works.period\",\n      \"works.problems\",\n      \"titles.creator\",\n      \"colophons.creator\",\n      \"authors.id\",\n      \"authors.creator\",\n      \"authors.cmclname\",\n      \"editors.cmclname\",\n      \"places.creator\",\n      \"places.hasplans\",\n      \"places.hasphotos\",\n      \"persons.id\",\n      \"persons.creator\",\n      \"biblio.creator\",\n      \"biblio.editors\",\n      \"m_quires.id\",\n      \"m_hands.id\",\n      \"m_placephase.id\"\n    ],\n    \"id_fld\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"name\",\n      \"persons\": \"name\"\n    },\n    \"searchDefault\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"paths__m_toponyms:toponym\",\n      \"persons\": \"name\"\n    },\n    \"preview\": {\n      \"manuscripts\":  [ \"id\", \"cmclid\", \"tm\", \"ldab\", \"bookform\", \"writingsupport\" ],\n      \"collections\":  [ \"id\", \"fullname\", \"cmclname\", \"country\", \"town\", \"institution\", \"name\", \"notes\" ],\n      \"works\":        [ \"id\", \"cmcl\", \"title\", \"cpg\" ],\n      \"titles\":       [ \"cc\", \"type\", \"workcc\", \"msid\" ],\n      \"colophons\":    [ \"id\", \"msid\", \"dialect\", \"chronofrom\", \"chronoto\", \"datingcriteria\" ],\n      \"authors\":      [ \"name\", \"title\", \"copticname\", \"greekname\", \"cmclname\" ],\n      \"places\":       [ \"id\", \"name\", \"tmgeo\", \"pleiades\", \"region\", \"area\", \"episcopalsee\" ],\n      \"persons\":      [ \"id\", \"name\", \"type\", \"profession\", \"patronymic\" ]\n    },\n    \"label\": {\n      \"manuscripts\": \"Manuscripts\",\n      \"collections\": \"Collections\",\n      \"works\": \"Works\",\n      \"titles\": \"Titles\",\n      \"colophons\": \"Colophons\",\n      \"authors\": \"Authors\",\n      \"places\": \"Places\",\n      \"persons\": \"Persons attested in colophons\"\n    },\n\n    \"fld_whitelist\": [\n        \"paths__places:id\",\n        \"paths__places:name\",\n        \"paths__places:tmgeo\",\n        \"paths__places:pleiades\",\n        \"paths__places:region\",\n        \"paths__places:area\",\n        \"paths__places:meris\",\n        \"paths__places:nomos\",\n        \"paths__places:province\",\n        \"paths__places:episcopalsee\",\n        \"paths__places:typology\",\n        \"paths__places:description\",\n        \"paths__places:hasmonastery\",\n        \"paths__places:isnomoscapital\",\n        \"paths__m_toponyms:toponym\",\n        \"paths__m_placephase:fperiod\",\n        \"paths__m_placephase:ftypology\",\n\n        \"paths__works:id\",\n        \"paths__works:cmcl\",\n        \"paths__works:title\",\n        \"paths__works:cpg\",\n        \"paths__works:cant\",\n        \"paths__works:cavt\",\n        \"paths__works:bho\",\n        \"paths__works:bhg\",\n        \"paths__works:bhl\",\n        \"paths__works:cae\",\n        \"paths__works:litperiod\",\n        \"paths__m_wkauthors:type\",\n        \"paths__m_wkauthors:author\",\n\n        \"paths__authors:id\",\n        \"paths__authors:name\",\n        \"paths__authors:copticname\",\n        \"paths__authors:greekname\",\n        \"paths__authors:viaf\",\n        \"paths__authors:title\",\n\n        \"paths__titles:id\",\n        \"paths__titles:cc\",\n        \"paths__titles:workcc\",\n        \"paths__titles:msid\",\n        \"paths__titles:type\",\n        \"paths__titles:text\",\n        \"paths__titles:translation\",\n\n        \"paths__colophons:id\",\n        \"paths__colophons:msid\",\n        \"paths__colophons:chronofrom\",\n        \"paths__colophons:chronoto\",\n        \"paths__colophons:dialect\",\n        \"paths__colophons:greektext\",\n        \"paths__colophons:writingaxis\",\n        \"paths__colophons:cryptography\",\n        \"paths__colophons:minusculecopitc\",\n        \"paths__colophons:minusculegreek\",\n        \"paths__colophons:text\",\n        \"paths__colophons:translation\",\n\n        \"paths__collections:id\",\n        \"paths__collections:fullname\",\n        \"paths__collections:country\",\n        \"paths__collections:town\",\n        \"paths__collections:institution\",\n        \"paths__collections:name\",\n\n        \"paths__manuscripts:id\",\n        \"paths__m_shelfmarks:collection\",\n        \"paths__m_shelfmarks:shelfmark\",\n        \"paths__manuscripts:cmclid\",\n        \"paths__manuscripts:tm\",\n        \"paths__manuscripts:ldab\",\n        \"paths__manuscripts:lcbm\",\n        \"paths__manuscripts:dbmnt\",\n        \"paths__manuscripts:alias\",\n        \"paths__manuscripts:bookform\",\n        \"paths__manuscripts:writingsupport\",\n        \"paths__manuscripts:issinglefrag\",\n        \"paths__manuscripts:isbookbinding\",\n        \"paths__manuscripts:reusedinbinding\",\n        \"paths__manuscripts:stratigraphy\",\n        \"paths__manuscripts:modernhistory\",\n        \"paths__manuscripts:contents\",\n        \"paths__manuscripts:dialect\",\n        \"paths__manuscripts:chronofrom\",\n        \"paths__manuscripts:chronoto\",\n        \"paths__m_msplaces:place\",\n        \"paths__m_msplaces:type\",\n        \"paths__m_msplaces:sourceinfo\",\n        \"paths__manuscripts:datingsource\",\n        \"paths__manuscripts:leaftotextant\",\n        \"paths__manuscripts:quiresextant\",\n        \"paths__manuscripts:columns\",\n        \"paths__manuscripts:linespercolumn\",\n        \"paths__manuscripts:charsperline\",\n        \"paths__manuscripts:leafw\",\n        \"paths__manuscripts:leafh\",\n        \"paths__manuscripts:prophw\",\n        \"paths__manuscripts:propwt\",\n        \"paths__manuscripts:quiresig\",\n        \"paths__manuscripts:quiretype\",\n        \"paths__manuscripts:quireposition\",\n        \"paths__m_quires:quirepaptype\",\n        \"paths__m_quires:quirepartype\",\n        \"paths__manuscripts:pagination\",\n        \"paths__manuscripts:pagtype\",\n        \"paths__manuscripts:pagposition\",\n        \"paths__manuscripts:foliation\",\n        \"paths__manuscripts:foltype\",\n        \"paths__manuscripts:folposition\",\n        \"paths__manuscripts:folnotes\",\n        \"paths__manuscripts:lectionalsigns\",\n        \"paths__manuscripts:structuralsigns\",\n        \"paths__manuscripts:signsnotes\",\n        \"paths__manuscripts:abbreviations\",\n        \"paths__manuscripts:ruling\",\n        \"paths__manuscripts:rulingtype\",\n        \"paths__manuscripts:rulingtool\",\n        \"paths__manuscripts:pricking\",\n        \"paths__manuscripts:leaftabs\",\n        \"paths__manuscripts:kolleseis\",\n        \"paths__manuscripts:kolleseseisdescr\",\n        \"paths__manuscripts:bindings\",\n        \"paths__manuscripts:boardmat\",\n        \"paths__manuscripts:sewings\",\n        \"paths__manuscripts:covers\",\n        \"paths__manuscripts:marginalnotes\",\n        \"paths__manuscripts:greekminuscule\",\n        \"paths__manuscripts:palimpsest\",\n        \"paths__manuscripts:restancient\",\n        \"paths__manuscripts:restmodern\",\n        \"paths__manuscripts:pgmcol\",\n        \"paths__manuscripts:pgmlocation\",\n        \"paths__manuscripts:blktype\",\n        \"paths__manuscripts:blklocation\",\n        \"paths__manuscripts:decortype\",\n        \"paths__manuscripts:decorsubj\",\n        \"paths__manuscripts:decorationdescr\",\n        \"paths__manuscripts:sourceinfo\",\n        \"paths__manuscripts:status\",\n        \"paths__m_hands:handno\",\n        \"paths__m_hands:modulartypology\",\n        \"paths__m_hands:writingaxis\",\n        \"paths__m_hands:thickandthin\",\n        \"paths__m_hands:identification\",\n        \"paths__m_hands:writingnotes\",\n\n        \"paths__m_biblio:short\",\n        \"paths__m_biblio:details\",\n\n      ]\n};\n","import React, { Component } from 'react';\nimport { Jumbotron, Navbar, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueriesList from './SavedQueriesList';\nimport SavedQueries from '../Services/SavedQueries';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nclass SubHead extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSaved: false\n    };\n  }\n\n  toggleSaved(e){\n    this.setState({\n      showSaved: !this.state.showSaved\n    });\n  }\n\n  render(){\n    const tblabel = this.props.tblabel ? this.props.tblabel : Cfg.label[this.props.tb];\n    const tb = this.props.tb;\n    const text = this.props.text ? <span className=\"subText\">{this.props.text}</span> : false;\n\n    let menuItems = [\n      {\n        to: '/search/' + tb + '/all',\n        icon: 'list-ul',\n        text: 'Show all'\n      },\n      {\n        to: '/search/' + tb ,\n        icon: 'search',\n        text: 'Search'\n      },\n      {\n        to: '/search/' + tb + '/adv',\n        icon: 'search-plus',\n        text: 'Advanced search'\n      }\n    ];\n\n    return (\n      <div>\n        <Jumbotron className=\"p-4\">\n\n        <div className=\"container\">\n          <h2>{text}</h2>\n          <Navbar color=\"light\" light expand=\"xs\" className=\"ml-auto\">\n            <NavbarBrand>\n              <h3><small>{ tblabel }</small></h3>\n            </NavbarBrand>\n            <Nav className=\"ml-auto\" navbar>\n              {\n                menuItems.map( (e, k) => {\n                  return (\n                    <NavItem key={k}>\n                      <NavLink to={e.to} tag={Link}>\n                        <FontAwesomeIcon icon={e.icon} /> <span className=\"d-none d-md-inline\">{e.text}</span>\n                      </NavLink>\n                    </NavItem>\n                  );\n                })\n              }\n              { SavedQueries[tb] && (<NavItem><NavLink onClick={this.toggleSaved.bind(this)} style={{cursor: 'pointer'}}><FontAwesomeIcon icon=\"save\" /><span className=\"d-none d-md-inline\"> Saved queries</span></NavLink></NavItem>)}\n            </Nav>\n          </Navbar>\n\n          {this.state.showSaved && <SavedQueriesList  tb={tb} tblabel={tblabel} closeFn={this.toggleSaved.bind(this)}/>}\n        </div>\n      </Jumbotron>\n      </div>\n    );\n  }\n}\n\nexport default SubHead;\n","import React from 'react';\nimport qs from 'qs';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\n\nfunction build_object(path, queryString, tot_rows, curr_page = 1) {\n\n  const rpp = 30;\n\n  let tot_pages = Math.ceil(tot_rows / rpp);\n  let result = [];\n\n  curr_page = parseInt(curr_page, 10);\n\n  let qString = qs.parse(queryString, {ignoreQueryPrefix: true});\n\n  if (curr_page - 2 > 0 ) {\n    qString.page = 1;\n    result.push({\n      to :  path + '?' + qs.stringify(qString),\n      text : 1\n    });\n  }\n\n  if (curr_page - 3 > 0 ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n\n  // -1 page\n  if (curr_page - 1 > 0 ) {\n    qString.page = (curr_page - 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  // current page\n  qString.page = curr_page;\n  result.push({\n    to : path + '?' + qs.stringify(qString),\n    active : true,\n    text : curr_page\n  });\n\n  // +1 page\n  if (curr_page + 1 < tot_pages ) {\n    qString.page = (curr_page + 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n    // +3 page\n  if (curr_page + 2 < tot_pages ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n  if (curr_page !== tot_pages ) {\n    qString.page = (tot_pages);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  return result;\n}\n\nexport default function PaginateResult (props) {\n\n\n    const result = build_object(\n      props.path,\n      props.search,\n      props.totalRows,\n      props.page\n    );\n\n    return (\n      <Pagination>\n        <PaginationItem>\n          <PaginationLink>Pages: </PaginationLink>\n        </PaginationItem>\n        { result.map( (r, i) => {\n          const props = {\n            disabled: r.disabled,\n            active: r.active\n          };\n         return <PaginationItem {...props} key={i}>\n           <PaginationLink tag={Link} to= { r.to }>\n              { r.text }\n           </PaginationLink>\n         </PaginationItem>\n        }) }\n\n      </Pagination>\n    );\n}","import React, { Component } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass SqlModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <span>\n        <Button color=\"danger\" size=\"sm\" onClick={this.toggle}><FontAwesomeIcon icon=\"code\" /></Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Executed SQL</ModalHeader>\n          <ModalBody>\n            <pre style={{ height: '200px', whiteSpace: 'pre-wrap' }}>{this.props.sql}</pre>  \n          </ModalBody>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default SqlModal;\n","import React from 'react';\n\nimport SqlModal from '../SqlModal/SqlModal';\n\n\n\n\nexport default function PaginateResultSummary (props) {\n\n    const curr_page =  props.page ? props.page : 1;\n    const start_at = curr_page * 30 - 30 + 1;\n    const up_to = (curr_page * 30) < props.totalRows ? curr_page * 30 : props.totalRows;\n\n    return (\n      <div className=\"mb-3\">\n        Showing records <span className=\"badge badge-primary\">\n        { start_at }   { up_to } </span> of <span className=\"badge badge-success\">\n        { props.totalRows }</span> records found\n        &nbsp;<SqlModal sql={props.query}/>\n      </div>\n    );\n}","import React, { Component } from 'react';\nimport { Row, Col, Table, Card, CardBody, CardHeader, ButtonGroup, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nclass ItemPreviewWrapper extends Component {\n\n  render() {\n    return (\n      <Row>{ this.props.children }</Row>\n    );\n  }\n}\n\nclass ItemPreview extends Component {\n\n  render() {\n\n    const el = this.props.record;\n    const flds = this.props.fields;\n    const tb = this.props.tb;\n\n    const preview_flds = this.props.previewFlds;\n    const id_field = this.props.idField;\n\n    return (\n      <Col sm=\"4\">\n      \t<Card className=\"mt-3\" outline color=\"dark\">\n          <CardHeader tag=\"h4\">{ el[id_field] }</CardHeader>\n          <CardBody id={ el.id }>\n\n            <Table hover size=\"sm\">\n              <tbody>\n                {\n                  preview_flds.map( (e, k) => {\n                    return <tr key={k}>\n                      <th>{ flds[e] }</th>\n                      <td>{ el[e] }</td>\n                    </tr>\n                  } )\n                }\n              </tbody>\n            </Table>\n\n            <div className=\"clearfix\">\n              <div className=\"btn-group float-right\" role=\"group\">\n                <ButtonGroup>\n                  <Button size=\"sm\" color=\"info\" tag={Link} to={ '/' + [tb, el.id].join('/') }>\n                    <FontAwesomeIcon icon=\"eye\" /> View\n                  </Button>\n                </ButtonGroup>\n              </div>\n            </div>\n\n          </CardBody>\n    \t  </Card>\n      </Col>\n    );\n  }\n}\n\nexport {ItemPreview, ItemPreviewWrapper};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default function OpenInMap(props) {\n\n  const tb = props.tb;\n\n  if (['manuscripts', 'places'].indexOf(tb) < 0){\n    return null;\n  }\n  return (\n    <div className=\"float-right mt-2\">\n      <Link to={'/map?tb=' + tb + '&where=' + encodeURI(props.where) } className=\"btn btn-warning\">\n        <FontAwesomeIcon icon=\"map-marker-alt\" /> View on Map\n      </Link>\n    </div>\n  );\n}\n\n","import React, { Component } from 'react';\nimport { Alert } from 'reactstrap';\nimport qs from 'qs';\nimport {withRouter} from 'react-router';\n\nimport Database from '../Services/Database/Database';\nimport PaginateResult from '../PaginateResult/PaginateResult';\nimport PaginateResultSummary from '../PaginateResult/PaginateResultSummary';\nimport { ItemPreview, ItemPreviewWrapper } from './ItemPreview';\nimport OpenInMap from '../Manuscripts/OpenInMap';\nimport Loading from '../Loading/Loading';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\n\nclass Results extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: false\n    };\n  }\n\n  _fetchData(){\n    switch (this.props.type) {\n      case 'simple':\n        Database.getSimple(this.props.tb, this.props.fld, this.props.val, this.props.strict, this.props.page, d => {\n          this.setState({\n            result: d\n          });\n        });\n        break;\n\n        case 'adv':\n          Database.getAdv(this.props.tb, this.props.data, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'all':\n          Database.getAll(this.props.tb, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'saved':\n          Database.getSaved(this.props.tb, this.props.query, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'encoded':\n          Database.getByEncodedSql(this.props.tb, this.props.q, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        default:\n          console.log(`Unknown verb ${this.props.type}`);\n          return null;\n    }\n\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.page !== prevProps.page\n      || this.props.fld !== prevProps.fld\n      || this.props.val !== prevProps.val\n      || this.props.strict !== prevProps.strict\n      || this.props.query !== prevProps.query\n    ) {\n      this._fetchData();\n    }\n  }\n\n  componentDidMount(){\n    this._fetchData();\n  }\n\n  render() {\n    if (!this.state.result) {\n      return <div className=\"container\"><Loading /></div>;\n    }\n\n    if(this.state.result.type === 'error') {\n      return (\n        <div>\n          <div className=\"container\">\n            <Alert color=\"danger\" className=\"mt-5\">\n                <h4 className=\"alert-heading\">We are so sorry!</h4>\n                <p>Something went terribly wrong. Please report this error to <a href=\"https://github.com/paths-erc/atlas/issues\">our public repository</a> in order to get it fixes as soon as possible.</p>\n            </Alert>\n            <div>\n              <p>Please file the current URL:</p>\n\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ window.location.href }</Alert>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ decodeURIComponent(window.location.href) }</Alert>\n              <p>and the following error message</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.text}\n                </pre>\n              </Alert>\n              <p>Full error trace</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.trace}\n                </pre>\n              </Alert>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    if(this.state.result.head.total_rows === 0) {\n      return (\n        <div>\n\n            <div className=\"container\">\n              <Alert color=\"warning\" className=\"mt-5\">\n                  <h4 className=\"alert-heading\">Ooops!</h4>\n                  No result found. Please reformulate the query.\n              </Alert>\n            </div>\n        </div>\n      )\n    }\n\n    return (\n    \t<div>\n\n        <div className=\"container\">\n\n          <div className=\"clearfix\">\n\n            <OpenInMap\n                tb={this.state.result.head.stripped_table}\n                where={this.state.result.head.query_where}\n                type={this.props.match.params.type}\n                search={ qs.parse(this.props.location.search, {ignoreQueryPrefix: true}) }\n                />\n\n            <PaginateResultSummary\n              totalRows={this.state.result.head.total_rows}\n              page={this.state.result.head.page}\n              query={this.state.result.head.query_arrived}\n              />\n\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n\n\n          <ItemPreviewWrapper>\n          {\n             this.state.result.records.map( (e, i) => {\n              return <ItemPreview\n                  idField = { Cfg.id_fld[this.props.match.params.table] }\n                  previewFlds = { Cfg.preview[this.props.match.params.table] }\n                  tb={this.props.match.params.table}\n                  record={e}\n                  fields={this.state.result.head.fields}\n                  key={i} />\n            })\n          }\n          </ItemPreviewWrapper>\n\n          <div className=\"pt-3\">\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n        </div>\n\n\t\t  </div>\n    );\n  }\n}\nexport default withRouter(Results);\n","import React, { Component } from 'react';\nimport { Alert } from 'reactstrap';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport SavedQueries from '../Services/SavedQueries';\n\n\n\n\nexport default class SearchSaved extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      saved: qstring.q,\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const old_qstring = qs.parse(prevProps.location.search, {ignoreQueryPrefix: true});\n    const new_qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    if(old_qstring.page !== new_qstring.page){\n      this.setState({\n        page: new_qstring.page\n      });\n    }\n    if(old_qstring.q !== new_qstring.q){\n      this.setState({\n        saved: new_qstring.q\n      });\n    }\n  }\n\n  render() {\n    if (typeof SavedQueries[this.props.match.params.table][this.state.saved] === 'undefined'){\n      return (\n        <div className=\"container\">\n          <Alert color=\"warning\" className=\"mt-5\">\n              <h4 className=\"alert-heading\">Ooops!</h4>\n              No saved query <code>{this.state.saved}</code> found.\n          </Alert>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text={SavedQueries[this.props.match.params.table][this.state.saved].title} />\n      \t<Results\n            tb={this.props.match.params.table}\n            query={this.state.saved}\n            type=\"saved\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Select from 'react-select';\n\nimport Database from '../Services/Database/Database';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nexport default class FldSelect extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fields: false,\n      fld: false\n    };\n  }\n\n  _setState(fldList, selected){\n    fldList = Cfg.fld_whitelist.map(id => {\n      if(fldList[id]){\n        return { value: id, label: fldList[id].label };\n      } else {\n        return false;\n      }\n    }).filter( i => { return i; } );\n\n    let selObj;\n    if (selected){\n      selObj= fldList.filter( e => {\n        return e.value === selected;\n      })[0];\n    } else {\n      if (Cfg.searchDefault[this.props.tb]){\n        const v = Cfg.searchDefault[this.props.tb].includes('paths') ? Cfg.searchDefault[this.props.tb] : `paths__${this.props.tb}:${Cfg.searchDefault[this.props.tb]}`;\n\n        selObj = fldList.filter( e => {\n          return e.value === v;\n        })[0];\n      } else {\n        selObj = fldList[0];\n      }\n      this.props.onChange(selObj);\n    }\n\n    this.setState({\n      fields: fldList,\n      fld: selObj\n    });\n  }\n\n\n  componentDidMount(){\n    Database.inspect(this.props.tb, data => {\n      this._setState(data.fields, this.props.fld);\n    });\n  }\n\n  render() {\n    if (!this.state.fields){\n      return null;\n    }\n\n    return (\n        <Select\n          defaultValue={ this.state.fld }\n          options={ this.state.fields }\n          onChange={ this.props.onChange }\n          />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\n\nimport Database from '../Services/Database/Database';\n\n\n\nexport default class ValueInput extends Component {\n\n  constructor(props) {\n    super();\n\n    this.state = {\n      isLoading: false,\n      multiple: false,\n      options: []\n    }\n  }\n\n  _handleSearch = (string) => {\n    this.setState({isLoading: true});\n    const [tb, fld] = this.props.fld.split(':');\n    Database.getUniqueVal(tb, fld, string, d => {\n      this.setState({\n        options : d,\n        isLoading: false\n      })\n    });\n  }\n\n  render() {\n    if(!this.state.options){\n      return null;\n    }\n\n    return (\n      <div>\n        <AsyncTypeahead\n          {...this.state}\n          minLength={1}\n          placeholder=\"Add a value\"\n          onSearch={this._handleSearch}\n          onInputChange={this.props.onChange}\n          onChange={this.props.onChange}\n          defaultInputValue={this.props.val ? this.props.val : ''}\n          />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport { FormGroup, Input, Button, Col, Label } from 'reactstrap';\n\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\n\n\n\nexport default class CustomSearchForm extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fld: props.fld,\n      val: props.val,\n      strict: props.strict === true\n    }\n\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this._changeField = this._changeField.bind(this);\n    this._changeVal = this._changeVal.bind(this);\n    this._changeStrict = this._changeStrict.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props){\n      this.setState({\n        fld: this.props.fld,\n        val: this.props.val,\n        strict: this.props.strict ? true : false\n      });\n    }\n  }\n\n  _changeField(v){\n    this.setState({\n      fld: v.constructor === Object && v.value ? v.value : v\n    });\n  }\n  _changeVal(v){\n    this.setState({\n      val: v.constructor === Array ? v[0] : v\n    });\n  }\n  _changeStrict(e){\n    this.setState({\n      strict: e.target.checked\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (!this.state.val){\n      alert('Insert a value to continue');\n      return;\n    }\n    this.props.onSubmit(this.state.fld, this.state.val, this.state.strict);\n  }\n\n  render() {\n    return (\n      <div className=\"my-5\">\n        <form onSubmit={this.handleSubmit} className=\"form\">\n\n          <FormGroup row>\n\n            <Col sm={4}>\n              <FldSelect\n                  tb={ this.props.tb }\n                  fld={this.state.fld}\n                  onChange={ this._changeField }\n                  />\n            </Col>\n\n            <Col sm={5}>\n              <ValueInput\n                fld={ this.state.fld }\n                val={this.state.val}\n                onChange={this._changeVal}\n               />\n            </Col>\n\n            <Col sm={1}>\n              <Label check>\n                <Input\n                    name=\"strict\"\n                    type=\"checkbox\"\n                    checked={this.state.strict }\n                    onChange={this._changeStrict}\n                  /> Strict\n              </Label>\n            </Col>\n\n            <Col sm={2}> <Button type=\"submit\" color=\"success\" block>Search!</Button> </Col>\n          </FormGroup>\n\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport CustomSearchForm from './CustomSearchForm';\nimport Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      fld: qstring.f,\n      val: qstring.v,\n      strict: (qstring.s && qstring.s !== 'false' && qstring.s !== 'undefined'),\n      page: qstring.page\n    };\n\n    this._onFormSubmit = this._onFormSubmit.bind(this);\n  }\n\n  _onFormSubmit(fld, val, strict){\n    const s = \"f=\" + encodeURIComponent(fld) +\n                  (strict ? \"&s=1\" : '')+\n                  \"&v=\" + encodeURIComponent(val);\n\n    this.setState({\n      fld: fld,\n      val: val,\n      strict: strict\n    });\n\n    this.props.history.push(`/search/${this.props.match.params.table}?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Simple search' />\n\n      \t<div className=\"mt-3 p-1 container\">\n          <CustomSearchForm\n              tb={ this.props.match.params.table }\n              onSubmit={this._onFormSubmit}\n              fld={this.state.fld}\n              val={this.state.val}\n              strict={this.state.strict}\n             />\n          <hr />\n  \t\t  </div>\n\n        { this.state.fld && this.state.val && <Results\n            tb={this.props.match.params.table}\n            type=\"simple\"\n            fld={this.state.fld}\n            val={this.state.val}\n            strict={this.state.strict}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class OperatorSelect extends Component {\n\n  render() {\n\n    const operators = [\n      {\n        'k': 'LIKE',\n        'v': 'Contains'\n      },\n      {\n        'k': '=',\n        'v': 'Is exactly'},\n      {\n        'k': 'NOT LIKE',\n        'v': 'Does not contain'},\n      {\n        'k': 'starts_with',\n        'v': 'Starts with'},\n      {\n        'k': 'ends_with',\n        'v': 'Ends with'},\n      {\n        'k': 'is_empty',\n        'v': 'Is empty'},\n      {\n        'k': 'is_not_empty',\n        'v': 'Is not empty'},\n      {\n        'k': '>',\n        'v': 'Is bigger than'},\n      {\n        'k': '<',\n        'v': 'Is smaller than'}\n    ];\n\n    return (\n      <div>\n        <Input type=\"select\" placeholder=\"select\" {...this.props}>\n          {operators.map( (f, i) => {\n            return (<option key={i} value={f.k}>{ f.v }</option>);\n          } ) }\n        </Input>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default function ConnectorSelect (props) {\n\n  return (\n    <div>\n      <Input type=\"select\" {...props}>\n        <option value=\"AND\">AND</option>\n        <option value=\"OR\">OR</option>\n      </Input>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { Row, Col, Button } from 'reactstrap';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\nimport OperatorSelect from './OperatorSelect';\nimport ConnectorSelect from './ConnectorSelect';\n\n\nexport default class AdvSearchForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n\n    let rows;\n    let show = false;\n\n    if(Object.getOwnPropertyNames(qstring).length === 0){\n      rows = {\n        'a': {\n          f: '',\n          o: 'LIKE',\n          v: ''\n        }\n      };\n    } else {\n      rows = qstring;\n      show = true;\n    }\n\n    this.state = {\n      rows: rows,\n      showResults: show,\n      page: false\n    };\n\n    this._changeOperator = this._changeOperator.bind(this);\n    this._changeConnector = this._changeConnector.bind(this);\n    this._addRow = this._addRow.bind(this);\n    this._removeRow = this._removeRow.bind(this);\n\n  }\n\n\n  _removeRow(e){\n    let rows = this.state.rows;\n    const delKey = e.target.name;\n    delete rows[delKey];\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _addRow(){\n    let rows = this.state.rows;\n    const uid = 'a' + Math.random().toString(36).substr(2, 9);\n    rows[uid] = { f: '', o: 'LIKE', v: '', c: 'AND'}\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeField(index, val){\n    let rows = this.state.rows;\n    rows[index].f = val.constructor === Object && val.value ? val.value : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeVal(index, val){\n    let rows = this.state.rows;\n    rows[index].v = val.constructor === Array ? val[0] : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeOperator(e){\n    let rows = this.state.rows;\n    rows[e.target.name].o = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeConnector(e){\n    let rows = this.state.rows;\n    rows[e.target.name].c = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n    this.setState({\n      showResults: true\n    });\n    const s = qs.stringify(this.state.rows)\n    this.props.history.push(`/search/${this.props.match.params.table}/adv?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Advanced search' />\n\n        <div className=\"mt-3 p-1 container\">\n          <form onSubmit={this._handleSubmit.bind(this)} className=\"form\">\n            {\n              Object.entries(this.state.rows).map((e, i)=>{\n                const k = e[0];\n                const v = e[1];\n\n                return <div key={i} className=\"my-3\">\n                  <Row>\n                    <Col xs={1}>\n                      { i > 0 && <ConnectorSelect\n                          defaultValue={v.c}\n                          onChange={this._changeConnector}\n                          name={k}\n                        />}\n                    </Col>\n                    <Col xs={4}>\n                      <FldSelect\n                        tb={ this.props.match.params.table }\n                        fld={v.f}\n                        onChange={ this._changeField.bind(this, k) }\n                        />\n                    </Col>\n                    <Col xs={2}>\n                      <OperatorSelect\n                        defaultValue={v.o}\n                        name={k}\n                        onChange={ this._changeOperator }\n                        />\n                    </Col>\n                    <Col xs={3}>\n                      <ValueInput\n                        fld={ v.f }\n                        val={v.v}\n                        onChange={this._changeVal.bind(this, k)}\n                        />\n                    </Col>\n\n                    <Col xs={1}>\n                      { i+1 === Object.keys(this.state.rows).length && <Button type=\"button\" color=\"info\" block onClick={ this._addRow }>+</Button>}\n                    </Col>\n                    <Col xs={1}>\n                      { i > 0 && <Button type=\"button\" color=\"danger\" block name={k} onClick={ this._removeRow }>-</Button>}\n                    </Col>\n                  </Row>\n                </div>\n              })\n            }\n\n            <Button type=\"submit\" color=\"success\" block>Search!</Button>\n          </form>\n          <hr />\n        </div>\n\n        { this.state.showResults && <Results\n            tb={this.props.match.params.table}\n            type=\"adv\"\n            data={this.state.rows}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\n  import Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n\n  render() {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Custom query' />\n        <Results\n            tb={this.props.match.params.table}\n            type=\"encoded\"\n            q={qstring.q}\n            page={qstring.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\n\n\n\nexport default class SearchAll extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='View all' />\n\n      \t<Results\n            tb={this.props.match.params.table}\n            type=\"all\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","/* jshint esversion: 6 */\nimport React from \"react\";\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\n\nimport SubHead from '../SubHead/SubHead';\n\nimport PlacesMd from './places/places.md';\nimport PlacesImg from './places/places.jpg';\n\nimport ManuscriptsMd from './manuscripts/manuscripts.md';\nimport ManuscriptsImg from './manuscripts/manuscripts.jpg';\n\nimport WorksMd from './works/works.md';\nimport WorksWithoutClavisMd from './works/works-without-clavis.md';\nimport WorksImg from './works/works.jpg';\n\nimport TitlesMd from './titles/titles.md';\nimport TitlesImg from './titles/titles.jpg';\n\nimport AuthorsMd from './authors/authors.md';\nimport AuthorsImg from './authors/authors.jpg';\n\nimport ColophonsMd from './colophons/colophons.md';\nimport ColophonsImg from './colophons/colophons.jpg';\n\nimport CollectionsMd from './collections/collections.md';\nimport CollectionsImg from './collections/collections.jpg';\n\nimport './Intro.css';\n\nexport default function Intro(props){\n\n  const tb = props.match.params.table;\n\n  const dataMap = {\n    places: {\n      label: \"Places\",\n      img: PlacesImg,\n      data: [{\n        title: false,\n        mdPath: PlacesMd\n      }]\n    },\n    manuscripts: {\n      label: \"Manuscripts\",\n      img: ManuscriptsImg,\n      data: [{\n        title: false,\n        mdPath: ManuscriptsMd\n      }]\n    },\n    works: {\n      label: \"Works\",\n      img: WorksImg,\n      data: [{\n        title: false,\n        mdPath: WorksMd\n      }, {\n        title: \"Literary works currently without a Clavis Coptica entry\",\n        mdPath: WorksWithoutClavisMd\n      }]\n    },\n    titles: {\n      label: \"Titles\",\n      img: TitlesImg,\n      data: [{\n        title: false,\n        mdPath: TitlesMd\n      }]\n    },\n    authors: {\n      label: \"Authors\",\n      img: AuthorsImg,\n      data: [{\n        title: false,\n        mdPath: AuthorsMd\n      }]\n    },\n    colophons: {\n      label: \"Colophons\",\n      img: ColophonsImg,\n      data: [{\n        title: false,\n        mdPath: ColophonsMd\n      }]\n    },\n    collections: {\n      label: \"Collections\",\n      img: CollectionsImg,\n      data: [{\n        title: false,\n        mdPath: CollectionsMd\n      }]\n    }\n  };\n\n\n  if (!dataMap.hasOwnProperty(tb)) {\n    return (<div className=\"container m-5 p-5 text-center text-danger\">\n      Error: invalid table name\n      <code>{ tb }</code>\n    </div>);\n  }\n\n  const d = dataMap[tb];\n\n  let styles = {};\n\n  if(d.img){\n    styles = {\n      width: '100%',\n      height: '300px',\n      backgroundImage: 'url(' + d.img +')',\n      backgroundSize: 'cover',\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: '50% 50%'\n    };\n  }\n\n  return <div>\n    <div style={ styles }></div>\n\n    <SubHead tblabel={d.label} tb={tb} text=\"Introduction\" />\n    <div className=\"container\">\n      { d.data.map( (i, k) => {\n        return (<div key={ k } className={`intro-level-${k} mt-5 border-top pt-5`}>\n          { i.title && <h1>{ i.title }</h1> }\n          <div className=\"my-3 px-md-5 double-column text-justify\">\n            <ReactMarkdownPath path={i.mdPath} />\n          </div>\n        </div>)\n      } )}\n\n    </div>\n  </div>\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport Matrix from 'quirematrix';\n\nclass QuireMatrixView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid : Math.random().toString(36).substr(2, 5)\n    };\n  }\n\n  componentDidMount(){\n    if(this.props.string !== null){\n      const m = new Matrix('canvas'  + this.state.uid);\n      m.parseString(this.props.string, 'secondHalf' + this.state.uid);\n    }\n  }\n\n  render() {\n    let height = false;\n    if(this.props.string !== null){\n      height = 100 + this.props.string.length / 3 * 20;\n    }\n    return (\n      <div className=\"mt-2 mb-4\">\n        <Row>\n          <Col id=\"firstHalf\">{ this.props.string }</Col>\n          <Col id={ 'secondHalf' + this.state.uid }></Col>\n        </Row>\n        { height && <canvas width=\"400\" height={ height } id={ 'canvas'+ this.state.uid }></canvas> }\n      </div>\n    );\n  }\n}\n\n\nexport default QuireMatrixView;\n","/**\n * Transforms @tb.id or @tb.id[label] parts to active links to records\n * @param  {String} text Text to parse\n * @return {String}      Replaces text\n */\nexport default function internalLinks(text : String) {\n  return text.replace(\n    /@([a-z]+)\\.([a-z0-9/]+)(\\[([^\\]]+)\\])?/gi,\n    function(match, p1, p2, p3, p4, offset, string){\n      return `<a href=\"/${p1}/${p2}\">\n        ${ p3 && p4 ? p4 : `paths.${p1}.${p2}` }\n      </a>`;\n    });\n};\n","import React, { useState } from 'react';\nimport { Button } from 'reactstrap';\nimport nl2br from 'react-nl2br';\nimport relaxedSplit from '../Utils/relaxedSplit.jsx';\nimport internalLinks from '../Utils/internalLinks.jsx';\n\n\nconst parseText = (text) => {\n  const nltext = nl2br(text);\n  const linktext = nltext.map( (t, i) => {\n    if (typeof t === 'string'){\n      return <span className=\"internal-link\" key={i} dangerouslySetInnerHTML={{ __html: internalLinks(t) }}></span>;\n    } else {\n      return t;\n    }\n  });\n  return linktext;\n}\n\nconst getExternalLink = (service, val) => {\n  const map = {\n    \"tm\": `https://www.trismegistos.org/text/${ val.trim() }`,\n    \"tmgeo\": `https://www.trismegistos.org/place/${ val.trim() }`,\n    \"pleiades\": `https://pleiades.stoa.org/places/${ val.trim() }`,\n    \"ldab\": `https://www.trismegistos.org/ldab/text.php?quick=${ val.trim() }`,\n    \"coptot\": `http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=${ encodeURIComponent(val.trim()) }`,\n    \"colophons\": `https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.${val.trim()}.xml`,\n    \"dbmnt\": `http://www.dbmnt.uw.edu.pl/${val.trim()}`\n  };\n\n  if (typeof map[service] !== undefined){\n    return map[service];\n  } else {\n    return false;\n  }\n};\n\n\nexport default function PreviewText(props) {\n\n  const text = props.text;\n  const separator = props.separator;\n  const fld = props.fld;\n  \n  const [display, setDisplay] = useState('none');\n\n  const linkedText = text.split(',').map( (t, key) => {\n    const link = getExternalLink(fld, t);\n    if (link){\n      return <a href={ link } key={ key } target=\"_blank\" rel=\"noopener noreferrer\">\n        {t};\n      </a>\n    } else {\n      return false;\n    }\n  }).filter( el => el );\n  if (linkedText.length > 0){\n    return linkedText;\n  }\n\n\n  const toggleDisplay = () => {\n    setDisplay( display === 'none' ? 'inline' : 'none' );\n  }\n\n  const textParts = relaxedSplit(text, 200, separator);\n  if (!textParts[1]){\n    return parseText(textParts[0]);\n  }\n\n  return (\n    <span>{ parseText(textParts[0]) }\n      <span style={{ display: display }}>{ parseText(textParts[1]) }</span>\n      { display === 'none' ? '\\u2026' : '' }\n      <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ toggleDisplay }>\n        { display === 'none' ? '+' : '-'}\n      </Button>\n    </span>\n  );\n}\n","/**\n * Returns an array of two elements of the input string\n * @param  {String} str         The original string\n * @param  {Int} offset         The offet to cut at\n * @param  {String} [until='.'] The charactet to cut at\n * @return {Array}             Array of two elements containing the splitted string\n */\n\nexport default function relaxedSplit (str : String, offset : Number, until = '.') {\n\n  // String is empty or shorter than offset.\n  if (!str || str.length <= offset){\n    return [str, false];\n  }\n  // str1 is cut at offset.\n  const str1 = str.substr(0, offset);\n\n  // If last char is until, return str1.\n  if (str1.substr(str1.length - 1) === until){\n    return [str1, false];\n  }\n\n  // first part is original string truncated at until\n  const start = str1 + '' + str.replace(str1, '').split(until)[0];\n  // second part is original string - ( first part + unitil )\n  const cont = str.replace(start + '' + until, '');\n\n  // return (start + until) and cont\n  return [\n    start + until,\n    cont === start ? false : cont\n  ];\n}\n","import React from 'react';\nimport { Row, Col } from 'reactstrap';\nimport QuireMatrixView from './QuireMatrixView';\nimport PreviewText from './PreviewText';\n\n\n\nexport default function RecordCell(props) {\n\n  const val = props.val;\n  const label = props.label;\n  const isCoptic = props.coptic;\n  const isGreek = props.greek;\n  const fld = props.name;\n\n\n  if (!val || val === '') {\n    return null;\n  }\n\n  let className = [];\n  if(isCoptic){\n    className.push('coptic');\n  }\n  if(isGreek){\n    className.push('greek');\n  }\n\n  return (\n    <Row className={\"border-bottom mt-2 mb-2 pb-1\" + (val !== null ? '' : ' d-none') }>\n      <Col sm=\"4\" md=\"3\">\n        <label className=\"font-weight-bold\">{label}</label>\n      </Col>\n      <Col>\n        <div className={ className.join(' ') }>\n          {  ( label === 'Quire layout' ) ? (<QuireMatrixView string={val} />) : <PreviewText text={val} fld={fld} separator={isCoptic ? '\\u2027' : '.'} /> }\n        </div>\n      </Col>\n    </Row>\n  );\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nfunction showLink(zotero, short){\n  if (zotero){\n    return (<a href={'https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/' + zotero} target=\"_blank\" rel=\"noopener noreferrer\">{short}</a>)\n  } else {\n    return short;\n  }\n}\n\nexport default class PluginBiblio extends Component {\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (\n                <span key={di} className=\"mr-3\">\n                  { showLink(d.zotero.val, d.short.val) }\n                  { d.details.val ? (', ' + d.details.val) : ''}\n                  { d.images.val ? (` [${d.images.val}];`) : ';'}\n                </span>\n              )\n            })\n          }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\n\n\nexport default class PluginShelfmarks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n  getHtmlModalBody(d){\n    return (\n      <dl>\n        <dt>Country:        </dt><dd>{d.country.val}</dd>\n        <dt>Town:           </dt><dd>{d.town.val}</dd>\n        <dt>Institution:    </dt><dd>{d.institution.val}</dd>\n        <dt>Collection name:</dt><dd>{d.name.val}</dd>\n        <dt>CMCL full name: </dt><dd>{d.fullsegnat.val}</dd>\n        <dt>URN:            </dt><dd><code>paths.shelfmarks.{d.id.val}</code></dd>\n      </dl>\n    );\n  }\n\n  toggle(d) {\n    if (d.id){\n      this.setState({\n        title: d.fullname.val,\n        body: this.getHtmlModalBody(d)\n      });\n    } else {\n\n    }\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            <ul>\n            {\n              this.props.data.data.map( (d, di) =>{\n                return (\n                  <li key={di}>\n                    <Button style={{margin: '0 0 4px 0', padding: 0}} color=\"link\" onClick={ () => this.toggle(d) }>\n                      {d.fullname.val}\n                    </Button>\n                    { d.shelfmark.val ? ', ' + d.shelfmark.val : ''}\n                    { d.pp.val ? ', ' + d.pp.val : ''}\n                  </li>\n                )\n              })\n            }\n          </ul>\n          </CardBody>\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>{ this.state.title }</ModalHeader>\n          <ModalBody>{ this.state.body }</ModalBody>\n        </Modal>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass ToggleText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n    return (\n      <span>\n        <span style={{ display: this.state.display }} className=\"ml-3 bg-light text-muted p-2\">{ this.props.text }</span>\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? <FontAwesomeIcon icon=\"info\" /> : '<'}\n        </Button>\n      </span>\n    )\n  }\n}\n\nclass TopoCell extends Component{\n\n  render(){\n    const tot = this.props.data.length;\n    return (<div>\n      {this.props.data.map( (d, di) =>{\n        return <span className={'mr-2 pr-2' + (tot === di+1 ? '' : ' border-right border-warning')} key={di}>\n          <span className={ d.language.val ? d.language.val.toLowerCase() : '' } title={d.notes.val}>\n            { d.toponym.val }{'\\u0020'}\n          </span>\n          { d.transcription.val ? <span className=\"text-muted ml-2\">[{d.transcription.val}]</span> : ''}\n          { d.notes.val ? <ToggleText text={ d.notes.val } /> : ''}\n        </span>\n      })}\n    </div>);\n  }\n};\n\nexport default class PluginToponyms extends Component {\n\n  parseNames(rows){\n    let obj = {};\n\n    rows.forEach( (d, di) =>{\n      if (!obj[d.language.val]){\n        obj[d.language.val] = []\n      }\n      obj[d.language.val].push(d);\n    });\n\n    return Object.keys(obj).map((l, i) => {\n      return <Row className={\"border-bottom mt-2 mb-2 pb-1\" } key={i}>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{l}</label>\n        </Col>\n        <Col>\n          <div>\n            <TopoCell data={obj[l]} />\n          </div>\n        </Col>\n\t    </Row>\n    });\n  }\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            { this.parseNames(this.props.data.data) }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nimport Cfg from '../Services/Cfg/Cfg';\nimport RecordCell from './RecordCell';\nimport PluginBiblio from './PluginBiblio';\nimport PluginShelfmarks from './PluginShelfmarks';\nimport PluginToponyms from './PluginToponyms';\n\n\n\nclass Plugin extends Component {\n\n  render() {\n\n    if (this.props.data.data.length < 1) {\n      return null;\n    }\n\n    if(this.props.data.metadata.tb_id === 'paths__m_biblio'){\n      return <PluginBiblio data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_shelfmarks'){\n      return <PluginShelfmarks data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_toponyms'){\n      return <PluginToponyms data={ this.props.data } />\n    }\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (<CardBody key={di} className=\"border border-info mb-2\">{\n                /**\n                 * Fields listed in Cfg.hidden and sort fields are not shown\n                 */\n                  Object.keys(d).map( (f, fi) => {\n                    if (\n                      Cfg.hidden.indexOf(this.props.data.metadata.tb_stripped + '.' + f) > -1\n                      ||\n                      f === 'sort'\n                      ){\n                      return null;\n                    }\n                    \n                    if (d[f].label){\n                      return <RecordCell val={ d[f].val_label ? d[f].val_label : d[f].val } label={ d[f].label } key={fi} />\n                    } else {\n                      return null;\n                    }\n                  })\n                }<hr /></CardBody>)\n            } )\n          }\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default Plugin;\n","import React from 'react';\nimport { Row, Col } from 'reactstrap';\nimport QuireMatrixView from './QuireMatrixView';\nimport PreviewText from './PreviewText';\n\n/**\n * Receives complete data from (api) props\n * @param       {[type]} props [description]\n * @constructor\n */\nexport default function RecordCellDb(props){\n\n  const val = props.data.val_label ? props.data.val_label : props.data.val;\n  const label = props.data.label;\n  const fld = props.data.name;\n  const isCoptic = props.data.coptic;\n  const isGreek = props.data.greek;\n\n  if (!val || val === '') {\n    return null;\n  }\n\n  let className = [];\n  if(isCoptic){\n    className.push('coptic');\n  }\n  if(isGreek){\n    className.push('greek');\n  }\n\n  return (\n    <Row className={\"border-bottom mt-2 mb-2 pb-1\" + (val !== null ? '' : ' d-none') }>\n      <Col sm=\"4\" md=\"3\">\n        <label className=\"font-weight-bold\">{label}</label>\n      </Col>\n      <Col>\n        <div className={ className.join(' ') }>\n          {  ( label === 'Quire layout' ) ? (<QuireMatrixView string={val} />) : <PreviewText text={val} fld={ fld } separator={isCoptic ? '\\u2027' : '.'} /> }\n        </div>\n      </Col>\n    </Row>\n  );\n}\n","import React, { Component } from 'react';\n\nimport RecordCellDb from '../RecordCellDb';\n\nexport default class FieldSet extends Component {\n\n  render() {\n    const fields = this.props.fields;\n    const legend = this.props.legend;\n    let show = false;\n    fields.forEach( f => {\n      if (typeof f.val !== 'undefined' && f.val && f.val !== ''){\n        show = true;\n      }\n    });\n\n    if (!show){\n      return false;\n    }\n\n    return (\n        <fieldset className=\"p-3 border border-warning mt-3\">\n          { legend && <legend className=\"border border-warning shadow-sm text-muted px-3 py-1\" style={{ fontSize: '1.1rem', 'fontWeight': 'bold' }}>{ legend }</legend> }\n          {\n            fields.map((f,k) => {\n              return (<RecordCellDb key={k} data={ f } />)\n            })\n          }\n        </fieldset>\n\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport RecordCellDb from '../RecordCellDb';\nimport FieldSet from './FieldSet';\nimport Plugin from '../Plugin';\n\n\nexport default class ManuscriptBody extends Component {\n\n  render() {\n    const rec = this.props.rec;\n\n    return (\n      <div>\n        <FieldSet legend=\"Manuscript identifiers\" fields={[\n            rec.core.id,\n            rec.core.cmclid,\n            rec.core.tm,\n            rec.core.ldab,\n            rec.core.lcbm,\n            rec.core.dbmnt,\n            rec.core.alias,\n            rec.core.issinglefrag,\n            rec.core.reusedinbinding,\n            rec.core.stratigraphy,\n            rec.core.modernhistory,\n            rec.core.contents\n          ]} />\n\n        { rec.plugins['paths__m_shelfmarks'] && <Plugin data={rec.plugins['paths__m_shelfmarks']} /> }\n\n        <FieldSet legend=\"Dialects\" fields={[\n          rec.core.dialect,\n          rec.core.dialectnotes\n        ]} />\n\n        <FieldSet legend=\"Dating\" fields={[\n          rec.core.datingsource,\n          rec.core.chronofrom,\n          rec.core.chronoto,\n          rec.core.datingcriteria\n        ]} />\n\n        { rec.plugins['paths__m_msplaces'] && <Plugin data={rec.plugins['paths__m_msplaces']} /> }\n\n        <FieldSet legend=\"Book form\" fields={[\n          rec.core.bookform,\n          rec.core.writingsupport\n        ]} />\n\n        <FieldSet legend=\"General description\" fields={[\n          rec.core.leaftotextant,\n          rec.core.fragtot,\n          rec.core.fragdim,\n          rec.core.leaftotestimated,\n          rec.core.quiresextant,\n          rec.core.gennotes\n        ]} />\n\n        <FieldSet legend=\"Page description\" fields={[\n          rec.core.columns,\n          rec.core.colnotes,\n          rec.core.linespercolumn,\n          rec.core.charsperline,\n          rec.core.alignment,\n          rec.core.alignmentnotes\n        ]} />\n\n        <FieldSet legend=\"Dimensions (mm) and proportions\" fields={[\n          rec.core.leafw,\n          rec.core.leafh,\n          rec.core.framew,\n          rec.core.frameh,\n          rec.core.intercolumnium,\n          rec.core.marginup,\n          rec.core.marginlow,\n          rec.core.marginin,\n          rec.core.marginout,\n          rec.core.marginleft,\n          rec.core.marginright,\n          rec.core.heighttenlines,\n          rec.core.prophw,\n          rec.core.propwt,\n          rec.core.dimnotes\n        ]} />\n\n        { rec.plugins['paths__m_quires'] && <Plugin data={rec.plugins['paths__m_quires']} /> }\n\n        <FieldSet fields={[ rec.core.quirenotes ]} />\n\n        <FieldSet legend=\"Quire signature\" fields={[\n          rec.core.quiresig,\n          rec.core.quiretype,\n          rec.core.quireposition,\n          rec.core.quirenrnotes\n        ]} />\n\n        <FieldSet legend=\"Pagination\" fields={[\n          rec.core.pagination,\n          rec.core.pagtype,\n          rec.core.pagposition,\n          rec.core.pagnote\n        ]} />\n\n        <FieldSet legend=\"Foliation (ancient and modern)\" fields={[\n          rec.core.foliation,\n          rec.core.foltype,\n          rec.core.folposition,\n          rec.core.folnotes\n        ]} />\n\n        <RecordCellDb data={ rec.core.handstot } />\n\n        { rec.plugins['paths__m_hands'] && <Plugin data={rec.plugins['paths__m_hands']} /> }\n\n        <FieldSet legend=\"Diacritical signs\" fields={[\n          rec.core.lectionalsigns,\n          rec.core.structuralsigns,\n          rec.core.signsnotes\n        ]} />\n\n        <FieldSet legend=\"Abbreviations\" fields={[\n          rec.core.abbreviations,\n          rec.core.abbrnotes\n        ]} />\n\n        <FieldSet legend=\"Ruling and pricking\" fields={[\n          rec.core.ruling,\n          rec.core.rulingtype,\n          rec.core.rulingtool,\n          rec.core.pricking,\n          rec.core.rulingnotes\n        ]} />\n\n        <FieldSet legend=\"\" fields={[\n          rec.core.leaftabs,\n          rec.core.leaftabsnotes\n        ]} />\n\n        <FieldSet legend=\"Manufacture of the rolls\" fields={[\n          rec.core.kolleseis,\n          rec.core.kolleseseisdescr,\n          rec.core.tracesnotes,\n          rec.core.kollno,\n          rec.core.kolldim\n        ]} />\n\n        <FieldSet legend=\"Binding\" fields={[\n          rec.core.bindings,\n          rec.core.covers,\n          rec.core.coversnotes,\n          rec.core.sewings,\n          rec.core.sewingtype,\n          rec.core.holesno,\n          rec.core.holesarrangement,\n          rec.core.holesnotes\n        ]} />\n\n\n      <FieldSet legend=\"Coloured pigments\" fields={[\n          rec.core.pgmcol,\n          rec.core.pgmlocation,\n          rec.core.pgmnotes\n        ]} />\n\n      <FieldSet legend=\"Black inks\" fields={[\n          rec.core.blktype,\n          rec.core.blklocation,\n          rec.core.blknotes\n        ]} />\n\n        <FieldSet legend=\"Additional information\" fields={[\n          rec.core.marginalnotes,\n          rec.core.greekminuscule,\n          rec.core.greekminusculenotes,\n          rec.core.palimpsest,\n          rec.core.palimpsestnotes,\n          rec.core.decortype,\n          rec.core.decorsubj,\n          rec.core.decorationdescr,\n          rec.core.enlargedinitials,\n          rec.core.restancient,\n          rec.core.restmodern\n        ]} />\n\n      { rec.plugins['paths__m_biblio'] && <Plugin data={rec.plugins['paths__m_biblio']} /> }\n\n\n        <FieldSet legend=\"Metadata\" fields={[\n          rec.core.sourceinfo,\n          rec.core.editors,\n          rec.core.status\n        ]} />\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport Cfg from '../../Services/Cfg/Cfg';\nimport RecordCell from '../RecordCell';\nimport Plugin from '../Plugin';\nimport Loading from '../../Loading/Loading';\nimport ManuscriptsBody from './ManuscriptsBody';\n\n\nexport default class ViewOne extends Component {\n\n  renderTemplate(rec) {\n\n    switch (rec.metadata.tb_stripped) {\n      case 'manuscripts':\n        return (<ManuscriptsBody rec={ rec } /> )\n      default:\n        return(\n          <div>\n            {\n              Object.values(rec.core).map( (i, k) => {\n                if (Cfg.hidden.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1){\n                  return null;\n                }\n                return <RecordCell\n                    coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    label={ i.label }\n                    name={ i.name }\n                    val={ i.val_label ? i.val_label : i.val }\n                    key={k} />\n              })\n            }\n            {\n              Object.keys(rec.plugins).map( (t, k) => {\n                return  <Plugin key={k} data={rec.plugins[t]} />\n              })\n            }\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.props.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.props.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass RecordLinks extends Component {\n\n  makeHref(table, query){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      'search',\n      '/',\n      strippedTb,\n      '/',\n      'encoded',\n      '?q=' + window.btoa('SELECT * FROM ' + table + ' WHERE ' + query)\n    ];\n\n    return url.join('');\n  }\n\n  renderLinks(links){\n\n     return Object.entries(links).map(\n      ([tb, info], i) => {\n        if (info.tot < 1) {\n          return null;\n        }\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, info.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {info.tot + ' referenced item' + (info.tot > 1 ? 's': '') + ' in ' + info.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  renderBackLinks(backlinks){\n    if (typeof backlinks === 'undefined' || backlinks.length < 1){\n      return false;\n    }\n\n    return Object.entries(backlinks).map(\n      ([tb, arr], i) => {\n        if (arr.tot < 1){\n          return false;\n        }\n\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, arr.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {arr.tot + ' referenced item' + (arr.tot > 1 ? 's': '') + ' in ' + arr.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  render() {\n    if( (!this.props.links && !this.props.backlinks) || (this.props.links.length < 1 && this.props.backlinks.length < 1) ){\n      return null;\n    }\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            { this.renderLinks(this.props.links) }\n            { this.renderBackLinks(this.props.backlinks) }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default RecordLinks;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass UserLinks extends Component {\n\n  makeHref(table, id){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      strippedTb,\n      '/',\n      id\n    ];\n\n    return url.join('');\n  }\n\n  render() {\n    const links = this.props.links || [];\n\n    if (typeof links === 'undefined' || links.length < 1) {\n      return null;\n    }\n\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Manually entered links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            {\n              links.map(\n                (l, i) => {\n                  return <ListGroupItem key={i} tag={Link} to={ this.makeHref(l.tb_stripped, l.ref_id) }>\n                    <FontAwesomeIcon icon=\"external-link-square-alt\" />  { l.tb_label } #{ l.ref_label ? l.ref_label : l.ref_id }\n                  </ListGroupItem>\n                }\n              )\n            }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default UserLinks;\n","import React, { Component } from 'react';\n\nimport { CardBody } from 'reactstrap';\n\nexport default class Caption extends Component {\n  render(){\n    if (!this.props.text){\n      return null;\n    }\n    return (<CardBody className=\"text-secondary\" style={{ fontSize: '.9rem', fontStyle: 'italic'}}>{this.props.text}</CardBody>);\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardImg, Modal, ModalFooter, ModalBody } from 'reactstrap';\n\nimport Caption from './Caption';\n\n\nexport default class PreviewModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <div>\n        <Card className=\"mt-1\">\n          <CardImg top\n              width=\"100%\"\n              src={this.props.file}\n              onClick={this.toggle} />\n            <Caption text={this.props.description} />\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className} size=\"lg\">\n          <ModalBody>\n            <div>\n              <img style={ { width: \"100%\" } }\n                  src={this.props.file}\n                  alt={ this.props.description } />\n            </div>\n          </ModalBody>\n          <ModalFooter><Caption text={this.props.description} /></ModalFooter>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\n\nimport PreviewModal from './PreviewModal';\n\nexport default class MoreImages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: false,\n      buttonText: 'Show more images'\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      shown: !this.state.shown,\n      buttonText : this.state.buttonText === 'Show more images' ? 'Hide' : 'Show more'\n    });\n  }\n\n  render(){\n    if (!this.props.files || this.props.files.length < 1){\n      return null;\n    }\n    return (\n      <div>\n        <div style={{ display: this.state.shown ? 'block' : 'none' }}>\n        {\n          this.props.files.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        </div>\n        <div className=\"text-center mt-2\" >\n          <Button onClick={this.toggle} color=\"info\">{ this.state.buttonText}</Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport MoreImages from './MoreImages';\nimport PreviewModal from './PreviewModal';\n\n\nexport default class Files extends Component {\n\n  render() {\n    let files = this.props.files || [];\n\n    files = files.map( f => {\n      if (['jpg', 'png', 'gif', 'tif', 'tiff', 'jpeg'].includes(f.ext.toLowerCase())){\n        return f;\n      } else {\n        return false;\n      }\n    }).filter(e => { return e; });\n    const firstFiles = files.slice(0,3);\n    const otherFiles = files.slice(3);\n\n    if(firstFiles.length < 1){\n      return null;\n    }\n\n    return (\n\n      <div className=\"mt-3\">\n        <h5>Attached images</h5>\n        {\n          firstFiles.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        <MoreImages files={otherFiles} baseUrl={this.props.baseUrl} />\n      </div>\n\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, Marker } from 'react-leaflet';\n\nclass MiniMap extends Component {\n\n  render() {\n    if (this.props.geom.length < 1) {\n      return null;\n    }\n    const position = JSON.parse(this.props.geom[0].geojson).coordinates.reverse();\n\n    return (\n      <div style={{ height: '300px', width: '100%' }}>\n        <Map className=\"sidebar-map maxHeight\" center={ position } zoom={10} zoomControl={true}>\n          <TileLayer url=\"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png\" />\n\n          { this.props.geom.map( (e, i) => {\n            const coord = JSON.parse(e.geojson).coordinates.reverse();\n            return (<Marker position={ coord } key={ i } />)\n          } ) }\n\n        </Map>\n      </div>\n\n    );\n  }\n}\n\nexport default MiniMap;\n","import React from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default function CoptOT (props) {\n\n  if ( props.tb !== 'manuscripts' || !props.data.val || props.data.val.length < 1 ) {\n    return null;\n  }\n  return <ListGroupItem>\n    <a href={\"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=\" + encodeURIComponent(props.data.val)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <FontAwesomeIcon icon=\"external-link-alt\" /> The Digital Edition of the Coptic Old Testament\n    </a>\n  </ListGroupItem>\n}\n","import React from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default function TM(props) {\n\n  if ( props.tb !== 'manuscripts' || !props.data.val || props.data.val.length < 1 ) {\n    return null;\n  }\n\n  return (\n    <div>\n      { props.data.val.split(',').map( (v, k) => {\n        return <ListGroupItem key={k}>\n          <a href={\"https://www.trismegistos.org/text/\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon=\"external-link-alt\" /> TM {v}\n          </a>\n        </ListGroupItem>\n      }) }\n    </div>\n  );\n}\n","import React from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default function TmGeo (props) {\n\n  if ( props.tb !== 'places' || !props.data.val || props.data.val.length < 1 ) {\n    return null;\n  }\n  return (\n    <div>\n      { props.data.val.split(',').map( (v, k) => {\n        return <ListGroupItem key={ k }>\n          <a href={\"https://www.trismegistos.org/place/\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon=\"external-link-alt\" /> TM Geo {v}\n          </a>\n        </ListGroupItem>\n      }) }\n    </div>\n  )\n}\n","import React from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default function Ldab(props) {\n\n  if ( props.tb !== 'manuscripts' || !props.data.val || props.data.val.length < 1 ) {\n    return null;\n  }\n  return (\n    <div>\n      { props.data.val.split(',').map( (v, k) => {\n        return <ListGroupItem key={k}>\n          <a href={\"https://www.trismegistos.org/ldab/text.php?quick=\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon=\"external-link-alt\" /> LDAB {v}\n          </a>\n        </ListGroupItem>\n      }) }\n    </div>\n  );\n}\n","import React from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default function Pleiades(props) {\n\n  if ( props.tb !== 'places' || !props.data.val || props.data.val.length < 1 ) {\n    return null;\n  }\n  return (\n    <div>\n      { props.data.val.split(',').map( (v, k) => {\n        return <ListGroupItem key={k}>\n          <a href={\"https://pleiades.stoa.org/places/\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon=\"external-link-alt\" /> Pleiades {v}\n          </a>\n        </ListGroupItem>\n      }) }\n    </div>\n  );\n}\n","import React from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default function CopticColophons (props) {\n\n  if ( props.tb !== 'colophons' || !props.data.val || props.data.val.length < 1 ) {\n    return null;\n  }\n  return <ListGroupItem>\n    <a href={`https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.${props.data.val}.xml` } target=\"_blank\" rel=\"noopener noreferrer\">\n      <FontAwesomeIcon icon=\"external-link-alt\" /> View marked-up text on GitHub\n    </a>\n  </ListGroupItem>\n}\n","import React from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default function Dbmnt(props) {\n\n  if ( props.tb !== 'manuscripts' || !props.data.val || props.data.val.length < 1 ) {\n    return null;\n  }\n\n  return (\n    <div>\n      { props.data.val.split(',').map( (v, k) => {\n        return <ListGroupItem key={k}>\n          <a href={`http://www.dbmnt.uw.edu.pl/${v.trim()}` } target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon=\"external-link-alt\" /> DBMNT {v}\n          </a>\n        </ListGroupItem>\n      }) }\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport CoptOT from './ExternalLinks/CoptOT';\nimport TM from './ExternalLinks/TM';\nimport TmGeo from './ExternalLinks/TmGeo';\nimport Ldab from './ExternalLinks/Ldab';\nimport Pleiades from './ExternalLinks/Pleiades';\nimport CopticColophons from './ExternalLinks/CopticColophons';\nimport Dbmnt from './ExternalLinks/Dbmnt';\n\n\nexport default class ExternalLinks extends Component {\n\n  render() {\n    if ( !this.props.rec || this.props.rec.length < 1 ) {\n      return null;\n    }\n    return <div className=\"mt-3\">\n\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon={['fab', 'hubspot']} /> External links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            <CoptOT   data={this.props.rec.lcbm}  tb={this.props.tb}/>\n            <TM       data={this.props.rec.tm}    tb={this.props.tb} />\n            <Ldab     data={this.props.rec.ldab}  tb={this.props.tb} />\n            <Dbmnt    data={this.props.rec.dbmnt} tb={this.props.tb} />\n\n            <TmGeo data={this.props.rec.tmgeo}    tb={this.props.tb} />\n            <Pleiades data={this.props.rec.pleiades} tb={this.props.tb} />\n            <CopticColophons data={this.props.rec.id} tb={this.props.tb} />\n\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport Database from '../Services/Database/Database';\nimport SubHead from '../SubHead/SubHead';\nimport Body from './Bodies/Body';\nimport RecordLinks from './RecordLinks';\nimport UserLinks from './UserLinks';\nimport Files from '../ViewFiles/Files';\nimport MiniMap from './MiniMap';\nimport Loading from '../Loading/Loading';\nimport ExternalLinks from './ExternalLinks';\n\nexport default class ViewOne extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rec: false,\n      copied: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        rec: null\n      });\n\n      Database.getOne(nextProps.match.params.table, nextProps.match.params.id, (d) =>{\n        this.setState({\n          rec: d\n        });\n      });\n    }\n  }\n\n  componentDidMount(){\n    Database.getOne(this.props.match.params.table, this.props.match.params.id, (d) =>{\n      this.setState({\n        rec: d\n      });\n    });\n  }\n\n  renderTemplate(rec) {\n\n    if (rec.type === 'error'){\n      return (<pre className=\"text-danger p-5\">{ rec.text }</pre>)\n    }\n\n    switch (rec.metadata.tb_stripped) {\n      // case 'titles':\n      //   return (<ViewOneTitle record={ rec } />);\n      default:\n        // No record found!\n        if (rec.core.length < 1){\n          return (\n            <div className=\"container\">\n              <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n                <Card className=\"mt-2\">\n                  <CardHeader>\n                    <h3 className=\"text-danger\">Record paths.{ rec.metadata.tb_stripped }.{ this.props.match.params.id }  not found!</h3>\n                  </CardHeader>\n                </Card>\n            </div>\n          )\n        }\n        return(\n          <div className=\"container\">\n\n            <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n\n            <Row className=\"mt-2\">\n              <Col sm=\"8\">\n                <Card>\n                  <CardHeader>\n                    <h3>\n                      paths.{ rec.metadata.tb_stripped }.{ rec.core.id.val }\n                    </h3>\n                      <div className=\"text-secondary d-flex justify-content-between\">\n                        <div>\n                          <FontAwesomeIcon icon=\"link\" /> http://paths.uniroma1.it/atlas/{ rec.metadata.tb_stripped }/{ rec.core.id.val }\n                        </div>\n                        <div>\n                          <CopyToClipboard\n                            text={ 'http://paths.uniroma1.it/atlas/' + rec.metadata.tb_stripped + '/' + rec.core.id.val }\n                            onCopy={() => { this.setState({copied: true}); window.setTimeout(()=>{ this.setState({copied: false}); }, 2000); } }\n                            >\n                            <Button size=\"sm\" color={ this.state.copied ? 'primary': 'secondary'}>\n                              <FontAwesomeIcon icon=\"clone\" /> <span className=\"d-none d-sm-inline\">\n                                {this.state.copied ? 'Copied!' : 'Copy to clipboard'}\n                              </span>\n                            </Button>\n                          </CopyToClipboard>\n                        </div>\n                      </div>\n                  </CardHeader>\n                  <CardBody>\n                    <Body rec={ rec } />\n                  </CardBody>\n                </Card>\n              </Col>\n              <Col sm=\"4\">\n                <MiniMap geom={ rec.geodata } />\n                <Files files={ rec.files } baseUrl={ Database.getBaseUrl() } />\n                <RecordLinks links={ rec.links } backlinks={ rec.backlinks } />\n                <UserLinks links={ rec.manualLinks } />\n                <ExternalLinks rec={ rec.core } tb={ rec.metadata.tb_stripped } />\n              </Col>\n            </Row>\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.state.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.state.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Bar} from 'react-chartjs-2';\n\nimport Loading from '../Loading/Loading';\n\n\nexport default class ChartView extends Component {\n\n  parseData(data){\n    let d = {\n      labels: [],\n      datasets: [{\n        label: 'My First dataset',\n        backgroundColor: 'rgba(195,31,42,0.8)',\n        borderColor: 'rgba(195,31,42,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(195,31,42,1)',\n        hoverBorderColor: 'rgba(195,31,42,0.8)',\n        data: []\n      }]\n    }\n\n    data.forEach(row => {\n      d.labels.push(row.series_name)\n      Object.keys(row).forEach(k =>{\n        if (k !== 'series_name'){\n          d.datasets[0].data.push(row[k]);\n          d.datasets[0].label = k;\n        }\n      });\n    });\n\n    return d;\n  }\n\n  render(){\n    if (this.props.loading){\n      return <Loading>Loading chart...</Loading>;\n    }\n    if (!this.props.data){\n      return null;\n    }\n\n    const data = this.parseData(this.props.data);\n    return (\n      <div className=\"my-5\">\n        <h2>{ this.props.name }</h2>\n          <Bar data={ data }  width={100}\n          height={350}\n          options={{\n            maintainAspectRatio: false\n          }}/>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, Card, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport Database from '../Services/Database/Database';\nimport ChartView from './ChartView';\nimport Loading from '../Loading/Loading';\n\nexport default class ChartList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: false,\n      data: false,\n      loading: false\n    };\n  }\n\n  loadChart(id){\n    this.setState({ loading: true });\n    Database.getChart(id, d => {\n      this.setState({ name: d.name });\n      this.setState({ data: d.data });\n      this.setState({ loading: false });\n    });\n\n  }\n\n  render(){\n    if (!this.props.charts){\n      return <Loading>Loading chart list...</Loading>;\n    }\n    if (this.props.charts.type === 'error'){\n      return (\n        <div className=\"text-danger mt-5 px-5\">Sorry! There was an error getting list of chart from the database...</div>\n      );\n    }\n    return (\n      <div className=\"mt-5\">\n        <ChartView name={this.state.name} data={this.state.data} loading={this.state.loading}/>\n        <Card>\n          <CardBody>\n            <ListGroup>\n              { this.props.charts.map( (c, i) => {\n                return (\n                  <ListGroupItem\n                    key={i}\n                    tag={Button}\n                    onClick={ () => this.loadChart(c.id) } className=\"mb-3\"\n\n                    color=\"secondary\">\n                    { c.name }\n                  </ListGroupItem>\n                );\n              } ) }\n            </ListGroup>\n          </CardBody>\n        </Card>\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\nimport ChartList from './ChartList';\n\n\nexport default class Charts extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartList: false\n    };\n  }\n\n  componentDidMount(prevProps, prevState){\n    Database.getChart('all', d => {\n      this.setState({ chartList: d });\n    });\n  }\n\n\n  render(){\n    return (\n      <div className=\"container mt-5\">\n        <h1><FontAwesomeIcon icon=\"chart-bar\" /> Available charts</h1>\n        <ChartList charts={this.state.chartList} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport './Cite.css';\n\n\nimport cite from './Cite.md';\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\n\n\nexport default function Cite(){\n\n  return (\n    <div>\n      <div className=\"jumbotron\">\n        <div className=\"container text-center\">\n          <h1>How to cite the PAThs project as a whole and the single database records</h1>\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"my-5 px-5 cite\">\n          <ReactMarkdownPath path={cite} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\nimport api from './Api.md';\n\nexport default function Api(){\n\n  return (\n    <div>\n      <div className=\"jumbotron\">\n        <div className=\"container text-center\">\n          <h1>PAThs API & Data export</h1>\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"my-5 px-5\">\n          <ReactMarkdownPath path={api} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faIdBadge, faLink, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\n\nimport MainTemplate from './components/mainLayout/MainTemplate';\nimport Home from './components/Home/Home';\nimport BrowserNotSupported from './components/Home/BrowserNotSupported';\nimport PathsMap from './components/PathsMap/PathsMap';\n\nimport SearchSaved from './components/Search/SearchSaved';\nimport SearchSimple from './components/Search/SearchSimple';\nimport SearchAdv from './components/Search/SearchAdv';\nimport SearchEncoded from './components/Search/SearchEncoded';\nimport SearchAll from './components/Search/SearchAll';\n\nimport Intro from './components/Intro/Intro';\n\nimport ViewOne from './components/Record/ViewOne';\nimport Charts from './components/Charts/Charts';\nimport Cite from './components/Cite/Cite';\nimport Api from './components/Api/Api';\nimport ReactGA from 'react-ga';\nimport { detect } from 'detect-browser';\n\nconst browser = detect();\n\n\nif(window.location.href.match(/atlas\\.paths-erc\\.eu/g)){\n  ReactGA.initialize('UA-10461068-45');\n  ReactGA.pageview(window.location.pathname + window.location.search);\n}\n\nconst compatibility = {\n  'ie': 10000,\n  'opera-mini': 10000,\n  'bb10': 10000,\n  'edge': 14,\n  'firefox': 39,\n  'chrome': 42, // 42\n  'safari': 11,\n  'opera': 29,\n  'android': 67,\n}\n\nlet notSupported = false;\nif (browser){\n  const bName = browser.name;\n  const bVersion = browser.version.split('.')[0];\n\n  if ( Object.keys(compatibility).indexOf(bName) > -1 && bVersion < compatibility[bName] ) {\n    notSupported = true;\n  }\n}\n\nlibrary.add(fas, fab, faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faGithub, faIdBadge, faLink, faMapMarkerAlt);\n\n\nclass App extends Component {\n  render() {\n    if (notSupported){\n      return <BrowserNotSupported browser={browser} compatibility={compatibility} />\n    }\n\n    return (\n      <BrowserRouter basename=\"/\">\n        <Switch>\n          <Route path='/map/:action?/:data?' component={PathsMap}/>\n          <MainTemplate>\n            <Route exact path='/' component={ Home } />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={Intro} />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)/:id' component={ViewOne} />\n\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/saved' component={SearchSaved} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/all' component={SearchAll} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/adv' component={SearchAdv} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/encoded' component={SearchEncoded} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={SearchSimple} />\n\n            <Route exact path='/charts/:id?' component={Charts} />\n            <Route exact path='/cite' component={Cite} />\n            <Route exact path='/api' component={Api} />\n\n          </MainTemplate>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\nunregister();\n","module.exports = __webpack_public_path__ + \"static/media/paths-logo.d0a2b412.png\";"],"sourceRoot":""}