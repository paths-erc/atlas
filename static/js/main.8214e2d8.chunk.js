(this["webpackJsonppaths-atlas"]=this["webpackJsonppaths-atlas"]||[]).push([[0],{197:function(e){e.exports=JSON.parse('{"name":"paths-atlas","version":"1.24.8","description":"The Archaeological Atlas of Coptic Literature by PAThs, an ERC Advanced funded project","bugs":"https://github.com/paths-erc/atlas/issues","email":"julian.bogdani@uniroma1.it","license":"Creative Commons Attribution 4.0 International License.","author":"Julian Bogdani <julian.bogdani@uniroma1.it> (http://www.lettere.uniroma1.it/users/julian-bogdani)","private":true,"homepage":"https://atlas.paths-erc.eu","dependencies":{"@fortawesome/fontawesome-free":"^5.15.1","@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/free-brands-svg-icons":"^5.15.1","@fortawesome/free-solid-svg-icons":"^5.15.1","@fortawesome/react-fontawesome":"^0.1.11","axios":"^0.21.1","chart.js":"^2.9.3","detect-browser":"^5.2.0","gh-pages":"^3.1.0","leaflet":"^1.7.1","object-hash":"^2.1.1","prop-types":"^15.7.2","qs":"^6.9.4","quirematrix":"^1.2.0","react":"^17.0.1","react-bootstrap-typeahead":"^5.1.2","react-chartjs-2":"^2.11.1","react-copy-to-clipboard":"^5.0.2","react-dom":"^17.0.1","react-fontawesome":"^1.7.1","react-ga":"^3.3.0","react-leaflet":"^2.7.0","react-leaflet-fullscreen":"^1.0.1","react-leaflet-google-v2":"^5.1.3","react-leaflet-sidebarv2":"^0.6.0","react-markdown":"^5.0.3","react-nl2br":"^1.0.1","react-router-dom":"^5.2.0","react-scripts":"^4.0.1","react-scroll-up":"^1.3.5","react-select":"^3.1.0","reactstrap":"^8.8.1"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test --env=jsdom","eject":"react-scripts eject"},"browserslist":[">0.2%","not dead","not ie <= 11","not op_mini all"]}')},231:function(e,t,s){},378:function(e,t,s){},406:function(e,t,s){},410:function(e,t,s){},507:function(e,t,s){},508:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s(1),r=s.n(i),c=s(24),o=s.n(c),n=s(18),l=s(20),p=s(53),d=s(35),h=s(85),b=s(196),m=s.n(b),j=s(14),u=s(22),g=s(510),x=s(511),_=s(512),O=s(513),f=s(514),y=s(515),v=s(516);function N(e){const t=Object(i.useState)(!1),s=Object(u.a)(t,2),r=s[0],c=s[1];return Object(a.jsx)("div",{children:Object(a.jsxs)(g.a,{color:"dark",dark:!0,expand:"md",className:"fixed-top",children:[Object(a.jsx)(x.a,{to:"/",tag:n.b,children:"PAThs"}),Object(a.jsx)(_.a,{onClick:()=>{c(!r)}}),Object(a.jsxs)(O.a,{isOpen:r,navbar:!0,children:[Object(a.jsxs)(f.a,{navbar:!0,children:[Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{style:{backgroundColor:"#cc545a",color:"#fff"},to:"/map/saved/all_ms_places",tag:n.c,children:[Object(a.jsx)(j.a,{icon:"map"})," Atlas"]})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/places",tag:n.c,children:"Places"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/manuscripts",tag:n.c,children:"Manuscripts"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/works",tag:n.c,children:"Works"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/authors",tag:n.c,children:"Authors"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/titles",tag:n.c,children:"Titles"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/colophons",tag:n.c,children:"Colophons"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/persons",tag:n.c,children:"Persons"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/collections",tag:n.c,children:"Collections"})})]}),Object(a.jsxs)(f.a,{className:"ml-auto",navbar:!0,children:[Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{href:"http://paths.uniroma1.it",children:"Website"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/cite",tag:n.c,children:"How to cite PAThs"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/api",tag:n.c,children:"API"})})]})]})]})})}var w=s(517),k=s(518),C=s(197),B=s.p+"static/media/erc.6935dc7b.jpg",S=s.p+"static/media/sapienza.acddf492.jpg";function A(){return Object(a.jsx)("footer",{className:"mt-5 bg-dark text-white p-3",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("p",{children:["Tracking Papyrus and Parchment Paths",Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"lead",style:{color:"#ffab00"},children:"An Archaeological Atlas of Coptic Literature"}),Object(a.jsx)("br",{}),Object(a.jsxs)("small",{children:["Literary Texts in their Geographical Context:",Object(a.jsx)("br",{}),"Production, Copying, Usage, Dissemination and Preservation"]})]})}),Object(a.jsxs)("div",{className:"col text-right",children:[Object(a.jsxs)("p",{children:["An ",Object(a.jsx)("a",{href:"https://erc.europa.eu/",target:"_blank",rel:"noopener noreferrer",title:"European Research Council",children:"ERC"})," funded project hosted at the ",Object(a.jsx)("a",{href:"https://www.uniroma1.it",target:"_blank",rel:"noopener noreferrer",title:"Sapienza University of Rome",children:"Sapienza University of Rome"})]}),Object(a.jsxs)("p",{children:["Principal Investigator ",Object(a.jsx)("a",{href:"http://www.lettere.uniroma1.it/users/paola-buzi",title:"Paola Buzi",target:"_blank",rel:"noopener noreferrer",children:"Paola Buzi"})," [",Object(a.jsx)("a",{href:"mailto:paola.buzi@uniroma1.it",title:"Email to Paola Buzi",children:"paola.buzi(at)uniroma1.it"}),"]"]}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"http://paths.uniroma1.it/",target:"_blank",rel:"noopener noreferrer",title:"PAThs\u2019 web site",children:"paths.uniroma1.it"})})]})]}),Object(a.jsxs)(w.a,{className:"my-3",children:[Object(a.jsx)(k.a,{xs:{size:6},md:{size:3,offset:3},children:Object(a.jsx)("img",{src:S,alt:"Sapienza Universit\xe0 di Roma",className:"img-fluid"})}),Object(a.jsx)(k.a,{xs:{size:6},md:{size:3},children:Object(a.jsx)("img",{src:B,alt:"European Research Council",className:"img-fluid"})})]}),Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsxs)("p",{className:"",children:["Copyright \xa9 PAThs team, Sapienza Universit\xe0 di Roma.",Object(a.jsx)("br",{}),Object(a.jsx)("small",{children:Object(a.jsxs)("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:["Use, sharing and remixing permitted under terms of the",Object(a.jsx)("br",{}),"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License",Object(a.jsx)("br",{}),Object(a.jsx)("img",{alt:"Creative Commons License",style:{borderWidth:0},src:"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"})]})})]}),Object(a.jsxs)("p",{children:["Version ",C.version,Object(a.jsx)("br",{}),Object(a.jsx)("a",{href:"https://github.com/paths-erc/atlas/commits/master",target:"_blank",rel:"noopener noreferrer",children:"Changelog"})]})]})]})})}s(231);function G(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(N,{location:e.location}),Object(a.jsx)("main",{role:"main",className:"maxHeight",children:e.children}),Object(a.jsx)(A,{}),Object(a.jsx)(m.a,{showUnder:160,children:Object(a.jsx)(j.a,{icon:"arrow-circle-up",size:"3x"})})]})}var J=s.p+"static/media/paths-logo.98acd17b.png",P=s(119),Q=s.n(P),X=s(198),q=s(199),M=s.n(q),I=s.p+"static/media/Ripple-1.7s-200px.ec9bf62a.svg";function T(e){const t={width:e.width?e.width:"100px"};return Object(a.jsxs)("span",{children:[Object(a.jsx)("img",{src:I,style:t,alt:"Loading..."}),""!==e.children?e.children:Object(a.jsx)("span",{children:"Loading..."})]})}function D(e){const t=Object(i.useState)(),s=Object(u.a)(t,2),r=s[0],c=s[1];return Object(i.useEffect)((()=>{function t(){return(t=Object(X.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((e=>e.text())).then((e=>{c(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){t.apply(this,arguments)}(e.path)}),[e.path]),r?Object(a.jsx)(M.a,{source:r,escapeHtml:!1}):Object(a.jsx)(T,{})}var L=s.p+"static/media/IntroMd.ed4eaa26.md",R=s.p+"static/media/LogoMd.0bd1fd06.md",E=s.p+"static/media/MissionStatementMd.4db2c7d3.md",U=s.p+"static/media/lod.0d10f3ba.md",F=s.p+"static/media/license.19b9a123.md";function z(){const e=[{id:"intro",title:"Introduction",path:L},{id:"logo",title:"Logo",path:R},{id:"missionstatement",title:"Mission Statement",path:E},{id:"lod",title:"Linked Open Data",path:U},{id:"license",title:"Copyright and license",path:F}];return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"jumbotron",children:Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsx)("img",{className:"img-fluid shadow-lg",src:J,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"})})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"my-5 px-5",children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow",children:[Object(a.jsx)("h4",{children:"Table of contents"}),Object(a.jsx)("ul",{className:"p-0 m-0",children:e.map(((e,t)=>Object(a.jsx)("li",{style:{listStyle:"none"},children:Object(a.jsx)("a",{href:"#"+e.id,children:e.title})},t)))})]}),e.map(((e,t)=>Object(a.jsxs)("div",{className:"text-justify",children:[Object(a.jsx)("h1",{id:e.id,className:"mt-5",children:e.title}),Object(a.jsx)(D,{path:e.path})]},t)))]})})})]})}function H(e){const t=e.compatibility,s=e.browser;return Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsxs)("div",{className:"my-5 py-5",children:[Object(a.jsx)("h1",{children:"Sorry, it seems that your browser is not supported!"}),Object(a.jsxs)("p",{children:["You are running ",Object(a.jsx)("code",{children:s.name}),", version ",Object(a.jsx)("code",{children:s.version})," on ",Object(a.jsx)("code",{children:s.os}),"."]}),Object(a.jsx)("p",{children:"Please upgrade your browser or use a modern one to work with PAThs Atlas."}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Compatibility list"}),Object(a.jsx)("pre",{children:Object.keys(t).map(((e,s)=>Object(a.jsx)("div",{children:1e4!==t[e]?e+" >= "+t[e]:""},s)))})]}),Object(a.jsx)("div",{className:"border-top pt-5 mt-5",children:Object(a.jsx)("img",{className:"img-fluid shadow-lg",src:J,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"})})]})})}var W=s(159),K=s(524),V=s(542),Z=s(525),Y=s(19),$=s.n(Y),ee=s(69),te=s(519);class se extends i.Component{render(){return this.props.places&&this.props.places.features?Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsxs)("h5",{children:["Found ",this.props.places.features.length," places"]}),Object(a.jsx)("ol",{children:this.props.places.features.map(((e,t)=>Object(a.jsxs)("li",{className:"border-bottom border-info mb-3 pb-1",children:[Object(a.jsx)("strong",{children:e.properties.name}),Object(a.jsx)("br",{}),Object(a.jsx)("small",{children:Object(a.jsx)("span",{className:"coptic",children:e.properties.copticname})}),["greekname","egyptianname"].map(((t,s)=>e[t]?Object(a.jsx)("div",{children:Object(a.jsx)("small",{children:e.properties[t]})},s):null)),e.properties["count(mp.id_link)"]?Object(a.jsx)("div",{className:"text-right",children:Object(a.jsxs)(te.a,{color:"secondary",children:[e.properties["count(mp.id_link)"]," manuscripts related"]})}):null,Object(a.jsx)("div",{children:Object(a.jsxs)("small",{children:[Object(a.jsx)(j.a,{icon:"id-badge"})," ",Object(a.jsxs)(n.b,{to:"/places/"+e.properties.id,children:["paths.places.",e.properties.id]})]})})]},t)))})]}):null}}function ae(e){return e.urlFilter?Object(a.jsx)("div",{children:Object(a.jsxs)(n.b,{to:"/map",className:"btn btn-warning btn-block mt-1 mb-3",children:[Object(a.jsx)(j.a,{icon:"filter"})," Filter active. Click to disable"]})}):null}class ie extends i.Component{render(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("h5",{children:"Map legend"}),Object(a.jsxs)("ul",{style:{listStyle:"none",margin:0,padding:0},children:[Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#f64747"}}),"Production places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#d47500"}}),"Storage places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#aa8f00"}}),"Discovery places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#b381b3"}}),"Discovery and production places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#009fd4"}}),"Storage and production places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#00aa55"}}),"Discovery and storage places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#939393"}}),"Discovery, storage and production places of manuscripts"]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Available basemaps"}),Object(a.jsxs)("ul",{style:{listStyle:"none",margin:0,padding:0},children:[Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"http://pelagios.org/maps/greco-roman/",target:"_blank",rel:"noopener noreferrer",children:"Imperium, Pelagios"})}),Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"https://dh.gu.se/dare/",target:"_blank",rel:"noopener noreferrer",children:"Imperium, Digital Atlas of Ancient World (DARE)"})}),Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"http://awmc.unc.edu/wordpress/",target:"_blank",rel:"noopener noreferrer",children:"Ancient World Mapping Center"})}),Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"https://www.openstreetmap.org",target:"_blank",rel:"noopener noreferrer",children:"Open Street Map"})})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Other vector data"}),Object(a.jsxs)("p",{children:["Other vector themes are being made available by PAThs. These data are produced by other parallel projects and reworked by PAThs or newly created by sub-projects. Data, metadata and credits are freely published at ",Object(a.jsx)("a",{href:"https://docs.paths-erc.eu/gis/vectors",target:"_blank",rel:"noopener noreferrer",children:"https://docs.paths-erc.eu/gis/vectors"})]})]})}}var re={places:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:"places?verb=search&type=encoded",data:{join:" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` ",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `mp`.`type` = 'discovery' ")}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:"places?verb=search&type=encoded",data:{join:" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` ",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `mp`.`type` = 'storage' ")}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:"places?verb=search&type=encoded",data:{join:" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` ",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `mp`.`type` = 'production' ")}},episcopal_sees:{id:"episcopal_sees",title:"Episcopal sees",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`episcopalsee`=1")}},ms_in_graves:{id:"ms_in_graves",title:"Places where manuscrips used in funerary contexts have been found",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`id` IN (24, 27, 28, 74, 83, 178, 274)")}},cemeteries:{id:"cemeteries",title:"Catacombs, cemeteries tombs or necropoleis",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'catacomb, cemetery, necropolis' OR `typology` = 'tomb'")}},hermitages:{id:"hermitages",title:"Hermitage units (mainly referred to the area of Western Thebes)",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'hermitage unit(s)'")}},mines:{id:"mines",title:"Mines or quarries",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'mine, quarry'")}},monasteries:{id:"monasteries",title:"Monasteries",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'monastery'")}},settlements:{id:"settlements",title:"Settlement",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'settlement'")}}},titles:{final:{id:"final",title:"Final titles",url:"titles?verb=search&type=encoded",data:{q_encoded:btoa(" `type` = 'final'")}},section_headings:{id:"section_headings",title:"Section headings",url:"titles?verb=search&type=encoded",data:{q_encoded:btoa(" `type` = 'section heading'")}}},authors:{bishops:{id:"bishops",title:"Authors-(arch)bishops",url:"authors?verb=search&type=encoded",data:{q_encoded:btoa(" `title` LIKE '%bishop' ")}}},manuscripts:{palimpsest_ms:{id:"palimpsest_ms",title:"Palimpsests",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`palimpsest` = 1")}},wandering_ms:{id:"wandering_ms",title:"\u201cWandering\u201d manuscripts (for instance manufactured in a place but stored in another palace, etc.)",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`id` IN ( SELECT `mp`.`id_link` FROM `paths__m_msplaces` as `mp` GROUP BY `mp`.`id_link` HAVING COUNT(DISTINCT `place`) > 1 )")}},ms_has_bindings:{id:"ms_has_bindings",title:"Manuscripts with ancient bookbindings",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bindings`=1")}},detached_bindings:{id:"detached_bindings",title:"Bookbindings detached from original manuscripts",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`isbookbinding`=1")}},horizontal_rolls:{id:"horizontal_rolls",title:"Horizontal rolls",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform` = 'horizontal roll'")}},vertical_rolls:{id:"vertical_rolls",title:"Vertical rolls",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform` = 'vertical roll'")}},minor_dialects:{id:"minor_dialects",title:"\u201cMinor\u201d dialects",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` NOT LIKE '%F;%' AND `dialect` NOT LIKE '%S;%' AND `dialect` NOT LIKE '%B;%' AND `dialect` NOT LIKE '%F' AND `dialect` NOT LIKE '%S' AND `dialect` NOT LIKE '%B'")}},miniature_codices:{id:"miniature_codices",title:"Miniature codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`leafw`<101 AND `leafw`>0 AND `bookform` = 'codex'")}},square_codices:{id:"square_codices",title:"Square format codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform`='codex' AND `prophw`>.84 AND `prophw`<1.16")}},oblong_codices:{id:"oblong_codices",title:"Oblong format codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform`='codex' AND `prophw`>1.84")}},early_bohairic:{id:"early_bohairic",title:"Early Bohairic manuscripts (up to 7th cent.)",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` LIKE '%B%' AND `chronoto`<'701'")}},fayyumic:{id:"fayyumic",title:"Fayyumic dialect manuscripts",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` LIKE '%F%' ")}},ms_third_c:{id:"ms_third_c",title:"Manuscripts up to the 3rd Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` < 301")}},ms_forth_c:{id:"ms_forth_c",title:"Manuscripts of the 4th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 299 AND `chronofrom` < 400")}},ms_fifth_c:{id:"ms_fifth_c",title:"Manuscripts of the 5th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 399 AND `chronofrom` < 500")}},ms_sixth_c:{id:"ms_sixth_c",title:"Manuscripts of the 6th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 499 AND `chronofrom` < 600")}},ms_seventh_c:{id:"ms_seventh_c",title:"Manuscripts of the 7th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 599 AND `chronofrom` < 700")}}},works:{translations_biblical_sahidic:{id:"translations_biblical_sahidic",title:"Translations of biblical works into Sahidic - first phase (3rd-4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into Sahidic - first phase (3rd-4th cent.)'")}},translations_biblical_bohairic:{id:"translations_biblical_bohairic",title:"Translations of biblical works into Bohairic - first phase (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into Bohairic - first phase (4th cent.)")}},early_translations_other:{id:"early_translations_other",title:"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)'")}},translations_apocryphal:{id:"translations_apocryphal",title:"Translations of apocryphal works \u2013 first phase (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent(" `litperiod` = 'Translations of apocryphal works \u2013 first phase (4th cent.)'")))}},translations_gnostic:{id:"translations_gnostic",title:"Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)' ")))}},translations_manichaean:{id:"translations_manichaean",title:"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)' ")))}},translations_patristic:{id:"translations_patristic",title:"Translation of patristic works \u2013 first phase (3th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation of patristic works \u2013 first phase (3th-5th cent.)' ")))}},pachomius:{id:"pachomius",title:"Pachomius and the early Pachomian milieu (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Pachomius and the early Pachomian milieu (4th-5th cent.)' ")))}},shenoute:{id:"shenoute",title:"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)' ")))}},standard_translations:{id:"standard_translations",title:"\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)' ")))}},translations_apocryphal_second:{id:"translations_apocryphal_second",title:"Translations of apocryphal texts \u2013 second phase (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translations of apocryphal texts \u2013 second phase (4th-5th cent.)' ")))}},translations_hagiographical:{id:"translations_hagiographical",title:"Translations of hagiographical works \u2013 first phase (4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translations of hagiographical works \u2013 first phase (4th-6th cent.)' ")))}},classsical_translations_homilies:{id:"classsical_translations_homilies",title:"\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)' ")))}},classsical_translations_historiae:{id:"classsical_translations_historiae",title:"\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)' ")))}},classsical_translations_acts:{id:"classsical_translations_acts",title:"\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)' ")))}},classsical_translations_monastic:{id:"classsical_translations_monastic",title:"\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)' ")))}},post_chalcedonian:{id:"post_chalcedonian",title:"Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)' ")))}},historiographic:{id:"historiographic",title:"Historiographic Production (6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Historiographic Production (6th cent.)' ")))}},orig_lit_formation:{id:"orig_lit_formation",title:"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Formation of the earlier hagiographic cycles (6 cent.)' ")))}},orig_lit_damian_hag:{id:"orig_lit_damian_hag",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies' ")))}},orig_lit_damian_hom:{id:"orig_lit_damian_hom",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies' ")))}},poetry:{id:"poetry",title:"Poetic production (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Poetic production (7th-8th cent.)' ")))}},orig_lit_hom:{id:"orig_lit_hom",title:"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Homilies with apocryphal insertions (6th -8th cent.)' ")))}},original_lit_early_islamic:{id:"original_lit_early_islamic",title:"Original Literature: Literary production of the early Islamic period (7th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Literary production of the early Islamic period (7th cent.)' ")))}},standard_translations_in_bohairic:{id:"standard_translations_in_bohairic",title:"\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)' ")))}},original_lit_later_hag:{id:"original_lit_early_islamic",title:"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)' ")))}},synaxarial:{id:"synaxarial",title:"Synaxarial arrangement (9th-10th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Synaxarial arrangement (9th-10th cent.)' ")))}},late_liturgical:{id:"late_liturgical",title:"Late liturgical production (10th-14th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Late liturgical production (10th-14th cent.)' ")))}}},colophons:{cryptography:{id:"cryptography",title:"Colophons with cryptography",url:"colophons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`cryptography`=1 ")))}},greek_minuscule:{id:"greek_minuscule",title:"Colophons with Greek minuscule",url:"colophons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`minusculegreek`=1 ")))}},coptic_minuscule:{id:"coptic_minuscule",title:"Colophons with Coptic minuscule",url:"colophons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`minusculecopitc`=1 ")))}}},persons:{donors:{id:"donors",title:"Donors",url:"persons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`type`='donor'")))}},copyists:{id:"copyists",title:"Copyists",url:"persons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`type`='copyist'")))}}},map:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'discovery' ")}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'storage' ")}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'production' ")}},all_ms_places:{id:"all_ms_places",title:"All places connected to manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[GROUP_CONCAT(DISTINCT mp.type) as type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" 1 ")}},bishoprics:{id:"bishoprics",title:"Bishoprics",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id","fields[paths__geodata.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology",q_encoded:btoa("`paths__places`.`episcopalsee`=1 LIMIT 0, 100")}}}};class ce extends i.Component{render(){return Object(a.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:Object.values(re.map).map(((e,t)=>Object(a.jsx)("li",{className:"mb-3",children:Object(a.jsxs)(n.b,{to:"/map/saved/"+e.id,children:[Object(a.jsx)(j.a,{icon:"arrow-circle-right"})," ",e.title]})},t)))})}}var oe=s(520);function ne(e){return e.show?Object(a.jsx)(V.a,{addonType:"append",children:Object(a.jsx)(oe.a,{color:"danger",onClick:e.onClick,children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}):null}var le=s(543),pe=s(521),de=s(522),he=s(523);function be(e){const t=Object(i.useState)(!1),s=Object(u.a)(t,2),r=s[0],c=s[1];return Object(a.jsxs)(le.a,{isOpen:!r,toggle:()=>c(!r),className:e.className,children:[Object(a.jsx)(pe.a,{children:"Error"}),Object(a.jsx)(de.a,{children:e.children}),Object(a.jsx)(he.a,{children:Object(a.jsx)(oe.a,{color:"success",block:!0,onClick:()=>c(!r),children:"Close"})})]})}var me=s(105),je=s(162),ue=s(158),ge=s(68),xe=s(38),_e=s.n(xe),Oe=s(13),fe=s.n(Oe),ye=s(200),ve=s.n(ye);const Ne=(e,t)=>{let s="#0f4880";return e.properties.type&&(e.properties.type.includes("discovery")&&e.properties.type.includes("storage")&&e.properties.type.includes("production")?s="#939393":e.properties.type.includes("discovery")&&e.properties.type.includes("storage")?s="#00aa55":e.properties.type.includes("storage")&&e.properties.type.includes("production")?s="#009fd4":e.properties.type.includes("discovery")&&e.properties.type.includes("production")?s="#b381b3":e.properties.type.includes("discovery")?s="#aa8f00":e.properties.type.includes("storage")?s="#d47500":e.properties.type.includes("production")&&(s="#f64747")),new fe.a.CircleMarker(t,{radius:5,weight:1,color:"#fff",opacity:.9,fillColor:s,fillOpacity:1})},we=(e,t)=>{const s=window.location.pathname.replace(/\/map(.*)/,"");t.bindPopup("<strong>".concat(e.properties.name,"</strong>")+(e.properties.copticname?'<br /><span class="coptic">'+e.properties.copticname+"</span>":"")+(e.properties.type?'<br /><span class="text-secondary">'.concat(e.properties.type,"</span>"):"")+'<br /><a href="'.concat(s,"/places/").concat(e.properties.id,'">paths/places/').concat(e.properties.id,"</a>")),t.on("mouseover",(function(){t.openPopup()}))};function ke(e){return Object(a.jsx)(r.a.Fragment,{children:e.shownPlaces&&Object(a.jsx)(ue.a,{onAdd:e.onAdd,data:e.shownPlaces,pointToLayer:Ne,onEachFeature:we},ve()(e.shownPlaces))})}const Ce=[{name:"Holy family in Egypt",url:"https://raw.githubusercontent.com/paths-erc/docs/master/raw-data/gis/sacra-famiglia-in-egitto/sacra-famiglia-in-egitto.geojson",info:"https://docs.paths-erc.eu/gis/vectors"},{name:"Coptic monasteries with coordinates",url:"https://raw.githubusercontent.com/paths-erc/docs/master/raw-data/gis/coptic-monasteries-with-coordinates/coptic-monasteries-with-coordinates.geojson",info:"https://docs.paths-erc.eu/gis/vectors"}],Be=["paths.places.16-Elephantine/BGQ6JNX2-186","paths.places.16-Elephantine/BGQ6JNX2-77","paths.places.19-Luxor-complex/BGQ6JNX2-68","paths.places.19-Luxor-complex/BGQ6JNX2-69","paths.places.19-Luxor-complex/BGQ6JNX2-70","paths.places.19-Luxor-complex/BGQ6JNX2-71","paths.places.20-Koptos/BGQ6JNX2-64","paths.places.21-Dendera/BGQ6JNX2-63","paths.places.24-Panopolis/BGQ6JNX2-159","paths.places.24-Panopolis/BGQ6JNX2-161","paths.places.24-Panopolis/BGQ6JNX2-160","paths.places.28-Hermopolis-Magna/BGQ6JNX2-58","paths.places.28-Hermopolis-Magna/BGQ6JNX2-59","paths.places.36-Pelusium/BGQ6JNX2-189","paths.places.36-Pelusium/BGQ6JNX2-88","paths.places.36-Pelusium/BGQ6JNX2-89","paths.places.36-Pelusium/BGQ6JNX2-90","paths.places.38-Alexandria/BGQ6JNX2-1","paths.places.53-Antinoupolis/BGQ6JNX2-52","paths.places.53-Antinoupolis/BGQ6JNX2-53","paths.places.53-Antinoupolis/BGQ6JNX2-54","paths.places.53-Antinoupolis/BGQ6JNX2-55","paths.places.58-Esna/BGQ6JNX2-169","paths.places.58-Esna/BGQ6JNX2-76","paths.places.68-Pbou/BGQ6JNX2-162a","paths.places.68-Pbou/BGQ6JNX2-162b","paths.places.70-Hermonthis/BGQ6JNX2-74","paths.places.72-Deir-Ambra-Adra/BGQ6JNX2-177","paths.places.73-Bawit/BGQ6JNX2-142","paths.places.73-Bawit/BGQ6JNX2-143","paths.places.75-Apa-Jeremiah/BGQ6JNX2-126","paths.places.75-Apa-Jeremiah/BGQ6JNX2-127","paths.places.74-Naqlun/BGQ6JNX2-131b","paths.places.74-Naqlun/BGQ6JNX2-131a","paths.places.74-Naqlun/BGQ6JNX2-131c","paths.places.78-Kellia/BGQ6JNX2-114","paths.places.78-Kellia/BGQ6JNX2-115","paths.places.78-Kellia/BGQ6JNX2-116","paths.places.78-Kellia/BGQ6JNX2-117","paths.places.87-Medinet-Habu/BGQ6JNX2-72","paths.places.87-Medinet-Habu/BGQ6JNX2-73","paths.places.88-Petemout/BGQ6JNX2-66","paths.places.88-Petemout/BGQ6JNX2-67","paths.places.89-Ostrakine/BGQ6JNX2-92","paths.places.89-Ostrakine/BGQ6JNX2-93","paths.places.92-Deir-el-Balaiza/BGQ6JNX2-148","paths.places.96-Philae/BGQ6JNX2-78","paths.places.96-Philae/BGQ6JNX2-79","paths.places.96-Philae/BGQ6JNX2-80","paths.places.97-Deir-el-Kubaniya/BGQ6JNX2-174","paths.places.101-Tebtynis/BGQ6JNX2-47","paths.places.106-Karanis/BGQ6JNX2-191","paths.places.104-Medinet-Madi/BGQ6JNX2-39","paths.places.104-Medinet-Madi/BGQ6JNX2-40","paths.places.104-Medinet-Madi/BGQ6JNX2-41","paths.places.104-Medinet-Madi/BGQ6JNX2-42","paths.places.104-Medinet-Madi/BGQ6JNX2-43","paths.places.104-Medinet-Madi/BGQ6JNX2-44","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-150","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-151","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-152a","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-152b","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-154","paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-156","paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-155","paths.places.114-Kellis/BGQ6JNX2-85","paths.places.115-Bagawat/BGQ6JNX2-86","paths.places.115-Bagawat/BGQ6JNX2-87","paths.places.116-Abu-Mina/BGQ6JNX2-16","paths.places.116-Abu-Mina/BGQ6JNX2-17","paths.places.116-Abu-Mina/BGQ6JNX2-18","paths.places.116-Abu-Mina/BGQ6JNX2-19","paths.places.116-Abu-Mina/BGQ6JNX2-20","paths.places.116-Abu-Mina/BGQ6JNX2-21a1","paths.places.116-Abu-Mina/BGQ6JNX2-21a2","paths.places.116-Abu-Mina/BGQ6JNX2-21a3","paths.places.116-Abu-Mina/BGQ6JNX2-21b","paths.places.116-Abu-Mina/BGQ6JNX2-21b1","paths.places.116-Abu-Mina/BGQ6JNX2-22","paths.places.116-Abu-Mina/BGQ6JNX2-23","paths.places.116-Abu-Mina/BGQ6JNX2-24","paths.places.116-Abu-Mina/BGQ6JNX2-25","paths.places.116-Abu-Mina/BGQ6JNX2-26","paths.places.116-Abu-Mina/BGQ6JNX2-27","paths.places.116-Abu-Mina/BGQ6JNX2-28a","paths.places.116-Abu-Mina/BGQ6JNX2-28b","paths.places.116-Abu-Mina/BGQ6JNX2-30","paths.places.116-Abu-Mina/BGQ6JNX2-31","paths.places.116-Abu-Mina/BGQ6JNX2-103","paths.places.116-Abu-Mina/BGQ6JNX2-104","paths.places.116-Abu-Mina/BGQ6JNX2-105","paths.places.117-Marina-el-Alamein/BGQ6JNX2-8","paths.places.119-Dionysias/BGQ6JNX2-46","paths.places.122-Hawara/BGQ6JNX2-49","paths.places.143-Marea/BGQ6JNX2-9","paths.places.144-Babylon/BGQ6JNX2-33","paths.places.144-Babylon/BGQ6JNX2-34","paths.places.144-Babylon/BGQ6JNX2-122","paths.places.144-Babylon/BGQ6JNX2-123a","paths.places.144-Babylon/BGQ6JNX2-123b","paths.places.169-Manqabad/BGQ6JNX2-144","paths.places.169-Manqabad/BGQ6JNX2-145","paths.places.169-Manqabad/BGQ6JNX2-146","paths.places.173-Dakhleh/BGQ6JNX2-181","paths.places.176-Deir-abu-Matta/BGQ6JNX2-180","paths.places.182-Karnak/BGQ6JNX2-166","paths.places.182-Karnak/BGQ6JNX2-167","paths.places.188-Pharan/BGQ6JNX2-95","paths.places.188-Pharan/BGQ6JNX2-96a","paths.places.188-Pharan/BGQ6JNX2-96b","paths.places.188-Pharan/BGQ6JNX2-97","paths.places.188-Pharan/BGQ6JNX2-98","paths.places.188-Pharan/BGQ6JNX2-99","paths.places.188-Pharan/BGQ6JNX2-100","paths.places.205-Wadi-Natrun-Baramus/BGQ6JNX2-118","paths.places.206-Wadi-Natrun-Syrians/BGQ6JNX2-119","paths.places.208-Wadi-Natrun-Macarius/BGQ6JNX2-121","paths.places.215-Deir-Abu-Hennes/BGQ6JNX2-141","paths.places.217-Deir-al-Dik/BGQ6JNX2-51","paths.places.338-Taposiris-Magna/BGQ6JNX2-3","paths.places.338-Taposiris-Magna/BGQ6JNX2-4","paths.places.338-Taposiris-Magna/BGQ6JNX2-5","paths.places.338-Taposiris-Magna/BGQ6JNX2-185","paths.places.367-Deir-Mar-Tumas/BGQ6JNX2-158","paths.places.368-Upper-Ansina/BGQ6JNX2-137","paths.places.368-Upper-Ansina/BGQ6JNX2-138","paths.places.368-Upper-Ansina/BGQ6JNX2-139","paths.places.368-Upper-Ansina/BGQ6JNX2-56","paths.places.370-Hilwan/BGQ6JNX2-35","paths.places.370-Hilwan/BGQ6JNX2-36","paths.places.370-Hilwan/BGQ6JNX2-37","paths.places.370-Hilwan/BGQ6JNX2-38","paths.places.374-Deir-el-Matmar/BGQ6JNX2-168","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-164","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-165a","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-165b","paths.places.415-Abu-Fana/BGQ6JNX2-134","paths.places.415-Abu-Fana/BGQ6JNX2-135","paths.places.415-Abu-Fana/BGQ6JNX2-136","paths.places.416-Deir-al-Fakhuri/BGQ6JNX2-171","paths.places.416-Deir-al-Fakhuri/BGQ6JNX2-172","paths.places.417-Abu-Shaar/BGQ6JNX2-187","paths.places.419-Ain-el-Hayz/BGQ6JNX2-83","paths.places.420-Gezira-el-Faraun/BGQ6JNX2-101","paths.places.421-Hawwariya/BGQ6JNX2-11","paths.places.421-Hawwariya/BGQ6JNX2-12","paths.places.422-Kalabasa/BGQ6JNX2-82","paths.places.423-Kom-Namrud/BGQ6JNX2-132","paths.places.423-Kom-Namrud/BGQ6JNX2-133","paths.places.424-El-Tor/BGQ6JNX2-188","paths.places.425-Tuphium/BGQ6JNX2-75"];var Se="AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o";const Ae=me.b.BaseLayer,Ge=me.b.Overlay;function Je(e){const t=Object(i.useState)(),s=Object(u.a)(t,2),r=s[0],c=s[1];return Object(i.useEffect)((()=>{let e=[];const t=Ce.map((t=>(e.push({name:t.name,url:t.url,info:t.info}),_e()({method:"get",url:t.url}))));_e.a.all(t).then((t=>{t.map(((t,s)=>(e[s].geojson=t.data,!0))),c(e)}))}),[]),Object(a.jsxs)(me.b,{position:"topright",children:[Object(a.jsx)(Ae,{name:"AWMC",children:Object(a.jsx)(je.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})}),Object(a.jsx)(Ae,{name:"Imperium (DARE)",checked:"true",children:Object(a.jsx)(je.a,{url:"https://dh.gu.se/tiles/imperium/{z}/{x}/{y}.png"})}),Object(a.jsx)(Ae,{name:"OpenStreetMap",children:Object(a.jsx)(je.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})}),Object(a.jsx)(Ae,{name:"Google Maps",children:Object(a.jsx)(ge.GoogleLayer,{googlekey:Se,maptype:"ROADMAP"})}),Object(a.jsx)(Ae,{name:"Google Satellite",children:Object(a.jsx)(ge.GoogleLayer,{googlekey:Se,maptype:"SATELLITE"})}),Object(a.jsx)(Ae,{name:"Composite: A Map of Lower Egypt from Various Surveys by A. Arrowsmith (1807)",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/arrowsmith-1807/{z}/{x}/{y}.png",maxZoom:15})}),Object(a.jsx)(Ae,{name:"Carte geographique de l'Egypte et des pays environnans by Pierre Jacotin (1818, 1828)",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/jacotin-1827/{z}/{x}/{y}.png",maxZoom:15})}),Object(a.jsx)(Ae,{name:"Series 4085 - GB & USA (1941)",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/series-4085-gb-usa-1941/{z}/{x}/{y}.png",maxZoom:15})}),Object(a.jsx)(Ae,{name:"Series P502 - USA (1954)",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/series-p502-usa-1954/{z}/{x}/{y}.png",maxZoom:14})}),Object(a.jsx)(Ae,{name:"Series 1404, Great Britain War Office and Air Ministry, 1958-",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/imw-1m-1960/{z}/{x}/{y}.png",maxZoom:13})}),Object(a.jsx)(Ae,{name:"International Map of the World (1960)",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/imw-1m-1960/{z}/{x}/{y}.png",maxZoom:12})}),Object(a.jsx)(Ae,{name:"Tactical Pilotage Chart Series - World (1979)",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/tpc-500k-1979/{z}/{x}/{y}.png",maxZoom:14})}),Object(a.jsx)(Ae,{name:"Ministry of Finance, Egypt - Atlas of Egypt: Lower and Upper Egypt (1914)",children:Object(a.jsx)(je.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/min-fin-1914/{z}/{x}/{y}.png",maxZoom:17})}),e.shownPlaces&&Object(a.jsx)(ke,{shownPlaces:e.shownPlaces,onAdd:e.onAdd}),r&&r.map(((e,t)=>{const s="#"+(16777216+16777215*Math.random()).toString(16).substr(1,6);return Object(a.jsx)(Ge,{name:e.name,children:Object(a.jsx)(ue.a,{data:e.geojson,pointToLayer:(e,t)=>((e,t,s)=>new fe.a.CircleMarker(t,{radius:5,weight:1,color:s||!1}))(0,t,s),onEachFeature:(t,s)=>((e,t,s)=>{const a=Object.entries(e.properties).map((e=>!!e[1]&&"<strong>".concat(e[0],"</strong>: ").concat(e[1])));t.bindPopup(a.filter(Boolean).join("<br>")+"<hr><strong>".concat(s.name,'</strong><br>\n    <a href="').concat(s.info,'" title="More information">').concat(s.info,"</a>\n    "))})(t,s,e)})},t)}))]})}let Pe="https://db.bradypus.net/api/paths/";"localhost"===window.location.hostname&&(Pe="http://db.localhost/api/paths/");class Qe{static getData(e,t,s){e=Pe+e,_e()({method:"post",url:e,params:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{if(e.data.type&&"error"===e.data.type)return console.log("API error:"),console.log(e.data.text),!1;s(e.data)})).catch((e=>{e instanceof Error?console.log(e.message):console.log(e.data)}))}static getBaseUrl(){return Pe}static getUniqueVal(e,t,s,a){this.getData("../v2/paths/"+e,{verb:"getUniqueVal",tb:e.replace("paths__",""),fld:t,s:s},(e=>{a(e)}),!0)}static getSaved(e,t,s,a){"undefined"!==typeof re[e][t]?(re[e][t].data.page=s,this.getData(re[e][t].url,re[e][t].data,(s=>{a(s,re[e][t].title)}))):a({status:"error",text:"No saved query found for id: ".concat(e,".").concat(t)})}static getSimple(e,t,s,a,i,r){const c={verb:"search",type:"advanced",page:i,"adv[a0][fld]":t,"adv[a0][operator]":a?"=":"LIKE","adv[a0][value]":s};this.getData(e,c,(e=>{r(e)}),!0)}static getAdv(e,t,s,a){let i={verb:"search",type:"advanced",page:s};Object.entries(t).forEach((([e,t])=>{i["adv[".concat(e,"][fld]")]=t.f,i["adv[".concat(e,"][value]")]=t.v,i["adv[".concat(e,"][operator]")]=t.o,i["adv[".concat(e,"][connector]")]=t.c})),this.getData(e,i,(e=>{a(e)}),!0)}static getStr(e,t,s,a){this.getData(e,{verb:"search",type:"fast",string:t,page:s},(e=>{a(e,"Search ["+t+"] in "+e.head.table_label)}),!0)}static getByEncodedSql(e,t,s,a){this.getData(e,{verb:"search",type:"encoded",q_encoded:t,page:s},(e=>{a(e)}),!0)}static getAll(e,t,s){this.getData(e,{verb:"search",type:"all",page:t},(e=>{s(e)}))}static getOne(e,t,s){this.getData("../v2/paths",{tb:e,verb:"read",id:t},(e=>{s(e)}))}static inspect(e,t){this.getData("../v2/paths",{tb:e,verb:"inspect"},(e=>{t(e)}))}static getChart(e,t){this.getData("../v2/paths/"+e,{id:e,verb:"getChart"},(e=>{t(e)}))}static simplifyGeojson(e){let t={type:"FeatureCollection",features:[]},s=!1;return Object.entries(e.features).forEach((([e,a])=>{s&&s===a.properties.id||(t.features.push(a),s=a.properties.id),s===a.properties.id&&(t.features[t.features.length-1].properties.toponym+="|"+a.properties.toponym)})),t}static getPlaces(e,t){console.log("run");let s={join:"JOIN paths__geodata as g ON g.table_link = 'paths__places' AND g.id_link = paths__places.id  JOIN paths__m_toponyms as t ON t.table_link = 'paths__places' AND t.id_link = paths__places.id","fields[g.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology","fields[GROUP_CONCAT(t.toponym)]":"Toponyms",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(e?e.replace(/`id`/gi,"`paths__places`.`id`"):" 1")};this.getData("places?verb=search&geojson=true&type=encoded",s,(e=>{t(e)}))}static getMsPlaces(e,t){const s={join:" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology","fields[paths__m_msplaces.type]":"Place type",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE "+e+" )")};this.getData("geodata?verb=search&geojson=true&type=encoded",s,(e=>{t(e)}))}}s(378);class Xe extends i.Component{constructor(e){super(e),this.state={places:null,shownPlaces:null,urlFilter:!1,sidebarCollapsed:!1,selected:"home",manualFilter:"",error:!1,mapBounds:!1,zoom:!1,geoJsonBounds:!1},this.placesLayerRef=r.a.createRef(),this.mapRef=r.a.createRef()}onSidebarClose(){this.setState({sidebarCollapsed:!0})}onSidebarOpen(e){this.setState({sidebarCollapsed:!1,selected:e})}filterPlaces(e){const t=e.target.value;let s={};if(""===t)s=this.state.places;else{s={type:"FeatureCollection",features:[]};for(var a=0,i=Object.values(this.state.places.features);a<i.length;a++){const e=i[a];Object.values(e.properties).join("|").toLowerCase().includes(t.toLowerCase())&&s.features.push(e)}}this.setState({manualFilter:t,shownPlaces:s}),this.fitMapToBounds()}clearFiltered(){this.setState({manualFilter:"",shownPlaces:this.state.places}),this.fitMapToBounds()}fitMapToBounds(){let e=[[19.700194,16.570227],[35.4737,32.869317]];this.state.geoJsonBounds&&e._northEast&&e._southWest&&(e=this.state.geoJsonBounds,e._northEast.lat===e._southWest.lat&&e._northEast.lng===e._southWest.lng&&e.pad()),this.mapRef.current.leafletElement.fitBounds(e)}fetchData(e,t){if(e)Qe.getSaved("map",e,null,(e=>{this.setState({places:e,shownPlaces:e,urlFilter:!0}),this.fitMapToBounds()}));else if(t){let e=$.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});if("manuscripts"===e.tb)Qe.getMsPlaces(e.where,(t=>{this.setState({places:t,shownPlaces:t,urlFilter:e.where}),this.fitMapToBounds()}));else{if("places"!==e.tb)return!1;Qe.getPlaces(e.where,(t=>{this.setState({places:t,shownPlaces:t,urlFilter:e.where}),this.fitMapToBounds()}))}}else Qe.getPlaces(null,(e=>{e.type&&"error"===e.type?this.setState({error:Object(a.jsxs)("div",{children:["Sorry. There was an error in getting the data from database. Please report this error to ",Object(a.jsx)("a",{href:"mailto:julian.bogdani@uniroma1.it",children:"julian.bogdani@uniroma1.it"})," and be sure to copy and paste the following lines:",Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"border p-3 mt-3",children:[Object(a.jsx)("code",{children:window.location.href}),Object(a.jsx)("pre",{children:e.text})]})]})}):(this.setState({places:e,shownPlaces:e}),this.fitMapToBounds())}))}onViewportChanged(e){const t=this.mapRef.current.leafletElement.getBounds(),s=e.zoom;this.setState({mapBounds:t,zoom:s})}UNSAFE_componentWillReceiveProps(e){e!==this.props&&(this.setState({places:null,urlFilter:null}),this.fetchData(e.match.params.data,null))}componentDidMount(){this.fetchData(this.props.match.params.data,this.props.location.search)}showGeoJson(){if(!this.state.shownPlaces)return Object(a.jsx)("div",{style:{textAlign:"center",zIndex:999,marginTop:"5rem"},children:Object(a.jsx)(T,{children:"Loading map data..."})})}onAddgeoJson(e){this.setState({geoJsonBounds:e.target.getBounds()})}render(){return Object(a.jsxs)("div",{className:"maxHeight",children:[Object(a.jsx)(N,{location:this.props.location}),Object(a.jsxs)("main",{role:"main",className:"maxHeight",children:[Object(a.jsxs)(ee.Sidebar,{id:"sidebar",collapsed:this.state.sidebarCollapsed,selected:this.state.selected,onOpen:this.onSidebarOpen.bind(this),onClose:this.onSidebarClose.bind(this),closeIcon:Object(a.jsx)(j.a,{icon:"caret-left"}),children:[Object(a.jsxs)(ee.Tab,{id:"home",header:"Home",icon:Object(a.jsx)(j.a,{icon:"home"}),children:[Object(a.jsx)("div",{className:"sidebarSearch",children:Object(a.jsxs)(K.a,{className:"my-2",children:[Object(a.jsx)(V.a,{addonType:"prepend",children:"Search:"}),Object(a.jsx)(Z.a,{type:"search",value:this.state.manualFilter,onChange:this.filterPlaces.bind(this),placeholder:"start typing to filter places..."}),Object(a.jsx)(ne,{show:this.state.manualFilter,onClick:this.clearFiltered.bind(this)})]})}),Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsx)(ae,{urlFilter:this.state.urlFilter,filter:this.state.filter}),Object(a.jsx)(se,{places:this.state.shownPlaces})]})]}),Object(a.jsx)(ee.Tab,{id:"savedQueries",header:"Saved queries",icon:Object(a.jsx)(j.a,{icon:"save"}),children:Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsx)(ce,{})})}),Object(a.jsx)(ee.Tab,{id:"legend",header:"Legend",icon:Object(a.jsx)(j.a,{icon:"info"}),children:Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsx)(ie,{})})})]}),this.state.error&&Object(a.jsx)(be,{children:this.state.error}),!this.state.shownPlaces&&Object(a.jsx)("div",{style:{position:"absolute",top:"5rem",textAlign:"center",zIndex:999,width:"100%"},children:Object(a.jsx)(T,{children:"Loading map data..."})}),Object(a.jsx)(W.a,{className:"sidebar-map maxHeight",zoomControl:!0,ref:this.mapRef,onViewportChanged:this.onViewportChanged.bind(this),maxZoom:"25",children:Object(a.jsx)(Je,{shownPlaces:this.state.shownPlaces,onAdd:this.onAddgeoJson.bind(this),mapBounds:this.state.mapBounds,zoom:this.state.zoom})})]})]})}}var qe=s(538),Me=s(531),Ie=s(526),Te=s(527),De=s(528),Le=s(529),Re=s(530);class Ee extends i.Component{render(){const e=this.props.tblabel,t=this.props.tb;return Object(a.jsx)("div",{children:Object(a.jsxs)(Ie.a,{className:"mt-5 mb-5",color:"light",children:[Object(a.jsx)("div",{className:"text-right",children:Object(a.jsx)("button",{type:"button",className:"close mr-2 mt-2","aria-label":"Close",onClick:this.props.closeFn,children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(a.jsxs)(Te.a,{children:[Object(a.jsxs)(De.a,{children:["Saved queries for ",e]}),Object(a.jsx)(Le.a,{children:Object.values(re[t]).map(((e,s)=>Object(a.jsxs)(Re.a,{onClick:this.props.closeFn,className:"mb-3",tag:n.b,to:"/search/".concat(t,"/saved?q=").concat(e.id),color:"secondary",children:[Object(a.jsx)(j.a,{icon:"arrow-circle-right"})," ",e.title]},s)))})]})]})})}}var Ue={coptic:["authors.copticname","titles.text","colophons.text"],greek:["authors.greekname"],hidden:["manuscripts.creator","collections.creator","collections.cmclname","works.id","works.creator","works.shelfmarks","works.period","works.problems","titles.creator","titles.taggedtext","colophons.creator","authors.id","authors.creator","authors.cmclname","editors.cmclname","places.creator","places.hasplans","places.hasphotos","persons.id","persons.creator","biblio.creator","biblio.editors","m_quires.id","m_hands.id","m_placephase.id"],id_fld:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"name",persons:"name"},searchDefault:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"paths__m_toponyms:toponym",persons:"name"},preview:{manuscripts:["id","cmclid","tm","ldab","bookform","writingsupport"],collections:["id","fullname","cmclname","country","town","institution","name","notes"],works:["id","cmcl","title","cpg"],titles:["cc","type","workcc","msid"],colophons:["id","msid","dialect","chronofrom","chronoto","datingcriteria"],authors:["name","title","copticname","greekname","cmclname"],places:["id","name","tmgeo","pleiades","region","area","episcopalsee"],persons:["id","name","type","profession","patronymic"]},label:{manuscripts:"Manuscripts",collections:"Collections",works:"Works",titles:"Titles",colophons:"Colophons",authors:"Authors",places:"Places",persons:"Persons attested in colophons"},fld_whitelist:["paths__places:id","paths__places:name","paths__places:tmgeo","paths__places:pleiades","paths__places:region","paths__places:area","paths__places:meris","paths__places:nomos","paths__places:province","paths__places:episcopalsee","paths__places:typology","paths__places:description","paths__places:hasmonastery","paths__places:isnomoscapital","paths__places:status","paths__m_toponyms:toponym","paths__m_placephase:fperiod","paths__m_placephase:ftypology","paths__works:id","paths__works:cmcl","paths__works:title","paths__works:cpg","paths__works:cant","paths__works:cavt","paths__works:bho","paths__works:bhg","paths__works:bhl","paths__works:cae","paths__works:litperiod","paths__m_wkauthors:type","paths__m_wkauthors:author","paths__authors:id","paths__authors:name","paths__authors:copticname","paths__authors:greekname","paths__authors:viaf","paths__authors:title","paths__authors:status","paths__titles:id","paths__titles:cc","paths__titles:workcc","paths__titles:msid","paths__titles:type","paths__titles:text","paths__titles:translation","paths__colophons:id","paths__colophons:msid","paths__colophons:chronofrom","paths__colophons:chronoto","paths__colophons:dialect","paths__colophons:greektext","paths__colophons:writingaxis","paths__colophons:cryptography","paths__colophons:minusculecopitc","paths__colophons:minusculegreek","paths__colophons:text","paths__colophons:translation","paths__collections:id","paths__collections:fullname","paths__collections:country","paths__collections:town","paths__collections:institution","paths__collections:name","paths__manuscripts:id","paths__m_shelfmarks:collection","paths__m_shelfmarks:shelfmark","paths__manuscripts:cmclid","paths__manuscripts:tm","paths__manuscripts:ldab","paths__manuscripts:lcbm","paths__manuscripts:dbmnt","paths__manuscripts:alias","paths__manuscripts:bookform","paths__manuscripts:writingsupport","paths__manuscripts:issinglefrag","paths__manuscripts:isbookbinding","paths__manuscripts:reusedinbinding","paths__manuscripts:stratigraphy","paths__manuscripts:modernhistory","paths__manuscripts:contents","paths__manuscripts:dialect","paths__manuscripts:chronofrom","paths__manuscripts:chronoto","paths__m_msplaces:place","paths__m_msplaces:type","paths__m_msplaces:sourceinfo","paths__manuscripts:datingsource","paths__manuscripts:leaftotextant","paths__manuscripts:quiresextant","paths__manuscripts:columns","paths__manuscripts:linespercolumn","paths__manuscripts:charsperline","paths__manuscripts:leafw","paths__manuscripts:leafh","paths__manuscripts:prophw","paths__manuscripts:propwt","paths__manuscripts:quiresig","paths__manuscripts:quiretype","paths__manuscripts:quireposition","paths__m_quires:quirepaptype","paths__m_quires:quirepartype","paths__manuscripts:pagination","paths__manuscripts:pagtype","paths__manuscripts:pagposition","paths__manuscripts:foliation","paths__manuscripts:foltype","paths__manuscripts:folposition","paths__manuscripts:folnotes","paths__manuscripts:lectionalsigns","paths__manuscripts:structuralsigns","paths__manuscripts:signsnotes","paths__manuscripts:abbreviations","paths__manuscripts:ruling","paths__manuscripts:rulingtype","paths__manuscripts:rulingtool","paths__manuscripts:pricking","paths__manuscripts:leaftabs","paths__manuscripts:kolleseis","paths__manuscripts:kolleseseisdescr","paths__manuscripts:bindings","paths__manuscripts:boardmat","paths__manuscripts:sewings","paths__manuscripts:covers","paths__manuscripts:marginalnotes","paths__manuscripts:greekminuscule","paths__manuscripts:palimpsest","paths__manuscripts:restancient","paths__manuscripts:restmodern","paths__manuscripts:pgmcol","paths__manuscripts:pgmlocation","paths__manuscripts:blktype","paths__manuscripts:blklocation","paths__manuscripts:decortype","paths__manuscripts:decorsubj","paths__manuscripts:decorationdescr","paths__manuscripts:sourceinfo","paths__manuscripts:status","paths__m_hands:handno","paths__m_hands:modulartypology","paths__m_hands:writingaxis","paths__m_hands:thickandthin","paths__m_hands:identification","paths__m_hands:writingnotes","paths__m_biblio:short","paths__m_biblio:details","paths__persons:id","paths__persons:name","paths__persons:type","paths__persons:profession","paths__persons:patronymiccarnal","paths__persons:patronymicspirit","paths__persons:hasbrother","paths__persons:hasfather","paths__persons:placebirth","paths__persons:placeaffiliation","paths__persons:sex","paths__persons:datefrom","paths__persons:dateto"]};class Fe extends i.Component{constructor(e){super(e),this.state={showSaved:!1}}toggleSaved(e){this.setState({showSaved:!this.state.showSaved})}render(){const e=this.props.tblabel?this.props.tblabel:Ue.label[this.props.tb],t=this.props.tb,s=!!this.props.text&&Object(a.jsx)("span",{className:"subText",children:this.props.text});let i=[{to:"/search/"+t+"/all",icon:"list-ul",text:"Show all"},{to:"/search/"+t,icon:"search",text:"Search"},{to:"/search/"+t+"/adv",icon:"search-plus",text:"Advanced search"}];return Object(a.jsx)("div",{children:Object(a.jsx)(Me.a,{className:"p-4",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{children:s}),Object(a.jsxs)(g.a,{color:"light",light:!0,expand:"xs",className:"ml-auto",children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("h3",{children:Object(a.jsx)("small",{children:e})})}),Object(a.jsxs)(f.a,{className:"ml-auto",navbar:!0,children:[i.map(((e,t)=>Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{to:e.to,tag:n.b,children:[Object(a.jsx)(j.a,{icon:e.icon})," ",Object(a.jsx)("span",{className:"d-none d-md-inline",children:e.text})]})},t))),re[t]&&Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{onClick:this.toggleSaved.bind(this),style:{cursor:"pointer"},children:[Object(a.jsx)(j.a,{icon:"save"}),Object(a.jsx)("span",{className:"d-none d-md-inline",children:" Saved queries"})]})})]})]}),this.state.showSaved&&Object(a.jsx)(Ee,{tb:t,tblabel:e,closeFn:this.toggleSaved.bind(this)})]})})})}}var ze=Fe,He=s(42),We=s(532),Ke=s(533),Ve=s(534);function Ze(e){const t=function(e,t,s,a=1){let i=Math.ceil(s/30),r=[];a=parseInt(a,10);let c=$.a.parse(t,{ignoreQueryPrefix:!0});return a-2>0&&(c.page=1,r.push({to:e+"?"+$.a.stringify(c),text:1})),a-3>0&&r.push({to:"#",disabled:!0,text:"..."}),a-1>0&&(c.page=a-1,r.push({to:e+"?"+$.a.stringify(c),text:c.page})),c.page=a,r.push({to:e+"?"+$.a.stringify(c),active:!0,text:a}),a+1<i&&(c.page=a+1,r.push({to:e+"?"+$.a.stringify(c),text:c.page})),a+2<i&&r.push({to:"#",disabled:!0,text:"..."}),a!==i&&(c.page=i,r.push({to:e+"?"+$.a.stringify(c),text:c.page})),r}(e.path,e.search,e.totalRows,e.page);return Object(a.jsxs)(We.a,{children:[Object(a.jsx)(Ke.a,{children:Object(a.jsx)(Ve.a,{children:"Pages: "})}),t.map(((e,t)=>{const s={disabled:e.disabled,active:e.active};return Object(i.createElement)(Ke.a,Object(He.a)(Object(He.a)({},s),{},{key:t}),Object(a.jsx)(Ve.a,{tag:n.b,to:e.to,children:e.text}))}))]})}class Ye extends i.Component{constructor(e){super(e),this.state={modal:!1},this.toggle=this.toggle.bind(this)}toggle(){this.setState({modal:!this.state.modal})}render(){return Object(a.jsxs)("span",{children:[Object(a.jsx)(oe.a,{color:"danger",size:"sm",onClick:this.toggle,children:Object(a.jsx)(j.a,{icon:"code"})}),Object(a.jsxs)(le.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,children:[Object(a.jsx)(pe.a,{toggle:this.toggle,children:"Executed SQL"}),Object(a.jsx)(de.a,{children:Object(a.jsx)("pre",{style:{height:"200px",whiteSpace:"pre-wrap"},children:this.props.sql})})]})]})}}var $e=Ye;function et(e){const t=e.page?e.page:1,s=30*t-30+1,i=30*t<e.totalRows?30*t:e.totalRows;return Object(a.jsxs)("div",{className:"mb-3",children:["Showing records ",Object(a.jsxs)("span",{className:"badge badge-primary",children:[s," \u2013  ",i," "]})," of ",Object(a.jsx)("span",{className:"badge badge-success",children:e.totalRows})," records found \xa0",Object(a.jsx)($e,{sql:e.query})]})}var tt=s(535),st=s(536),at=s(537);class it extends i.Component{render(){return Object(a.jsx)(w.a,{children:this.props.children})}}class rt extends i.Component{render(){const e=this.props.record,t=this.props.fields,s=this.props.tb,i=this.props.previewFlds,r=this.props.idField;return Object(a.jsx)(k.a,{sm:"4",children:Object(a.jsxs)(Ie.a,{className:"mt-3",outline:!0,color:"dark",children:[Object(a.jsx)(tt.a,{tag:"h4",children:e[r]}),Object(a.jsxs)(Te.a,{id:e.id,children:[Object(a.jsx)(st.a,{hover:!0,size:"sm",children:Object(a.jsx)("tbody",{children:i.map(((s,i)=>Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:t[s]}),Object(a.jsx)("td",{children:e[s]})]},i)))})}),Object(a.jsx)("div",{className:"clearfix",children:Object(a.jsx)("div",{className:"btn-group float-right",role:"group",children:Object(a.jsx)(at.a,{children:Object(a.jsxs)(oe.a,{size:"sm",color:"info",tag:n.b,to:"/"+[s,e.id].join("/"),children:[Object(a.jsx)(j.a,{icon:"eye"})," View"]})})})})]})]})})}}function ct(e){const t=e.tb;return["manuscripts","places"].indexOf(t)<0?null:Object(a.jsx)("div",{className:"float-right mt-2",children:Object(a.jsxs)(n.b,{to:"/map?tb="+t+"&where="+encodeURI(e.where),className:"btn btn-warning",children:[Object(a.jsx)(j.a,{icon:"map-marker-alt"})," View on Map"]})})}class ot extends i.Component{constructor(e){super(e),this.state={result:!1}}_fetchData(){switch(this.props.type){case"simple":Qe.getSimple(this.props.tb,this.props.fld,this.props.val,this.props.strict,this.props.page,(e=>{this.setState({result:e})}));break;case"adv":Qe.getAdv(this.props.tb,this.props.data,this.props.page,(e=>{this.setState({result:e})}));break;case"all":Qe.getAll(this.props.tb,this.props.page,(e=>{this.setState({result:e})}));break;case"saved":Qe.getSaved(this.props.tb,this.props.query,this.props.page,(e=>{this.setState({result:e})}));break;case"encoded":Qe.getByEncodedSql(this.props.tb,this.props.q,this.props.page,(e=>{this.setState({result:e})}));break;default:return console.log("Unknown verb ".concat(this.props.type)),null}}componentDidUpdate(e){this.props.page===e.page&&this.props.fld===e.fld&&this.props.val===e.val&&this.props.strict===e.strict&&this.props.query===e.query||this._fetchData()}componentDidMount(){this._fetchData()}render(){return this.state.result?"error"===this.state.result.type?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)(qe.a,{color:"danger",className:"mt-5",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"We are so sorry!"}),Object(a.jsxs)("p",{children:["Something went terribly wrong. Please report this error to ",Object(a.jsx)("a",{href:"https://github.com/paths-erc/atlas/issues",children:"our public repository"})," in order to get it fixes as soon as possible."]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Please file the current URL:"}),Object(a.jsx)(qe.a,{color:"info",className:"border p-3 m-2 ml-4",children:window.location.href}),Object(a.jsx)(qe.a,{color:"info",className:"border p-3 m-2 ml-4",children:decodeURIComponent(window.location.href)}),Object(a.jsx)("p",{children:"and the following error message"}),Object(a.jsx)(qe.a,{color:"info",className:"border p-3 m-2 ml-4",children:Object(a.jsx)("pre",{children:this.state.result.text})}),Object(a.jsx)("p",{children:"Full error trace"}),Object(a.jsx)(qe.a,{color:"info",className:"border p-3 m-2 ml-4",children:Object(a.jsx)("pre",{children:this.state.result.trace})})]})]})}):0===this.state.result.head.total_rows?Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(qe.a,{color:"warning",className:"mt-5",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"Ooops!"}),"No result found. Please reformulate the query."]})})}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"clearfix",children:[Object(a.jsx)(ct,{tb:this.state.result.head.stripped_table,where:this.state.result.head.query_where,type:this.props.match.params.type,search:$.a.parse(this.props.location.search,{ignoreQueryPrefix:!0})}),Object(a.jsx)(et,{totalRows:this.state.result.head.total_rows,page:this.state.result.head.page,query:this.state.result.head.query_arrived}),Object(a.jsx)(Ze,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})]}),Object(a.jsx)(it,{children:this.state.result.records.map(((e,t)=>Object(a.jsx)(rt,{idField:Ue.id_fld[this.props.match.params.table],previewFlds:Ue.preview[this.props.match.params.table],tb:this.props.match.params.table,record:e,fields:this.state.result.head.fields},t)))}),Object(a.jsx)("div",{className:"pt-3",children:Object(a.jsx)(Ze,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})})]})}):Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(T,{})})}}var nt=Object(l.f)(ot);class lt extends i.Component{constructor(e){super(e);const t=$.a.parse(e.location.search,{ignoreQueryPrefix:!0});this.state={saved:t.q,page:t.page}}componentDidUpdate(e,t){const s=$.a.parse(e.location.search,{ignoreQueryPrefix:!0}),a=$.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});s.page!==a.page&&this.setState({page:a.page}),s.q!==a.q&&this.setState({saved:a.q})}render(){return"undefined"===typeof re[this.props.match.params.table][this.state.saved]?Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(qe.a,{color:"warning",className:"mt-5",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"Ooops!"}),"No saved query ",Object(a.jsx)("code",{children:this.state.saved})," found."]})}):Object(a.jsxs)("div",{children:[Object(a.jsx)(ze,{tb:this.props.match.params.table,text:re[this.props.match.params.table][this.state.saved].title}),Object(a.jsx)(nt,{tb:this.props.match.params.table,query:this.state.saved,type:"saved",page:this.state.page})]})}}var pt=s(539),dt=s(540),ht=s(210);class bt extends i.Component{constructor(e){super(),this.state={fields:!1,fld:!1}}_setState(e,t){let s;if(e=Ue.fld_whitelist.map((t=>!!e[t]&&{value:t,label:e[t].label})).filter((e=>e)),t)s=e.filter((e=>e.value===t))[0];else{if(Ue.searchDefault[this.props.tb]){const t=Ue.searchDefault[this.props.tb].includes("paths")?Ue.searchDefault[this.props.tb]:"paths__".concat(this.props.tb,":").concat(Ue.searchDefault[this.props.tb]);s=e.filter((e=>e.value===t))[0]}else s=e[0];this.props.onChange(s)}this.setState({fields:e,fld:s})}componentDidMount(){Qe.inspect(this.props.tb,(e=>{this._setState(e.fields,this.props.fld)}))}render(){return this.state.fields?Object(a.jsx)(ht.a,{defaultValue:this.state.fld,options:this.state.fields,onChange:this.props.onChange}):null}}var mt=s(209);function jt(e){const t=Object(i.useState)(!1),s=Object(u.a)(t,2),r=s[0],c=s[1],o=Object(i.useState)([]),n=Object(u.a)(o,2),l=n[0],p=n[1],d=Object(i.useCallback)((t=>{c(!0);const s=e.fld.split(":"),a=Object(u.a)(s,2),i=a[0],r=a[1];Qe.getUniqueVal(i,r,t,(e=>{p(e),c(!1)}))}),[e.fld]),h=e.val&&e.val.customOption?e.val.customOption.label:e.val?[e.val]:[];return Object(a.jsx)(mt.a,{id:"get-value-from-db",isLoading:r,minLength:1,options:l,multiple:!1,placeholder:"Add a value",onSearch:d,onChange:e.onChange,onInputChange:e.onChange,defaultSelected:h})}class ut extends i.Component{constructor(e){super(),this.state={fld:e.fld,val:e.val,strict:!0===e.strict},this.handleSubmit=this.handleSubmit.bind(this),this._changeField=this._changeField.bind(this),this._changeVal=this._changeVal.bind(this),this._changeStrict=this._changeStrict.bind(this)}componentDidUpdate(e){e!==this.props&&this.setState({fld:this.props.fld,val:this.props.val,strict:!!this.props.strict})}_changeField(e){this.setState({fld:e.constructor===Object&&e.value?e.value:e})}_changeVal(e){this.setState({val:e.constructor===Array?e[0]:e})}_changeStrict(e){this.setState({strict:e.target.checked})}handleSubmit(e){e.preventDefault(),this.state.val?this.props.onSubmit(this.state.fld,this.state.val,this.state.strict):alert("Insert a value to continue")}render(){return Object(a.jsx)("div",{className:"my-5",children:Object(a.jsx)("form",{onSubmit:this.handleSubmit,className:"form",children:Object(a.jsxs)(pt.a,{row:!0,children:[Object(a.jsx)(k.a,{sm:4,children:Object(a.jsx)(bt,{tb:this.props.tb,fld:this.state.fld,onChange:this._changeField})}),Object(a.jsx)(k.a,{sm:5,children:Object(a.jsx)(jt,{fld:this.state.fld,val:this.state.val,onChange:this._changeVal})}),Object(a.jsx)(k.a,{sm:1,children:Object(a.jsxs)(dt.a,{check:!0,children:[Object(a.jsx)(Z.a,{name:"strict",type:"checkbox",checked:this.state.strict,onChange:this._changeStrict})," Strict"]})}),Object(a.jsxs)(k.a,{sm:2,children:[" ",Object(a.jsx)(oe.a,{type:"submit",color:"success",block:!0,children:"Search!"})," "]})]})})})}}class gt extends i.Component{constructor(e){super();const t=$.a.parse(e.location.search,{ignoreQueryPrefix:!0});this.state={fld:t.f,val:t.v,strict:t.s&&"false"!==t.s&&"undefined"!==t.s,page:t.page},this._onFormSubmit=this._onFormSubmit.bind(this)}_onFormSubmit(e,t,s){const a="f="+encodeURIComponent(e)+(s?"&s=1":"")+"&v="+encodeURIComponent(t);this.setState({fld:e,val:t,strict:s}),this.props.history.push("/search/".concat(this.props.match.params.table,"?").concat(a))}componentDidUpdate(e,t){const s=$.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==s.page&&this.setState({page:s.page})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ze,{tb:this.props.match.params.table,text:"Simple search"}),Object(a.jsxs)("div",{className:"mt-3 p-1 container",children:[Object(a.jsx)(ut,{tb:this.props.match.params.table,onSubmit:this._onFormSubmit,fld:this.state.fld,val:this.state.val,strict:this.state.strict}),Object(a.jsx)("hr",{})]}),this.state.fld&&this.state.val&&Object(a.jsx)(nt,{tb:this.props.match.params.table,type:"simple",fld:this.state.fld,val:this.state.val,strict:this.state.strict,page:this.state.page})]})}}class xt extends i.Component{render(){return Object(a.jsx)("div",{children:Object(a.jsx)(Z.a,Object(He.a)(Object(He.a)({type:"select",placeholder:"select"},this.props),{},{children:[{k:"LIKE",v:"Contains"},{k:"=",v:"Is exactly"},{k:"NOT LIKE",v:"Does not contain"},{k:"starts_with",v:"Starts with"},{k:"ends_with",v:"Ends with"},{k:"is_empty",v:"Is empty"},{k:"is_not_empty",v:"Is not empty"},{k:">",v:"Is bigger than"},{k:"<",v:"Is smaller than"}].map(((e,t)=>Object(a.jsx)("option",{value:e.k,children:e.v},t)))}))})}}function _t(e){return Object(a.jsx)("div",{children:Object(a.jsxs)(Z.a,Object(He.a)(Object(He.a)({type:"select"},e),{},{children:[Object(a.jsx)("option",{value:"AND",children:"AND"}),Object(a.jsx)("option",{value:"OR",children:"OR"})]}))})}class Ot extends i.Component{constructor(e){super(e);const t=$.a.parse(e.location.search,{ignoreQueryPrefix:!0});let s,a=!1;0===Object.getOwnPropertyNames(t).length?s={a:{f:"",o:"LIKE",v:""}}:(s=t,a=!0),this.state={rows:s,showResults:a,page:!1},this._changeOperator=this._changeOperator.bind(this),this._changeConnector=this._changeConnector.bind(this),this._addRow=this._addRow.bind(this),this._removeRow=this._removeRow.bind(this)}_removeRow(e){let t=this.state.rows;delete t[e.target.name],this.setState({rows:t,showResults:!1})}_addRow(){let e=this.state.rows;e["a"+Math.random().toString(36).substr(2,9)]={f:"",o:"LIKE",v:"",c:"AND"},this.setState({rows:e,showResults:!1})}_changeField(e,t){let s=this.state.rows;s[e].f=t.constructor===Object&&t.value?t.value:t,this.setState({rows:s,showResults:!1})}_changeVal(e,t){let s=this.state.rows;s[e].v=t.constructor===Array?t[0]:t,this.setState({rows:s,showResults:!1})}_changeOperator(e){let t=this.state.rows;t[e.target.name].o=e.target.value,this.setState({rows:t,showResults:!1})}_changeConnector(e){let t=this.state.rows;t[e.target.name].c=e.target.value,this.setState({rows:t,showResults:!1})}_handleSubmit(e){e.preventDefault(),this.setState({showResults:!0});const t=$.a.stringify(this.state.rows);this.props.history.push("/search/".concat(this.props.match.params.table,"/adv?").concat(t))}componentDidUpdate(e,t){const s=$.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==s.page&&this.setState({page:s.page})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ze,{tb:this.props.match.params.table,text:"Advanced search"}),Object(a.jsxs)("div",{className:"mt-3 p-1 container",children:[Object(a.jsxs)("form",{onSubmit:this._handleSubmit.bind(this),className:"form",children:[Object.entries(this.state.rows).map(((e,t)=>{const s=e[0],i=e[1];return Object(a.jsx)("div",{className:"my-3",children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(k.a,{xs:1,children:t>0&&Object(a.jsx)(_t,{defaultValue:i.c,onChange:this._changeConnector,name:s})}),Object(a.jsx)(k.a,{xs:4,children:Object(a.jsx)(bt,{tb:this.props.match.params.table,fld:i.f,onChange:this._changeField.bind(this,s)})}),Object(a.jsx)(k.a,{xs:2,children:Object(a.jsx)(xt,{defaultValue:i.o,name:s,onChange:this._changeOperator})}),Object(a.jsx)(k.a,{xs:3,children:Object(a.jsx)(jt,{fld:i.f,val:i.v,onChange:this._changeVal.bind(this,s)})}),Object(a.jsx)(k.a,{xs:1,children:t+1===Object.keys(this.state.rows).length&&Object(a.jsx)(oe.a,{type:"button",color:"info",block:!0,onClick:this._addRow,children:"+"})}),Object(a.jsx)(k.a,{xs:1,children:t>0&&Object(a.jsx)(oe.a,{type:"button",color:"danger",block:!0,name:s,onClick:this._removeRow,children:"-"})})]})},t)})),Object(a.jsx)(oe.a,{type:"submit",color:"success",block:!0,children:"Search!"})]}),Object(a.jsx)("hr",{})]}),this.state.showResults&&Object(a.jsx)(nt,{tb:this.props.match.params.table,type:"adv",data:this.state.rows,page:this.state.page})]})}}class ft extends i.Component{render(){const e=$.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});return Object(a.jsxs)("div",{children:[Object(a.jsx)(ze,{tb:this.props.match.params.table,text:"Custom query"}),Object(a.jsx)(nt,{tb:this.props.match.params.table,type:"encoded",q:e.q,page:e.page})]})}}class yt extends i.Component{constructor(e){super(e);const t=$.a.parse(e.location.search,{ignoreQueryPrefix:!0});this.state={page:t.page}}componentDidUpdate(e,t){const s=$.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==s.page&&this.setState({page:s.page})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ze,{tb:this.props.match.params.table,text:"View all"}),Object(a.jsx)(nt,{tb:this.props.match.params.table,type:"all",page:this.state.page})]})}}var vt=s.p+"static/media/places.2f644bcf.md",Nt=s.p+"static/media/places.52b49a3a.jpg",wt=s.p+"static/media/manuscripts.8f62d77a.md",kt=s.p+"static/media/manuscripts.a1357b19.jpg",Ct=s.p+"static/media/works.1287edb2.md",Bt=s.p+"static/media/works-without-clavis.3a26df45.md",St=s.p+"static/media/works.c6227c93.jpg",At=s.p+"static/media/titles.f28094cc.md",Gt=s.p+"static/media/titles.950ffc96.jpg",Jt=s.p+"static/media/authors.00655ea7.md",Pt=s.p+"static/media/authors.71b42f83.jpg",Qt=s.p+"static/media/colophons.92373147.md",Xt=s.p+"static/media/colophons.7e23657b.jpg",qt=s.p+"static/media/persons.13c81941.md",Mt=s.p+"static/media/persons.3f31b3fa.jpg",It=s.p+"static/media/collections.c3d31f1d.md",Tt=s.p+"static/media/collections.a80c397a.jpg";s(406);function Dt(e){const t=e.match.params.table,s={places:{label:"Places",img:Nt,data:[{title:!1,mdPath:vt}]},manuscripts:{label:"Manuscripts",img:kt,data:[{title:!1,mdPath:wt}]},works:{label:"Works",img:St,data:[{title:!1,mdPath:Ct},{title:"Literary works currently without a Clavis Coptica entry",mdPath:Bt}]},titles:{label:"Titles",img:Gt,data:[{title:!1,mdPath:At}]},authors:{label:"Authors",img:Pt,data:[{title:!1,mdPath:Jt}]},colophons:{label:"Colophons",img:Xt,data:[{title:!1,mdPath:Qt}]},persons:{label:"Persons",img:Mt,data:[{title:!1,mdPath:qt}]},collections:{label:"Collections",img:Tt,data:[{title:!1,mdPath:It}]}};if(!s.hasOwnProperty(t))return Object(a.jsxs)("div",{className:"container m-5 p-5 text-center text-danger",children:["Error: invalid table name",Object(a.jsx)("code",{children:t})]});const i=s[t];let r={};return i.img&&(r={width:"100%",height:"300px",backgroundImage:"url("+i.img+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:r}),Object(a.jsx)(ze,{tblabel:i.label,tb:t,text:"Introduction"}),Object(a.jsx)("div",{className:"container",children:i.data.map(((e,t)=>Object(a.jsxs)("div",{className:"intro-level-".concat(t," mt-5 border-top pt-5"),children:[e.title&&Object(a.jsx)("h1",{children:e.title}),Object(a.jsx)("div",{className:"my-3 px-md-5 double-column text-justify",children:Object(a.jsx)(D,{path:e.mdPath})})]},t)))})]})}var Lt=s(203),Rt=s(204),Et=s.n(Rt);class Ut extends i.Component{constructor(e){super(e),this.state={uid:Math.random().toString(36).substr(2,5)}}componentDidMount(){if(null!==this.props.string){new Et.a("canvas"+this.state.uid).parseString(this.props.string,"secondHalf"+this.state.uid)}}render(){let e=!1;return null!==this.props.string&&(e=100+this.props.string.length/3*20),Object(a.jsxs)("div",{className:"mt-2 mb-4",children:[Object(a.jsxs)(w.a,{children:[Object(a.jsx)(k.a,{id:"firstHalf",children:this.props.string}),Object(a.jsx)(k.a,{id:"secondHalf"+this.state.uid})]}),e&&Object(a.jsx)("canvas",{width:"400",height:e,id:"canvas"+this.state.uid})]})}}var Ft=Ut,zt=s(205),Ht=s.n(zt);function Wt(e){return e.replace(/@([a-z]+)\.([a-z0-9/]+)(\[([^\]]+)\])?/gi,(function(e,t,s,a,i,r,c){return'<a href="/'.concat(t,"/").concat(s,'">\n        ').concat(a&&i?i:"paths.".concat(t,".").concat(s),"\n      </a>")}))}const Kt=e=>Ht()(e).map(((e,t)=>"string"===typeof e?Object(a.jsx)("span",{className:"internal-link",dangerouslySetInnerHTML:{__html:Wt(e)}},t):e));function Vt(e){const t=e.text,s=e.separator,r=e.fld,c=Object(i.useState)("none"),o=Object(u.a)(c,2),n=o[0],l=o[1],p=t.split(",").map(((e,t)=>{const s=((e,t)=>{const s={tm:"https://www.trismegistos.org/text/".concat(t.trim()),tmgeo:"https://www.trismegistos.org/place/".concat(t.trim()),pleiades:"https://pleiades.stoa.org/places/".concat(t.trim()),ldab:"https://www.trismegistos.org/ldab/text.php?quick=".concat(t.trim()),coptot:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=".concat(encodeURIComponent(t.trim())),colophons:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(t.trim(),".xml"),dbmnt:"http://www.dbmnt.uw.edu.pl/".concat(t.trim())};return void 0!==typeof s[e]&&s[e]})(r,e);return!!s&&Object(a.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:[e,";"]},t)})).filter((e=>e));if(p.length>0)return p;const d=function(e,t,s="."){if(!e||e.length<=t)return[e,!1];const a=e.substr(0,t);if(a.substr(a.length-1)===s)return[a,!1];const i=a+""+e.replace(a,"").split(s)[0],r=e.replace(i+""+s,"");return[i+s,r!==i&&r]}(t,200,s);return d[1]?Object(a.jsxs)("span",{children:[Kt(d[0]),Object(a.jsx)("span",{style:{display:n},children:Kt(d[1])}),"none"===n?"\u2026":"",Object(a.jsx)(oe.a,{color:"info",size:"sm",className:"ml-3",onClick:()=>{l("none"===n?"inline":"none")},children:"none"===n?"+":"-"})]}):Kt(d[0])}s(410);function Zt(e){const t=e.colophon,s=Object(i.useState)(),r=Object(u.a)(s,2),c=r[0],o=r[1];return Object(i.useEffect)((()=>{_e.a.get("https://raw.githubusercontent.com/paths-erc/coptic-texts/master/colophons/paths.colophons.".concat(t,".xml")).then((e=>{const t=(e=>{let t=e.match(/<body>([\s\S]*)<\/body>/i)[1];return t=t.replace(/\s{2,}/gim," ").replace(/\|/gim,"\n"),t=t.replace(/\([0-9]{1,2}\)/gim,""),t=t.replace(/<\/?\b(?:roleName|p|date|gap|org|quote|rs)\b[^>]*>/gim,""),t=t.replace(/^\s+|\s+$/g,""),t=t.replace(/<\s*(?:place|pers)Name[^>]*ref="([^"]+)"[^>]*>(.*?)<\s*\/\s*(?:place|pers)Name>/gi,((e,t,s)=>{const a=t.split(".");return a[1]&&a[2]?'<a href="/'.concat(a[1],"/").concat(a[2],'">').concat(s,"</a>"):s})),t})(e.data);o(t)})).catch((e=>{o("Error in getting marked text of colophon #".concat(t)),console.log(e)}))}),[t]),c?Object(a.jsx)("div",{children:Object(a.jsx)("ol",{className:"colophons",children:c.split("\n").map(((e,t)=>Object(a.jsx)("li",{dangerouslySetInnerHTML:{__html:e.trim()}},t)))})}):Object(a.jsxs)(T,{children:["Loading the marked text of the colophon #",t]})}function Yt(e){const t=e.val,s=e.label,i=e.coptic,r=e.greek,c=e.name,o=e.colophonId;if(!t||""===t)return null;let n=[];return i&&n.push("coptic"),r&&n.push("greek"),Object(a.jsxs)(w.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==t?"":" d-none"),children:[Object(a.jsx)(k.a,{sm:"4",md:"3",children:Object(a.jsx)("label",{className:"font-weight-bold",children:s})}),Object(a.jsx)(k.a,{children:Object(a.jsx)("div",{className:n.join(" "),children:"Quire layout"===s?Object(a.jsx)(Ft,{string:t}):o?Object(a.jsx)(Zt,{colophon:o}):Object(a.jsx)(Vt,{text:t,fld:c,separator:i?"\u2027":"."})})})]})}class $t extends i.Component{render(){return Object(a.jsx)("div",{className:"plugins",children:Object(a.jsxs)(Ie.a,{className:"mt-2",children:[Object(a.jsx)(tt.a,{children:Object(a.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object(a.jsx)(Te.a,{children:this.props.data.data.map(((e,t)=>{return Object(a.jsxs)("span",{className:"mr-3",children:[(s=e.zotero.val,i=e.short.val,s?Object(a.jsx)("a",{href:"https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/"+s,target:"_blank",rel:"noopener noreferrer",children:i}):i),e.details.val?", "+e.details.val:"",e.images.val?" [".concat(e.images.val,"];"):";"]},t);var s,i}))})]})})}}class es extends i.Component{constructor(e){super(e),this.state={modal:!1},this.toggle=this.toggle.bind(this)}getHtmlModalBody(e){return Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{children:"Country:        "}),Object(a.jsx)("dd",{children:e.country.val}),Object(a.jsx)("dt",{children:"Town:           "}),Object(a.jsx)("dd",{children:e.town.val}),Object(a.jsx)("dt",{children:"Institution:    "}),Object(a.jsx)("dd",{children:e.institution.val}),Object(a.jsx)("dt",{children:"Collection name:"}),Object(a.jsx)("dd",{children:e.name.val}),Object(a.jsx)("dt",{children:"CMCL full name: "}),Object(a.jsx)("dd",{children:e.fullsegnat.val}),Object(a.jsx)("dt",{children:"URN:            "}),Object(a.jsx)("dd",{children:Object(a.jsxs)("code",{children:["paths.shelfmarks.",e.id.val]})})]})}toggle(e){e.id&&this.setState({title:e.fullname.val,body:this.getHtmlModalBody(e)}),this.setState({modal:!this.state.modal})}render(){return Object(a.jsxs)("div",{className:"plugins",children:[Object(a.jsxs)(Ie.a,{className:"mt-2",children:[Object(a.jsx)(tt.a,{children:Object(a.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object(a.jsx)(Te.a,{children:Object(a.jsx)("ul",{children:this.props.data.data.map(((e,t)=>Object(a.jsxs)("li",{children:[Object(a.jsx)(oe.a,{style:{margin:"0 0 4px 0",padding:0},color:"link",onClick:()=>this.toggle(e),children:e.fullname.val}),e.shelfmark.val?", "+e.shelfmark.val:"",e.pp.val?", "+e.pp.val:""]},t)))})})]}),Object(a.jsxs)(le.a,{isOpen:this.state.modal,toggle:this.toggle,children:[Object(a.jsx)(pe.a,{toggle:this.toggle,children:this.state.title}),Object(a.jsx)(de.a,{children:this.state.body})]})]})}}class ts extends i.Component{constructor(e){super(e),this.state={display:"none"},this.toggleDisplay=this.toggleDisplay.bind(this)}toggleDisplay(){this.setState({display:"none"===this.state.display?"inline":"none"})}render(){return Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{style:{display:this.state.display},className:"ml-3 bg-light text-muted p-2",children:this.props.text}),Object(a.jsx)(oe.a,{color:"info",size:"sm",className:"ml-3",onClick:this.toggleDisplay,children:"none"===this.state.display?Object(a.jsx)(j.a,{icon:"info"}):"<"})]})}}class ss extends i.Component{render(){const e=this.props.data.length;return Object(a.jsx)("div",{children:this.props.data.map(((t,s)=>Object(a.jsxs)("span",{className:"mr-2 pr-2"+(e===s+1?"":" border-right border-warning"),children:[Object(a.jsxs)("span",{className:t.language.val?t.language.val.toLowerCase():"",title:t.notes.val,children:[t.toponym.val," "]}),t.transcription.val?Object(a.jsxs)("span",{className:"text-muted ml-2",children:["[",t.transcription.val,"]"]}):"",t.notes.val?Object(a.jsx)(ts,{text:t.notes.val}):""]},s)))})}}class as extends i.Component{parseNames(e){let t={};return e.forEach(((e,s)=>{t[e.language.val]||(t[e.language.val]=[]),t[e.language.val].push(e)})),Object.keys(t).map(((e,s)=>Object(a.jsxs)(w.a,{className:"border-bottom mt-2 mb-2 pb-1",children:[Object(a.jsx)(k.a,{sm:"4",md:"3",children:Object(a.jsx)("label",{className:"font-weight-bold",children:e})}),Object(a.jsx)(k.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)(ss,{data:t[e]})})})]},s)))}render(){return Object(a.jsx)("div",{className:"plugins",children:Object(a.jsxs)(Ie.a,{className:"mt-2",children:[Object(a.jsx)(tt.a,{children:Object(a.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object(a.jsx)(Te.a,{children:this.parseNames(this.props.data.data)})]})})}}class is extends i.Component{render(){return this.props.data.data.length<1?null:"paths__m_biblio"===this.props.data.metadata.tb_id?Object(a.jsx)($t,{data:this.props.data}):"paths__m_shelfmarks"===this.props.data.metadata.tb_id?Object(a.jsx)(es,{data:this.props.data}):"paths__m_toponyms"===this.props.data.metadata.tb_id?Object(a.jsx)(as,{data:this.props.data}):Object(a.jsx)("div",{className:"plugins",children:Object(a.jsxs)(Ie.a,{className:"mt-2",children:[Object(a.jsx)(tt.a,{children:Object(a.jsx)("h5",{children:this.props.data.metadata.tb_label})}),this.props.data.data.map(((e,t)=>Object(a.jsxs)(Te.a,{className:"border border-info mb-2",children:[Object.keys(e).map(((t,s)=>Ue.hidden.indexOf(this.props.data.metadata.tb_stripped+"."+t)>-1||"sort"===t?null:e[t].label?Object(a.jsx)(Yt,{coptic:Ue.coptic.indexOf(this.props.data.metadata.tb_stripped+"."+t)>-1,greek:Ue.greek.indexOf(this.props.data.metadata.tb_stripped+"."+t)>-1,val:e[t].val_label?e[t].val_label:e[t].val,label:e[t].label},s):null)),Object(a.jsx)("hr",{})]},t)))]})})}}var rs=is;function cs(e){const t=e.data.val_label?e.data.val_label:e.data.val,s=e.data.label,i=e.data.name,r=e.data.coptic,c=e.data.greek;if(!t||""===t)return null;let o=[];return r&&o.push("coptic"),c&&o.push("greek"),Object(a.jsxs)(w.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==t?"":" d-none"),children:[Object(a.jsx)(k.a,{sm:"4",md:"3",children:Object(a.jsx)("label",{className:"font-weight-bold",children:s})}),Object(a.jsx)(k.a,{children:Object(a.jsx)("div",{className:o.join(" "),children:"Quire layout"===s?Object(a.jsx)(Ft,{string:t}):Object(a.jsx)(Vt,{text:t,fld:i,separator:r?"\u2027":"."})})})]})}class os extends i.Component{render(){const e=this.props.fields,t=this.props.legend;let s=!1;return e.forEach((e=>{"undefined"!==typeof e.val&&e.val&&""!==e.val&&(s=!0)})),!!s&&Object(a.jsxs)("fieldset",{className:"p-3 border border-warning mt-3",children:[t&&Object(a.jsx)("legend",{className:"border border-warning shadow-sm text-muted px-3 py-1",style:{fontSize:"1.1rem",fontWeight:"bold"},children:t}),e.map(((e,t)=>Object(a.jsx)(cs,{data:e},t)))]})}}class ns extends i.Component{render(){const e=this.props.rec;return Object(a.jsxs)("div",{children:[Object(a.jsx)(os,{legend:"Manuscript identifiers",fields:[e.core.id,e.core.cmclid,e.core.tm,e.core.ldab,e.core.lcbm,e.core.dbmnt,e.core.alias,e.core.issinglefrag,e.core.reusedinbinding,e.core.stratigraphy,e.core.modernhistory,e.core.contents]}),e.plugins.paths__m_shelfmarks&&Object(a.jsx)(rs,{data:e.plugins.paths__m_shelfmarks}),Object(a.jsx)(os,{legend:"Dialects",fields:[e.core.dialect,e.core.dialectnotes]}),Object(a.jsx)(os,{legend:"Dating",fields:[e.core.datingsource,e.core.chronofrom,e.core.chronoto,e.core.datingcriteria]}),e.plugins.paths__m_msplaces&&Object(a.jsx)(rs,{data:e.plugins.paths__m_msplaces}),Object(a.jsx)(os,{legend:"Book form",fields:[e.core.bookform,e.core.writingsupport]}),Object(a.jsx)(os,{legend:"General description",fields:[e.core.leaftotextant,e.core.fragtot,e.core.fragdim,e.core.leaftotestimated,e.core.quiresextant,e.core.gennotes]}),Object(a.jsx)(os,{legend:"Page description",fields:[e.core.columns,e.core.colnotes,e.core.linespercolumn,e.core.charsperline,e.core.alignment,e.core.alignmentnotes]}),Object(a.jsx)(os,{legend:"Dimensions (mm) and proportions",fields:[e.core.leafw,e.core.leafh,e.core.framew,e.core.frameh,e.core.intercolumnium,e.core.marginup,e.core.marginlow,e.core.marginin,e.core.marginout,e.core.marginleft,e.core.marginright,e.core.heighttenlines,e.core.prophw,e.core.propwt,e.core.dimnotes]}),e.plugins.paths__m_quires&&Object(a.jsx)(rs,{data:e.plugins.paths__m_quires}),Object(a.jsx)(os,{fields:[e.core.quirenotes]}),Object(a.jsx)(os,{legend:"Quire signature",fields:[e.core.quiresig,e.core.quiretype,e.core.quireposition,e.core.quirenrnotes]}),Object(a.jsx)(os,{legend:"Pagination",fields:[e.core.pagination,e.core.pagtype,e.core.pagposition,e.core.pagnote]}),Object(a.jsx)(os,{legend:"Foliation (ancient and modern)",fields:[e.core.foliation,e.core.foltype,e.core.folposition,e.core.folnotes]}),Object(a.jsx)(cs,{data:e.core.handstot}),e.plugins.paths__m_hands&&Object(a.jsx)(rs,{data:e.plugins.paths__m_hands}),Object(a.jsx)(os,{legend:"Diacritical signs",fields:[e.core.lectionalsigns,e.core.structuralsigns,e.core.signsnotes]}),Object(a.jsx)(os,{legend:"Abbreviations",fields:[e.core.abbreviations,e.core.abbrnotes]}),Object(a.jsx)(os,{legend:"Ruling and pricking",fields:[e.core.ruling,e.core.rulingtype,e.core.rulingtool,e.core.pricking,e.core.rulingnotes]}),Object(a.jsx)(os,{legend:"",fields:[e.core.leaftabs,e.core.leaftabsnotes]}),Object(a.jsx)(os,{legend:"Manufacture of the rolls",fields:[e.core.kolleseis,e.core.kolleseseisdescr,e.core.tracesnotes,e.core.kollno,e.core.kolldim]}),Object(a.jsx)(os,{legend:"Binding",fields:[e.core.bindings,e.core.covers,e.core.coversnotes,e.core.sewings,e.core.sewingtype,e.core.holesno,e.core.holesarrangement,e.core.holesnotes]}),Object(a.jsx)(os,{legend:"Coloured pigments",fields:[e.core.pgmcol,e.core.pgmlocation,e.core.pgmnotes]}),Object(a.jsx)(os,{legend:"Black inks",fields:[e.core.blktype,e.core.blklocation,e.core.blknotes]}),Object(a.jsx)(os,{legend:"Additional information",fields:[e.core.marginalnotes,e.core.greekminuscule,e.core.greekminusculenotes,e.core.palimpsest,e.core.palimpsestnotes,e.core.decortype,e.core.decorsubj,e.core.decorationdescr,e.core.enlargedinitials,e.core.restancient,e.core.restmodern]}),e.plugins.paths__m_biblio&&Object(a.jsx)(rs,{data:e.plugins.paths__m_biblio}),Object(a.jsx)(os,{legend:"Metadata",fields:[e.core.sourceinfo,e.core.editors,e.core.status,e.core.lastmodified]})]})}}class ls extends i.Component{renderTemplate(e){switch(e.metadata.tb_stripped){case"manuscripts":return Object(a.jsx)(ns,{rec:e});default:return Object(a.jsxs)("div",{children:[Object.values(e.core).map(((t,s)=>Ue.hidden.indexOf(e.metadata.tb_stripped+"."+t.name)>-1?null:Object(a.jsx)(Yt,{coptic:Ue.coptic.indexOf(e.metadata.tb_stripped+"."+t.name)>-1,greek:Ue.greek.indexOf(e.metadata.tb_stripped+"."+t.name)>-1,label:t.label,name:t.name,val:t.val_label?t.val_label:t.val,colophonId:"colophons"===e.metadata.tb_stripped&&"text"===t.name&&e.core.id.val},s))),Object.keys(e.plugins).map(((t,s)=>Object(a.jsx)(rs,{data:e.plugins[t]},s)))]})}}render(){return this.props.rec?Object(a.jsx)("div",{className:"mb-5",children:this.renderTemplate(this.props.rec)}):Object(a.jsx)("div",{className:"m-5 p-5",children:Object(a.jsx)(T,{})})}}class ps extends i.Component{makeHref(e,t){return["/","search","/",e.replace("paths__",""),"/","encoded","?q="+window.btoa("SELECT * FROM "+e+" WHERE "+t)].join("")}renderLinks(e){return Object.entries(e).map((([e,t],s)=>t.tot<1?null:Object(a.jsxs)(Re.a,{tag:n.b,to:this.makeHref(e,t.where),children:[Object(a.jsx)(j.a,{icon:"external-link-square-alt"})," ",t.tot+" referenced item"+(t.tot>1?"s":"")+" in "+t.tb_label]},s)))}renderBackLinks(e){return!("undefined"===typeof e||e.length<1)&&Object.entries(e).map((([e,t],s)=>!(t.tot<1)&&Object(a.jsxs)(Re.a,{tag:n.b,to:this.makeHref(e,t.where),children:[Object(a.jsx)(j.a,{icon:"external-link-square-alt"})," ",t.tot+" referenced item"+(t.tot>1?"s":"")+" in "+t.tb_label]},s)))}render(){return!this.props.links&&!this.props.backlinks||this.props.links.length<1&&this.props.backlinks.length<1?null:Object(a.jsxs)(Ie.a,{className:"mt-2",children:[Object(a.jsxs)(tt.a,{children:[Object(a.jsx)(j.a,{icon:"link"})," Links"]}),Object(a.jsx)(Te.a,{children:Object(a.jsxs)(Le.a,{children:[this.renderLinks(this.props.links),this.renderBackLinks(this.props.backlinks)]})})]})}}var ds=ps;class hs extends i.Component{makeHref(e,t){return["/",e.replace("paths__",""),"/",t].join("")}render(){const e=this.props.links||[];return"undefined"===typeof e||e.length<1?null:Object(a.jsxs)(Ie.a,{className:"mt-2",children:[Object(a.jsxs)(tt.a,{children:[Object(a.jsx)(j.a,{icon:"link"})," Manually entered links"]}),Object(a.jsx)(Te.a,{children:Object(a.jsx)(Le.a,{children:e.map(((e,t)=>Object(a.jsxs)(Re.a,{tag:n.b,to:this.makeHref(e.tb_stripped,e.ref_id),children:[Object(a.jsx)(j.a,{icon:"external-link-square-alt"}),"  ",e.tb_label," #",e.ref_label?e.ref_label:e.ref_id]},t)))})})]})}}var bs=hs,ms=s(541);class js extends i.Component{render(){return this.props.text?Object(a.jsx)(Te.a,{className:"text-secondary",style:{fontSize:".9rem",fontStyle:"italic"},children:this.props.text}):null}}class us extends i.Component{constructor(e){super(e),this.state={modal:!1},this.toggle=this.toggle.bind(this)}toggle(){this.setState({modal:!this.state.modal})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(Ie.a,{className:"mt-1",children:[Object(a.jsx)(ms.a,{top:!0,width:"100%",src:this.props.file,onClick:this.toggle}),Object(a.jsx)(js,{text:this.props.description})]}),Object(a.jsxs)(le.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,size:"lg",children:[Object(a.jsx)(de.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)("img",{style:{width:"100%"},src:this.props.file,alt:this.props.description})})}),Object(a.jsx)(he.a,{children:Object(a.jsx)(js,{text:this.props.description})})]})]})}}class gs extends i.Component{constructor(e){super(e),this.state={shown:!1,buttonText:"Show more images"},this.toggle=this.toggle.bind(this)}toggle(){this.setState({shown:!this.state.shown,buttonText:"Show more images"===this.state.buttonText?"Hide":"Show more"})}render(){return!this.props.files||this.props.files.length<1?null:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{display:this.state.shown?"block":"none"},children:this.props.files.map(((e,t)=>Object(a.jsx)(us,{file:this.props.baseUrl.replace("/api/","/projects/")+"files/"+e.id+"."+e.ext,description:e.description},t)))}),Object(a.jsx)("div",{className:"text-center mt-2",children:Object(a.jsx)(oe.a,{onClick:this.toggle,color:"info",children:this.state.buttonText})})]})}}class xs extends i.Component{render(){let e=this.props.files||[];e=e.map((e=>!!["jpg","png","gif","tif","tiff","jpeg"].includes(e.ext.toLowerCase())&&e)).filter((e=>e));const t=e.slice(0,3),s=e.slice(3);return t.length<1?null:Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("h5",{children:"Attached images"}),t.map(((e,t)=>Object(a.jsx)(us,{file:this.props.baseUrl.replace("/api/","/projects/")+"files/"+e.id+"."+e.ext,description:e.description},t))),Object(a.jsx)(gs,{files:s,baseUrl:this.props.baseUrl})]})}}var _s=s(160),Os=s(161);const fs=e=>{const t=e.properties;let s,a={weight:2,fillOpacity:.2};switch(t.reconstr?(a.dashArray="4 4",s=.4):s=.8,!0){case t.phase<-1:a.color="rgba(150, 150, 150, "+s+")",a.fillColor="rgba(150, 150, 150, .4)";break;case-1===t.phase:a.color="rgba(61, 90, 128, "+s+")",a.fillColor="rgba(61, 90, 128, .4)";break;case 1===t.phase:a.color="rgba(247, 110, 1, "+s+")",a.fillColor="rgba(247, 110, 1, .4)";break;case 2===t.phase:a.color="rgba(194, 0, 251, "+s+")",a.fillColor="rgba(194, 0, 251, .4)";break;case 3===t.phase:a.color="rgba(56, 134, 89, "+s+")",a.fillColor="rgba(56, 134, 89, .4)";break;case t.phase>3:a.color="rgba(80, 47, 76, "+s+")",a.fillColor="rgba(56, 134, 89, .4)";break;default:a.color="rgba(31, 120, 180, "+s+")",a.fillColor="rgba(31, 120, 180, .4)"}return t.part&&t.part.indexOf("u")>-1?(a.fill=!1,a.color="rgba(0, 0, 0, .2)"):t.part&&t.part.indexOf("l")>-1?(a.fillColor="rgba(0, 0, 0, .1)",a.color="rgba(0, 0, 0, .2)"):t.part&&t.part.indexOf("d")>-1&&(a.fillColor="rgba(171, 221, 164, .8)",a.color="rgba(171, 221, 164, 1)"),a},ys=(e,t)=>{t.bindPopup('<a href="https://atlas.paths-erc.eu/places/'.concat(e.properties.place,'">paths.places.').concat(e.properties.place,"</a>\n  <br />").concat(e.properties.subplace,'\n  <br />Vectorized from: <a href="https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/').concat(e.properties.source,'" target="_blank">PAThs Zotero ').concat(e.properties.source," ").concat(e.properties.subsource,"</a>\n  <br />Phase: ").concat(e.properties.phase))};function vs(e){const t=e.bounds,s=e.zoom,c=e.siteId,o=Object(i.useState)(),n=Object(u.a)(o,2),l=n[0],p=n[1];return Object(i.useEffect)((()=>{const e=Be.map((e=>!!e.startsWith("paths.places.".concat(c,"-"))&&_e()({method:"get",url:"https://xyz.paths-erc.eu/geojson/".concat(e,".geojson")}))).filter(Boolean);let t=[];_e.a.all(e).then((e=>{t=e.map((e=>e.data)),p(t)}))}),[t,s,c]),l?Object(a.jsx)(r.a.Fragment,{children:l.map(((e,t)=>Object(a.jsx)(ue.a,{data:e,style:fs,onEachFeature:ys},t)))}):null}s(411);var Ns=s(206),ws=s.n(Ns);const ks=me.b.BaseLayer;function Cs(e){const t=e.geom,s=e.id;if(t.length<1)return null;const i=JSON.parse(t[0].geojson).coordinates.reverse();return Object(a.jsx)("div",{style:{height:"300px",width:"100%"},className:"mb-5",children:Object(a.jsxs)(W.a,{className:"sidebar-map maxHeight",center:i,zoom:15,zoomControl:!0,children:[Object(a.jsx)(ws.a,{position:"topleft"}),Object(a.jsxs)(me.b,{position:"topright",children:[Object(a.jsx)(ks,{name:"AWMC",children:Object(a.jsx)(je.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})}),Object(a.jsx)(ks,{name:"Imperium (DARE)",children:Object(a.jsx)(je.a,{url:"https://dh.gu.se/tiles/imperium/{z}/{x}/{y}.png"})}),Object(a.jsx)(ks,{name:"OpenStreetMap",children:Object(a.jsx)(je.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})}),Object(a.jsx)(ks,{name:"Google Satellite",checked:"true",children:Object(a.jsx)(ge.GoogleLayer,{googlekey:Se,maptype:"SATELLITE"})}),Object(a.jsx)(vs,{siteId:s}),t.map(((e,t)=>{const s=JSON.parse(e.geojson).coordinates.reverse();return Object(a.jsx)(_s.a,{position:s,children:Object(a.jsxs)(Os.a,{children:["Latitude: ",s[0],Object(a.jsx)("br",{}),"Longitude: ",s[1],Object(a.jsx)("br",{}),"CRS: ",Object(a.jsx)("a",{href:"https://epsg.io/4326",target:"_blank",rel:"noopener noreferrer",children:"WGS84 [EPSG:4326]"})]})},t)}))]})]})})}function Bs(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:Object(a.jsx)(Re.a,{children:Object(a.jsxs)("a",{href:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum="+encodeURIComponent(e.data.val),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," The Digital Edition of the Coptic Old Testament"]})})}function Ss(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:Object(a.jsx)("div",{children:e.data.val.split(",").map(((e,t)=>Object(a.jsx)(Re.a,{children:Object(a.jsxs)("a",{href:"https://www.trismegistos.org/text/"+e.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," TM ",e]})},t)))})}function As(e){return"places"!==e.tb||!e.data.val||e.data.val.length<1?null:Object(a.jsx)("div",{children:e.data.val.split(",").map(((e,t)=>Object(a.jsx)(Re.a,{children:Object(a.jsxs)("a",{href:"https://www.trismegistos.org/place/"+e.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," TM Geo ",e]})},t)))})}function Gs(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:Object(a.jsx)("div",{children:e.data.val.split(",").map(((e,t)=>Object(a.jsx)(Re.a,{children:Object(a.jsxs)("a",{href:"https://www.trismegistos.org/ldab/text.php?quick="+e.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," LDAB ",e]})},t)))})}function Js(e){return"places"!==e.tb||!e.data.val||e.data.val.length<1?null:Object(a.jsx)("div",{children:e.data.val.split(",").map(((e,t)=>Object(a.jsx)(Re.a,{children:Object(a.jsxs)("a",{href:"https://pleiades.stoa.org/places/"+e.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," Pleiades ",e]})},t)))})}function Ps(e){return"colophons"!==e.tb||!e.data.val||e.data.val.length<1?null:Object(a.jsx)(Re.a,{children:Object(a.jsxs)("a",{href:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(e.data.val,".xml"),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," View marked-up text on GitHub"]})})}function Qs(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:Object(a.jsx)("div",{children:e.data.val.split(",").map(((e,t)=>Object(a.jsx)(Re.a,{children:Object(a.jsxs)("a",{href:"http://www.dbmnt.uw.edu.pl/".concat(e.trim()),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," DBMNT ",e]})},t)))})}class Xs extends i.Component{render(){return!this.props.rec||this.props.rec.length<1?null:Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsxs)(Ie.a,{className:"mt-2",children:[Object(a.jsxs)(tt.a,{children:[Object(a.jsx)(j.a,{icon:["fab","hubspot"]})," External links"]}),Object(a.jsx)(Te.a,{children:Object(a.jsxs)(Le.a,{children:[Object(a.jsx)(Bs,{data:this.props.rec.lcbm,tb:this.props.tb}),Object(a.jsx)(Ss,{data:this.props.rec.tm,tb:this.props.tb}),Object(a.jsx)(Gs,{data:this.props.rec.ldab,tb:this.props.tb}),Object(a.jsx)(Qs,{data:this.props.rec.dbmnt,tb:this.props.tb}),Object(a.jsx)(As,{data:this.props.rec.tmgeo,tb:this.props.tb}),Object(a.jsx)(Js,{data:this.props.rec.pleiades,tb:this.props.tb}),Object(a.jsx)(Ps,{data:this.props.rec.id,tb:this.props.tb})]})})]})})}}class qs extends i.Component{constructor(e){super(e),this.state={rec:!1,copied:!1}}UNSAFE_componentWillReceiveProps(e){e!==this.props&&(this.setState({rec:null}),Qe.getOne(e.match.params.table,e.match.params.id,(e=>{this.setState({rec:e})})))}componentDidMount(){Qe.getOne(this.props.match.params.table,this.props.match.params.id,(e=>{this.setState({rec:e})}))}renderTemplate(e){return"error"===e.type?Object(a.jsx)("pre",{className:"text-danger p-5",children:e.text}):(e.metadata.tb_stripped,e.core.length<1?Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(ze,{tb:e.metadata.tb_stripped,tblabel:e.metadata.tb_label,text:"View record"}),Object(a.jsx)(Ie.a,{className:"mt-2",children:Object(a.jsx)(tt.a,{children:Object(a.jsxs)("h3",{className:"text-danger",children:["Record paths.",e.metadata.tb_stripped,".",this.props.match.params.id,"  not found!"]})})})]}):Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(ze,{tb:e.metadata.tb_stripped,tblabel:e.metadata.tb_label,text:"View record"}),Object(a.jsxs)(w.a,{className:"mt-2",children:[Object(a.jsx)(k.a,{sm:"8",children:Object(a.jsxs)(Ie.a,{children:[Object(a.jsxs)(tt.a,{children:[Object(a.jsxs)("h3",{children:["paths.",e.metadata.tb_stripped,".",e.core.id.val]}),Object(a.jsxs)("div",{className:"text-secondary d-flex justify-content-between",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{icon:"link"})," http://paths.uniroma1.it/atlas/",e.metadata.tb_stripped,"/",e.core.id.val]}),Object(a.jsx)("div",{children:Object(a.jsx)(Lt.CopyToClipboard,{text:"http://paths.uniroma1.it/atlas/"+e.metadata.tb_stripped+"/"+e.core.id.val,onCopy:()=>{this.setState({copied:!0}),window.setTimeout((()=>{this.setState({copied:!1})}),2e3)},children:Object(a.jsxs)(oe.a,{size:"sm",color:this.state.copied?"primary":"secondary",children:[Object(a.jsx)(j.a,{icon:"clone"})," ",Object(a.jsx)("span",{className:"d-none d-sm-inline",children:this.state.copied?"Copied!":"Copy to clipboard"})]})})})]})]}),Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Cs,{geom:e.geodata,id:e.core.id.val}),Object(a.jsx)(ls,{rec:e})]})]})}),Object(a.jsxs)(k.a,{sm:"4",children:[Object(a.jsx)(xs,{files:e.files,baseUrl:Qe.getBaseUrl()}),Object(a.jsx)(ds,{links:e.links,backlinks:e.backlinks}),Object(a.jsx)(bs,{links:e.manualLinks}),Object(a.jsx)(Xs,{rec:e.core,tb:e.metadata.tb_stripped})]})]})]}))}render(){return this.state.rec?Object(a.jsx)("div",{className:"mb-5",children:this.renderTemplate(this.state.rec)}):Object(a.jsx)("div",{className:"m-5 p-5",children:Object(a.jsx)(T,{})})}}var Ms=s(207);class Is extends i.Component{parseData(e){let t={labels:[],datasets:[{label:"My First dataset",backgroundColor:"rgba(195,31,42,0.8)",borderColor:"rgba(195,31,42,1)",borderWidth:1,hoverBackgroundColor:"rgba(195,31,42,1)",hoverBorderColor:"rgba(195,31,42,0.8)",data:[]}]};return e.forEach((e=>{t.labels.push(e.series_name),Object.keys(e).forEach((s=>{"series_name"!==s&&(t.datasets[0].data.push(e[s]),t.datasets[0].label=s)}))})),t}render(){if(this.props.loading)return Object(a.jsx)(T,{children:"Loading chart..."});if(!this.props.data)return null;const e=this.parseData(this.props.data);return Object(a.jsxs)("div",{className:"my-5",children:[Object(a.jsx)("h2",{children:this.props.name}),Object(a.jsx)(Ms.Bar,{data:e,width:100,height:350,options:{maintainAspectRatio:!1}})]})}}class Ts extends i.Component{constructor(e){super(e),this.state={name:!1,data:!1,loading:!1}}loadChart(e){this.setState({loading:!0}),Qe.getChart(e,(e=>{this.setState({name:e.name}),this.setState({data:e.data}),this.setState({loading:!1})}))}render(){return this.props.charts?"error"===this.props.charts.type?Object(a.jsx)("div",{className:"text-danger mt-5 px-5",children:"Sorry! There was an error getting list of chart from the database..."}):Object(a.jsxs)("div",{className:"mt-5",children:[Object(a.jsx)(Is,{name:this.state.name,data:this.state.data,loading:this.state.loading}),Object(a.jsx)(Ie.a,{children:Object(a.jsx)(Te.a,{children:Object(a.jsx)(Le.a,{children:this.props.charts.map(((e,t)=>Object(a.jsx)(Re.a,{tag:oe.a,onClick:()=>this.loadChart(e.id),className:"mb-3",color:"secondary",children:e.name},t)))})})})]}):Object(a.jsx)(T,{children:"Loading chart list..."})}}class Ds extends i.Component{constructor(e){super(e),this.state={chartList:!1}}componentDidMount(e,t){Qe.getChart("all",(e=>{this.setState({chartList:e})}))}render(){return Object(a.jsxs)("div",{className:"container mt-5",children:[Object(a.jsxs)("h1",{children:[Object(a.jsx)(j.a,{icon:"chart-bar"})," Available charts"]}),Object(a.jsx)(Ts,{charts:this.state.chartList})]})}}s(507);var Ls=s.p+"static/media/Cite.a0d89a54.md";function Rs(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"jumbotron",children:Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsx)("h1",{children:"How to cite the \u201cPAThs\u201d project as a whole and the single database records"})})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"my-5 px-5 cite",children:Object(a.jsx)(D,{path:Ls})})})]})}var Es=s.p+"static/media/Api.c779645a.md";function Us(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"jumbotron",children:Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsx)("h1",{children:"PAThs API & Data export"})})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"my-5 px-5",children:Object(a.jsx)(D,{path:Es})})})]})}var Fs=s(122),zs=s(208);const Hs=Object(zs.a)();window.location.href.match(/atlas\.paths-erc\.eu/g)&&(Fs.a.initialize("UA-10461068-45"),Fs.a.pageview(window.location.pathname+window.location.search));const Ws={ie:1e4,"opera-mini":1e4,bb10:1e4,edge:14,firefox:39,chrome:42,safari:11,opera:29,android:67};let Ks=!1;if(Hs){const e=Hs.name,t=Hs.version.split(".")[0];Object.keys(Ws).indexOf(e)>-1&&t<Ws[e]&&(Ks=!0)}function Vs(){return Ks?Object(a.jsx)(H,{browser:Hs,compatibility:Ws}):Object(a.jsx)(n.a,{basename:"/",children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/map/:action?/:data?",component:Xe}),Object(a.jsxs)(G,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:z}),Object(a.jsx)(l.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:Dt}),Object(a.jsx)(l.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/:id",component:qs}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/saved",component:lt}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/all",component:yt}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/adv",component:Ot}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/encoded",component:ft}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:gt}),Object(a.jsx)(l.a,{exact:!0,path:"/charts/:id?",component:Ds}),Object(a.jsx)(l.a,{exact:!0,path:"/cite",component:Rs}),Object(a.jsx)(l.a,{exact:!0,path:"/api",component:Us})]})]})})}p.b.add(d.i,h.b,d.a,d.b,d.d,d.c,d.e,h.a,d.f,d.g,d.h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(Vs,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[508,1,2]]]);
//# sourceMappingURL=main.8214e2d8.chunk.js.map