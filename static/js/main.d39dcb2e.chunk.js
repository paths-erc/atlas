(this["webpackJsonppaths-atlas"]=this["webpackJsonppaths-atlas"]||[]).push([[0],{220:function(e){e.exports=JSON.parse('{"name":"paths-atlas","version":"1.15.4","description":"The Archaeological Atlas of Coptic Literature by PAThs, an ERC Advanced funded project","bugs":"https://github.com/paths-erc/atlas/issues","email":"julian.bogdani@uniroma1.it","license":"Creative Commons Attribution 4.0 International License.","author":"Julian Bogdani <julian.bogdani@uniroma1.it> (http://www.lettere.uniroma1.it/users/julian-bogdani)","private":true,"homepage":"https://atlas.paths-erc.eu","dependencies":{"@fortawesome/fontawesome-free":"^5.12.0","@fortawesome/fontawesome-svg-core":"^1.2.26","@fortawesome/free-brands-svg-icons":"^5.12.0","@fortawesome/free-solid-svg-icons":"^5.12.0","@fortawesome/react-fontawesome":"^0.1.8","axios":"^0.19.0","chart.js":"^2.9.3","detect-browser":"^4.8.0","gh-pages":"^2.1.1","google-maps":"^3.3.0","leaflet":"^1.6.0","object-hash":"^2.0.1","prop-types":"^15.7.2","qs":"^6.9.1","quirematrix":"^1.2.0","react":"^16.12.0","react-bootstrap-typeahead":"^3.4.7","react-chartjs-2":"^2.8.0","react-copy-to-clipboard":"^5.0.2","react-dom":"^16.12.0","react-fontawesome":"^1.7.1","react-ga":"^2.7.0","react-leaflet":"^2.6.1","react-leaflet-fullscreen":"^1.0.1","react-leaflet-google-v2":"^5.1.3","react-leaflet-sidebarv2":"^0.6.0","react-markdown":"^4.3.1","react-nl2br":"^0.6.0","react-router-dom":"^5.1.2","react-scripts":"^3.3.0","react-select":"^3.0.8","reactstrap":"^8.2.0"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test --env=jsdom","eject":"react-scripts eject"},"browserslist":[">0.2%","not dead","not ie <= 11","not op_mini all"]}')},221:function(e,t,a){e.exports=a.p+"static/media/erc.9fb24811.jpg"},222:function(e,t,a){e.exports=a.p+"static/media/sapienza.8672e003.jpg"},224:function(e,t,a){e.exports=a.p+"static/media/Ripple-1.7s-200px.7466db60.svg"},225:function(e,t,a){e.exports=a.p+"static/media/IntroMd.035bdbc0.md"},226:function(e,t,a){e.exports=a.p+"static/media/LogoMd.36d698ce.md"},227:function(e,t,a){e.exports=a.p+"static/media/MissionStatementMd.9709d2db.md"},228:function(e,t,a){e.exports=a.p+"static/media/lod.3a5d08d7.md"},229:function(e,t,a){e.exports=a.p+"static/media/license.69087295.md"},232:function(e,t,a){e.exports=a.p+"static/media/places.c6fdd924.md"},233:function(e,t,a){e.exports=a.p+"static/media/places.1485b780.jpg"},234:function(e,t,a){e.exports=a.p+"static/media/manuscripts.a19f686b.md"},235:function(e,t,a){e.exports=a.p+"static/media/manuscripts.ef53f386.jpg"},236:function(e,t,a){e.exports=a.p+"static/media/works.a14c270e.md"},237:function(e,t,a){e.exports=a.p+"static/media/works-without-clavis.44aa06a8.md"},238:function(e,t,a){e.exports=a.p+"static/media/works.7aa6593a.jpg"},239:function(e,t,a){e.exports=a.p+"static/media/titles.018dac5d.md"},240:function(e,t,a){e.exports=a.p+"static/media/titles.2b8757e2.jpg"},241:function(e,t,a){e.exports=a.p+"static/media/authors.1055b2ab.md"},242:function(e,t,a){e.exports=a.p+"static/media/authors.d6df50d7.jpg"},243:function(e,t,a){e.exports=a.p+"static/media/colophons.96843ce5.md"},244:function(e,t,a){e.exports=a.p+"static/media/colophons.1df56f78.jpg"},245:function(e,t,a){e.exports=a.p+"static/media/persons.aa28867d.md"},246:function(e,t,a){e.exports=a.p+"static/media/persons.0df9164b.jpg"},247:function(e,t,a){e.exports=a.p+"static/media/collections.63bdac97.md"},248:function(e,t,a){e.exports=a.p+"static/media/collections.93d620a0.jpg"},255:function(e,t,a){e.exports=a.p+"static/media/Cite.0ac293ef.md"},256:function(e,t,a){e.exports=a.p+"static/media/Api.735f70e9.md"},259:function(e,t,a){e.exports=a(607)},276:function(e,t,a){},397:function(e,t){},426:function(e,t,a){},595:function(e,t,a){},599:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),l=a.n(s),o=a(18),i=a(41),c=a(66),p=a(37),m=a(85),d=a(23),h=a(608),u=a(609),b=a(610),g=a(611),f=a(612),_=a(613),E=a(614),v=a(16);function y(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),s=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(h.a,{color:"dark",dark:!0,expand:"md",className:"fixed-top"},r.a.createElement(u.a,{to:"/",tag:o.b},"PAThs"),r.a.createElement(b.a,{onClick:function(){l(!s)}}),r.a.createElement(g.a,{isOpen:s,navbar:!0},r.a.createElement(f.a,{navbar:!0},r.a.createElement(_.a,null,r.a.createElement(E.a,{style:{backgroundColor:"#cc545a",color:"#fff"},to:"/map/saved/all_ms_places",tag:o.c},r.a.createElement(v.a,{icon:"map"})," Atlas")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/places",tag:o.c},"Places")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/manuscripts",tag:o.c},"Manuscripts")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/works",tag:o.c},"Works")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/authors",tag:o.c},"Authors")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/titles",tag:o.c},"Titles")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/colophons",tag:o.c},"Colophons")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/persons",tag:o.c},"Persons")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/collections",tag:o.c},"Collections"))),r.a.createElement(f.a,{className:"ml-auto",navbar:!0},r.a.createElement(_.a,null,r.a.createElement(E.a,{href:"http://paths.uniroma1.it"},"Website")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/cite",tag:o.c},"How to cite PAThs")),r.a.createElement(_.a,null,r.a.createElement(E.a,{to:"/api",tag:o.c},"API"))))))}var k=a(615),w=a(616),O=a(220),N=a(221),j=a.n(N),x=a(222),C=a.n(x);function S(){return r.a.createElement("footer",{className:"mt-5 bg-dark text-white p-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Tracking Papyrus and Parchment Paths",r.a.createElement("br",null),r.a.createElement("span",{className:"lead",style:{color:"#ffab00"}},"An Archaeological Atlas of Coptic Literature"),r.a.createElement("br",null),r.a.createElement("small",null,"Literary Texts in their Geographical Context:",r.a.createElement("br",null),"Production, Copying, Usage, Dissemination and Preservation"))),r.a.createElement("div",{className:"col text-right"},r.a.createElement("p",null,"An ",r.a.createElement("a",{href:"https://erc.europa.eu/",target:"_blank",rel:"noopener noreferrer",title:"European Research Council"},"ERC")," funded project hosted at the ",r.a.createElement("a",{href:"https://www.uniroma1.it",target:"_blank",rel:"noopener noreferrer",title:"Sapienza University of Rome"},"Sapienza University of Rome")),r.a.createElement("p",null,"Principal Investigator ",r.a.createElement("a",{href:"http://www.lettere.uniroma1.it/users/paola-buzi",title:"Paola Buzi",target:"_blank",rel:"noopener noreferrer"},"Paola Buzi")," [",r.a.createElement("a",{href:"mailto:paola.buzi@uniroma1.it",title:"Email to Paola Buzi"},"paola.buzi(at)uniroma1.it"),"]"),r.a.createElement("p",null,r.a.createElement("a",{href:"http://paths.uniroma1.it/",target:"_blank",rel:"noopener noreferrer",title:"PAThs\u2019 web site"},"paths.uniroma1.it")))),r.a.createElement(k.a,{className:"my-3"},r.a.createElement(w.a,{xs:{size:6},md:{size:3,offset:3}},r.a.createElement("img",{src:C.a,alt:"Sapienza Universit\xe0 di Roma",className:"img-fluid"})),r.a.createElement(w.a,{xs:{size:6},md:{size:3}},r.a.createElement("img",{src:j.a,alt:"European Research Council",className:"img-fluid"}))),r.a.createElement("div",{className:"text-center"},r.a.createElement("p",{className:""},"Copyright \xa9 PAThs team, Sapienza Universit\xe0 di Roma.",r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},"Use, sharing and remixing permitted under terms of the",r.a.createElement("br",null),"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License",r.a.createElement("br",null),r.a.createElement("img",{alt:"Creative Commons License",style:{borderWidth:0},src:"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"})))),r.a.createElement("p",null,"Version ",O.version,r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/paths-erc/atlas/commits/master",target:"_blank",rel:"noopener noreferrer"},"Changelog")))))}a(276);function P(e){return r.a.createElement("div",null,r.a.createElement(y,{location:e.location}),r.a.createElement("main",{role:"main",className:"maxHeight"},e.children),r.a.createElement(S,null))}var A=a(83),B=a.n(A),q=a(130),I=a.n(q),G=a(223),D=a.n(G),J=a(224),T=a.n(J);function M(e){var t={width:e.width?e.width:"100px"};return r.a.createElement("span",null,r.a.createElement("img",{src:T.a,style:t,alt:"Loading..."}),""!==e.children?e.children:r.a.createElement("span",null,"Loading..."))}function Q(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),s=a[0],l=a[1];return Object(n.useEffect)((function(){var t;t=e.path,I.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.awrap(fetch(t).then((function(e){return e.text()})).then((function(e){l(e)})));case 2:case"end":return e.stop()}}))}),[e.path]),s?r.a.createElement(D.a,{source:s,escapeHtml:!1}):r.a.createElement(M,null)}var R=a(225),L=a.n(R),X=a(226),U=a.n(X),F=a(227),z=a.n(F),H=a(228),V=a.n(H),W=a(229),K=a.n(W);function Y(){var e=[{id:"intro",title:"Introduction",path:L.a},{id:"logo",title:"Logo",path:U.a},{id:"missionstatement",title:"Mission Statement",path:z.a},{id:"lod",title:"Linked Open Data",path:V.a},{id:"license",title:"Copyright and license",path:K.a}];return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("img",{className:"img-fluid shadow-lg",src:B.a,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"}))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-5 px-5"},r.a.createElement("div",null,r.a.createElement("div",{className:"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow"},r.a.createElement("h4",null,"Table of contents"),r.a.createElement("ul",{className:"p-0 m-0"},e.map((function(e,t){return r.a.createElement("li",{key:t,style:{listStyle:"none"}},r.a.createElement("a",{href:"#"+e.id},e.title))})))),e.map((function(e,t){return r.a.createElement("div",{key:t,className:"text-justify"},r.a.createElement("h1",{id:e.id,className:"mt-5"},e.title),r.a.createElement(Q,{path:e.path}))}))))))}function Z(e){var t=e.compatibility,a=e.browser;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"my-5 py-5"},r.a.createElement("h1",null,"Sorry, it seems that your browser is not supported!"),r.a.createElement("p",null,"You are running ",r.a.createElement("code",null,a.name),", version ",r.a.createElement("code",null,a.version)," on ",r.a.createElement("code",null,a.os),"."),r.a.createElement("p",null,"Please upgrade your browser or use a modern one to work with PAThs Atlas."),r.a.createElement("div",null,r.a.createElement("h4",null,"Compatibility list"),r.a.createElement("pre",null,Object.keys(t).map((function(e,a){return r.a.createElement("div",{key:a},1e4!==t[e]?e+" >= "+t[e]:"")})))),r.a.createElement("div",{className:"border-top pt-5 mt-5"},r.a.createElement("img",{className:"img-fluid shadow-lg",src:B.a,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"}))))}var $=a(9),ee=a(10),te=a(12),ae=a(11),ne=a(13),re=a(163),se=a(622),le=a(640),oe=a(623),ie=a(19),ce=a.n(ie),pe=a(69),me=a(617),de=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return this.props.places&&this.props.places.features?r.a.createElement("div",{className:"mt-3"},r.a.createElement("h5",null,"Found ",this.props.places.features.length," places"),r.a.createElement("ol",null,this.props.places.features.map((function(e,t){return r.a.createElement("li",{key:t,className:"border-bottom border-info mb-3 pb-1"},r.a.createElement("strong",null,e.properties.name),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("span",{className:"coptic"},e.properties.copticname)),["greekname","egyptianname"].map((function(t,a){return e[t]?r.a.createElement("div",{key:a},r.a.createElement("small",null,e.properties[t])):null})),e.properties["count(mp.id_link)"]?r.a.createElement("div",{className:"text-right"},r.a.createElement(me.a,{color:"secondary"},e.properties["count(mp.id_link)"]," manuscripts related")):null,r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement(v.a,{icon:"id-badge"})," ",r.a.createElement(o.b,{to:"/places/"+e.properties.id},"paths.places.",e.properties.id))))})))):null}}]),t}(n.Component);function he(e){return e.urlFilter?r.a.createElement("div",null,r.a.createElement(o.b,{to:"/map",className:"btn btn-warning btn-block mt-1 mb-3"},r.a.createElement(v.a,{icon:"filter"})," Filter active. Click to disable")):null}var ue=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Map legend"),r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#f64747"}}),"Production places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#d47500"}}),"Storage places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#aa8f00"}}),"Discovery places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#b381b3"}}),"Discovery and production places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#009fd4"}}),"Storage and production places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#00aa55"}}),"Discovery and storage places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#939393"}}),"Discovery, storage and production places of manuscripts")),r.a.createElement("hr",null),r.a.createElement("h5",null,"Available basemaps"),r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"http://pelagios.org/maps/greco-roman/",target:"_blank",rel:"noopener noreferrer"},"Imperium, Pelagios")),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"http://dare.ht.lu.se/",target:"_blank",rel:"noopener noreferrer"},"Imperium, Digital Atlas of Ancient World (DARE)")),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"http://awmc.unc.edu/wordpress/",target:"_blank",rel:"noopener noreferrer"},"Ancient World Mapping Center")),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"https://www.openstreetmap.org",target:"_blank",rel:"noopener noreferrer"},"Open Street Map"))))}}]),t}(n.Component),be={places:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:"places?verb=search&type=encoded",data:{join:" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` ",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `mp`.`type` = 'discovery' ")}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:"places?verb=search&type=encoded",data:{join:" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` ",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `mp`.`type` = 'storage' ")}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:"places?verb=search&type=encoded",data:{join:" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` ",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `mp`.`type` = 'production' ")}},episcopal_sees:{id:"episcopal_sees",title:"Episcopal sees",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`episcopalsee`=1")}},ms_in_graves:{id:"ms_in_graves",title:"Places where manuscrips used in funerary contexts have been found",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`id` IN (24, 28, 74, 83, 174, 178, 274)")}},cemeteries:{id:"cemeteries",title:"Catacombs, cemeteries tombs or necropoleis",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'catacomb, cemetery, necropolis' OR `typology` = 'tomb'")}},hermitages:{id:"hermitages",title:"Hermitage units (mainly referred to the area of Western Thebes)",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'hermitage unit(s)'")}},mines:{id:"mines",title:"Mines or quarries",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'mine, quarry'")}},monasteries:{id:"monasteries",title:"Monasteries",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'monastery'")}},settlements:{id:"settlements",title:"Settlement",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'settlement'")}}},titles:{final:{id:"final",title:"Final titles",url:"titles?verb=search&type=encoded",data:{q_encoded:btoa(" `type` = 'final'")}},section_headings:{id:"section_headings",title:"Section headings",url:"titles?verb=search&type=encoded",data:{q_encoded:btoa(" `type` = 'section heading'")}}},authors:{bishops:{id:"bishops",title:"Authors-(arch)bishops",url:"authors?verb=search&type=encoded",data:{q_encoded:btoa(" `title` LIKE '%bishop' ")}}},manuscripts:{palimpsest_ms:{id:"palimpsest_ms",title:"Palimpsest manuscripts",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`palimpsest` = 1")}},wandering_ms:{id:"wandering_ms",title:"\u201cWandering\u201d manuscripts (for instance manufactured in a place but stored in another palace, etc.)",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`id` IN ( SELECT `mp`.`id_link` FROM `paths__m_msplaces` as `mp` GROUP BY `mp`.`id_link` HAVING COUNT(DISTINCT `place`) > 1 )")}},ms_has_bindings:{id:"ms_has_bindings",title:"Manuscripts with ancient bookbindings",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bindings`=1")}},detached_bindings:{id:"detached_bindings",title:"Bookbindings detached from original manuscripts",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`isbookbinding`=1")}},horizontal_rolls:{id:"horizontal_rolls",title:"Horizontal rolls",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform` = 'horizontal roll'")}},vertical_rolls:{id:"vertical_rolls",title:"Vertical rolls",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform` = 'vertical roll'")}},minor_dialects:{id:"minor_dialects",title:"\u201cMinor\u201d dialects",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` NOT LIKE '%F;%' AND `dialect` NOT LIKE '%S;%' AND `dialect` NOT LIKE '%B;%' AND `dialect` NOT LIKE '%F' AND `dialect` NOT LIKE '%S' AND `dialect` NOT LIKE '%B'")}},miniature_codices:{id:"miniature_codices",title:"Miniature codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`leafw`<101 AND `leafw`>0 AND `bookform` = 'codex'")}},square_codices:{id:"square_codices",title:"Square format codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform`='codex' AND `prophw`>.84 AND `prophw`<1.16")}},oblong_codices:{id:"oblong_codices",title:"Oblong format codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform`='codex' AND `prophw`>1.84")}},early_bohairic:{id:"early_bohairic",title:"Early Bohairic manuscripts (up to 7th cent.)",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` LIKE '%B%' AND `chronoto`<'701'")}},fayyumic:{id:"fayyumic",title:"Fayyumic dialect manuscripts",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` LIKE '%F%' ")}},ms_third_c:{id:"ms_third_c",title:"Manuscripts up to the 3rd Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` < 301")}},ms_forth_c:{id:"ms_forth_c",title:"Manuscripts of the 4th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 299 AND `chronofrom` < 400")}},ms_fifth_c:{id:"ms_fifth_c",title:"Manuscripts of the 5th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 399 AND `chronofrom` < 500")}},ms_sixth_c:{id:"ms_sixth_c",title:"Manuscripts of the 6th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 499 AND `chronofrom` < 600")}},ms_seventh_c:{id:"ms_seventh_c",title:"Manuscripts of the 7th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 599 AND `chronofrom` < 700")}}},works:{translations_biblical_sahidic:{id:"translations_biblical_sahidic",title:"Translations of biblical works into Sahidic - first phase (3rd-4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into Sahidic - first phase (3rd-4th cent.)'")}},translations_biblical_bohairic:{id:"translations_biblical_bohairic",title:"Translations of biblical works into Bohairic - first phase (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into Bohairic - first phase (4th cent.)")}},early_translations_other:{id:"early_translations_other",title:"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)'")}},translations_apocryphal:{id:"translations_apocryphal",title:"Translations of apocryphal works \u2013 first phase (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent(" `litperiod` = 'Translations of apocryphal works \u2013 first phase (4th cent.)'")))}},translations_gnostic:{id:"translations_gnostic",title:"Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)' ")))}},translations_manichaean:{id:"translations_manichaean",title:"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)' ")))}},translations_patristic:{id:"translations_patristic",title:"Translation of patristic works \u2013 first phase (3th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation of patristic works \u2013 first phase (3th-5th cent.)' ")))}},pachomius:{id:"pachomius",title:"Pachomius and the early Pachomian milieu (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Pachomius and the early Pachomian milieu (4th-5th cent.)' ")))}},shenoute:{id:"shenoute",title:"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)' ")))}},standard_translations:{id:"standard_translations",title:"\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)' ")))}},translations_apocryphal_second:{id:"translations_apocryphal_second",title:"Translations of apocryphal texts \u2013 second phase (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translations of apocryphal texts \u2013 second phase (4th-5th cent.)' ")))}},translations_hagiographical:{id:"translations_hagiographical",title:"Translations of hagiographical works \u2013 first phase (4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translations of hagiographical works \u2013 first phase (4th-6th cent.)' ")))}},classsical_translations_homilies:{id:"classsical_translations_homilies",title:"\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)' ")))}},classsical_translations_historiae:{id:"classsical_translations_historiae",title:"\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)' ")))}},classsical_translations_acts:{id:"classsical_translations_acts",title:"\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)' ")))}},classsical_translations_monastic:{id:"classsical_translations_monastic",title:"\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)' ")))}},post_chalcedonian:{id:"post_chalcedonian",title:"Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)' ")))}},historiographic:{id:"historiographic",title:"Historiographic Production (6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Historiographic Production (6th cent.)' ")))}},orig_lit_formation:{id:"orig_lit_formation",title:"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Formation of the earlier hagiographic cycles (6 cent.)' ")))}},orig_lit_damian_hag:{id:"orig_lit_damian_hag",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies' ")))}},orig_lit_damian_hom:{id:"orig_lit_damian_hom",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies' ")))}},poetry:{id:"poetry",title:"Poetic production (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Poetic production (7th-8th cent.)' ")))}},orig_lit_hom:{id:"orig_lit_hom",title:"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Homilies with apocryphal insertions (6th -8th cent.)' ")))}},original_lit_early_islamic:{id:"original_lit_early_islamic",title:"Original Literature: Literary production of the early Islamic period (7th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Literary production of the early Islamic period (7th cent.)' ")))}},standard_translations_in_bohairic:{id:"standard_translations_in_bohairic",title:"\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)' ")))}},original_lit_later_hag:{id:"original_lit_early_islamic",title:"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)' ")))}},synaxarial:{id:"synaxarial",title:"Synaxarial arrangement (9th-10th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Synaxarial arrangement (9th-10th cent.)' ")))}},late_liturgical:{id:"late_liturgical",title:"Late liturgical production (10th-14th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Late liturgical production (10th-14th cent.)' ")))}}},colophons:{cryptography:{id:"cryptography",title:"Colophons with cryptography",url:"colophons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`cryptography`=1 ")))}},greek_minuscule:{id:"greek_minuscule",title:"Colophons with Greek minuscule",url:"colophons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`minusculegreek`=1 ")))}},coptic_minuscule:{id:"coptic_minuscule",title:"Colophons with Coptic minuscule",url:"colophons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`minusculecopitc`=1 ")))}}},persons:{donors:{id:"donors",title:"Donors",url:"persons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`type`='donor'")))}},copyists:{id:"copyists",title:"Copyists",url:"persons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`type`='copyist'")))}}},map:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'discovery' ")}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'storage' ")}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'production' ")}},all_ms_places:{id:"all_ms_places",title:"All places connected to manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[GROUP_CONCAT(DISTINCT mp.type) as type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" 1 ")}},bishoprics:{id:"bishoprics",title:"Bishoprics",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id","fields[paths__geodata.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology",q_encoded:btoa("`paths__places`.`episcopalsee`=1 LIMIT 0, 100")}}}},ge=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},Object.values(be.map).map((function(e,t){return r.a.createElement("li",{key:t,className:"mb-3"},r.a.createElement(o.b,{to:"/map/saved/"+e.id},r.a.createElement(v.a,{icon:"arrow-circle-right"})," ",e.title))})))}}]),t}(n.Component),fe=a(618);function _e(e){return e.show?r.a.createElement(le.a,{addonType:"append"},r.a.createElement(fe.a,{color:"danger",onClick:e.onClick},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):null}var Ee=a(641),ve=a(619),ye=a(620),ke=a(621);function we(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),s=a[0],l=a[1];return r.a.createElement(Ee.a,{isOpen:!s,toggle:function(){return l(!s)},className:e.className},r.a.createElement(ve.a,null,"Error"),r.a.createElement(ye.a,null,e.children),r.a.createElement(ke.a,null,r.a.createElement(fe.a,{color:"success",block:!0,onClick:function(){return l(!s)}},"Close")))}var Oe=a(103),Ne=a(166),je=a(167),xe=a(162),Ce=a(68),Se=a(40),Pe=a.n(Se),Ae=a(14),Be=a.n(Ae),qe=a(230),Ie=a.n(qe),Ge=function(e,t){var a="#0f4880";return e.properties.type&&(e.properties.type.includes("discovery")&&e.properties.type.includes("storage")&&e.properties.type.includes("production")?a="#939393":e.properties.type.includes("discovery")&&e.properties.type.includes("storage")?a="#00aa55":e.properties.type.includes("storage")&&e.properties.type.includes("production")?a="#009fd4":e.properties.type.includes("discovery")&&e.properties.type.includes("production")?a="#b381b3":e.properties.type.includes("discovery")?a="#aa8f00":e.properties.type.includes("storage")?a="#d47500":e.properties.type.includes("production")&&(a="#f64747")),new Be.a.CircleMarker(t,{radius:5,weight:1,color:"#fff",opacity:.9,fillColor:a,fillOpacity:1})},De=function(e,t){var a=window.location.pathname.replace(/\/map(.*)/,"");t.bindPopup("<strong>".concat(e.properties.name,"</strong>")+(e.properties.copticname?'<br /><span class="coptic">'+e.properties.copticname+"</span>":"")+(e.properties.type?'<br /><span class="text-secondary">'.concat(e.properties.type,"</span>"):"")+'<br /><a href="'.concat(a,"/places/").concat(e.properties.id,'">paths/places/').concat(e.properties.id,"</a>")),t.on("mouseover",(function(){t.openPopup()}))};function Je(e){return r.a.createElement(r.a.Fragment,null,e.shownPlaces&&r.a.createElement(xe.a,{onAdd:e.onAdd,key:Ie()(e.shownPlaces),data:e.shownPlaces,pointToLayer:Ge,onEachFeature:De}))}var Te=[{name:"Holy family in Egypt",url:"https://raw.githubusercontent.com/paths-erc/docs/master/data/gis/sacra-famiglia-in-egitto/sacra-famiglia-in-egitto.geojson",info:"https://docs.paths-erc.eu/gis/vectors"},{name:"Coptic monasteries with coordinates",url:"https://raw.githubusercontent.com/paths-erc/docs/master/data/gis/coptic-monasteries-with-coordinates/coptic-monasteries-with-coordinates.geojson",info:"https://docs.paths-erc.eu/gis/vectors"}],Me=["paths.places.16-Elephantine/BGQ6JNX2-186","paths.places.16-Elephantine/BGQ6JNX2-77","paths.places.19-Luxor-complex/BGQ6JNX2-68","paths.places.19-Luxor-complex/BGQ6JNX2-69","paths.places.19-Luxor-complex/BGQ6JNX2-70","paths.places.19-Luxor-complex/BGQ6JNX2-71","paths.places.20-Koptos/BGQ6JNX2-64","paths.places.21-Dendera/BGQ6JNX2-58","paths.places.21-Dendera/BGQ6JNX2-63","paths.places.24-Panopolis/BGQ6JNX2-159","paths.places.24-Panopolis/BGQ6JNX2-161","paths.places.24-Panopolis/BGQ6JNX2-160","paths.places.28-Hermopolis-Magna/BGQ6JNX2-59","paths.places.36-Pelusium/BGQ6JNX2-189","paths.places.36-Pelusium/BGQ6JNX2-88","paths.places.36-Pelusium/BGQ6JNX2-89","paths.places.36-Pelusium/BGQ6JNX2-90","paths.places.38-Alexandria/BGQ6JNX2-1","paths.places.53-Antinoupolis/BGQ6JNX2-52","paths.places.53-Antinoupolis/BGQ6JNX2-53","paths.places.53-Antinoupolis/BGQ6JNX2-55","paths.places.53-Antinoupolis/BGQ6JNX2-54","paths.places.58-Esna/BGQ6JNX2-169","paths.places.58-Esna/BGQ6JNX2-76","paths.places.68-Pbou/BGQ6JNX2-162a","paths.places.68-Pbou/BGQ6JNX2-162b","paths.places.70-Hermonthis/BGQ6JNX2-74","paths.places.72-Deir-Ambra-Adra/BGQ6JNX2_177","paths.places.73-Bawit/BGQ6JNX2-142","paths.places.73-Bawit/BGQ6JNX2-143","paths.places.75-Apa-Jeremiah/BGQ6JNX2-126","paths.places.74-Naqlun/BGQ6JNX2-131b","paths.places.74-Naqlun/BGQ6JNX2-131a","paths.places.74-Naqlun/BGQ6JNX2-131c","paths.places.78-Kellia/BGQ6JNX2-114","paths.places.78-Kellia/BGQ6JNX2-115","paths.places.78-Kellia/BGQ6JNX2-116","paths.places.78-Kellia/BGQ6JNX2-117","paths.places.88-Petemout/BGQ6JNX2-66","paths.places.88-Petemout/BGQ6JNX2-67","paths.places.96-Philae/BGQ6JNX2-78","paths.places.96-Philae/BGQ6JNX2-79","paths.places.96-Philae/BGQ6JNX2-80","paths.places.104-Medinet-Madi/BGQ6JNX2-39","paths.places.104-Medinet-Madi/BGQ6JNX2-40","paths.places.104-Medinet-Madi/BGQ6JNX2-41","paths.places.104-Medinet-Madi/BGQ6JNX2-42","paths.places.104-Medinet-Madi/BGQ6JNX2-43","paths.places.104-Medinet-Madi/BGQ6JNX2-44","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-154","paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-156","paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-155","paths.places.114-Kellis/BGQ6JNX2-85","paths.places.115-Bagawat/BGQ6JNX2-86","paths.places.115-Bagawat/BGQ6JNX2-87","paths.places.116-Abu-Mina/BGQ6JNX2-103","paths.places.116-Abu-Mina/BGQ6JNX2-104","paths.places.116-Abu-Mina/BGQ6JNX2-105","paths.places.116-Abu-Mina/BGQ6JNX2-21a1","paths.places.116-Abu-Mina/BGQ6JNX2-21a2","paths.places.116-Abu-Mina/BGQ6JNX2-21a3","paths.places.116-Abu-Mina/BGQ6JNX2-21b","paths.places.116-Abu-Mina/BGQ6JNX2-21b1","paths.places.116-Abu-Mina/BGQ6JNX2-22","paths.places.116-Abu-Mina/BGQ6JNX2-28b","paths.places.116-Abu-Mina/BGQ6JNX2-30","paths.places.116-Abu-Mina/BGQ6JNX2-31","paths.places.119-Dionysias/BGQ6JNX2-46","paths.places.122-Hawara/BGQ6JNX2-49","paths.places.143-Marea/BGQ6JNX2-9","paths.places.169-Manqabad/BGQ6JNX2-144","paths.places.169-Manqabad/BGQ6JNX2-145","paths.places.173-Dakhleh/BGQ6JNX2-181","paths.places.176-Deir abu Matta/BGQ6JNX2-180","paths.places.182-Karnak/BGQ6JNX2-167","paths.places.188-Pharan/BGQ6JNX2-96a","paths.places.188-Pharan/BGQ6JNX2-96b","paths.places.188-Pharan/BGQ6JNX2-97","paths.places.215-Deir-Abu-Hennes/BGQ6JNX2-141","paths.places.217-Deir-al-Dik/BGQ6JNX2-51","paths.places.338-Taposiris-Magna/BGQ6JNX2-185","paths.places.338-Taposiris-Magna/BGQ6JNX2-4","paths.places.338-Taposiris-Magna/BGQ6JNX2-5","paths.places.338-Taposiris-Magna/taposiris","paths.places.368-Upper-Ansina/BGQ6JNX2-137","paths.places.368-Upper-Ansina/BGQ6JNX2-138","paths.places.368-Upper-Ansina/BGQ6JNX2-139","paths.places.368-Upper-Ansina/BGQ6JNX2-56","paths.places.374-Deir-el-Matmar/BGQ6JNX2-168"],Qe="AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o",Re=Oe.b.BaseLayer,Le=Oe.b.Overlay;function Xe(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),s=a[0],l=a[1];return Object(n.useEffect)((function(){var e=[],t=Te.map((function(t){return e.push({name:t.name,url:t.url,info:t.info}),Pe()({method:"get",url:t.url})}));Pe.a.all(t).then((function(t){t.map((function(t,a){return e[a].geojson=t.data,!0})),l(e)}))}),[]),r.a.createElement(Oe.b,{position:"topright"},r.a.createElement(Re,{name:"AWMC",checked:"true"},r.a.createElement(Ne.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})),r.a.createElement(Re,{name:"Imperium (DARE)"},r.a.createElement(Ne.a,{url:"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png"})),r.a.createElement(Re,{name:"OpenStreetMap"},r.a.createElement(Ne.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})),r.a.createElement(Re,{name:"Google Maps"},r.a.createElement(Ce.GoogleLayer,{googlekey:Qe,maptype:"ROADMAP"})),r.a.createElement(Re,{name:"Google Satellite"},r.a.createElement(Ce.GoogleLayer,{googlekey:Qe,maptype:"SATELLITE"})),r.a.createElement(Re,{name:"Series 4085 - GB & USA"},r.a.createElement(je.a,{url:"http://wms.paths-erc.eu/",layers:"Series 4085-Great Britain War Office-U.S. Army Map Service-1941-"})),r.a.createElement(Re,{name:"Arrowsmith 1807"},r.a.createElement(je.a,{url:"http://wms.paths-erc.eu/",layers:"Arrowsmith 1807"})),e.shownPlaces&&r.a.createElement(Je,{shownPlaces:e.shownPlaces,onAdd:e.onAdd}),s&&s.map((function(e,t){var a="#"+(16777216+16777215*Math.random()).toString(16).substr(1,6);return r.a.createElement(Le,{name:e.name,key:t},r.a.createElement(xe.a,{data:e.geojson,pointToLayer:function(e,t){return function(e,t,a){return new Be.a.CircleMarker(t,{radius:5,weight:1,color:a||!1})}(0,t,a)},onEachFeature:function(t,a){return function(e,t,a){var n=Object.entries(e.properties).map((function(e){return!!e[1]&&"<strong>".concat(e[0],"</strong>: ").concat(e[1])}));t.bindPopup(n.filter(Boolean).join("<br>")+"<hr><strong>".concat(a.name,'</strong><br>\n    <a href="').concat(a.info,'" title="More information">').concat(a.info,"</a>\n    "))}(t,a,e)}}))})))}var Ue="https://db.bradypus.net/api/paths/";"localhost"===window.location.hostname&&(Ue="http://db.localhost/api/paths/");var Fe=function(){function e(){Object($.a)(this,e)}return Object(ee.a)(e,null,[{key:"getData",value:function(e,t,a){e=Ue+e,Pe()({method:"post",url:e,params:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.type&&"error"===e.data.type)return console.log("API error:"),console.log(e.data.text),!1;a(e.data)})).catch((function(e){e instanceof Error?console.log(e.message):console.log(e.data)}))}},{key:"getBaseUrl",value:function(){return Ue}},{key:"getUniqueVal",value:function(e,t,a,n){this.getData("../v2/paths/"+e,{verb:"getUniqueVal",tb:e.replace("paths__",""),fld:t,s:a},(function(e){n(e)}),!0)}},{key:"getSaved",value:function(e,t,a,n){"undefined"!==typeof be[e][t]?(be[e][t].data.page=a,this.getData(be[e][t].url,be[e][t].data,(function(a){n(a,be[e][t].title)}))):n({status:"error",text:"No saved query found for id: ".concat(e,".").concat(t)})}},{key:"getSimple",value:function(e,t,a,n,r,s){var l={verb:"search",type:"advanced",page:r,"adv[a0][fld]":t,"adv[a0][operator]":n?"=":"LIKE","adv[a0][value]":a};this.getData(e,l,(function(e){s(e)}),!0)}},{key:"getAdv",value:function(e,t,a,n){var r={verb:"search",type:"advanced",page:a};Object.entries(t).forEach((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];r["adv[".concat(a,"][fld]")]=n.f,r["adv[".concat(a,"][value]")]=n.v,r["adv[".concat(a,"][operator]")]=n.o,r["adv[".concat(a,"][connector]")]=n.c})),this.getData(e,r,(function(e){n(e)}),!0)}},{key:"getStr",value:function(e,t,a,n){this.getData(e,{verb:"search",type:"fast",string:t,page:a},(function(e){n(e,"Search ["+t+"] in "+e.head.table_label)}),!0)}},{key:"getByEncodedSql",value:function(e,t,a,n){this.getData(e,{verb:"search",type:"encoded",q_encoded:t,page:a},(function(e){n(e)}),!0)}},{key:"getAll",value:function(e,t,a){this.getData(e,{verb:"search",type:"all",page:t},(function(e){a(e)}))}},{key:"getOne",value:function(e,t,a){this.getData("../v2/paths",{tb:e,verb:"read",id:t},(function(e){a(e)}))}},{key:"inspect",value:function(e,t){this.getData("../v2/paths",{tb:e,verb:"inspect"},(function(e){t(e)}))}},{key:"getChart",value:function(e,t){this.getData("../v2/paths/"+e,{id:e,verb:"getChart"},(function(e){t(e)}))}},{key:"simplifyGeojson",value:function(e){var t={type:"FeatureCollection",features:[]},a=!1;return Object.entries(e.features).forEach((function(e){var n=Object(d.a)(e,2),r=(n[0],n[1]);a&&a===r.properties.id||(t.features.push(r),a=r.properties.id),a===r.properties.id&&(t.features[t.features.length-1].properties.toponym+="|"+r.properties.toponym)})),t}},{key:"getPlaces",value:function(e,t){var a={join:"JOIN paths__geodata as g ON g.table_link = 'paths__places' AND g.id_link = paths__places.id  JOIN paths__m_toponyms as t ON t.table_link = 'paths__places' AND t.id_link = paths__places.id","fields[g.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology","fields[GROUP_CONCAT(t.toponym)]":"Toponyms",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(e?e.replace(/`id`/gi,"`paths__places`.`id`"):" 1")};this.getData("places?verb=search&geojson=true&type=encoded",a,(function(e){t(e)}))}},{key:"getMsPlaces",value:function(e,t){var a={join:" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology","fields[paths__m_msplaces.type]":"Place type",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE "+e+" )")};this.getData("geodata?verb=search&geojson=true&type=encoded",a,(function(e){t(e)}))}}]),e}(),ze=(a(426),function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={places:null,shownPlaces:null,urlFilter:!1,sidebarCollapsed:!1,selected:"home",manualFilter:"",error:!1,mapBounds:!1,zoom:!1,geoJsonBounds:!1},a.placesLayerRef=r.a.createRef(),a.mapRef=r.a.createRef(),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"onSidebarClose",value:function(){this.setState({sidebarCollapsed:!0})}},{key:"onSidebarOpen",value:function(e){this.setState({sidebarCollapsed:!1,selected:e})}},{key:"filterPlaces",value:function(e){var t=e.target.value,a={};if(""===t)a=this.state.places;else{a={type:"FeatureCollection",features:[]};for(var n=0,r=Object.values(this.state.places.features);n<r.length;n++){var s=r[n];Object.values(s.properties).join("|").toLowerCase().includes(t.toLowerCase())&&a.features.push(s)}}this.setState({manualFilter:t,shownPlaces:a}),this.fitMapToBounds()}},{key:"clearFiltered",value:function(){this.setState({manualFilter:"",shownPlaces:this.state.places}),this.fitMapToBounds()}},{key:"fitMapToBounds",value:function(){var e=[[19.700194,16.570227],[35.4737,32.869317]];this.state.geoJsonBounds&&e._northEast&&e._southWest&&(e=this.state.geoJsonBounds)._northEast.lat===e._southWest.lat&&e._northEast.lng===e._southWest.lng&&e.pad(),this.mapRef.current.leafletElement.fitBounds(e)}},{key:"fetchData",value:function(e,t){var a=this;if(e)Fe.getSaved("map",e,null,(function(e){a.setState({places:e,shownPlaces:e,urlFilter:!0}),a.fitMapToBounds()}));else if(t){var n=ce.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});if("manuscripts"===n.tb)Fe.getMsPlaces(n.where,(function(e){a.setState({places:e,shownPlaces:e,urlFilter:n.where}),a.fitMapToBounds()}));else{if("places"!==n.tb)return!1;Fe.getPlaces(n.where,(function(e){a.setState({places:e,shownPlaces:e,urlFilter:n.where}),a.fitMapToBounds()}))}}else Fe.getPlaces(null,(function(e){e.type&&"error"===e.type?a.setState({error:r.a.createElement("div",null,"Sorry. There was an error in getting the data from database. Please report this error to ",r.a.createElement("a",{href:"mailto:julian.bogdani@uniroma1.it"},"julian.bogdani@uniroma1.it")," and be sure to copy and paste the following lines:",r.a.createElement("br",null),r.a.createElement("div",{className:"border p-3 mt-3"},r.a.createElement("code",null,window.location.href),r.a.createElement("pre",null,e.text)))}):(a.setState({places:e,shownPlaces:e}),a.fitMapToBounds())}))}},{key:"onViewportChanged",value:function(e){var t=this.mapRef.current.leafletElement.getBounds(),a=e.zoom;this.setState({mapBounds:t,zoom:a})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e!==this.props&&(this.setState({places:null,urlFilter:null}),this.fetchData(e.match.params.data,null))}},{key:"componentDidMount",value:function(){this.fetchData(this.props.match.params.data,this.props.location.search)}},{key:"showGeoJson",value:function(){if(!this.state.shownPlaces)return r.a.createElement("div",{style:{textAlign:"center",zIndex:999,marginTop:"5rem"}},r.a.createElement(M,null,"Loading map data..."))}},{key:"onAddgeoJson",value:function(e){this.setState({geoJsonBounds:e.target.getBounds()})}},{key:"render",value:function(){return r.a.createElement("div",{className:"maxHeight"},r.a.createElement(y,{location:this.props.location}),r.a.createElement("main",{role:"main",className:"maxHeight"},r.a.createElement(pe.Sidebar,{id:"sidebar",collapsed:this.state.sidebarCollapsed,selected:this.state.selected,onOpen:this.onSidebarOpen.bind(this),onClose:this.onSidebarClose.bind(this),closeIcon:r.a.createElement(v.a,{icon:"caret-left"})},r.a.createElement(pe.Tab,{id:"home",header:"Home",icon:r.a.createElement(v.a,{icon:"home"})},r.a.createElement("div",{className:"sidebarSearch"},r.a.createElement(se.a,{className:"my-2"},r.a.createElement(le.a,{addonType:"prepend"},"Search:"),r.a.createElement(oe.a,{type:"search",value:this.state.manualFilter,onChange:this.filterPlaces.bind(this),placeholder:"start typing to filter places..."}),r.a.createElement(_e,{show:this.state.manualFilter,onClick:this.clearFiltered.bind(this)}))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(he,{urlFilter:this.state.urlFilter,filter:this.state.filter}),r.a.createElement(de,{places:this.state.shownPlaces}))),r.a.createElement(pe.Tab,{id:"savedQueries",header:"Saved queries",icon:r.a.createElement(v.a,{icon:"save"})},r.a.createElement("div",{className:"mt-5"},r.a.createElement(ge,null))),r.a.createElement(pe.Tab,{id:"legend",header:"Legend",icon:r.a.createElement(v.a,{icon:"info"})},r.a.createElement("div",{className:"mt-5"},r.a.createElement(ue,null)))),this.state.error&&r.a.createElement(we,null,this.state.error),!this.state.shownPlaces&&r.a.createElement("div",{style:{position:"absolute",top:"5rem",textAlign:"center",zIndex:999,width:"100%"}},r.a.createElement(M,null,"Loading map data...")),r.a.createElement(re.a,{className:"sidebar-map maxHeight",zoomControl:!0,ref:this.mapRef,onViewportChanged:this.onViewportChanged.bind(this)},r.a.createElement(Xe,{shownPlaces:this.state.shownPlaces,onAdd:this.onAddgeoJson.bind(this),mapBounds:this.state.mapBounds,zoom:this.state.zoom}))))}}]),t}(n.Component)),He=a(636),Ve=a(629),We=a(624),Ke=a(625),Ye=a(626),Ze=a(627),$e=a(628),et=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tblabel,a=this.props.tb;return r.a.createElement("div",null,r.a.createElement(We.a,{className:"mt-5 mb-5",color:"light"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{type:"button",className:"close mr-2 mt-2","aria-label":"Close",onClick:this.props.closeFn},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(Ke.a,null,r.a.createElement(Ye.a,null,"Saved queries for ",t),r.a.createElement(Ze.a,null,Object.values(be[a]).map((function(t,n){return r.a.createElement($e.a,{key:n,onClick:e.props.closeFn,className:"mb-3",tag:o.b,to:"/search/".concat(a,"/saved?q=").concat(t.id),color:"secondary"},r.a.createElement(v.a,{icon:"arrow-circle-right"})," ",t.title)}))))))}}]),t}(n.Component),tt={coptic:["authors.copticname","titles.text","colophons.text"],greek:["authors.greekname"],hidden:["manuscripts.creator","collections.creator","collections.cmclname","works.id","works.creator","works.shelfmarks","works.period","works.problems","titles.creator","colophons.creator","authors.id","authors.creator","authors.cmclname","editors.cmclname","places.creator","places.hasplans","places.hasphotos","persons.id","persons.creator","biblio.creator","biblio.editors","m_quires.id","m_hands.id","m_placephase.id"],id_fld:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"name",persons:"name"},searchDefault:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"paths__m_toponyms:toponym",persons:"name"},preview:{manuscripts:["id","cmclid","tm","ldab","bookform","writingsupport"],collections:["id","fullname","cmclname","country","town","institution","name","notes"],works:["id","cmcl","title","cpg"],titles:["cc","type","workcc","msid"],colophons:["id","msid","dialect","chronofrom","chronoto","datingcriteria"],authors:["name","title","copticname","greekname","cmclname"],places:["id","name","tmgeo","pleiades","region","area","episcopalsee"],persons:["id","name","type","profession","patronymic"]},label:{manuscripts:"Manuscripts",collections:"Collections",works:"Works",titles:"Titles",colophons:"Colophons",authors:"Authors",places:"Places",persons:"Persons attested in colophons"},fld_whitelist:["paths__places:id","paths__places:name","paths__places:tmgeo","paths__places:pleiades","paths__places:region","paths__places:area","paths__places:meris","paths__places:nomos","paths__places:province","paths__places:episcopalsee","paths__places:typology","paths__places:description","paths__places:hasmonastery","paths__places:isnomoscapital","paths__m_toponyms:toponym","paths__m_placephase:fperiod","paths__m_placephase:ftypology","paths__works:id","paths__works:cmcl","paths__works:title","paths__works:cpg","paths__works:cant","paths__works:cavt","paths__works:bho","paths__works:bhg","paths__works:bhl","paths__works:cae","paths__works:litperiod","paths__m_wkauthors:type","paths__m_wkauthors:author","paths__authors:id","paths__authors:name","paths__authors:copticname","paths__authors:greekname","paths__authors:viaf","paths__authors:title","paths__titles:id","paths__titles:cc","paths__titles:workcc","paths__titles:msid","paths__titles:type","paths__titles:text","paths__titles:translation","paths__colophons:id","paths__colophons:msid","paths__colophons:chronofrom","paths__colophons:chronoto","paths__colophons:dialect","paths__colophons:greektext","paths__colophons:writingaxis","paths__colophons:cryptography","paths__colophons:minusculecopitc","paths__colophons:minusculegreek","paths__colophons:text","paths__colophons:translation","paths__collections:id","paths__collections:fullname","paths__collections:country","paths__collections:town","paths__collections:institution","paths__collections:name","paths__manuscripts:id","paths__m_shelfmarks:collection","paths__m_shelfmarks:shelfmark","paths__manuscripts:cmclid","paths__manuscripts:tm","paths__manuscripts:ldab","paths__manuscripts:lcbm","paths__manuscripts:dbmnt","paths__manuscripts:alias","paths__manuscripts:bookform","paths__manuscripts:writingsupport","paths__manuscripts:issinglefrag","paths__manuscripts:isbookbinding","paths__manuscripts:reusedinbinding","paths__manuscripts:stratigraphy","paths__manuscripts:modernhistory","paths__manuscripts:contents","paths__manuscripts:dialect","paths__manuscripts:chronofrom","paths__manuscripts:chronoto","paths__m_msplaces:place","paths__m_msplaces:type","paths__m_msplaces:sourceinfo","paths__manuscripts:datingsource","paths__manuscripts:leaftotextant","paths__manuscripts:quiresextant","paths__manuscripts:columns","paths__manuscripts:linespercolumn","paths__manuscripts:charsperline","paths__manuscripts:leafw","paths__manuscripts:leafh","paths__manuscripts:prophw","paths__manuscripts:propwt","paths__manuscripts:quiresig","paths__manuscripts:quiretype","paths__manuscripts:quireposition","paths__m_quires:quirepaptype","paths__m_quires:quirepartype","paths__manuscripts:pagination","paths__manuscripts:pagtype","paths__manuscripts:pagposition","paths__manuscripts:foliation","paths__manuscripts:foltype","paths__manuscripts:folposition","paths__manuscripts:folnotes","paths__manuscripts:lectionalsigns","paths__manuscripts:structuralsigns","paths__manuscripts:signsnotes","paths__manuscripts:abbreviations","paths__manuscripts:ruling","paths__manuscripts:rulingtype","paths__manuscripts:rulingtool","paths__manuscripts:pricking","paths__manuscripts:leaftabs","paths__manuscripts:kolleseis","paths__manuscripts:kolleseseisdescr","paths__manuscripts:bindings","paths__manuscripts:boardmat","paths__manuscripts:sewings","paths__manuscripts:covers","paths__manuscripts:marginalnotes","paths__manuscripts:greekminuscule","paths__manuscripts:palimpsest","paths__manuscripts:restancient","paths__manuscripts:restmodern","paths__manuscripts:pgmcol","paths__manuscripts:pgmlocation","paths__manuscripts:blktype","paths__manuscripts:blklocation","paths__manuscripts:decortype","paths__manuscripts:decorsubj","paths__manuscripts:decorationdescr","paths__manuscripts:sourceinfo","paths__manuscripts:status","paths__m_hands:handno","paths__m_hands:modulartypology","paths__m_hands:writingaxis","paths__m_hands:thickandthin","paths__m_hands:identification","paths__m_hands:writingnotes","paths__m_biblio:short","paths__m_biblio:details"]},at=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={showSaved:!1},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"toggleSaved",value:function(e){this.setState({showSaved:!this.state.showSaved})}},{key:"render",value:function(){var e=this.props.tblabel?this.props.tblabel:tt.label[this.props.tb],t=this.props.tb,a=!!this.props.text&&r.a.createElement("span",{className:"subText"},this.props.text),n=[{to:"/search/"+t+"/all",icon:"list-ul",text:"Show all"},{to:"/search/"+t,icon:"search",text:"Search"},{to:"/search/"+t+"/adv",icon:"search-plus",text:"Advanced search"}];return r.a.createElement("div",null,r.a.createElement(Ve.a,{className:"p-4"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,a),r.a.createElement(h.a,{color:"light",light:!0,expand:"xs",className:"ml-auto"},r.a.createElement(u.a,null,r.a.createElement("h3",null,r.a.createElement("small",null,e))),r.a.createElement(f.a,{className:"ml-auto",navbar:!0},n.map((function(e,t){return r.a.createElement(_.a,{key:t},r.a.createElement(E.a,{to:e.to,tag:o.b},r.a.createElement(v.a,{icon:e.icon})," ",r.a.createElement("span",{className:"d-none d-md-inline"},e.text)))})),be[t]&&r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:this.toggleSaved.bind(this),style:{cursor:"pointer"}},r.a.createElement(v.a,{icon:"save"}),r.a.createElement("span",{className:"d-none d-md-inline"}," Saved queries"))))),this.state.showSaved&&r.a.createElement(et,{tb:t,tblabel:e,closeFn:this.toggleSaved.bind(this)}))))}}]),t}(n.Component),nt=a(630),rt=a(631),st=a(632);function lt(e){var t=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=30,s=Math.ceil(a/r),l=[];n=parseInt(n,10);var o=ce.a.parse(t,{ignoreQueryPrefix:!0});return n-2>0&&(o.page=1,l.push({to:e+"?"+ce.a.stringify(o),text:1})),n-3>0&&l.push({to:"#",disabled:!0,text:"..."}),n-1>0&&(o.page=n-1,l.push({to:e+"?"+ce.a.stringify(o),text:o.page})),o.page=n,l.push({to:e+"?"+ce.a.stringify(o),active:!0,text:n}),n+1<s&&(o.page=n+1,l.push({to:e+"?"+ce.a.stringify(o),text:o.page})),n+2<s&&l.push({to:"#",disabled:!0,text:"..."}),n!==s&&(o.page=s,l.push({to:e+"?"+ce.a.stringify(o),text:o.page})),l}(e.path,e.search,e.totalRows,e.page);return r.a.createElement(nt.a,null,r.a.createElement(rt.a,null,r.a.createElement(st.a,null,"Pages: ")),t.map((function(e,t){var a={disabled:e.disabled,active:e.active};return r.a.createElement(rt.a,Object.assign({},a,{key:t}),r.a.createElement(st.a,{tag:o.b,to:e.to},e.text))})))}var ot=a(21),it=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement(fe.a,{color:"danger",size:"sm",onClick:this.toggle},r.a.createElement(v.a,{icon:"code"})),r.a.createElement(Ee.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(ve.a,{toggle:this.toggle},"Executed SQL"),r.a.createElement(ye.a,null,r.a.createElement("pre",{style:{height:"200px",whiteSpace:"pre-wrap"}},this.props.sql))))}}]),t}(n.Component);function ct(e){var t=e.page?e.page:1,a=30*t-30+1,n=30*t<e.totalRows?30*t:e.totalRows;return r.a.createElement("div",{className:"mb-3"},"Showing records ",r.a.createElement("span",{className:"badge badge-primary"},a," \u2013  ",n," ")," of ",r.a.createElement("span",{className:"badge badge-success"},e.totalRows)," records found \xa0",r.a.createElement(it,{sql:e.query}))}var pt=a(633),mt=a(634),dt=a(635),ht=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,null,this.props.children)}}]),t}(n.Component),ut=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props.record,t=this.props.fields,a=this.props.tb,n=this.props.previewFlds,s=this.props.idField;return r.a.createElement(w.a,{sm:"4"},r.a.createElement(We.a,{className:"mt-3",outline:!0,color:"dark"},r.a.createElement(pt.a,{tag:"h4"},e[s]),r.a.createElement(Ke.a,{id:e.id},r.a.createElement(mt.a,{hover:!0,size:"sm"},r.a.createElement("tbody",null,n.map((function(a,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",null,t[a]),r.a.createElement("td",null,e[a]))})))),r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"btn-group float-right",role:"group"},r.a.createElement(dt.a,null,r.a.createElement(fe.a,{size:"sm",color:"info",tag:o.b,to:"/"+[a,e.id].join("/")},r.a.createElement(v.a,{icon:"eye"})," View")))))))}}]),t}(n.Component);function bt(e){var t=e.tb;return["manuscripts","places"].indexOf(t)<0?null:r.a.createElement("div",{className:"float-right mt-2"},r.a.createElement(o.b,{to:"/map?tb="+t+"&where="+encodeURI(e.where),className:"btn btn-warning"},r.a.createElement(v.a,{icon:"map-marker-alt"})," View on Map"))}var gt=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={result:!1},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"_fetchData",value:function(){var e=this;switch(this.props.type){case"simple":Fe.getSimple(this.props.tb,this.props.fld,this.props.val,this.props.strict,this.props.page,(function(t){e.setState({result:t})}));break;case"adv":Fe.getAdv(this.props.tb,this.props.data,this.props.page,(function(t){e.setState({result:t})}));break;case"all":Fe.getAll(this.props.tb,this.props.page,(function(t){e.setState({result:t})}));break;case"saved":Fe.getSaved(this.props.tb,this.props.query,this.props.page,(function(t){e.setState({result:t})}));break;case"encoded":Fe.getByEncodedSql(this.props.tb,this.props.q,this.props.page,(function(t){e.setState({result:t})}));break;default:return console.log("Unknown verb ".concat(this.props.type)),null}}},{key:"componentDidUpdate",value:function(e){this.props.page===e.page&&this.props.fld===e.fld&&this.props.val===e.val&&this.props.strict===e.strict&&this.props.query===e.query||this._fetchData()}},{key:"componentDidMount",value:function(){this._fetchData()}},{key:"render",value:function(){var e=this;return this.state.result?"error"===this.state.result.type?r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(He.a,{color:"danger",className:"mt-5"},r.a.createElement("h4",{className:"alert-heading"},"We are so sorry!"),r.a.createElement("p",null,"Something went terribly wrong. Please report this error to ",r.a.createElement("a",{href:"https://github.com/paths-erc/atlas/issues"},"our public repository")," in order to get it fixes as soon as possible.")),r.a.createElement("div",null,r.a.createElement("p",null,"Please file the current URL:"),r.a.createElement(He.a,{color:"info",className:"border p-3 m-2 ml-4"},window.location.href),r.a.createElement(He.a,{color:"info",className:"border p-3 m-2 ml-4"},decodeURIComponent(window.location.href)),r.a.createElement("p",null,"and the following error message"),r.a.createElement(He.a,{color:"info",className:"border p-3 m-2 ml-4"},r.a.createElement("pre",null,this.state.result.text)),r.a.createElement("p",null,"Full error trace"),r.a.createElement(He.a,{color:"info",className:"border p-3 m-2 ml-4"},r.a.createElement("pre",null,this.state.result.trace))))):0===this.state.result.head.total_rows?r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(He.a,{color:"warning",className:"mt-5"},r.a.createElement("h4",{className:"alert-heading"},"Ooops!"),"No result found. Please reformulate the query."))):r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"clearfix"},r.a.createElement(bt,{tb:this.state.result.head.stripped_table,where:this.state.result.head.query_where,type:this.props.match.params.type,search:ce.a.parse(this.props.location.search,{ignoreQueryPrefix:!0})}),r.a.createElement(ct,{totalRows:this.state.result.head.total_rows,page:this.state.result.head.page,query:this.state.result.head.query_arrived}),r.a.createElement(lt,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})),r.a.createElement(ht,null,this.state.result.records.map((function(t,a){return r.a.createElement(ut,{idField:tt.id_fld[e.props.match.params.table],previewFlds:tt.preview[e.props.match.params.table],tb:e.props.match.params.table,record:t,fields:e.state.result.head.fields,key:a})}))),r.a.createElement("div",{className:"pt-3"},r.a.createElement(lt,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})))):r.a.createElement("div",{className:"container"},r.a.createElement(M,null))}}]),t}(n.Component),ft=Object(i.f)(gt),_t=function(e){function t(e){var a;Object($.a)(this,t),a=Object(te.a)(this,Object(ae.a)(t).call(this,e));var n=ce.a.parse(e.location.search,{ignoreQueryPrefix:!0});return a.state={saved:n.q,page:n.page},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=ce.a.parse(e.location.search,{ignoreQueryPrefix:!0}),n=ce.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});a.page!==n.page&&this.setState({page:n.page}),a.q!==n.q&&this.setState({saved:n.q})}},{key:"render",value:function(){return"undefined"===typeof be[this.props.match.params.table][this.state.saved]?r.a.createElement("div",{className:"container"},r.a.createElement(He.a,{color:"warning",className:"mt-5"},r.a.createElement("h4",{className:"alert-heading"},"Ooops!"),"No saved query ",r.a.createElement("code",null,this.state.saved)," found.")):r.a.createElement("div",null,r.a.createElement(at,{tb:this.props.match.params.table,text:be[this.props.match.params.table][this.state.saved].title}),r.a.createElement(ft,{tb:this.props.match.params.table,query:this.state.saved,type:"saved",page:this.state.page}))}}]),t}(n.Component),Et=a(637),vt=a(638),yt=a(258),kt=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this))).state={fields:!1,fld:!1},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"_setState",value:function(e,t){var a;if(e=tt.fld_whitelist.map((function(t){return!!e[t]&&{value:t,label:e[t].label}})).filter((function(e){return e})),t)a=e.filter((function(e){return e.value===t}))[0];else{if(tt.searchDefault[this.props.tb]){var n=tt.searchDefault[this.props.tb].includes("paths")?tt.searchDefault[this.props.tb]:"paths__".concat(this.props.tb,":").concat(tt.searchDefault[this.props.tb]);a=e.filter((function(e){return e.value===n}))[0]}else a=e[0];this.props.onChange(a)}this.setState({fields:e,fld:a})}},{key:"componentDidMount",value:function(){var e=this;Fe.inspect(this.props.tb,(function(t){e._setState(t.fields,e.props.fld)}))}},{key:"render",value:function(){return this.state.fields?r.a.createElement(yt.a,{defaultValue:this.state.fld,options:this.state.fields,onChange:this.props.onChange}):null}}]),t}(n.Component),wt=a(231),Ot=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this)))._handleSearch=function(e){a.setState({isLoading:!0});var t=a.props.fld.split(":"),n=Object(d.a)(t,2),r=n[0],s=n[1];Fe.getUniqueVal(r,s,e,(function(e){a.setState({options:e,isLoading:!1})}))},a.state={isLoading:!1,multiple:!1,options:[]},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return this.state.options?r.a.createElement("div",null,r.a.createElement(wt.AsyncTypeahead,Object.assign({},this.state,{minLength:1,placeholder:"Add a value",onSearch:this._handleSearch,onInputChange:this.props.onChange,onChange:this.props.onChange,defaultInputValue:this.props.val?this.props.val:""}))):null}}]),t}(n.Component),Nt=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this))).state={fld:e.fld,val:e.val,strict:!0===e.strict},a.handleSubmit=a.handleSubmit.bind(Object(ot.a)(a)),a._changeField=a._changeField.bind(Object(ot.a)(a)),a._changeVal=a._changeVal.bind(Object(ot.a)(a)),a._changeStrict=a._changeStrict.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({fld:this.props.fld,val:this.props.val,strict:!!this.props.strict})}},{key:"_changeField",value:function(e){this.setState({fld:e.constructor===Object&&e.value?e.value:e})}},{key:"_changeVal",value:function(e){this.setState({val:e.constructor===Array?e[0]:e})}},{key:"_changeStrict",value:function(e){this.setState({strict:e.target.checked})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.val?this.props.onSubmit(this.state.fld,this.state.val,this.state.strict):alert("Insert a value to continue")}},{key:"render",value:function(){return r.a.createElement("div",{className:"my-5"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement(Et.a,{row:!0},r.a.createElement(w.a,{sm:4},r.a.createElement(kt,{tb:this.props.tb,fld:this.state.fld,onChange:this._changeField})),r.a.createElement(w.a,{sm:5},r.a.createElement(Ot,{fld:this.state.fld,val:this.state.val,onChange:this._changeVal})),r.a.createElement(w.a,{sm:1},r.a.createElement(vt.a,{check:!0},r.a.createElement(oe.a,{name:"strict",type:"checkbox",checked:this.state.strict,onChange:this._changeStrict})," Strict")),r.a.createElement(w.a,{sm:2}," ",r.a.createElement(fe.a,{type:"submit",color:"success",block:!0},"Search!")," "))))}}]),t}(n.Component),jt=function(e){function t(e){var a;Object($.a)(this,t),a=Object(te.a)(this,Object(ae.a)(t).call(this,e));var n=ce.a.parse(e.location.search,{ignoreQueryPrefix:!0});return a.state={fld:n.f,val:n.v,strict:n.s&&"false"!==n.s&&"undefined"!==n.s,page:n.page},a._onFormSubmit=a._onFormSubmit.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"_onFormSubmit",value:function(e,t,a){var n="f="+encodeURIComponent(e)+(a?"&s=1":"")+"&v="+encodeURIComponent(t);this.setState({fld:e,val:t,strict:a}),this.props.history.push("/search/".concat(this.props.match.params.table,"?").concat(n))}},{key:"componentDidUpdate",value:function(e,t){var a=ce.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(at,{tb:this.props.match.params.table,text:"Simple search"}),r.a.createElement("div",{className:"mt-3 p-1 container"},r.a.createElement(Nt,{tb:this.props.match.params.table,onSubmit:this._onFormSubmit,fld:this.state.fld,val:this.state.val,strict:this.state.strict}),r.a.createElement("hr",null)),this.state.fld&&this.state.val&&r.a.createElement(ft,{tb:this.props.match.params.table,type:"simple",fld:this.state.fld,val:this.state.val,strict:this.state.strict,page:this.state.page}))}}]),t}(n.Component),xt=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oe.a,Object.assign({type:"select",placeholder:"select"},this.props),[{k:"LIKE",v:"Contains"},{k:"=",v:"Is exactly"},{k:"NOT LIKE",v:"Does not contain"},{k:"starts_with",v:"Starts with"},{k:"ends_with",v:"Ends with"},{k:"is_empty",v:"Is empty"},{k:"is_not_empty",v:"Is not empty"},{k:">",v:"Is bigger than"},{k:"<",v:"Is smaller than"}].map((function(e,t){return r.a.createElement("option",{key:t,value:e.k},e.v)}))))}}]),t}(n.Component);function Ct(e){return r.a.createElement("div",null,r.a.createElement(oe.a,Object.assign({type:"select"},e),r.a.createElement("option",{value:"AND"},"AND"),r.a.createElement("option",{value:"OR"},"OR")))}var St=function(e){function t(e){var a;Object($.a)(this,t),a=Object(te.a)(this,Object(ae.a)(t).call(this,e));var n,r=ce.a.parse(e.location.search,{ignoreQueryPrefix:!0}),s=!1;return 0===Object.getOwnPropertyNames(r).length?n={a:{f:"",o:"LIKE",v:""}}:(n=r,s=!0),a.state={rows:n,showResults:s,page:!1},a._changeOperator=a._changeOperator.bind(Object(ot.a)(a)),a._changeConnector=a._changeConnector.bind(Object(ot.a)(a)),a._addRow=a._addRow.bind(Object(ot.a)(a)),a._removeRow=a._removeRow.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"_removeRow",value:function(e){var t=this.state.rows;delete t[e.target.name],this.setState({rows:t,showResults:!1})}},{key:"_addRow",value:function(){var e=this.state.rows;e["a"+Math.random().toString(36).substr(2,9)]={f:"",o:"LIKE",v:"",c:"AND"},this.setState({rows:e,showResults:!1})}},{key:"_changeField",value:function(e,t){var a=this.state.rows;a[e].f=t.constructor===Object&&t.value?t.value:t,this.setState({rows:a,showResults:!1})}},{key:"_changeVal",value:function(e,t){var a=this.state.rows;a[e].v=t.constructor===Array?t[0]:t,this.setState({rows:a,showResults:!1})}},{key:"_changeOperator",value:function(e){var t=this.state.rows;t[e.target.name].o=e.target.value,this.setState({rows:t,showResults:!1})}},{key:"_changeConnector",value:function(e){var t=this.state.rows;t[e.target.name].c=e.target.value,this.setState({rows:t,showResults:!1})}},{key:"_handleSubmit",value:function(e){e.preventDefault(),this.setState({showResults:!0});var t=ce.a.stringify(this.state.rows);this.props.history.push("/search/".concat(this.props.match.params.table,"/adv?").concat(t))}},{key:"componentDidUpdate",value:function(e,t){var a=ce.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(at,{tb:this.props.match.params.table,text:"Advanced search"}),r.a.createElement("div",{className:"mt-3 p-1 container"},r.a.createElement("form",{onSubmit:this._handleSubmit.bind(this),className:"form"},Object.entries(this.state.rows).map((function(t,a){var n=t[0],s=t[1];return r.a.createElement("div",{key:a,className:"my-3"},r.a.createElement(k.a,null,r.a.createElement(w.a,{xs:1},a>0&&r.a.createElement(Ct,{defaultValue:s.c,onChange:e._changeConnector,name:n})),r.a.createElement(w.a,{xs:4},r.a.createElement(kt,{tb:e.props.match.params.table,fld:s.f,onChange:e._changeField.bind(e,n)})),r.a.createElement(w.a,{xs:2},r.a.createElement(xt,{defaultValue:s.o,name:n,onChange:e._changeOperator})),r.a.createElement(w.a,{xs:3},r.a.createElement(Ot,{fld:s.f,val:s.v,onChange:e._changeVal.bind(e,n)})),r.a.createElement(w.a,{xs:1},a+1===Object.keys(e.state.rows).length&&r.a.createElement(fe.a,{type:"button",color:"info",block:!0,onClick:e._addRow},"+")),r.a.createElement(w.a,{xs:1},a>0&&r.a.createElement(fe.a,{type:"button",color:"danger",block:!0,name:n,onClick:e._removeRow},"-"))))})),r.a.createElement(fe.a,{type:"submit",color:"success",block:!0},"Search!")),r.a.createElement("hr",null)),this.state.showResults&&r.a.createElement(ft,{tb:this.props.match.params.table,type:"adv",data:this.state.rows,page:this.state.page}))}}]),t}(n.Component),Pt=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=ce.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});return r.a.createElement("div",null,r.a.createElement(at,{tb:this.props.match.params.table,text:"Custom query"}),r.a.createElement(ft,{tb:this.props.match.params.table,type:"encoded",q:e.q,page:e.page}))}}]),t}(n.Component),At=function(e){function t(e){var a;Object($.a)(this,t),a=Object(te.a)(this,Object(ae.a)(t).call(this,e));var n=ce.a.parse(e.location.search,{ignoreQueryPrefix:!0});return a.state={page:n.page},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=ce.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(at,{tb:this.props.match.params.table,text:"View all"}),r.a.createElement(ft,{tb:this.props.match.params.table,type:"all",page:this.state.page}))}}]),t}(n.Component),Bt=a(232),qt=a.n(Bt),It=a(233),Gt=a.n(It),Dt=a(234),Jt=a.n(Dt),Tt=a(235),Mt=a.n(Tt),Qt=a(236),Rt=a.n(Qt),Lt=a(237),Xt=a.n(Lt),Ut=a(238),Ft=a.n(Ut),zt=a(239),Ht=a.n(zt),Vt=a(240),Wt=a.n(Vt),Kt=a(241),Yt=a.n(Kt),Zt=a(242),$t=a.n(Zt),ea=a(243),ta=a.n(ea),aa=a(244),na=a.n(aa),ra=a(245),sa=a.n(ra),la=a(246),oa=a.n(la),ia=a(247),ca=a.n(ia),pa=a(248),ma=a.n(pa);a(595);function da(e){var t=e.match.params.table,a={places:{label:"Places",img:Gt.a,data:[{title:!1,mdPath:qt.a}]},manuscripts:{label:"Manuscripts",img:Mt.a,data:[{title:!1,mdPath:Jt.a}]},works:{label:"Works",img:Ft.a,data:[{title:!1,mdPath:Rt.a},{title:"Literary works currently without a Clavis Coptica entry",mdPath:Xt.a}]},titles:{label:"Titles",img:Wt.a,data:[{title:!1,mdPath:Ht.a}]},authors:{label:"Authors",img:$t.a,data:[{title:!1,mdPath:Yt.a}]},colophons:{label:"Colophons",img:na.a,data:[{title:!1,mdPath:ta.a}]},persons:{label:"Persons",img:oa.a,data:[{title:!1,mdPath:sa.a}]},collections:{label:"Collections",img:ma.a,data:[{title:!1,mdPath:ca.a}]}};if(!a.hasOwnProperty(t))return r.a.createElement("div",{className:"container m-5 p-5 text-center text-danger"},"Error: invalid table name",r.a.createElement("code",null,t));var n=a[t],s={};return n.img&&(s={width:"100%",height:"300px",backgroundImage:"url("+n.img+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"}),r.a.createElement("div",null,r.a.createElement("div",{style:s}),r.a.createElement(at,{tblabel:n.label,tb:t,text:"Introduction"}),r.a.createElement("div",{className:"container"},n.data.map((function(e,t){return r.a.createElement("div",{key:t,className:"intro-level-".concat(t," mt-5 border-top pt-5")},e.title&&r.a.createElement("h1",null,e.title),r.a.createElement("div",{className:"my-3 px-md-5 double-column text-justify"},r.a.createElement(Q,{path:e.mdPath})))}))))}var ha=a(249),ua=a(250),ba=a.n(ua),ga=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={uid:Math.random().toString(36).substr(2,5)},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){null!==this.props.string&&new ba.a("canvas"+this.state.uid).parseString(this.props.string,"secondHalf"+this.state.uid)}},{key:"render",value:function(){var e=!1;return null!==this.props.string&&(e=100+this.props.string.length/3*20),r.a.createElement("div",{className:"mt-2 mb-4"},r.a.createElement(k.a,null,r.a.createElement(w.a,{id:"firstHalf"},this.props.string),r.a.createElement(w.a,{id:"secondHalf"+this.state.uid})),e&&r.a.createElement("canvas",{width:"400",height:e,id:"canvas"+this.state.uid}))}}]),t}(n.Component),fa=a(251),_a=a.n(fa);function Ea(e){return e.replace(/@([a-z]+)\.([a-z0-9/]+)(\[([^\]]+)\])?/gi,(function(e,t,a,n,r,s,l){return'<a href="/'.concat(t,"/").concat(a,'">\n        ').concat(n&&r?r:"paths.".concat(t,".").concat(a),"\n      </a>")}))}var va=function(e){return _a()(e).map((function(e,t){return"string"===typeof e?r.a.createElement("span",{className:"internal-link",key:t,dangerouslySetInnerHTML:{__html:Ea(e)}}):e}))};function ya(e){var t=e.text,a=e.separator,s=e.fld,l=Object(n.useState)("none"),o=Object(d.a)(l,2),i=o[0],c=o[1],p=t.split(",").map((function(e,t){var a=function(e,t){var a={tm:"https://www.trismegistos.org/text/".concat(t.trim()),tmgeo:"https://www.trismegistos.org/place/".concat(t.trim()),pleiades:"https://pleiades.stoa.org/places/".concat(t.trim()),ldab:"https://www.trismegistos.org/ldab/text.php?quick=".concat(t.trim()),coptot:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=".concat(encodeURIComponent(t.trim())),colophons:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(t.trim(),".xml"),dbmnt:"http://www.dbmnt.uw.edu.pl/".concat(t.trim())};return void 0!==typeof a[e]&&a[e]}(s,e);return!!a&&r.a.createElement("a",{href:a,key:t,target:"_blank",rel:"noopener noreferrer"},e,";")})).filter((function(e){return e}));if(p.length>0)return p;var m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e||e.length<=t)return[e,!1];var n=e.substr(0,t);if(n.substr(n.length-1)===a)return[n,!1];var r=n+""+e.replace(n,"").split(a)[0],s=e.replace(r+""+a,"");return[r+a,s!==r&&s]}(t,200,a);return m[1]?r.a.createElement("span",null,va(m[0]),r.a.createElement("span",{style:{display:i}},va(m[1])),"none"===i?"\u2026":"",r.a.createElement(fe.a,{color:"info",size:"sm",className:"ml-3",onClick:function(){c("none"===i?"inline":"none")}},"none"===i?"+":"-")):va(m[0])}a(599);function ka(e){var t=e.colophon,a=Object(n.useState)(),s=Object(d.a)(a,2),l=s[0],o=s[1];return Object(n.useEffect)((function(){Pe.a.get("https://raw.githubusercontent.com/paths-erc/coptic-texts/master/colophons/paths.colophons.".concat(t,".xml")).then((function(e){var t=function(e){var t=e.match(/<body>([\s\S]*)<\/body>/i)[1];return t=(t=(t=(t=(t=t.replace(/\s{2,}/gim," ").replace(/\|/gim,"\n")).replace(/\([0-9]{1,2}\)/gim,"")).replace(/<\/?\b(?:roleName|p|date|gap|org|quote|rs)\b[^>]*>/gim,"")).replace(/^\s+|\s+$/g,"")).replace(/<\s*(?:place|pers)Name[^>]*ref="([^"]+)"[^>]*>(.*?)<\s*\/\s*(?:place|pers)Name>/gi,(function(e,t,a){var n=t.split(".");return n[1]&&n[2]?'<a href="/'.concat(n[1],"/").concat(n[2],'">').concat(a,"</a>"):a}))}(e.data);o(t)})).catch((function(e){o("Error in getting marked text of colophon #".concat(t)),console.log(e)}))}),[t]),l?r.a.createElement("div",null,r.a.createElement("ol",{className:"colophons"},l.split("\n").map((function(e,t){return r.a.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e.trim()}})})))):r.a.createElement(M,null,"Loading the marked text of the colophon #",t)}function wa(e){var t=e.val,a=e.label,n=e.coptic,s=e.greek,l=e.name,o=e.colophonId;if(!t||""===t)return null;var i=[];return n&&i.push("coptic"),s&&i.push("greek"),r.a.createElement(k.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==t?"":" d-none")},r.a.createElement(w.a,{sm:"4",md:"3"},r.a.createElement("label",{className:"font-weight-bold"},a)),r.a.createElement(w.a,null,r.a.createElement("div",{className:i.join(" ")},"Quire layout"===a?r.a.createElement(ga,{string:t}):o?r.a.createElement(ka,{colophon:o}):r.a.createElement(ya,{text:t,fld:l,separator:n?"\u2027":"."}))))}var Oa=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"plugins"},r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),r.a.createElement(Ke.a,null,this.props.data.data.map((function(e,t){return r.a.createElement("span",{key:t,className:"mr-3"},(a=e.zotero.val,n=e.short.val,a?r.a.createElement("a",{href:"https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/"+a,target:"_blank",rel:"noopener noreferrer"},n):n),e.details.val?", "+e.details.val:"",e.images.val?" [".concat(e.images.val,"];"):";");var a,n})))))}}]),t}(n.Component),Na=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"getHtmlModalBody",value:function(e){return r.a.createElement("dl",null,r.a.createElement("dt",null,"Country:        "),r.a.createElement("dd",null,e.country.val),r.a.createElement("dt",null,"Town:           "),r.a.createElement("dd",null,e.town.val),r.a.createElement("dt",null,"Institution:    "),r.a.createElement("dd",null,e.institution.val),r.a.createElement("dt",null,"Collection name:"),r.a.createElement("dd",null,e.name.val),r.a.createElement("dt",null,"CMCL full name: "),r.a.createElement("dd",null,e.fullsegnat.val),r.a.createElement("dt",null,"URN:            "),r.a.createElement("dd",null,r.a.createElement("code",null,"paths.shelfmarks.",e.id.val)))}},{key:"toggle",value:function(e){e.id&&this.setState({title:e.fullname.val,body:this.getHtmlModalBody(e)}),this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"plugins"},r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),r.a.createElement(Ke.a,null,r.a.createElement("ul",null,this.props.data.data.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(fe.a,{style:{margin:"0 0 4px 0",padding:0},color:"link",onClick:function(){return e.toggle(t)}},t.fullname.val),t.shelfmark.val?", "+t.shelfmark.val:"",t.pp.val?", "+t.pp.val:"")}))))),r.a.createElement(Ee.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(ve.a,{toggle:this.toggle},this.state.title),r.a.createElement(ye.a,null,this.state.body)))}}]),t}(n.Component),ja=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={display:"none"},a.toggleDisplay=a.toggleDisplay.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"toggleDisplay",value:function(){this.setState({display:"none"===this.state.display?"inline":"none"})}},{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("span",{style:{display:this.state.display},className:"ml-3 bg-light text-muted p-2"},this.props.text),r.a.createElement(fe.a,{color:"info",size:"sm",className:"ml-3",onClick:this.toggleDisplay},"none"===this.state.display?r.a.createElement(v.a,{icon:"info"}):"<"))}}]),t}(n.Component),xa=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props.data.length;return r.a.createElement("div",null,this.props.data.map((function(t,a){return r.a.createElement("span",{className:"mr-2 pr-2"+(e===a+1?"":" border-right border-warning"),key:a},r.a.createElement("span",{className:t.language.val?t.language.val.toLowerCase():"",title:t.notes.val},t.toponym.val," "),t.transcription.val?r.a.createElement("span",{className:"text-muted ml-2"},"[",t.transcription.val,"]"):"",t.notes.val?r.a.createElement(ja,{text:t.notes.val}):"")})))}}]),t}(n.Component),Ca=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"parseNames",value:function(e){var t={};return e.forEach((function(e,a){t[e.language.val]||(t[e.language.val]=[]),t[e.language.val].push(e)})),Object.keys(t).map((function(e,a){return r.a.createElement(k.a,{className:"border-bottom mt-2 mb-2 pb-1",key:a},r.a.createElement(w.a,{sm:"4",md:"3"},r.a.createElement("label",{className:"font-weight-bold"},e)),r.a.createElement(w.a,null,r.a.createElement("div",null,r.a.createElement(xa,{data:t[e]}))))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"plugins"},r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),r.a.createElement(Ke.a,null,this.parseNames(this.props.data.data))))}}]),t}(n.Component),Sa=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this;return this.props.data.data.length<1?null:"paths__m_biblio"===this.props.data.metadata.tb_id?r.a.createElement(Oa,{data:this.props.data}):"paths__m_shelfmarks"===this.props.data.metadata.tb_id?r.a.createElement(Na,{data:this.props.data}):"paths__m_toponyms"===this.props.data.metadata.tb_id?r.a.createElement(Ca,{data:this.props.data}):r.a.createElement("div",{className:"plugins"},r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),this.props.data.data.map((function(t,a){return r.a.createElement(Ke.a,{key:a,className:"border border-info mb-2"},Object.keys(t).map((function(a,n){return tt.hidden.indexOf(e.props.data.metadata.tb_stripped+"."+a)>-1||"sort"===a?null:t[a].label?r.a.createElement(wa,{coptic:tt.coptic.indexOf(e.props.data.metadata.tb_stripped+"."+a)>-1,greek:tt.greek.indexOf(e.props.data.metadata.tb_stripped+"."+a)>-1,val:t[a].val_label?t[a].val_label:t[a].val,label:t[a].label,key:n}):null})),r.a.createElement("hr",null))}))))}}]),t}(n.Component);function Pa(e){var t=e.data.val_label?e.data.val_label:e.data.val,a=e.data.label,n=e.data.name,s=e.data.coptic,l=e.data.greek;if(!t||""===t)return null;var o=[];return s&&o.push("coptic"),l&&o.push("greek"),r.a.createElement(k.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==t?"":" d-none")},r.a.createElement(w.a,{sm:"4",md:"3"},r.a.createElement("label",{className:"font-weight-bold"},a)),r.a.createElement(w.a,null,r.a.createElement("div",{className:o.join(" ")},"Quire layout"===a?r.a.createElement(ga,{string:t}):r.a.createElement(ya,{text:t,fld:n,separator:s?"\u2027":"."}))))}var Aa=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props.fields,t=this.props.legend,a=!1;return e.forEach((function(e){"undefined"!==typeof e.val&&e.val&&""!==e.val&&(a=!0)})),!!a&&r.a.createElement("fieldset",{className:"p-3 border border-warning mt-3"},t&&r.a.createElement("legend",{className:"border border-warning shadow-sm text-muted px-3 py-1",style:{fontSize:"1.1rem",fontWeight:"bold"}},t),e.map((function(e,t){return r.a.createElement(Pa,{key:t,data:e})})))}}]),t}(n.Component),Ba=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props.rec;return r.a.createElement("div",null,r.a.createElement(Aa,{legend:"Manuscript identifiers",fields:[e.core.id,e.core.cmclid,e.core.tm,e.core.ldab,e.core.lcbm,e.core.dbmnt,e.core.alias,e.core.issinglefrag,e.core.reusedinbinding,e.core.stratigraphy,e.core.modernhistory,e.core.contents]}),e.plugins.paths__m_shelfmarks&&r.a.createElement(Sa,{data:e.plugins.paths__m_shelfmarks}),r.a.createElement(Aa,{legend:"Dialects",fields:[e.core.dialect,e.core.dialectnotes]}),r.a.createElement(Aa,{legend:"Dating",fields:[e.core.datingsource,e.core.chronofrom,e.core.chronoto,e.core.datingcriteria]}),e.plugins.paths__m_msplaces&&r.a.createElement(Sa,{data:e.plugins.paths__m_msplaces}),r.a.createElement(Aa,{legend:"Book form",fields:[e.core.bookform,e.core.writingsupport]}),r.a.createElement(Aa,{legend:"General description",fields:[e.core.leaftotextant,e.core.fragtot,e.core.fragdim,e.core.leaftotestimated,e.core.quiresextant,e.core.gennotes]}),r.a.createElement(Aa,{legend:"Page description",fields:[e.core.columns,e.core.colnotes,e.core.linespercolumn,e.core.charsperline,e.core.alignment,e.core.alignmentnotes]}),r.a.createElement(Aa,{legend:"Dimensions (mm) and proportions",fields:[e.core.leafw,e.core.leafh,e.core.framew,e.core.frameh,e.core.intercolumnium,e.core.marginup,e.core.marginlow,e.core.marginin,e.core.marginout,e.core.marginleft,e.core.marginright,e.core.heighttenlines,e.core.prophw,e.core.propwt,e.core.dimnotes]}),e.plugins.paths__m_quires&&r.a.createElement(Sa,{data:e.plugins.paths__m_quires}),r.a.createElement(Aa,{fields:[e.core.quirenotes]}),r.a.createElement(Aa,{legend:"Quire signature",fields:[e.core.quiresig,e.core.quiretype,e.core.quireposition,e.core.quirenrnotes]}),r.a.createElement(Aa,{legend:"Pagination",fields:[e.core.pagination,e.core.pagtype,e.core.pagposition,e.core.pagnote]}),r.a.createElement(Aa,{legend:"Foliation (ancient and modern)",fields:[e.core.foliation,e.core.foltype,e.core.folposition,e.core.folnotes]}),r.a.createElement(Pa,{data:e.core.handstot}),e.plugins.paths__m_hands&&r.a.createElement(Sa,{data:e.plugins.paths__m_hands}),r.a.createElement(Aa,{legend:"Diacritical signs",fields:[e.core.lectionalsigns,e.core.structuralsigns,e.core.signsnotes]}),r.a.createElement(Aa,{legend:"Abbreviations",fields:[e.core.abbreviations,e.core.abbrnotes]}),r.a.createElement(Aa,{legend:"Ruling and pricking",fields:[e.core.ruling,e.core.rulingtype,e.core.rulingtool,e.core.pricking,e.core.rulingnotes]}),r.a.createElement(Aa,{legend:"",fields:[e.core.leaftabs,e.core.leaftabsnotes]}),r.a.createElement(Aa,{legend:"Manufacture of the rolls",fields:[e.core.kolleseis,e.core.kolleseseisdescr,e.core.tracesnotes,e.core.kollno,e.core.kolldim]}),r.a.createElement(Aa,{legend:"Binding",fields:[e.core.bindings,e.core.covers,e.core.coversnotes,e.core.sewings,e.core.sewingtype,e.core.holesno,e.core.holesarrangement,e.core.holesnotes]}),r.a.createElement(Aa,{legend:"Coloured pigments",fields:[e.core.pgmcol,e.core.pgmlocation,e.core.pgmnotes]}),r.a.createElement(Aa,{legend:"Black inks",fields:[e.core.blktype,e.core.blklocation,e.core.blknotes]}),r.a.createElement(Aa,{legend:"Additional information",fields:[e.core.marginalnotes,e.core.greekminuscule,e.core.greekminusculenotes,e.core.palimpsest,e.core.palimpsestnotes,e.core.decortype,e.core.decorsubj,e.core.decorationdescr,e.core.enlargedinitials,e.core.restancient,e.core.restmodern]}),e.plugins.paths__m_biblio&&r.a.createElement(Sa,{data:e.plugins.paths__m_biblio}),r.a.createElement(Aa,{legend:"Metadata",fields:[e.core.sourceinfo,e.core.editors,e.core.status,e.core.lastmodified]}))}}]),t}(n.Component),qa=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"renderTemplate",value:function(e){switch(e.metadata.tb_stripped){case"manuscripts":return r.a.createElement(Ba,{rec:e});default:return r.a.createElement("div",null,Object.values(e.core).map((function(t,a){return tt.hidden.indexOf(e.metadata.tb_stripped+"."+t.name)>-1?null:r.a.createElement(wa,{coptic:tt.coptic.indexOf(e.metadata.tb_stripped+"."+t.name)>-1,greek:tt.greek.indexOf(e.metadata.tb_stripped+"."+t.name)>-1,label:t.label,name:t.name,val:t.val_label?t.val_label:t.val,key:a,colophonId:"colophons"===e.metadata.tb_stripped&&"text"===t.name&&e.core.id.val})})),Object.keys(e.plugins).map((function(t,a){return r.a.createElement(Sa,{key:a,data:e.plugins[t]})})))}}},{key:"render",value:function(){return this.props.rec?r.a.createElement("div",{className:"mb-5"},this.renderTemplate(this.props.rec)):r.a.createElement("div",{className:"m-5 p-5"},r.a.createElement(M,null))}}]),t}(n.Component),Ia=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"makeHref",value:function(e,t){return["/","search","/",e.replace("paths__",""),"/","encoded","?q="+window.btoa("SELECT * FROM "+e+" WHERE "+t)].join("")}},{key:"renderLinks",value:function(e){var t=this;return Object.entries(e).map((function(e,a){var n=Object(d.a)(e,2),s=n[0],l=n[1];return l.tot<1?null:r.a.createElement($e.a,{key:a,tag:o.b,to:t.makeHref(s,l.where)},r.a.createElement(v.a,{icon:"external-link-square-alt"})," ",l.tot+" referenced item"+(l.tot>1?"s":"")+" in "+l.tb_label)}))}},{key:"renderBackLinks",value:function(e){var t=this;return!("undefined"===typeof e||e.length<1)&&Object.entries(e).map((function(e,a){var n=Object(d.a)(e,2),s=n[0],l=n[1];return!(l.tot<1)&&r.a.createElement($e.a,{key:a,tag:o.b,to:t.makeHref(s,l.where)},r.a.createElement(v.a,{icon:"external-link-square-alt"})," ",l.tot+" referenced item"+(l.tot>1?"s":"")+" in "+l.tb_label)}))}},{key:"render",value:function(){return!this.props.links&&!this.props.backlinks||this.props.links.length<1&&this.props.backlinks.length<1?null:r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement(v.a,{icon:"link"})," Links"),r.a.createElement(Ke.a,null,r.a.createElement(Ze.a,null,this.renderLinks(this.props.links),this.renderBackLinks(this.props.backlinks))))}}]),t}(n.Component),Ga=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"makeHref",value:function(e,t){return["/",e.replace("paths__",""),"/",t].join("")}},{key:"render",value:function(){var e=this,t=this.props.links||[];return"undefined"===typeof t||t.length<1?null:r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement(v.a,{icon:"link"})," Manually entered links"),r.a.createElement(Ke.a,null,r.a.createElement(Ze.a,null,t.map((function(t,a){return r.a.createElement($e.a,{key:a,tag:o.b,to:e.makeHref(t.tb_stripped,t.ref_id)},r.a.createElement(v.a,{icon:"external-link-square-alt"}),"  ",t.tb_label," #",t.ref_label?t.ref_label:t.ref_id)})))))}}]),t}(n.Component),Da=a(639),Ja=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return this.props.text?r.a.createElement(Ke.a,{className:"text-secondary",style:{fontSize:".9rem",fontStyle:"italic"}},this.props.text):null}}]),t}(n.Component),Ta=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(We.a,{className:"mt-1"},r.a.createElement(Da.a,{top:!0,width:"100%",src:this.props.file,onClick:this.toggle}),r.a.createElement(Ja,{text:this.props.description})),r.a.createElement(Ee.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,size:"lg"},r.a.createElement(ye.a,null,r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%"},src:this.props.file,alt:this.props.description}))),r.a.createElement(ke.a,null,r.a.createElement(Ja,{text:this.props.description}))))}}]),t}(n.Component),Ma=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={shown:!1,buttonText:"Show more images"},a.toggle=a.toggle.bind(Object(ot.a)(a)),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"toggle",value:function(){this.setState({shown:!this.state.shown,buttonText:"Show more images"===this.state.buttonText?"Hide":"Show more"})}},{key:"render",value:function(){var e=this;return!this.props.files||this.props.files.length<1?null:r.a.createElement("div",null,r.a.createElement("div",{style:{display:this.state.shown?"block":"none"}},this.props.files.map((function(t,a){return r.a.createElement(Ta,{key:a,file:e.props.baseUrl.replace("/api/","/projects/")+"files/"+t.id+"."+t.ext,description:t.description})}))),r.a.createElement("div",{className:"text-center mt-2"},r.a.createElement(fe.a,{onClick:this.toggle,color:"info"},this.state.buttonText)))}}]),t}(n.Component),Qa=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this,t=this.props.files||[],a=(t=t.map((function(e){return!!["jpg","png","gif","tif","tiff","jpeg"].includes(e.ext.toLowerCase())&&e})).filter((function(e){return e}))).slice(0,3),n=t.slice(3);return a.length<1?null:r.a.createElement("div",{className:"mt-3"},r.a.createElement("h5",null,"Attached images"),a.map((function(t,a){return r.a.createElement(Ta,{key:a,file:e.props.baseUrl.replace("/api/","/projects/")+"files/"+t.id+"."+t.ext,description:t.description})})),r.a.createElement(Ma,{files:n,baseUrl:this.props.baseUrl}))}}]),t}(n.Component),Ra=a(164),La=a(165),Xa=function(e){var t,a=e.properties,n={weight:2,fillOpacity:.2};switch(a.reconstr?(n.dashArray="4 4",t=.4):t=.8,!0){case a.phase<-1:n.color="rgba(150, 150, 150, "+t+")",n.fillColor="rgba(150, 150, 150, .4)";break;case-1===a.phase:n.color="rgba(61, 90, 128, "+t+")",n.fillColor="rgba(61, 90, 128, .4)";break;case 1===a.phase:n.color="rgba(247, 110, 1, "+t+")",n.fillColor="rgba(247, 110, 1, .4)";break;case 2===a.phase:n.color="rgba(194, 0, 251, "+t+")",n.fillColor="rgba(194, 0, 251, .4)";break;case 3===a.phase:n.color="rgba(56, 134, 89, "+t+")",n.fillColor="rgba(56, 134, 89, .4)";break;case a.phase>3:n.color="rgba(80, 47, 76, "+t+")",n.fillColor="rgba(56, 134, 89, .4)";break;default:n.color="rgba(31, 120, 180, "+t+")",n.fillColor="rgba(31, 120, 180, .4)"}return a.part&&a.part.indexOf("u")>-1?(n.fill=!1,n.color="rgba(0, 0, 0, .2)"):a.part&&a.part.indexOf("l")>-1?(n.fillColor="rgba(0, 0, 0, .1)",n.color="rgba(0, 0, 0, .2)"):a.part&&a.part.indexOf("d")>-1&&(n.fillColor="rgba(171, 221, 164, .8)",n.color="rgba(171, 221, 164, 1)"),n},Ua=function(e,t){t.bindPopup('<a href="https://atlas.paths-erc.eu/places/'.concat(e.properties.place,'">paths.places.').concat(e.properties.place,"</a>\n  <br />").concat(e.properties.subplace,'\n  <br />Vectorized from: <a href="https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/').concat(e.properties.source,'" target="_blank">PAThs Zotero ').concat(e.properties.source," ").concat(e.properties.subsource,"</a>\n  <br />Phase: ").concat(e.properties.phase))};function Fa(e){var t=e.bounds,a=e.zoom,s=e.siteId,l=Object(n.useState)(),o=Object(d.a)(l,2),i=o[0],c=o[1];return Object(n.useEffect)((function(){var e=Me.map((function(e){return!!e.startsWith("paths.places.".concat(s,"-"))&&Pe()({method:"get",url:"https://docs.paths-erc.eu/data/geojson/".concat(e,".geojson")})})).filter(Boolean),t=[];Pe.a.all(e).then((function(e){t=e.map((function(e){return e.data})),c(t)}))}),[t,a,s]),i?r.a.createElement(r.a.Fragment,null,i.map((function(e,t){return r.a.createElement(xe.a,{key:t,data:e,style:Xa,onEachFeature:Ua})}))):null}a(600);var za=a(252),Ha=a.n(za),Va=Oe.b.BaseLayer;function Wa(e){var t=e.geom,a=e.id;if(t.length<1)return null;var n=JSON.parse(t[0].geojson).coordinates.reverse();return r.a.createElement("div",{style:{height:"300px",width:"100%"},className:"mb-5"},r.a.createElement(re.a,{className:"sidebar-map maxHeight",center:n,zoom:15,zoomControl:!0},r.a.createElement(Ha.a,{position:"topleft"}),r.a.createElement(Oe.b,{position:"topright"},r.a.createElement(Va,{name:"AWMC"},r.a.createElement(Ne.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})),r.a.createElement(Va,{name:"Imperium (DARE)"},r.a.createElement(Ne.a,{url:"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png"})),r.a.createElement(Va,{name:"OpenStreetMap"},r.a.createElement(Ne.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})),r.a.createElement(Va,{name:"Google Satellite",checked:"true"},r.a.createElement(Ce.GoogleLayer,{googlekey:Qe,maptype:"SATELLITE"})),r.a.createElement(Fa,{siteId:a}),t.map((function(e,t){var a=JSON.parse(e.geojson).coordinates.reverse();return r.a.createElement(Ra.a,{position:a,key:t},r.a.createElement(La.a,null,"Latitude: ",a[0],r.a.createElement("br",null),"Longitude: ",a[1],r.a.createElement("br",null),"CRS: ",r.a.createElement("a",{href:"https://epsg.io/4326",target:"_blank",rel:"noopener noreferrer"},"WGS84 [EPSG:4326]")))})))))}function Ka(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:r.a.createElement($e.a,null,r.a.createElement("a",{href:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum="+encodeURIComponent(e.data.val),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"external-link-alt"})," The Digital Edition of the Coptic Old Testament"))}function Ya(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:r.a.createElement("div",null,e.data.val.split(",").map((function(e,t){return r.a.createElement($e.a,{key:t},r.a.createElement("a",{href:"https://www.trismegistos.org/text/"+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"external-link-alt"})," TM ",e))})))}function Za(e){return"places"!==e.tb||!e.data.val||e.data.val.length<1?null:r.a.createElement("div",null,e.data.val.split(",").map((function(e,t){return r.a.createElement($e.a,{key:t},r.a.createElement("a",{href:"https://www.trismegistos.org/place/"+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"external-link-alt"})," TM Geo ",e))})))}function $a(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:r.a.createElement("div",null,e.data.val.split(",").map((function(e,t){return r.a.createElement($e.a,{key:t},r.a.createElement("a",{href:"https://www.trismegistos.org/ldab/text.php?quick="+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"external-link-alt"})," LDAB ",e))})))}function en(e){return"places"!==e.tb||!e.data.val||e.data.val.length<1?null:r.a.createElement("div",null,e.data.val.split(",").map((function(e,t){return r.a.createElement($e.a,{key:t},r.a.createElement("a",{href:"https://pleiades.stoa.org/places/"+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"external-link-alt"})," Pleiades ",e))})))}function tn(e){return"colophons"!==e.tb||!e.data.val||e.data.val.length<1?null:r.a.createElement($e.a,null,r.a.createElement("a",{href:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(e.data.val,".xml"),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"external-link-alt"})," View marked-up text on GitHub"))}function an(e){return"manuscripts"!==e.tb||!e.data.val||e.data.val.length<1?null:r.a.createElement("div",null,e.data.val.split(",").map((function(e,t){return r.a.createElement($e.a,{key:t},r.a.createElement("a",{href:"http://www.dbmnt.uw.edu.pl/".concat(e.trim()),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"external-link-alt"})," DBMNT ",e))})))}var nn=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return!this.props.rec||this.props.rec.length<1?null:r.a.createElement("div",{className:"mt-3"},r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement(v.a,{icon:["fab","hubspot"]})," External links"),r.a.createElement(Ke.a,null,r.a.createElement(Ze.a,null,r.a.createElement(Ka,{data:this.props.rec.lcbm,tb:this.props.tb}),r.a.createElement(Ya,{data:this.props.rec.tm,tb:this.props.tb}),r.a.createElement($a,{data:this.props.rec.ldab,tb:this.props.tb}),r.a.createElement(an,{data:this.props.rec.dbmnt,tb:this.props.tb}),r.a.createElement(Za,{data:this.props.rec.tmgeo,tb:this.props.tb}),r.a.createElement(en,{data:this.props.rec.pleiades,tb:this.props.tb}),r.a.createElement(tn,{data:this.props.rec.id,tb:this.props.tb})))))}}]),t}(n.Component),rn=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={rec:!1,copied:!1},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e!==this.props&&(this.setState({rec:null}),Fe.getOne(e.match.params.table,e.match.params.id,(function(e){t.setState({rec:e})})))}},{key:"componentDidMount",value:function(){var e=this;Fe.getOne(this.props.match.params.table,this.props.match.params.id,(function(t){e.setState({rec:t})}))}},{key:"renderTemplate",value:function(e){var t=this;return"error"===e.type?r.a.createElement("pre",{className:"text-danger p-5"},e.text):(e.metadata.tb_stripped,e.core.length<1?r.a.createElement("div",{className:"container"},r.a.createElement(at,{tb:e.metadata.tb_stripped,tblabel:e.metadata.tb_label,text:"View record"}),r.a.createElement(We.a,{className:"mt-2"},r.a.createElement(pt.a,null,r.a.createElement("h3",{className:"text-danger"},"Record paths.",e.metadata.tb_stripped,".",this.props.match.params.id,"  not found!")))):r.a.createElement("div",{className:"container"},r.a.createElement(at,{tb:e.metadata.tb_stripped,tblabel:e.metadata.tb_label,text:"View record"}),r.a.createElement(k.a,{className:"mt-2"},r.a.createElement(w.a,{sm:"8"},r.a.createElement(We.a,null,r.a.createElement(pt.a,null,r.a.createElement("h3",null,"paths.",e.metadata.tb_stripped,".",e.core.id.val),r.a.createElement("div",{className:"text-secondary d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:"link"})," http://paths.uniroma1.it/atlas/",e.metadata.tb_stripped,"/",e.core.id.val),r.a.createElement("div",null,r.a.createElement(ha.CopyToClipboard,{text:"http://paths.uniroma1.it/atlas/"+e.metadata.tb_stripped+"/"+e.core.id.val,onCopy:function(){t.setState({copied:!0}),window.setTimeout((function(){t.setState({copied:!1})}),2e3)}},r.a.createElement(fe.a,{size:"sm",color:this.state.copied?"primary":"secondary"},r.a.createElement(v.a,{icon:"clone"})," ",r.a.createElement("span",{className:"d-none d-sm-inline"},this.state.copied?"Copied!":"Copy to clipboard")))))),r.a.createElement(Ke.a,null,r.a.createElement(Wa,{geom:e.geodata,id:e.core.id.val}),r.a.createElement(qa,{rec:e})))),r.a.createElement(w.a,{sm:"4"},r.a.createElement(Qa,{files:e.files,baseUrl:Fe.getBaseUrl()}),r.a.createElement(Ia,{links:e.links,backlinks:e.backlinks}),r.a.createElement(Ga,{links:e.manualLinks}),r.a.createElement(nn,{rec:e.core,tb:e.metadata.tb_stripped})))))}},{key:"render",value:function(){return this.state.rec?r.a.createElement("div",{className:"mb-5"},this.renderTemplate(this.state.rec)):r.a.createElement("div",{className:"m-5 p-5"},r.a.createElement(M,null))}}]),t}(n.Component),sn=a(253),ln=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"parseData",value:function(e){var t={labels:[],datasets:[{label:"My First dataset",backgroundColor:"rgba(195,31,42,0.8)",borderColor:"rgba(195,31,42,1)",borderWidth:1,hoverBackgroundColor:"rgba(195,31,42,1)",hoverBorderColor:"rgba(195,31,42,0.8)",data:[]}]};return e.forEach((function(e){t.labels.push(e.series_name),Object.keys(e).forEach((function(a){"series_name"!==a&&(t.datasets[0].data.push(e[a]),t.datasets[0].label=a)}))})),t}},{key:"render",value:function(){if(this.props.loading)return r.a.createElement(M,null,"Loading chart...");if(!this.props.data)return null;var e=this.parseData(this.props.data);return r.a.createElement("div",{className:"my-5"},r.a.createElement("h2",null,this.props.name),r.a.createElement(sn.a,{data:e,width:100,height:350,options:{maintainAspectRatio:!1}}))}}]),t}(n.Component),on=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={name:!1,data:!1,loading:!1},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"loadChart",value:function(e){var t=this;this.setState({loading:!0}),Fe.getChart(e,(function(e){t.setState({name:e.name}),t.setState({data:e.data}),t.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return this.props.charts?"error"===this.props.charts.type?r.a.createElement("div",{className:"text-danger mt-5 px-5"},"Sorry! There was an error getting list of chart from the database..."):r.a.createElement("div",{className:"mt-5"},r.a.createElement(ln,{name:this.state.name,data:this.state.data,loading:this.state.loading}),r.a.createElement(We.a,null,r.a.createElement(Ke.a,null,r.a.createElement(Ze.a,null,this.props.charts.map((function(t,a){return r.a.createElement($e.a,{key:a,tag:fe.a,onClick:function(){return e.loadChart(t.id)},className:"mb-3",color:"secondary"},t.name)})))))):r.a.createElement(M,null,"Loading chart list...")}}]),t}(n.Component),cn=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).state={chartList:!1},a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(e,t){var a=this;Fe.getChart("all",(function(e){a.setState({chartList:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:"chart-bar"})," Available charts"),r.a.createElement(on,{charts:this.state.chartList}))}}]),t}(n.Component),pn=(a(606),a(255)),mn=a.n(pn);function dn(){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"How to cite the \u201cPAThs\u201d project as a whole and the single database records"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-5 px-5 cite"},r.a.createElement(Q,{path:mn.a}))))}var hn=a(256),un=a.n(hn);function bn(){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"PAThs API & Data export"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-5 px-5"},r.a.createElement(Q,{path:un.a}))))}var gn=a(131),fn=a(257),_n=Object(fn.detect)();window.location.href.match(/atlas\.paths-erc\.eu/g)&&(gn.a.initialize("UA-10461068-45"),gn.a.pageview(window.location.pathname+window.location.search));var En={ie:1e4,"opera-mini":1e4,bb10:1e4,edge:14,firefox:39,chrome:42,safari:11,opera:29,android:67},vn=!1;if(_n){var yn=_n.name,kn=_n.version.split(".")[0];Object.keys(En).indexOf(yn)>-1&&kn<En[yn]&&(vn=!0)}c.b.add(p.i,m.b,p.a,p.b,p.d,p.c,p.e,m.a,p.f,p.g,p.h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return vn?r.a.createElement(Z,{browser:_n,compatibility:En}):r.a.createElement(o.a,{basename:"/"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/map/:action?/:data?",component:ze}),r.a.createElement(P,null,r.a.createElement(i.a,{exact:!0,path:"/",component:Y}),r.a.createElement(i.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:da}),r.a.createElement(i.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/:id",component:rn}),r.a.createElement(i.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/saved",component:_t}),r.a.createElement(i.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/all",component:At}),r.a.createElement(i.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/adv",component:St}),r.a.createElement(i.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/encoded",component:Pt}),r.a.createElement(i.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:jt}),r.a.createElement(i.a,{exact:!0,path:"/charts/:id?",component:cn}),r.a.createElement(i.a,{exact:!0,path:"/cite",component:dn}),r.a.createElement(i.a,{exact:!0,path:"/api",component:bn}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){e.exports=a.p+"static/media/paths-logo.d0a2b412.png"}},[[259,1,2]]]);
//# sourceMappingURL=main.d39dcb2e.chunk.js.map