(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e){e.exports={name:"paths-atlas",version:"1.5.0",description:"The Archaeological Atlas of Coptic Literature by PAThs, an ERC Advanced funded project",bugs:"https://github.com/paths-erc/atlas/issues",email:"julian.bogdani@uniroma1.it",license:"Creative Commons Attribution 4.0 International License.",author:"Julian Bogdani <julian.bogdani@uniroma1.it> (http://www.lettere.uniroma1.it/users/julian-bogdani)",private:!0,homepage:"/",dependencies:{"@fortawesome/fontawesome-free":"^5.9.0","@fortawesome/fontawesome-svg-core":"^1.2.19","@fortawesome/free-brands-svg-icons":"^5.10.0","@fortawesome/free-solid-svg-icons":"^5.10.0","@fortawesome/react-fontawesome":"^0.1.4",axios:"^0.19.0","chart.js":"^2.8.0","detect-browser":"^4.6.0","gh-pages":"2.0","google-maps":"^3.3.0",leaflet:"^1.5.1","object-hash":"^1.3.1","prop-types":"^15.7.2",qs:"^6.7.0",quirematrix:"^1.2.0",react:"^16.8.6","react-bootstrap-typeahead":"^3.4.5","react-chartjs-2":"^2.7.6","react-copy-to-clipboard":"^5.0.1","react-dom":"^16.8.6","react-fontawesome":"^1.6.1","react-ga":"^2.6.0","react-leaflet":"^2.4.0","react-leaflet-google":"^4.0.0","react-leaflet-sidebarv2":"^0.6.0","react-markdown":"^4.1.0","react-nl2br":"^0.4.0","react-router-dom":"^5.0.1","react-scripts":"3.0.1","react-select":"^3.0.4",reactstrap:"^8.0.0"},scripts:{predeploy:"npm run build",deploy:"gh-pages -d build",start:"react-scripts start",build:"react-scripts build",test:"react-scripts test --env=jsdom",eject:"react-scripts eject"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"]}},206:function(e,t,a){e.exports=a.p+"static/media/erc.9fb24811.jpg"},207:function(e,t,a){e.exports=a.p+"static/media/sapienza.8672e003.jpg"},210:function(e,t,a){e.exports=a.p+"static/media/IntroMd.a1ede9f8.md"},211:function(e,t,a){e.exports=a.p+"static/media/LogoMd.36d698ce.md"},212:function(e,t,a){e.exports=a.p+"static/media/MissionStatementMd.70efd13e.md"},213:function(e,t,a){e.exports=a.p+"static/media/lod.3a5d08d7.md"},214:function(e,t,a){e.exports=a.p+"static/media/license.69087295.md"},215:function(e,t,a){e.exports=a.p+"static/media/Ripple-1.7s-200px.7466db60.svg"},219:function(e,t,a){e.exports=a.p+"static/media/places.c6fdd924.md"},220:function(e,t,a){e.exports=a.p+"static/media/places.1485b780.jpg"},221:function(e,t,a){e.exports=a.p+"static/media/manuscripts.a19f686b.md"},222:function(e,t,a){e.exports=a.p+"static/media/manuscripts.ef53f386.jpg"},223:function(e,t,a){e.exports=a.p+"static/media/works.a14c270e.md"},224:function(e,t,a){e.exports=a.p+"static/media/works.7aa6593a.jpg"},225:function(e,t,a){e.exports=a.p+"static/media/titles.018dac5d.md"},226:function(e,t,a){e.exports=a.p+"static/media/titles.2b8757e2.jpg"},227:function(e,t,a){e.exports=a.p+"static/media/authors.1055b2ab.md"},228:function(e,t,a){e.exports=a.p+"static/media/authors.d6df50d7.jpg"},229:function(e,t,a){e.exports=a.p+"static/media/colophons.96843ce5.md"},230:function(e,t,a){e.exports=a.p+"static/media/colophons.1df56f78.jpg"},231:function(e,t,a){e.exports=a.p+"static/media/collections.63bdac97.md"},232:function(e,t,a){e.exports=a.p+"static/media/collections.93d620a0.jpg"},237:function(e,t,a){e.exports=a.p+"static/media/Cite.0ac293ef.md"},238:function(e,t,a){e.exports=a.p+"static/media/Api.ed3fdf35.md"},241:function(e,t,a){e.exports=a(565)},258:function(e,t,a){},399:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),i=a.n(s),l=a(6),o=a(7),c=a(9),p=a(8),m=a(10),d=a(18),h=a(41),u=a(63),b=a(36),f=a(81),g=a(19),_=a(566),y=a(567),v=a(568),E=a(569),k=a(570),O=a(571),j=a(572),w=a(16),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).toggle=a.toggle.bind(Object(g.a)(a)),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{color:"dark",dark:!0,expand:"md",className:"fixed-top"},r.a.createElement(y.a,{to:"/",tag:d.b},"PAThs"),r.a.createElement(v.a,{onClick:this.toggle}),r.a.createElement(E.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(k.a,{navbar:!0},r.a.createElement(O.a,null,r.a.createElement(j.a,{style:{backgroundColor:"#cc545a",color:"#fff"},to:"/map",tag:d.c},r.a.createElement(w.a,{icon:"map"})," Atlas")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/places",tag:d.c},"Places")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/manuscripts",tag:d.c},"Manuscripts")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/works",tag:d.c},"Works")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/authors",tag:d.c},"Authors")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/titles",tag:d.c},"Titles")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/colophons",tag:d.c},"Colophons")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/collections",tag:d.c},"Collections"))),r.a.createElement(k.a,{className:"ml-auto",navbar:!0},r.a.createElement(O.a,null,r.a.createElement(j.a,{href:"http://paths.uniroma1.it"},"Website")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/cite",tag:d.c},"How to cite PAThs")),r.a.createElement(O.a,null,r.a.createElement(j.a,{to:"/api",tag:d.c},"API"))))))}}]),t}(n.Component),C=a(573),x=a(574),S=a(205),q=a(206),D=a.n(q),P=a(207),A=a.n(P),I=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"mt-5 bg-dark text-white p-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Tracking Papyrus and Parchment Paths",r.a.createElement("br",null),r.a.createElement("span",{className:"lead",style:{color:"#ffab00"}},"An Archaeological Atlas of Coptic Literature"),r.a.createElement("br",null),r.a.createElement("small",null,"Literary Texts in their Geographical Context:",r.a.createElement("br",null),"Production, Copying, Usage, Dissemination and Preservation"))),r.a.createElement("div",{className:"col text-right"},r.a.createElement("p",null,"An ",r.a.createElement("a",{href:"https://erc.europa.eu/",target:"_blank",rel:"noopener noreferrer",title:"European Research Council"},"ERC")," funded project hosted at the ",r.a.createElement("a",{href:"https://www.uniroma1.it",target:"_blank",rel:"noopener noreferrer",title:"Sapienza University of Rome"},"Sapienza University of Rome")),r.a.createElement("p",null,"Principal Investigator ",r.a.createElement("a",{href:"http://www.lettere.uniroma1.it/users/paola-buzi",title:"Paola Buzi",target:"_blank",rel:"noopener noreferrer"},"Paola Buzi")," [",r.a.createElement("a",{href:"mailto:paola.buzi@uniroma1.it",title:"Email to Paola Buzi"},"paola.buzi(at)uniroma1.it"),"]"),r.a.createElement("p",null,r.a.createElement("a",{href:"http://paths.uniroma1.it/",target:"_blank",rel:"noopener noreferrer",title:"PAThs\u2019 web site"},"paths.uniroma1.it")))),r.a.createElement(C.a,{className:"my-3"},r.a.createElement(x.a,{xs:{size:6},md:{size:3,offset:3}},r.a.createElement("img",{src:A.a,alt:"Sapienza Universit\xe0 di Roma",className:"img-fluid"})),r.a.createElement(x.a,{xs:{size:6},md:{size:3}},r.a.createElement("img",{src:D.a,alt:"European Research Council",className:"img-fluid"}))),r.a.createElement("div",{className:"text-center"},r.a.createElement("p",{className:""},"Copyright \xa9 PAThs team, Sapienza Universit\xe0 di Roma.",r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},"Use, sharing and remixing permitted under terms of the",r.a.createElement("br",null),"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License",r.a.createElement("br",null),r.a.createElement("img",{alt:"Creative Commons License",style:{borderWidth:0},src:"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"})))),r.a.createElement("p",null,"Version ",S.version,r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/paths-erc/atlas/commits/master",target:"_blank",rel:"noopener noreferrer"},"Changelog")))))}}]),t}(n.Component),T=(a(258),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,{location:this.props.location}),r.a.createElement("main",{role:"main",className:"maxHeight"},this.props.children),r.a.createElement(I,null))}}]),t}(r.a.Component)),R=a(65),L=a.n(R),U=a(208),M=a(25),F=a(209),z=a.n(F),B=a(84),H=a.n(B),G=a(210),V=a.n(G),W=a(211),J=a.n(W),Q=a(212),K=a.n(Q),Y=a(213),Z=a.n(Y),$=a(214),X=a.n($),ee=a(215),te=a.n(ee),ae=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e={width:this.props.width?this.props.width:"100px"};return r.a.createElement("span",null,r.a.createElement("img",{src:te.a,style:e,alt:"Loading..."}),""!==this.props.children?this.props.children:r.a.createElement("span",null,"Loading..."))}}]),t}(n.Component),ne=a(598),re=a(575),se=a(576),ie=a(577),le=a(578),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={modal:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement(ne.a,{isOpen:this.state.modal,toggle:this.toggle.bind(this),className:this.props.className},r.a.createElement(re.a,null,"Disclaimer"),r.a.createElement(se.a,null,r.a.createElement("p",null,"The Archaeological Atlas of Coptic Literature is still in progress, therefore many features might not be yet available or work as expected. Our datasets are growing on a daily basis, and will continue to grow in the next years."),r.a.createElement("p",null,"Please, feel free to report any malfunction, breakdown, omission, error you might encounter during your work session, by writing to ",r.a.createElement("a",{href:"mailto:paola.buzi@uniroma1.it"},"paola.buzi@uniroma1.it"),"."),r.a.createElement("p",null,r.a.createElement("strong",null,"The Atlas is meant to become a tool useful for the whole scholarly community, and its completeness and correctness also depends on the contribution of users."))),r.a.createElement(ie.a,null,r.a.createElement(le.a,{color:"success",block:!0,onClick:this.toggle.bind(this)},"I do understand")))}}]),t}(r.a.Component);function ce(){var e=[{id:"intro",title:"Introduction",path:V.a},{id:"logo",title:"Logo",path:J.a},{id:"missionstatement",title:"Mission Statement",path:K.a},{id:"lod",title:"Linked Open Data",path:Z.a},{id:"license",title:"Copyright and license",path:X.a}],t=Object(n.useState)(!1),a=Object(M.a)(t,2),s=a[0],i=a[1];Object(n.useEffect)(function(){function t(){return(t=Object(U.a)(L.a.mark(function t(){var a,n,s,l;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={},n=L.a.mark(function e(){var t;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l[s],e.next=3,fetch(t.path).then(function(e){return e.text()}).then(function(e){a[t.id]=r.a.createElement(z.a,{source:e,escapeHtml:!1})});case 3:case"end":return e.stop()}},e)}),s=0,l=e;case 3:if(!(s<l.length)){t.next=8;break}return t.delegateYield(n(),"t0",5);case 5:s++,t.next=3;break;case 8:i(a);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[]);return r.a.createElement("div",null,r.a.createElement(oe,null),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("img",{className:"img-fluid shadow-lg",src:H.a,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"}))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-5 px-5"},s?r.a.createElement("div",null,r.a.createElement("div",{className:"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow"},r.a.createElement("h4",null,"Table of contents"),r.a.createElement("ul",{className:"p-0 m-0"},e.map(function(e,t){return r.a.createElement("li",{key:t,style:{listStyle:"none"}},r.a.createElement("a",{href:"#"+e.id},e.title))}))),e.map(function(e,t){return r.a.createElement("div",{key:t,className:"text-justify"},r.a.createElement("h1",{id:e.id,className:"mt-5"},e.title),s[e.id])})):r.a.createElement(ae,null))))}var pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"my-5 py-5"},r.a.createElement("h1",null,"Sorry, it seems that your browser is not supported!"),r.a.createElement("p",null,"You are running ",r.a.createElement("code",null,this.props.browser.name),", version ",r.a.createElement("code",null,this.props.browser.version)," on ",r.a.createElement("code",null,this.props.browser.os),"."),r.a.createElement("p",null,"Please upgrade your browser or use a modern one to work with PAThs Atlas."),r.a.createElement("div",null,r.a.createElement("h4",null,"Compatibility list"),r.a.createElement("pre",null,Object.keys(this.props.compatibility).map(function(t,a){return r.a.createElement("div",{key:a},1e4!==e.props.compatibility[t]?t+" >= "+e.props.compatibility[t]:"")}))),r.a.createElement("div",{className:"border-top pt-5 mt-5"},r.a.createElement("img",{className:"img-fluid shadow-lg",src:H.a,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"}))))}}]),t}(r.a.Component),me=a(98),de=a(150),he=a(153),ue=a(154),be=a(149),fe=a(580),ge=a(599),_e=a(581),ye=a(20),ve=a.n(ye),Ee=a(216),ke=a.n(Ee),Oe=a(66),je=a(14),we=a.n(je),Ne=a(122),Ce=a(579),xe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.places&&this.props.places.features?r.a.createElement("div",{className:"mt-3"},r.a.createElement("h5",null,"Found ",this.props.places.features.length," places"),r.a.createElement("ol",null,this.props.places.features.map(function(e,t){return r.a.createElement("li",{key:t,className:"border-bottom border-info mb-3 pb-1"},r.a.createElement("strong",null,e.properties.name),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("span",{className:"coptic"},e.properties.copticname)),["greekname","egyptianname"].map(function(t,a){return e[t]?r.a.createElement("div",{key:a},r.a.createElement("small",null,e.properties[t])):null}),e.properties["count(mp.id_link)"]?r.a.createElement("div",{className:"text-right"},r.a.createElement(Ce.a,{color:"secondary"},e.properties["count(mp.id_link)"]," manuscripts related")):null,r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement(w.a,{icon:"id-badge"})," ",r.a.createElement(d.b,{to:"/places/"+e.properties.id},"paths.places.",e.properties.id))))}))):null}}]),t}(n.Component),Se=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.urlFilter?r.a.createElement("div",null,r.a.createElement(d.b,{to:"/map",className:"btn btn-warning btn-block mt-1 mb-3"},r.a.createElement(w.a,{icon:"filter"})," Filter active. Click to disable")):null}}]),t}(n.Component),qe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",null,"Map legend"),r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#f64747"}}),"Production places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#d47500"}}),"Storage places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#aa8f00"}}),"Discovery places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#b381b3"}}),"Discovery and production places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#009fd4"}}),"Storage and production places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#00aa55"}}),"Discovery and storage places of manuscripts"),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("span",{className:"legend-item rounded-circle",style:{background:"#939393"}}),"Discovery, storage and production places of manuscripts")),r.a.createElement("hr",null),r.a.createElement("h5",null,"Available basemaps"),r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"http://pelagios.org/maps/greco-roman/",target:"_blank",rel:"noopener noreferrer"},"Imperium, Pelagios")),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"http://dare.ht.lu.se/",target:"_blank",rel:"noopener noreferrer"},"Imperium, Digital Atlas of Ancient World (DARE)")),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"http://awmc.unc.edu/wordpress/",target:"_blank",rel:"noopener noreferrer"},"Ancient World Mapping Center")),r.a.createElement("li",{className:"p-1 m-1"},r.a.createElement("a",{href:"https://www.openstreetmap.org",target:"_blank",rel:"noopener noreferrer"},"Open Street Map"))))}}]),t}(n.Component),De={places:{episcopal_sees:{id:"episcopal_sees",title:"Episcopal sees",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`episcopalsee`=1")}},has_monasteries:{id:"has_monasteries",title:"Sites with one or more monasteries",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`hasmonastery` = 1")}},churches:{id:"churches",title:"Churches",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'church'")}},cemeteries:{id:"cemeteries",title:"Catacombs, cemeteries tombs or necropoleis",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'catacomb, cemetery, necropolis' OR `typology` = 'tomb'")}},hermitages:{id:"hermitages",title:"Hermitage units (mainly referred to the area of Western Thebes)",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'hermitage unit(s)'")}},mines:{id:"mines",title:"Mines or quarries",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'mine, quarry'")}},monasteries:{id:"monasteries",title:"Monasteries",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'monastery'")}},settlements:{id:"settlements",title:"Settlement",url:"places?verb=search&type=encoded",data:{q_encoded:btoa("`typology` = 'settlement'")}}},titles:{final:{id:"final",title:"Final titles",url:"titles?verb=search&type=encoded",data:{q_encoded:btoa(" `type` = 'final'")}},section_headings:{id:"section_headings",title:"Section headings",url:"titles?verb=search&type=encoded",data:{q_encoded:btoa(" `type` = 'section heading'")}}},authors:{bishops:{id:"bishops",title:"Authors-(arch)bishops",url:"authors?verb=search&type=encoded",data:{q_encoded:btoa(" `title` LIKE '%bishop' ")}}},manuscripts:{ms_has_bindings:{id:"ms_has_bindings",title:"Manuscripts with ancient bookbindings",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bindings`=1")}},detached_bindings:{id:"detached_bindings",title:"Bookbindings detached from original manuscripts",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`isbookbinding`=1")}},horizontal_rolls:{id:"horizontal_rolls",title:"Horizontal rolls",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform` = 'horizontal roll'")}},vertical_rolls:{id:"vertical_rolls",title:"Vertical rolls",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform` = 'vertical roll'")}},minor_dialects:{id:"minor_dialects",title:"\u201cMinor\u201d dialects",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` NOT LIKE '%F;%' AND `dialect` NOT LIKE '%S;%' AND `dialect` NOT LIKE '%B;%' AND `dialect` NOT LIKE '%F' AND `dialect` NOT LIKE '%S' AND `dialect` NOT LIKE '%B'")}},miniature_codices:{id:"miniature_codices",title:"Miniature codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`leafw`<101 AND `leafw`>0 AND `bookform` = 'codex'")}},square_codices:{id:"square_codices",title:"Square format codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform`='codex' AND `prophw`>.84 AND `prophw`<1.16")}},oblong_codices:{id:"oblong_codices",title:"Oblong format codices",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`bookform`='codex' AND `prophw`>1.84")}},early_bohairic:{id:"early_bohairic",title:"Early Bohairic manuscripts (up to 7th cent.)",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` LIKE '%B%' AND `chronoto`<'701'")}},fayyumic:{id:"fayyumic",title:"Fayyumic dialect manuscripts",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`dialect` LIKE '%F%' ")}},ms_third_c:{id:"ms_third_c",title:"Manuscripts up to the 3rd Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` < 301")}},ms_forth_c:{id:"ms_forth_c",title:"Manuscripts of the 4th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 299 AND `chronofrom` < 400")}},ms_fifth_c:{id:"ms_fifth_c",title:"Manuscripts of the 5th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 399 AND `chronofrom` < 500")}},ms_sixth_c:{id:"ms_sixth_c",title:"Manuscripts of the 6th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 499 AND `chronofrom` < 600")}},ms_seventh_c:{id:"ms_seventh_c",title:"Manuscripts of the 7th Century",url:"manuscripts?verb=search&type=encoded",data:{q_encoded:btoa("`chronofrom` > 599 AND `chronofrom` < 700")}}},works:{translations_biblical_sahidic:{id:"translations_biblical_sahidic",title:"Translations of biblical works into Sahidic - first phase (3rd-4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into Sahidic - first phase (3rd-4th cent.)'")}},translations_biblical_bohairic:{id:"translations_biblical_bohairic",title:"Translations of biblical works into Bohairic - first phase (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into Bohairic - first phase (4th cent.)")}},early_translations_other:{id:"early_translations_other",title:"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(" `litperiod` = 'Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)'")}},translations_apocryphal:{id:"translations_apocryphal",title:"Translations of apocryphal works \u2013 first phase (4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent(" `litperiod` = 'Translations of apocryphal works \u2013 first phase (4th cent.)'")))}},translations_gnostic:{id:"translations_gnostic",title:"Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)' ")))}},translations_manichaean:{id:"translations_manichaean",title:"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)' ")))}},translations_patristic:{id:"translations_patristic",title:"Translation of patristic works \u2013 first phase (3th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translation of patristic works \u2013 first phase (3th-5th cent.)' ")))}},pachomius:{id:"pachomius",title:"Pachomius and the early Pachomian milieu (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Pachomius and the early Pachomian milieu (4th-5th cent.)' ")))}},shenoute:{id:"shenoute",title:"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)' ")))}},standard_translations:{id:"standard_translations",title:"\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)' ")))}},translations_apocryphal_second:{id:"translations_apocryphal_second",title:"Translations of apocryphal texts \u2013 second phase (4th-5th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translations of apocryphal texts \u2013 second phase (4th-5th cent.)' ")))}},translations_hagiographical:{id:"translations_hagiographical",title:"Translations of hagiographical works \u2013 first phase (4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Translations of hagiographical works \u2013 first phase (4th-6th cent.)' ")))}},classsical_translations_homilies:{id:"classsical_translations_homilies",title:"\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)' ")))}},classsical_translations_historiae:{id:"classsical_translations_historiae",title:"\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)' ")))}},classsical_translations_acts:{id:"classsical_translations_acts",title:"\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)' ")))}},classsical_translations_monastic:{id:"classsical_translations_monastic",title:"\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)' ")))}},post_chalcedonian:{id:"post_chalcedonian",title:"Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)' ")))}},historiographic:{id:"historiographic",title:"Historiographic Production (6th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Historiographic Production (6th cent.)' ")))}},orig_lit_formation:{id:"orig_lit_formation",title:"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Formation of the earlier hagiographic cycles (6 cent.)' ")))}},orig_lit_damian_hag:{id:"orig_lit_damian_hag",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies' ")))}},orig_lit_damian_hom:{id:"orig_lit_damian_hom",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies' ")))}},poetry:{id:"poetry",title:"Poetic production (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Poetic production (7th-8th cent.)' ")))}},orig_lit_hom:{id:"orig_lit_hom",title:"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Homilies with apocryphal insertions (6th -8th cent.)' ")))}},original_lit_early_islamic:{id:"original_lit_early_islamic",title:"Original Literature: Literary production of the early Islamic period (7th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Literary production of the early Islamic period (7th cent.)' ")))}},standard_translations_in_bohairic:{id:"standard_translations_in_bohairic",title:"\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = '\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)' ")))}},original_lit_later_hag:{id:"original_lit_early_islamic",title:"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)' ")))}},synaxarial:{id:"synaxarial",title:"Synaxarial arrangement (9th-10th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Synaxarial arrangement (9th-10th cent.)' ")))}},late_liturgical:{id:"late_liturgical",title:"Late liturgical production (10th-14th cent.)",url:"works?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`litperiod` = 'Late liturgical production (10th-14th cent.)' ")))}}},colophons:{cryptography:{id:"cryptography",title:"Colophons with cryptography",url:"colophons?verb=search&type=encoded",data:{q_encoded:btoa(unescape(encodeURIComponent("`cryptography`=1 ")))}}},map:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'discovery' ")}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'storage' ")}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[mp.type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" mp.type = 'production' ")}},all_ms_places:{id:"all_ms_places",title:"All places connected to manuscripts",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[p.id]":"Id","fields[p.name]":"Name","fields[p.pleiades]":"Pleiades Id","fields[p.typology]":"Site typology","fields[GROUP_CONCAT(DISTINCT mp.type) as type]":"Place type","fields[count(mp.id_link)]":"Tot ms",group:"p.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" 1 ")}},bishoprics:{id:"bishoprics",title:"Bishoprics",url:"geodata?verb=search&geojson=true&type=encoded",data:{join:"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id","fields[paths__geodata.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology",q_encoded:btoa("`paths__places`.`episcopalsee`=1 LIMIT 0, 100")}}}},Pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},Object.values(De.map).map(function(e,t){return r.a.createElement("li",{key:t,className:"mb-3"},r.a.createElement(d.b,{to:"/map/saved/"+e.id},r.a.createElement(w.a,{icon:"arrow-circle-right"})," ",e.title))}))}}]),t}(n.Component),Ae=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.show?r.a.createElement(ge.a,{addonType:"append"},r.a.createElement(le.a,{color:"danger",onClick:this.props.onClick},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):null}}]),t}(n.Component);function Ie(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),s=a[0],i=a[1];return r.a.createElement(ne.a,{isOpen:!s,toggle:function(){return i(!s)},className:e.className},r.a.createElement(re.a,null,"Error"),r.a.createElement(se.a,null,e.children),r.a.createElement(ie.a,null,r.a.createElement(le.a,{color:"success",block:!0,onClick:function(){return i(!s)}},"Close")))}var Te=a(217),Re=a.n(Te),Le="https://db-dev.bradypus.net/api/paths/";"localhost"===window.location.hostname&&(Le="http://db.localhost/api/paths/");var Ue=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"getData",value:function(e,t,a){e=Le+e,Re()({method:"post",url:e,params:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.data.type&&"error"===e.data.type)return console.log("API error:"),console.log(e.data.text),!1;a(e.data)}).catch(function(e){e instanceof Error?console.log(e.message):console.log(e.data)})}},{key:"getBaseUrl",value:function(){return Le}},{key:"getUniqueVal",value:function(e,t,a,n){this.getData("../v2/paths/"+e,{verb:"getUniqueVal",tb:e.replace("paths__",""),fld:t,s:a},function(e){n(e)},!0)}},{key:"getSaved",value:function(e,t,a,n){"undefined"!==typeof De[e][t]?(De[e][t].data.page=a,this.getData(De[e][t].url,De[e][t].data,function(a){n(a,De[e][t].title)})):n({status:"error",text:"No saved query found for id: ".concat(e,".").concat(t)})}},{key:"getSimple",value:function(e,t,a,n,r,s){var i={verb:"search",type:"advanced",page:r,"adv[a0][fld]":t,"adv[a0][operator]":n?"=":"LIKE","adv[a0][value]":a};this.getData(e,i,function(e){s(e)},!0)}},{key:"getAdv",value:function(e,t,a,n){var r={verb:"search",type:"advanced",page:a};Object.entries(t).forEach(function(e){var t=Object(M.a)(e,2),a=t[0],n=t[1];r["adv[".concat(a,"][fld]")]=n.f,r["adv[".concat(a,"][value]")]=n.v,r["adv[".concat(a,"][operator]")]=n.o,r["adv[".concat(a,"][connector]")]=n.c}),this.getData(e,r,function(e){n(e)},!0)}},{key:"getStr",value:function(e,t,a,n){this.getData(e,{verb:"search",type:"fast",string:t,page:a},function(e){n(e,"Search ["+t+"] in "+e.head.table_label)},!0)}},{key:"getByEncodedSql",value:function(e,t,a,n){this.getData(e,{verb:"search",type:"encoded",q_encoded:t,page:a},function(e){n(e)},!0)}},{key:"getAll",value:function(e,t,a){this.getData(e,{verb:"search",type:"all",page:t},function(e){a(e)})}},{key:"getOne",value:function(e,t,a){this.getData("../v2/paths",{tb:e,verb:"read",id:t},function(e){a(e)})}},{key:"inspect",value:function(e,t){this.getData("../v2/paths",{tb:e,verb:"inspect"},function(e){t(e)})}},{key:"getChart",value:function(e,t){this.getData("../v2/paths/"+e,{id:e,verb:"getChart"},function(e){t(e)})}},{key:"simplifyGeojson",value:function(e){var t={type:"FeatureCollection",features:[]},a=!1;return Object.entries(e.features).forEach(function(e){var n=Object(M.a)(e,2),r=(n[0],n[1]);a&&a===r.properties.id||(t.features.push(r),a=r.properties.id),a===r.properties.id&&(t.features[t.features.length-1].properties.toponym+="|"+r.properties.toponym)}),t}},{key:"getPlaces",value:function(e,t){var a={join:"JOIN paths__geodata as g ON g.table_link = 'paths__places' AND g.id_link = paths__places.id  JOIN paths__m_toponyms as t ON t.table_link = 'paths__places' AND t.id_link = paths__places.id","fields[g.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology","fields[GROUP_CONCAT(t.toponym)]":"Toponyms",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(e?e.replace(/`id`/gi,"`paths__places`.`id`"):" 1")};this.getData("places?verb=search&geojson=true&type=encoded",a,function(e){t(e)})}},{key:"getMsPlaces",value:function(e,t){var a={join:" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` ","fields[paths__geodata.geometry]":"Geometry","fields[paths__places.id]":"Id","fields[paths__places.name]":"Name","fields[paths__places.pleiades]":"Pleiades Id","fields[paths__places.typology]":"Site typology","fields[paths__m_msplaces.type]":"Place type",group:"paths__places.id",limit_start:"0",limit_end:"500",q_encoded:btoa(" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE "+e+" )")};this.getData("geodata?verb=search&geojson=true&type=encoded",a,function(e){t(e)})}}]),e}(),Me=(a(399),me.b.BaseLayer),Fe="AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o",ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={places:null,shownPlaces:null,urlFilter:!1,sidebarCollapsed:!1,selected:"home",manualFilter:"",error:!1},a.placesLayerRef=r.a.createRef(),a.mapRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onSidebarClose",value:function(){this.setState({sidebarCollapsed:!0})}},{key:"onSidebarOpen",value:function(e){this.setState({sidebarCollapsed:!1,selected:e})}},{key:"pointToLayer",value:function(e,t){var a="#0f4880";return e.properties.type&&(e.properties.type.includes("discovery")&&e.properties.type.includes("storage")&&e.properties.type.includes("production")?a="#939393":e.properties.type.includes("discovery")&&e.properties.type.includes("storage")?a="#00aa55":e.properties.type.includes("storage")&&e.properties.type.includes("production")?a="#009fd4":e.properties.type.includes("discovery")&&e.properties.type.includes("production")?a="#b381b3":e.properties.type.includes("discovery")?a="#aa8f00":e.properties.type.includes("storage")?a="#d47500":e.properties.type.includes("production")&&(a="#f64747")),new we.a.CircleMarker(t,{radius:5,weight:1,color:"#fff",opacity:.9,fillColor:a,fillOpacity:1})}},{key:"onEachFeature",value:function(e,t){var a=window.location.pathname.replace(/\/map(.*)/,"");t.bindPopup("<strong>".concat(e.properties.name,"</strong>")+(e.properties.copticname?'<br /><span class="coptic">'+e.properties.copticname+"</span>":"")+(e.properties.type?'<br /><span class="text-secondary">'.concat(e.properties.type,"</span>"):"")+'<br /><a href="'.concat(a,"/places/").concat(e.properties.id,'">paths/places/').concat(e.properties.id,"</a>")),t.on("mouseover",function(){t.openPopup()})}},{key:"filterPlaces",value:function(e){var t=e.target.value,a={};if(""===t)a=this.state.places;else{a={type:"FeatureCollection",features:[]};for(var n=0,r=Object.values(this.state.places.features);n<r.length;n++){var s=r[n];Object.values(s.properties).join("|").toLowerCase().includes(t.toLowerCase())&&a.features.push(s)}}this.setState({manualFilter:t,shownPlaces:a}),this.fitMapToBounds()}},{key:"clearFiltered",value:function(){this.setState({manualFilter:"",shownPlaces:this.state.places}),this.fitMapToBounds()}},{key:"fitMapToBounds",value:function(){var e=[[19.700194,16.570227],[35.4737,32.869317]];this.placesLayerRef&&this.placesLayerRef.current.props.data.features.length>1&&(e=this.placesLayerRef.current.leafletElement.getBounds())._northEast.lat===e._southWest.lat&&e._northEast.lng===e._southWest.lng&&e.pad(),this.mapRef.current.leafletElement.fitBounds(e)}},{key:"fetchData",value:function(e,t){var a=this;if(e)Ue.getSaved("map",e,null,function(e){a.setState({places:e,shownPlaces:e,urlFilter:!0}),a.fitMapToBounds()});else if(t){var n=ve.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});if("manuscripts"===n.tb)Ue.getMsPlaces(n.where,function(e){a.setState({places:e,shownPlaces:e,urlFilter:n.where}),a.fitMapToBounds()});else{if("places"!==n.tb)return!1;Ue.getPlaces(n.where,function(e){a.setState({places:e,shownPlaces:e,urlFilter:n.where}),a.fitMapToBounds()})}}else Ue.getPlaces(null,function(e){e.type&&"error"===e.type?a.setState({error:r.a.createElement("div",null,"Sorry. There was an error in getting the data from database. Please report this error to ",r.a.createElement("a",{href:"mailto:julian.bogdani@uniroma1.it"},"julian.bogdani@uniroma1.it")," and be sure to copy and paste the following lines:",r.a.createElement("br",null),r.a.createElement("div",{className:"border p-3 mt-3"},r.a.createElement("code",null,window.location.href),r.a.createElement("pre",null,e.text)))}):(a.setState({places:e,shownPlaces:e}),a.fitMapToBounds())})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e!==this.props&&(this.setState({places:null,urlFilter:null}),this.fetchData(e.match.params.data,null))}},{key:"componentDidMount",value:function(){this.fetchData(this.props.match.params.data,this.props.location.search)}},{key:"showGeoJson",value:function(){if(!this.state.shownPlaces)return r.a.createElement("div",{style:{textAlign:"center",zIndex:999,marginTop:"5rem"}},r.a.createElement(ae,null,"Loading map data..."))}},{key:"render",value:function(){return r.a.createElement("div",{className:"maxHeight"},r.a.createElement(N,{location:this.props.location}),r.a.createElement("main",{role:"main",className:"maxHeight"},r.a.createElement(Oe.Sidebar,{id:"sidebar",collapsed:this.state.sidebarCollapsed,selected:this.state.selected,onOpen:this.onSidebarOpen.bind(this),onClose:this.onSidebarClose.bind(this),closeIcon:r.a.createElement(w.a,{icon:"caret-left"})},r.a.createElement(Oe.Tab,{id:"home",header:"Home",icon:r.a.createElement(w.a,{icon:"home"})},r.a.createElement("div",{className:"sidebarSearch"},r.a.createElement(fe.a,{className:"my-2"},r.a.createElement(ge.a,{addonType:"prepend"},"Search:"),r.a.createElement(_e.a,{type:"search",value:this.state.manualFilter,onChange:this.filterPlaces.bind(this),placeholder:"start typing to filter places..."}),r.a.createElement(Ae,{show:this.state.manualFilter,onClick:this.clearFiltered.bind(this)}))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(Se,{urlFilter:this.state.urlFilter,filter:this.state.filter}),r.a.createElement(xe,{places:this.state.shownPlaces}))),r.a.createElement(Oe.Tab,{id:"savedQueries",header:"Saved queries",icon:r.a.createElement(w.a,{icon:"save"})},r.a.createElement("div",{className:"mt-5"},r.a.createElement(Pe,null))),r.a.createElement(Oe.Tab,{id:"legend",header:"Legend",icon:r.a.createElement(w.a,{icon:"info"})},r.a.createElement("div",{className:"mt-5"},r.a.createElement(qe,null)))),this.state.error&&r.a.createElement(Ie,null,this.state.error),!this.state.shownPlaces&&r.a.createElement("div",{style:{position:"absolute",top:"5rem",textAlign:"center",zIndex:999,width:"100%"}},r.a.createElement(ae,null,"Loading map data...")),r.a.createElement(de.a,{className:"sidebar-map maxHeight",zoomControl:!0,ref:this.mapRef},r.a.createElement(me.b,{position:"topright"},r.a.createElement(Me,{name:"Imperium (DARE)"},r.a.createElement(he.a,{url:"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png"})),r.a.createElement(Me,{name:"AWMC",checked:!0},r.a.createElement(he.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})),r.a.createElement(Me,{name:"Google Maps Roads"},r.a.createElement(Ne.GoogleLayer,{googlekey:Fe,maptype:"ROADMAP"})),r.a.createElement(Me,{name:"Google Satellite"},r.a.createElement(Ne.GoogleLayer,{googlekey:Fe,maptype:"SATELLITE"})),r.a.createElement(Me,{name:"OpenStreetMap"},r.a.createElement(he.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})),r.a.createElement(Me,{name:"Series 4085 - GB & USA"},r.a.createElement(ue.a,{layers:"Series 4085-Great Britain War Office-U.S. Army Map Service-1941-",url:"http://wms.paths-erc.eu/"})),r.a.createElement(Me,{name:"Arrowsmith 1807"},r.a.createElement(ue.a,{layers:"Arrowsmith 1807",url:"http://wms.paths-erc.eu/"})),this.state.shownPlaces&&r.a.createElement(be.a,{ref:this.placesLayerRef,key:ke()(this.state.shownPlaces),data:this.state.shownPlaces,pointToLayer:this.pointToLayer.bind(this),onEachFeature:this.onEachFeature.bind(this)})))))}}]),t}(n.Component),Be=a(594),He=a(587),Ge=a(582),Ve=a(583),We=a(584),Je=a(585),Qe=a(586),Ke=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.tblabel,t=this.props.tb;return r.a.createElement("div",null,r.a.createElement(Ge.a,{className:"mt-5 mb-5",color:"light"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{type:"button",className:"close mr-2 mt-2","aria-label":"Close",onClick:this.props.closeFn},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(Ve.a,null,r.a.createElement(We.a,null,"Saved queries for ",e),r.a.createElement(Je.a,null,Object.values(De[t]).map(function(e,a){return r.a.createElement(Qe.a,{key:a,className:"mb-3",tag:d.b,to:"/search/".concat(t,"/saved?q=").concat(e.id),color:"secondary"},r.a.createElement(w.a,{icon:"arrow-circle-right"})," ",e.title)})))))}}]),t}(n.Component),Ye={coptic:["authors.copticname","titles.text","colophons.text"],greek:["authors.greekname"],hidden:["manuscripts.creator","collections.creator","collections.cmclname","works.id","works.creator","works.shelfmarks","works.period","works.problems","titles.creator","colophons.creator","authors.id","authors.creator","authors.cmclname","editors.cmclname","places.creator","places.hasplans","places.hasphotos","persons.id","persons.creator","biblio.creator","biblio.editors","m_quires.id","m_hands.id"],id_fld:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"name",persons:"name"},searchDefault:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"paths__m_toponyms:toponym",persons:"name"},preview:{manuscripts:["id","cmclid","tm","ldab","bookform","writingsupport"],collections:["id","fullname","cmclname","country","town","institution","name","notes"],works:["id","cmcl","title","cpg"],titles:["cc","type","workcc","msid"],colophons:["id","msid","dialect","chronofrom","chronoto","datingcriteria"],authors:["name","title","copticname","greekname","cmclname"],places:["id","name","tm","pleiades","region","area","episcopalsee"],persons:["id","name","type","profession","patronymic"]},label:{manuscripts:"Manuscripts",collections:"Collections",works:"Works",titles:"Titles",colophons:"Colophons",authors:"Authors",places:"Places",persons:"Persons attested in colophons"},fld_whitelist:["paths__places:id","paths__places:name","paths__places:tm","paths__places:pleiades","paths__places:region","paths__places:area","paths__places:meris","paths__places:nomos","paths__places:province","paths__places:episcopalsee","paths__places:typology","paths__places:description","paths__places:hasmonastery","paths__places:isnomoscapital","paths__m_toponyms:toponym","paths__m_placephase:fperiod","paths__m_placephase:ftypology","paths__works:id","paths__works:cmcl","paths__works:title","paths__works:cpg","paths__works:cant","paths__works:cavt","paths__works:bho","paths__works:bhg","paths__works:bhl","paths__works:cae","paths__works:litperiod","paths__m_wkauthors:type","paths__m_wkauthors:author","paths__authors:id","paths__authors:name","paths__authors:copticname","paths__authors:greekname","paths__authors:viaf","paths__authors:title","paths__titles:id","paths__titles:cc","paths__titles:workcc","paths__titles:msid","paths__titles:type","paths__titles:text","paths__titles:translation","paths__colophons:id","paths__colophons:msid","paths__colophons:chronofrom","paths__colophons:chronoto","paths__colophons:dialect","paths__colophons:greektext","paths__colophons:writingaxis","paths__colophons:cryptography","paths__colophons:minusculecopitc","paths__colophons:minusculegreek","paths__colophons:text","paths__colophons:translation","paths__collections:id","paths__collections:fullname","paths__collections:country","paths__collections:town","paths__collections:institution","paths__collections:name","paths__manuscripts:id","paths__m_shelfmarks:collection","paths__m_shelfmarks:shelfmark","paths__manuscripts:cmclid","paths__manuscripts:tm","paths__manuscripts:ldab","paths__manuscripts:lcbm","paths__manuscripts:alias","paths__manuscripts:bookform","paths__manuscripts:writingsupport","paths__manuscripts:issinglefrag","paths__manuscripts:isbookbinding","paths__manuscripts:dialect","paths__manuscripts:chronofrom","paths__manuscripts:chronoto","paths__m_msplaces:place","paths__m_msplaces:type","paths__manuscripts:datingsource","paths__manuscripts:leaftotextant","paths__manuscripts:quiresextant","paths__manuscripts:columns","paths__manuscripts:linespercolumn","paths__manuscripts:charsperline","paths__manuscripts:quiresig","paths__manuscripts:quiretype","paths__manuscripts:quireposition","paths__manuscripts:pagination","paths__manuscripts:pagtype","paths__manuscripts:pagposition","paths__manuscripts:foliation","paths__manuscripts:foltype","paths__manuscripts:folposition","paths__manuscripts:handstot","paths__manuscripts:lectionalsigns","paths__manuscripts:structuralsigns","paths__manuscripts:abbreviations","paths__manuscripts:ruling","paths__manuscripts:rulingtype","paths__manuscripts:rulingtool","paths__manuscripts:pricking","paths__manuscripts:leaftabs","paths__manuscripts:kolleseis","paths__manuscripts:bindings","paths__manuscripts:sewings","paths__manuscripts:sewingtype","paths__manuscripts:covers","paths__manuscripts:palimpsest","paths__manuscripts:decortype","paths__manuscripts:decorsubj","paths__m_hands:handno","paths__m_hands:modulartypology","paths__m_hands:writingaxis","paths__m_hands:thickandthin","paths__m_biblio:short","paths__m_biblio:details"]},Ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={showSaved:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleSaved",value:function(e){e.preventDefault(),this.setState({showSaved:!this.state.showSaved})}},{key:"render",value:function(){var e=this.props.tblabel?this.props.tblabel:Ye.label[this.props.tb],t=this.props.tb,a=!!this.props.text&&r.a.createElement("span",{className:"subText"},this.props.text),n=[{to:"/search/"+t+"/all",icon:"list-ul",text:"Show all"},{to:"/search/"+t,icon:"search",text:"Search"},{to:"/search/"+t+"/adv",icon:"search-plus",text:"Advanced search"}];return r.a.createElement("div",null,r.a.createElement(He.a,{className:"p-4"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,a),r.a.createElement(_.a,{color:"light",light:!0,expand:"xs",className:"ml-auto"},r.a.createElement(y.a,null,r.a.createElement("h3",null,r.a.createElement("small",null,e))),r.a.createElement(k.a,{className:"ml-auto",navbar:!0},n.map(function(e,t){return r.a.createElement(O.a,{key:t},r.a.createElement(j.a,{to:e.to,tag:d.b},r.a.createElement(w.a,{icon:e.icon})," ",r.a.createElement("span",{className:"d-none d-md-inline"},e.text)))}),De[t]&&r.a.createElement(O.a,null,r.a.createElement(j.a,{onClick:this.toggleSaved.bind(this),to:"#",tag:d.b},r.a.createElement(w.a,{icon:"save"}),r.a.createElement("span",{className:"d-none d-md-inline"}," Saved queries"))))),this.state.showSaved&&r.a.createElement(Ke,{tb:t,tblabel:e,closeFn:this.toggleSaved.bind(this)}))))}}]),t}(n.Component),$e=a(588),Xe=a(589),et=a(590),tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement(le.a,{color:"danger",size:"sm",onClick:this.toggle},r.a.createElement(w.a,{icon:"code"})),r.a.createElement(ne.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(re.a,{toggle:this.toggle},"Executed SQL"),r.a.createElement(se.a,null,r.a.createElement("pre",{style:{height:"200px",whiteSpace:"pre-wrap"}},this.props.sql))))}}]),t}(n.Component);var at=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=Math.ceil(a/30),s=[];n=parseInt(n,10);var i=ve.a.parse(t,{ignoreQueryPrefix:!0});return n-2>0&&(i.page=1,s.push({to:e+"?"+ve.a.stringify(i),text:1})),n-3>0&&s.push({to:"#",disabled:!0,text:"..."}),n-1>0&&(i.page=n-1,s.push({to:e+"?"+ve.a.stringify(i),text:i.page})),i.page=n,s.push({to:e+"?"+ve.a.stringify(i),active:!0,text:n}),n+1<r&&(i.page=n+1,s.push({to:e+"?"+ve.a.stringify(i),text:i.page})),n+2<r&&s.push({to:"#",disabled:!0,text:"..."}),n!==r&&(i.page=r,s.push({to:e+"?"+ve.a.stringify(i),text:i.page})),s}(this.props.path,this.props.search,this.props.totalRows,this.props.page);return r.a.createElement($e.a,null,r.a.createElement(Xe.a,null,r.a.createElement(et.a,null,"Pages: ")),e.map(function(e,t){var a={disabled:e.disabled,active:e.active};return r.a.createElement(Xe.a,Object.assign({},a,{key:t}),r.a.createElement(et.a,{tag:d.b,to:e.to},e.text))}))}}]),t}(n.Component),nt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.page?this.props.page:1,t=30*e-30+1,a=30*e<this.props.totalRows?30*e:this.props.totalRows;return r.a.createElement("div",{className:"mb-3"},"Showing records ",r.a.createElement("span",{className:"badge badge-primary"},t," \u2013  ",a," ")," of ",r.a.createElement("span",{className:"badge badge-success"},this.props.totalRows)," records found \xa0",r.a.createElement(tt,{sql:this.props.query}))}}]),t}(n.Component),rt=a(591),st=a(592),it=a(593),lt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,null,this.props.children)}}]),t}(n.Component),ot=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.record,t=this.props.fields,a=this.props.tb,n=this.props.previewFlds,s=this.props.idField;return r.a.createElement(x.a,{sm:"4"},r.a.createElement(Ge.a,{className:"mt-3",outline:!0,color:"dark"},r.a.createElement(rt.a,{tag:"h4"},e[s]),r.a.createElement(Ve.a,{id:e.id},r.a.createElement(st.a,{hover:!0,size:"sm"},r.a.createElement("tbody",null,n.map(function(a,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",null,t[a]),r.a.createElement("td",null,e[a]))}))),r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"btn-group float-right",role:"group"},r.a.createElement(it.a,null,r.a.createElement(le.a,{size:"sm",color:"info",tag:d.b,to:"/"+[a,e.id].join("/")},r.a.createElement(w.a,{icon:"eye"})," View")))))))}}]),t}(n.Component),ct=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.tb;return["manuscripts","places"].indexOf(e)<0?null:r.a.createElement("div",{className:"float-right mt-2"},r.a.createElement(d.b,{to:"/map?tb="+e+"&where="+encodeURI(this.props.where),className:"btn btn-warning"},r.a.createElement(w.a,{icon:"map-marker-alt"})," View on Map"))}}]),t}(n.Component),pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={result:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_fetchData",value:function(){var e=this;switch(this.props.type){case"simple":Ue.getSimple(this.props.tb,this.props.fld,this.props.val,this.props.strict,this.props.page,function(t){e.setState({result:t})});break;case"adv":Ue.getAdv(this.props.tb,this.props.data,this.props.page,function(t){e.setState({result:t})});break;case"all":Ue.getAll(this.props.tb,this.props.page,function(t){e.setState({result:t})});break;case"saved":Ue.getSaved(this.props.tb,this.props.query,this.props.page,function(t){e.setState({result:t})});break;case"encoded":Ue.getByEncodedSql(this.props.tb,this.props.q,this.props.page,function(t){e.setState({result:t})});break;default:return console.log("Unknown verb ".concat(this.props.type)),null}}},{key:"componentDidUpdate",value:function(e){this.props.page===e.page&&this.props.fld===e.fld&&this.props.val===e.val&&this.props.strict===e.strict&&this.props.query===e.query||this._fetchData()}},{key:"componentDidMount",value:function(){this._fetchData()}},{key:"render",value:function(){var e=this;return this.state.result?"error"===this.state.result.type?r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(Be.a,{color:"danger",className:"mt-5"},r.a.createElement("h4",{className:"alert-heading"},"We are so sorry!"),r.a.createElement("p",null,"Something went terribly wrong. Please report this error to ",r.a.createElement("a",{href:"https://github.com/paths-erc/atlas/issues"},"our public repository")," in order to get it fixes as soon as possible.")),r.a.createElement("div",null,r.a.createElement("p",null,"Please file the current URL:"),r.a.createElement(Be.a,{color:"info",className:"border p-3 m-2 ml-4"},window.location.href),r.a.createElement(Be.a,{color:"info",className:"border p-3 m-2 ml-4"},decodeURIComponent(window.location.href)),r.a.createElement("p",null,"and the following error message"),r.a.createElement(Be.a,{color:"info",className:"border p-3 m-2 ml-4"},r.a.createElement("pre",null,this.state.result.text)),r.a.createElement("p",null,"Full error trace"),r.a.createElement(Be.a,{color:"info",className:"border p-3 m-2 ml-4"},r.a.createElement("pre",null,this.state.result.trace))))):0===this.state.result.head.total_rows?r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(Be.a,{color:"warning",className:"mt-5"},r.a.createElement("h4",{className:"alert-heading"},"Ooops!"),"No result found. Please reformulate the query."))):r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"clearfix"},r.a.createElement(ct,{tb:this.state.result.head.stripped_table,where:this.state.result.head.query_where,type:this.props.match.params.type,search:ve.a.parse(this.props.location.search,{ignoreQueryPrefix:!0})}),r.a.createElement(nt,{totalRows:this.state.result.head.total_rows,page:this.state.result.head.page,query:this.state.result.head.query_arrived}),r.a.createElement(at,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})),r.a.createElement(lt,null,this.state.result.records.map(function(t,a){return r.a.createElement(ot,{idField:Ye.id_fld[e.props.match.params.table],previewFlds:Ye.preview[e.props.match.params.table],tb:e.props.match.params.table,record:t,fields:e.state.result.head.fields,key:a})})),r.a.createElement("div",{className:"pt-3"},r.a.createElement(at,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})))):r.a.createElement("div",{className:"container"},r.a.createElement(ae,null))}}]),t}(n.Component),mt=Object(h.f)(pt),dt=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(p.a)(t).call(this,e));var n=ve.a.parse(e.location.search,{ignoreQueryPrefix:!0});return a.state={saved:n.q,page:n.page},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=ve.a.parse(e.location.search,{ignoreQueryPrefix:!0}),n=ve.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});a.page!==n.page&&this.setState({page:n.page}),a.q!==n.q&&this.setState({saved:n.q})}},{key:"render",value:function(){return"undefined"===typeof De[this.props.match.params.table][this.state.saved]?r.a.createElement("div",{className:"container"},r.a.createElement(Be.a,{color:"warning",className:"mt-5"},r.a.createElement("h4",{className:"alert-heading"},"Ooops!"),"No saved query ",r.a.createElement("code",null,this.state.saved)," found.")):r.a.createElement("div",null,r.a.createElement(Ze,{tb:this.props.match.params.table,text:De[this.props.match.params.table][this.state.saved].title}),r.a.createElement(mt,{tb:this.props.match.params.table,query:this.state.saved,type:"saved",page:this.state.page}))}}]),t}(n.Component),ht=a(595),ut=a(596),bt=a(240),ft=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this))).state={fields:!1,fld:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_setState",value:function(e,t){var a;if(e=Ye.fld_whitelist.map(function(t){return!!e[t]&&{value:t,label:e[t].label}}).filter(function(e){return e}),t)a=e.filter(function(e){return e.value===t})[0];else{if(Ye.searchDefault[this.props.tb]){var n=Ye.searchDefault[this.props.tb].includes("paths")?Ye.searchDefault[this.props.tb]:"paths__".concat(this.props.tb,":").concat(Ye.searchDefault[this.props.tb]);a=e.filter(function(e){return e.value===n})[0]}else a=e[0];this.props.onChange(a)}this.setState({fields:e,fld:a})}},{key:"componentDidMount",value:function(){var e=this;Ue.inspect(this.props.tb,function(t){e._setState(t.fields,e.props.fld)})}},{key:"render",value:function(){return this.state.fields?r.a.createElement(bt.a,{defaultValue:this.state.fld,options:this.state.fields,onChange:this.props.onChange}):null}}]),t}(n.Component),gt=a(218),_t=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this)))._handleSearch=function(e){a.setState({isLoading:!0});var t=a.props.fld.split(":"),n=Object(M.a)(t,2),r=n[0],s=n[1];Ue.getUniqueVal(r,s,e,function(e){a.setState({options:e,isLoading:!1})})},a.state={isLoading:!1,multiple:!1,options:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.state.options?r.a.createElement("div",null,r.a.createElement(gt.AsyncTypeahead,Object.assign({},this.state,{minLength:1,placeholder:"Add a value",onSearch:this._handleSearch,onInputChange:this.props.onChange,onChange:this.props.onChange,defaultInputValue:this.props.val?this.props.val:""}))):null}}]),t}(n.Component),yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this))).state={fld:e.fld,val:e.val,strict:!0===e.strict},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a._changeField=a._changeField.bind(Object(g.a)(a)),a._changeVal=a._changeVal.bind(Object(g.a)(a)),a._changeStrict=a._changeStrict.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({fld:this.props.fld,val:this.props.val,strict:!!this.props.strict})}},{key:"_changeField",value:function(e){this.setState({fld:e.constructor===Object&&e.value?e.value:e})}},{key:"_changeVal",value:function(e){this.setState({val:e.constructor===Array?e[0]:e})}},{key:"_changeStrict",value:function(e){this.setState({strict:e.target.checked})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.val?this.props.onSubmit(this.state.fld,this.state.val,this.state.strict):alert("Insert a value to continue")}},{key:"render",value:function(){return r.a.createElement("div",{className:"my-5"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement(ht.a,{row:!0},r.a.createElement(x.a,{sm:4},r.a.createElement(ft,{tb:this.props.tb,fld:this.state.fld,onChange:this._changeField})),r.a.createElement(x.a,{sm:5},r.a.createElement(_t,{fld:this.state.fld,val:this.state.val,onChange:this._changeVal})),r.a.createElement(x.a,{sm:1},r.a.createElement(ut.a,{check:!0},r.a.createElement(_e.a,{name:"strict",type:"checkbox",checked:this.state.strict,onChange:this._changeStrict})," Strict")),r.a.createElement(x.a,{sm:2}," ",r.a.createElement(le.a,{type:"submit",color:"success",block:!0},"Search!")," "))))}}]),t}(n.Component),vt=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(p.a)(t).call(this,e));var n=ve.a.parse(e.location.search,{ignoreQueryPrefix:!0});return a.state={fld:n.f,val:n.v,strict:n.s&&"false"!==n.s&&"undefined"!==n.s,page:n.page},a._onFormSubmit=a._onFormSubmit.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_onFormSubmit",value:function(e,t,a){var n="f="+encodeURIComponent(e)+(a?"&s=1":"")+"&v="+encodeURIComponent(t);this.setState({fld:e,val:t,strict:a}),this.props.history.push("/search/".concat(this.props.match.params.table,"?").concat(n))}},{key:"componentDidUpdate",value:function(e,t){var a=ve.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ze,{tb:this.props.match.params.table,text:"Simple search"}),r.a.createElement("div",{className:"mt-3 p-1 container"},r.a.createElement(yt,{tb:this.props.match.params.table,onSubmit:this._onFormSubmit,fld:this.state.fld,val:this.state.val,strict:this.state.strict}),r.a.createElement("hr",null)),this.state.fld&&this.state.val&&r.a.createElement(mt,{tb:this.props.match.params.table,type:"simple",fld:this.state.fld,val:this.state.val,strict:this.state.strict,page:this.state.page}))}}]),t}(n.Component),Et=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_e.a,Object.assign({type:"select",placeholder:"select"},this.props),[{k:"LIKE",v:"Contains"},{k:"=",v:"Is exactly"},{k:"NOT LIKE",v:"Does not contain"},{k:"starts_with",v:"Starts with"},{k:"ends_with",v:"Ends with"},{k:"is_empty",v:"Is empty"},{k:"is_not_empty",v:"Is not empty"},{k:">",v:"Is bigger than"},{k:"<",v:"Is smaller than"}].map(function(e,t){return r.a.createElement("option",{key:t,value:e.k},e.v)})))}}]),t}(n.Component),kt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_e.a,Object.assign({type:"select"},this.props),r.a.createElement("option",{value:"AND"},"AND"),r.a.createElement("option",{value:"OR"},"OR")))}}]),t}(n.Component),Ot=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(p.a)(t).call(this,e));var n,r=ve.a.parse(e.location.search,{ignoreQueryPrefix:!0}),s=!1;return 0===Object.getOwnPropertyNames(r).length?n={a:{f:"",o:"LIKE",v:""}}:(n=r,s=!0),a.state={rows:n,showResults:s,page:!1},a._changeOperator=a._changeOperator.bind(Object(g.a)(a)),a._changeConnector=a._changeConnector.bind(Object(g.a)(a)),a._addRow=a._addRow.bind(Object(g.a)(a)),a._removeRow=a._removeRow.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_removeRow",value:function(e){var t=this.state.rows;delete t[e.target.name],this.setState({rows:t,showResults:!1})}},{key:"_addRow",value:function(){var e=this.state.rows;e["a"+Math.random().toString(36).substr(2,9)]={f:"",o:"LIKE",v:"",c:"AND"},this.setState({rows:e,showResults:!1})}},{key:"_changeField",value:function(e,t){var a=this.state.rows;a[e].f=t.constructor===Object&&t.value?t.value:t,this.setState({rows:a,showResults:!1})}},{key:"_changeVal",value:function(e,t){var a=this.state.rows;a[e].v=t.constructor===Array?t[0]:t,this.setState({rows:a,showResults:!1})}},{key:"_changeOperator",value:function(e){var t=this.state.rows;t[e.target.name].o=e.target.value,this.setState({rows:t,showResults:!1})}},{key:"_changeConnector",value:function(e){var t=this.state.rows;t[e.target.name].c=e.target.value,this.setState({rows:t,showResults:!1})}},{key:"_handleSubmit",value:function(e){e.preventDefault(),this.setState({showResults:!0});var t=ve.a.stringify(this.state.rows);this.props.history.push("/search/".concat(this.props.match.params.table,"/adv?").concat(t))}},{key:"componentDidUpdate",value:function(e,t){var a=ve.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ze,{tb:this.props.match.params.table,text:"Advanced search"}),r.a.createElement("div",{className:"mt-3 p-1 container"},r.a.createElement("form",{onSubmit:this._handleSubmit.bind(this),className:"form"},Object.entries(this.state.rows).map(function(t,a){var n=t[0],s=t[1];return r.a.createElement("div",{key:a,className:"my-3"},r.a.createElement(C.a,null,r.a.createElement(x.a,{xs:1},a>0&&r.a.createElement(kt,{defaultValue:s.c,onChange:e._changeConnector,name:n})),r.a.createElement(x.a,{xs:4},r.a.createElement(ft,{tb:e.props.match.params.table,fld:s.f,onChange:e._changeField.bind(e,n)})),r.a.createElement(x.a,{xs:2},r.a.createElement(Et,{defaultValue:s.o,name:n,onChange:e._changeOperator})),r.a.createElement(x.a,{xs:3},r.a.createElement(_t,{fld:s.f,val:s.v,onChange:e._changeVal.bind(e,n)})),r.a.createElement(x.a,{xs:1},a+1===Object.keys(e.state.rows).length&&r.a.createElement(le.a,{type:"button",color:"info",block:!0,onClick:e._addRow},"+")),r.a.createElement(x.a,{xs:1},a>0&&r.a.createElement(le.a,{type:"button",color:"danger",block:!0,name:n,onClick:e._removeRow},"-"))))}),r.a.createElement(le.a,{type:"submit",color:"success",block:!0},"Search!")),r.a.createElement("hr",null)),this.state.showResults&&r.a.createElement(mt,{tb:this.props.match.params.table,type:"adv",data:this.state.rows,page:this.state.page}))}}]),t}(n.Component),jt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=ve.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});return r.a.createElement("div",null,r.a.createElement(Ze,{tb:this.props.match.params.table,text:"Custom query"}),r.a.createElement(mt,{tb:this.props.match.params.table,type:"encoded",q:e.q,page:e.page}))}}]),t}(n.Component),wt=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(p.a)(t).call(this,e));var n=ve.a.parse(e.location.search,{ignoreQueryPrefix:!0});return a.state={page:n.page},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=ve.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ze,{tb:this.props.match.params.table,text:"View all"}),r.a.createElement(mt,{tb:this.props.match.params.table,type:"all",page:this.state.page}))}}]),t}(n.Component),Nt=a(53),Ct=a.n(Nt),xt=a(219),St=a.n(xt),qt=a(220),Dt=a.n(qt),Pt=a(221),At=a.n(Pt),It=a(222),Tt=a.n(It),Rt=a(223),Lt=a.n(Rt),Ut=a(224),Mt=a.n(Ut),Ft=a(225),zt=a.n(Ft),Bt=a(226),Ht=a.n(Bt),Gt=a(227),Vt=a.n(Gt),Wt=a(228),Jt=a.n(Wt),Qt=a(229),Kt=a.n(Qt),Yt=a(230),Zt=a.n(Yt),$t=a(231),Xt=a.n($t),ea=a(232),ta=a.n(ea),aa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={tb:e.match.params.table,label:!1,text:!1,img:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_updateData",value:function(e){var t=this,a=!1,n=!1,r=!1;switch(e){case"places":a=St.a,n=Dt.a,r="Places";break;case"manuscripts":a=At.a,n=Tt.a,r="Manuscripts";break;case"works":a=Lt.a,n=Mt.a,r="Works";break;case"titles":a=zt.a,n=Ht.a,r="Titles";break;case"authors":a=Vt.a,n=Jt.a,r="Authors";break;case"colophons":a=Kt.a,n=Zt.a,r="Colophons";break;case"collections":a=Xt.a,n=ta.a,r="Collections";break;default:return!1}fetch(a).then(function(e){return e.text()}).then(function(a){t.setState({tb:e,text:a,img:n,label:r})})}},{key:"componentDidUpdate",value:function(e){this.props.match.params.table!==e.match.params.table&&this._updateData(this.props.match.params.table)}},{key:"componentDidMount",value:function(){this._updateData(this.state.tb)}},{key:"render",value:function(){return this.state.text?(this.state.img&&(e={width:"100%",height:"300px",backgroundImage:"url("+this.state.img+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"}),r.a.createElement("div",null,r.a.createElement("div",{style:e}),r.a.createElement(Ze,{tblabel:this.state.label,tb:this.state.tb,text:"Introduction"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-3 px-md-5 double-column text-justify"},r.a.createElement(Ct.a,{source:this.state.text,escapeHtml:!1}))))):r.a.createElement(ae,null);var e}}]),t}(n.Component),na=a(233),ra=a(234),sa=a.n(ra),ia=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={uid:Math.random().toString(36).substr(2,5)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){null!==this.props.string&&new sa.a("canvas"+this.state.uid).parseString(this.props.string,"secondHalf"+this.state.uid)}},{key:"render",value:function(){var e=!1;return null!==this.props.string&&(e=100+this.props.string.length/3*20),r.a.createElement("div",{className:"mt-2 mb-4"},r.a.createElement(C.a,null,r.a.createElement(x.a,{id:"firstHalf"},this.props.string),r.a.createElement(x.a,{id:"secondHalf"+this.state.uid})),e&&r.a.createElement("canvas",{width:"400",height:e,id:"canvas"+this.state.uid}))}}]),t}(n.Component),la=a(86),oa=a.n(la);var ca=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={display:"none"},a.toggleDisplay=a.toggleDisplay.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleDisplay",value:function(){this.setState({display:"none"===this.state.display?"inline":"none"})}},{key:"render",value:function(){var e=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e||e.length<=t)return[e,!1];var n=e.substr(0,t);if(n.substr(n.length-1)===a)return[n,!1];var r=n+""+e.replace(n,"").split(a)[0],s=e.replace(r+""+a,"");return[r+a,s!==r&&s]}(this.props.text,200,this.props.separator);return e[1]?r.a.createElement("span",null,oa()(e[0]),r.a.createElement("span",{style:{display:this.state.display}},oa()(e[1])),"none"===this.state.display?"\u2026":"",r.a.createElement(le.a,{color:"info",size:"sm",className:"ml-3",onClick:this.toggleDisplay},"none"===this.state.display?"+":"-")):oa()(e[0])}}]),t}(n.Component),pa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.val,t=this.props.label;if(!e||""===e)return null;var a=[];return this.props.coptic&&a.push("coptic"),this.props.greek&&a.push("greek"),r.a.createElement(C.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==e?"":" d-none")},r.a.createElement(x.a,{sm:"4",md:"3"},r.a.createElement("label",{className:"font-weight-bold"},t)),r.a.createElement(x.a,null,r.a.createElement("div",{className:a.join(" ")},"Quire layout"===t?r.a.createElement(ia,{string:e}):r.a.createElement(ca,{text:e,separator:this.props.coptic?"\u2027":"."}))))}}]),t}(n.Component);var ma=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"plugins"},r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),r.a.createElement(Ve.a,null,this.props.data.data.map(function(e,t){return r.a.createElement("span",{key:t,className:"mr-3"},(a=e.zotero.val,n=e.short.val,a?r.a.createElement("a",{href:"https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/"+a,target:"_blank",rel:"noopener noreferrer"},n):n),e.details.val?", "+e.details.val:"",e.images.val?" [".concat(e.images.val,"];"):";");var a,n}))))}}]),t}(n.Component),da=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getHtmlModalBody",value:function(e){return r.a.createElement("dl",null,r.a.createElement("dt",null,"Country:        "),r.a.createElement("dd",null,e.country.val),r.a.createElement("dt",null,"Town:           "),r.a.createElement("dd",null,e.town.val),r.a.createElement("dt",null,"Institution:    "),r.a.createElement("dd",null,e.institution.val),r.a.createElement("dt",null,"Collection name:"),r.a.createElement("dd",null,e.name.val),r.a.createElement("dt",null,"CMCL full name: "),r.a.createElement("dd",null,e.fullsegnat.val),r.a.createElement("dt",null,"URN:            "),r.a.createElement("dd",null,r.a.createElement("code",null,"paths.shelfmarks.",e.id.val)))}},{key:"toggle",value:function(e){e.id&&this.setState({title:e.fullname.val,body:this.getHtmlModalBody(e)}),this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"plugins"},r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),r.a.createElement(Ve.a,null,r.a.createElement("ul",null,this.props.data.data.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(le.a,{style:{margin:"0 0 4px 0",padding:0},color:"link",onClick:function(){return e.toggle(t)}},t.fullname.val),t.shelfmark.val?", "+t.shelfmark.val:"",t.pp.val?", "+t.pp.val:"")})))),r.a.createElement(ne.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(re.a,{toggle:this.toggle},this.state.title),r.a.createElement(se.a,null,this.state.body)))}}]),t}(n.Component),ha=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={display:"none"},a.toggleDisplay=a.toggleDisplay.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleDisplay",value:function(){this.setState({display:"none"===this.state.display?"inline":"none"})}},{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("span",{style:{display:this.state.display},className:"ml-3 bg-light text-muted p-2"},this.props.text),r.a.createElement(le.a,{color:"info",size:"sm",className:"ml-3",onClick:this.toggleDisplay},"none"===this.state.display?r.a.createElement(w.a,{icon:"info"}):"<"))}}]),t}(n.Component),ua=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data.length;return r.a.createElement("div",null,this.props.data.map(function(t,a){return r.a.createElement("span",{className:"mr-2 pr-2"+(e===a+1?"":" border-right border-warning"),key:a},r.a.createElement("span",{className:t.language.val?t.language.val.toLowerCase():"",title:t.notes.val},t.toponym.val," "),t.transcription.val?r.a.createElement("span",{className:"text-muted ml-2"},"[",t.transcription.val,"]"):"",t.notes.val?r.a.createElement(ha,{text:t.notes.val}):"")}))}}]),t}(n.Component),ba=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"parseNames",value:function(e){var t={};return e.forEach(function(e,a){t[e.language.val]||(t[e.language.val]=[]),t[e.language.val].push(e)}),Object.keys(t).map(function(e,a){return r.a.createElement(C.a,{className:"border-bottom mt-2 mb-2 pb-1",key:a},r.a.createElement(x.a,{sm:"4",md:"3"},r.a.createElement("label",{className:"font-weight-bold"},e)),r.a.createElement(x.a,null,r.a.createElement("div",null,r.a.createElement(ua,{data:t[e]}))))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"plugins"},r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),r.a.createElement(Ve.a,null,this.parseNames(this.props.data.data))))}}]),t}(n.Component),fa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.props.data.data.length<1?null:"paths__m_biblio"===this.props.data.metadata.tb_id?r.a.createElement(ma,{data:this.props.data}):"paths__m_shelfmarks"===this.props.data.metadata.tb_id?r.a.createElement(da,{data:this.props.data}):"paths__m_toponyms"===this.props.data.metadata.tb_id?r.a.createElement(ba,{data:this.props.data}):r.a.createElement("div",{className:"plugins"},r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement("h5",null,this.props.data.metadata.tb_label)),this.props.data.data.map(function(t,a){return r.a.createElement(Ve.a,{key:a,className:"border border-info mb-2"},Object.keys(t).map(function(a,n){return Ye.hidden.indexOf(e.props.data.metadata.tb_stripped+"."+a)>-1?null:"sort"===a?null:t[a].label?r.a.createElement(pa,{val:t[a].val_label?t[a].val_label:t[a].val,label:t[a].label,key:n}):null}),r.a.createElement("hr",null))})))}}]),t}(n.Component),ga=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data.val_label?this.props.data.val_label:this.props.data.val,t=this.props.data.label;if(!e||""===e)return null;var a=[];return this.props.coptic&&a.push("coptic"),this.props.greek&&a.push("greek"),r.a.createElement(C.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==e?"":" d-none")},r.a.createElement(x.a,{sm:"4",md:"3"},r.a.createElement("label",{className:"font-weight-bold"},t)),r.a.createElement(x.a,null,r.a.createElement("div",{className:a.join(" ")},"Quire layout"===t?r.a.createElement(ia,{string:e}):r.a.createElement(ca,{text:e,separator:this.props.coptic?"\u2027":"."}))))}}]),t}(n.Component),_a=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.fields,t=this.props.legend,a=!1;return e.forEach(function(e){"undefined"!==typeof e.val&&e.val&&""!==e.val&&(a=!0)}),!!a&&r.a.createElement("fieldset",{className:"p-3 border border-warning mt-3"},t&&r.a.createElement("legend",{className:"border border-warning shadow-sm text-muted px-3 py-1",style:{fontSize:"1.1rem",fontWeight:"bold"}},t),e.map(function(e,t){return r.a.createElement(ga,{key:t,data:e})}))}}]),t}(n.Component),ya=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.rec;return r.a.createElement("div",null,r.a.createElement(_a,{legend:"Manuscript identifiers",fields:[e.core.id,e.core.cmclid,e.core.tm,e.core.ldab,e.core.lcbm,e.core.alias,e.core.issinglefrag,e.core.stratigraphy,e.core.modernhistory,e.core.contents]}),e.plugins.paths__m_shelfmarks&&r.a.createElement(fa,{data:e.plugins.paths__m_shelfmarks}),r.a.createElement(_a,{legend:"Dialects",fields:[e.core.dialect,e.core.dialectnotes]}),r.a.createElement(_a,{legend:"Dating",fields:[e.core.datingsource,e.core.chronofrom,e.core.chronoto,e.core.datingcriteria]}),e.plugins.paths__m_msplaces&&r.a.createElement(fa,{data:e.plugins.paths__m_msplaces}),r.a.createElement(_a,{legend:"Book form",fields:[e.core.bookform,e.core.writingsupport]}),r.a.createElement(_a,{legend:"General description",fields:[e.core.leaftotextant,e.core.fragtot,e.core.fragdim,e.core.leaftotestimated,e.core.quiresextant,e.core.gennotes]}),r.a.createElement(_a,{legend:"Page description",fields:[e.core.columns,e.core.colnotes,e.core.linespercolumn,e.core.charsperline,e.core.alignment,e.core.alignmentnotes]}),r.a.createElement(_a,{legend:"Dimensions (mm) and proportions",fields:[e.core.leafw,e.core.leafh,e.core.framew,e.core.frameh,e.core.intercolumnium,e.core.marginup,e.core.marginlow,e.core.marginin,e.core.marginout,e.core.marginleft,e.core.marginright,e.core.heighttenlines,e.core.prophw,e.core.propwt,e.core.dimnotes]}),e.plugins.paths__m_quires&&r.a.createElement(fa,{data:e.plugins.paths__m_quires}),r.a.createElement(_a,{fields:[e.core.quirenotes]}),r.a.createElement(_a,{legend:"Quire signature",fields:[e.core.quiresig,e.core.quiretype,e.core.quireposition,e.core.quirenrnotes]}),r.a.createElement(_a,{legend:"Pagination",fields:[e.core.pagination,e.core.pagtype,e.core.pagposition,e.core.pagnote]}),r.a.createElement(_a,{legend:"Foliation (ancient and modern)",fields:[e.core.foliation,e.core.foltype,e.core.folposition,e.core.folnotes]}),r.a.createElement(ga,{data:e.core.handstot}),e.plugins.paths__m_hands&&r.a.createElement(fa,{data:e.plugins.paths__m_hands}),r.a.createElement(_a,{legend:"Diacritical signs",fields:[e.core.lectionalsigns,e.core.structuralsigns,e.core.signsnotes]}),r.a.createElement(_a,{legend:"Abbreviations",fields:[e.core.abbreviations,e.core.abbrnotes]}),r.a.createElement(_a,{legend:"Ruling and pricking",fields:[e.core.ruling,e.core.rulingtype,e.core.rulingtool,e.core.pricking,e.core.rulingnotes]}),r.a.createElement(_a,{legend:"",fields:[e.core.leaftabs,e.core.leaftabsnotes]}),r.a.createElement(_a,{legend:"Manufacture of the rolls",fields:[e.core.kolleseis,e.core.kolleseseisdescr,e.core.tracesnotes,e.core.kollno,e.core.kolldim]}),r.a.createElement(_a,{legend:"Binding",fields:[e.core.bindings,e.core.covers,e.core.coversnotes,e.core.sewings,e.core.sewingtype,e.core.holesno,e.core.holesarrangement,e.core.holesnotes]}),r.a.createElement(_a,{legend:"Coloured pigments",fields:[e.core.pgmcol,e.core.pgmlocation,e.core.pgmnotes]}),r.a.createElement(_a,{legend:"Black inks",fields:[e.core.blktype,e.core.blklocation,e.core.blknotes]}),r.a.createElement(_a,{legend:"Additional information",fields:[e.core.marginalnotes,e.core.palimpsest,e.core.palimpsestnotes,e.core.decortype,e.core.decorsubj,e.core.decorationdescr,e.core.enlargedinitials,e.core.restancient,e.core.restmodern]}),e.plugins.paths__m_biblio&&r.a.createElement(fa,{data:e.plugins.paths__m_biblio}),r.a.createElement(_a,{legend:"Metadata",fields:[e.core.sourceinfo,e.core.editors,e.core.status]}))}}]),t}(n.Component),va=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"renderTemplate",value:function(e){switch(e.metadata.tb_stripped){case"manuscripts":return r.a.createElement(ya,{rec:e});default:return r.a.createElement("div",null,Object.values(e.core).map(function(t,a){return Ye.hidden.indexOf(e.metadata.tb_stripped+"."+t.name)>-1?null:r.a.createElement(pa,{coptic:Ye.coptic.indexOf(e.metadata.tb_stripped+"."+t.name)>-1,greek:Ye.greek.indexOf(e.metadata.tb_stripped+"."+t.name)>-1,label:t.label,val:t.val_label?t.val_label:t.val,key:a})}),Object.keys(e.plugins).map(function(t,a){return r.a.createElement(fa,{key:a,data:e.plugins[t]})}))}}},{key:"render",value:function(){return this.props.rec?r.a.createElement("div",{className:"mb-5"},this.renderTemplate(this.props.rec)):r.a.createElement("div",{className:"m-5 p-5"},r.a.createElement(ae,null))}}]),t}(n.Component),Ea=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"makeHref",value:function(e,t){return["/","search","/",e.replace("paths__",""),"/","encoded","?q="+window.btoa("SELECT * FROM "+e+" WHERE "+t)].join("")}},{key:"renderLinks",value:function(e){var t=this;return Object.entries(e).map(function(e,a){var n=Object(M.a)(e,2),s=n[0],i=n[1];return i.tot<1?null:r.a.createElement(Qe.a,{key:a,tag:d.b,to:t.makeHref(s,i.where)},r.a.createElement(w.a,{icon:"external-link-square-alt"})," ",i.tot+" referenced item"+(i.tot>1?"s":"")+" in "+i.tb_label)})}},{key:"renderBackLinks",value:function(e){var t=this;return!("undefined"===typeof e||e.length<1)&&Object.entries(e).map(function(e,a){var n=Object(M.a)(e,2),s=n[0],i=n[1];return!(i.tot<1)&&r.a.createElement(Qe.a,{key:a,tag:d.b,to:t.makeHref(s,i.where)},r.a.createElement(w.a,{icon:"external-link-square-alt"})," ",i.tot+" referenced item"+(i.tot>1?"s":"")+" in "+i.tb_label)})}},{key:"render",value:function(){return!this.props.links&&!this.props.backlinks||this.props.links.length<1&&this.props.backlinks.length<1?null:r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement(w.a,{icon:"link"})," Links"),r.a.createElement(Ve.a,null,r.a.createElement(Je.a,null,this.renderLinks(this.props.links),this.renderBackLinks(this.props.backlinks))))}}]),t}(n.Component),ka=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"makeHref",value:function(e,t){return["/",e.replace("paths__",""),"/",t].join("")}},{key:"render",value:function(){var e=this,t=this.props.links||[];return"undefined"===typeof t||t.length<1?null:r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement(w.a,{icon:"link"})," Manually entered links"),r.a.createElement(Ve.a,null,r.a.createElement(Je.a,null,t.map(function(t,a){return r.a.createElement(Qe.a,{key:a,tag:d.b,to:e.makeHref(t.tb_stripped,t.ref_id)},r.a.createElement(w.a,{icon:"external-link-square-alt"}),"  ",t.tb_label," #",t.ref_label?t.ref_label:t.ref_id)}))))}}]),t}(n.Component),Oa=a(597),ja=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.text?r.a.createElement(Ve.a,{className:"text-secondary",style:{fontSize:".9rem",fontStyle:"italic"}},this.props.text):null}}]),t}(n.Component),wa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ge.a,{className:"mt-1"},r.a.createElement(Oa.a,{top:!0,width:"100%",src:this.props.file,onClick:this.toggle}),r.a.createElement(ja,{text:this.props.description})),r.a.createElement(ne.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,size:"lg"},r.a.createElement(se.a,null,r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%"},src:this.props.file,alt:this.props.description}))),r.a.createElement(ie.a,null,r.a.createElement(ja,{text:this.props.description}))))}}]),t}(n.Component),Na=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={shown:!1,buttonText:"Show more images"},a.toggle=a.toggle.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({shown:!this.state.shown,buttonText:"Show more images"===this.state.buttonText?"Hide":"Show more"})}},{key:"render",value:function(){var e=this;return!this.props.files||this.props.files.length<1?null:r.a.createElement("div",null,r.a.createElement("div",{style:{display:this.state.shown?"block":"none"}},this.props.files.map(function(t,a){return r.a.createElement(wa,{key:a,file:e.props.baseUrl.replace("/api/","/projects/")+"files/"+t.id+"."+t.ext,description:t.description})})),r.a.createElement("div",{className:"text-center mt-2"},r.a.createElement(le.a,{onClick:this.toggle,color:"info"},this.state.buttonText)))}}]),t}(n.Component),Ca=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.files||[],a=(t=t.map(function(e){return!!["jpg","png","gif","tif","tiff","jpeg"].includes(e.ext.toLowerCase())&&e}).filter(function(e){return e})).slice(0,3),n=t.slice(3);return a.length<1?null:r.a.createElement("div",{className:"mt-3"},r.a.createElement("h5",null,"Attached images"),a.map(function(t,a){return r.a.createElement(wa,{key:a,file:e.props.baseUrl.replace("/api/","/projects/")+"files/"+t.id+"."+t.ext,description:t.description})}),r.a.createElement(Na,{files:n,baseUrl:this.props.baseUrl}))}}]),t}(n.Component),xa=a(151),Sa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.props.geom.length<1)return null;var e=JSON.parse(this.props.geom[0].geojson).coordinates.reverse();return r.a.createElement("div",{style:{height:"300px",width:"100%"}},r.a.createElement(de.a,{className:"sidebar-map maxHeight",center:e,zoom:10,zoomControl:!0},r.a.createElement(he.a,{url:"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png"}),this.props.geom.map(function(e,t){var a=JSON.parse(e.geojson).coordinates.reverse();return r.a.createElement(xa.a,{position:a,key:t})})))}}]),t}(n.Component),qa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"manuscripts"!==this.props.tb||!this.props.data.val||this.props.data.val.length<1?null:r.a.createElement(Qe.a,null,r.a.createElement("a",{href:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum="+encodeURIComponent(this.props.data.val),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(w.a,{icon:"external-link-alt"})," The Digital Edition of the Coptic Old Testament"))}}]),t}(n.Component),Da=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"manuscripts"!==this.props.tb||!this.props.data.val||this.props.data.val.length<1?null:r.a.createElement("div",null,this.props.data.val.split(",").map(function(e,t){return r.a.createElement(Qe.a,{key:t},r.a.createElement("a",{href:"https://www.trismegistos.org/text/"+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(w.a,{icon:"external-link-alt"})," TM ",e))}))}}]),t}(n.Component),Pa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"places"!==this.props.tb||!this.props.data.val||this.props.data.val.length<1?null:r.a.createElement("div",null,this.props.data.val.split(",").map(function(e,t){return r.a.createElement(Qe.a,{key:t},r.a.createElement("a",{href:"https://www.trismegistos.org/place/"+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(w.a,{icon:"external-link-alt"})," TM Geo ",e))}))}}]),t}(n.Component),Aa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"manuscripts"!==this.props.tb||!this.props.data.val||this.props.data.val.length<1?null:r.a.createElement("div",null,this.props.data.val.split(",").map(function(e,t){return r.a.createElement(Qe.a,{key:t},r.a.createElement("a",{href:"https://www.trismegistos.org/ldab/text.php?quick="+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(w.a,{icon:"external-link-alt"})," LDAB ",e))}))}}]),t}(n.Component),Ia=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"places"!==this.props.tb||!this.props.data.val||this.props.data.val.length<1?null:r.a.createElement("div",null,this.props.data.val.split(",").map(function(e,t){return r.a.createElement(Qe.a,{key:t},r.a.createElement("a",{href:"https://pleiades.stoa.org/places/"+e.trim(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(w.a,{icon:"external-link-alt"})," Pleiades ",e))}))}}]),t}(n.Component),Ta=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"colophons"!==this.props.tb||!this.props.data.val||this.props.data.val.length<1?null:r.a.createElement(Qe.a,null,r.a.createElement("a",{href:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(this.props.data.val,".xml"),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(w.a,{icon:"external-link-alt"})," View marked-up text on GitHub"))}}]),t}(n.Component),Ra=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return!this.props.rec||this.props.rec.length<1?null:r.a.createElement("div",{className:"mt-3"},r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement(w.a,{icon:["fab","hubspot"]})," External links"),r.a.createElement(Ve.a,null,r.a.createElement(Je.a,null,r.a.createElement(qa,{data:this.props.rec.lcbm,tb:this.props.tb}),r.a.createElement(Da,{data:this.props.rec.tm,tb:this.props.tb}),r.a.createElement(Aa,{data:this.props.rec.ldab,tb:this.props.tb}),r.a.createElement(Pa,{data:this.props.rec.tm,tb:this.props.tb}),r.a.createElement(Ia,{data:this.props.rec.pleiades,tb:this.props.tb}),r.a.createElement(Ta,{data:this.props.rec.id,tb:this.props.tb})))))}}]),t}(n.Component),La=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={rec:!1,copied:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e!==this.props&&(this.setState({rec:null}),Ue.getOne(e.match.params.table,e.match.params.id,function(e){t.setState({rec:e})}))}},{key:"componentDidMount",value:function(){var e=this;Ue.getOne(this.props.match.params.table,this.props.match.params.id,function(t){e.setState({rec:t})})}},{key:"renderTemplate",value:function(e){var t=this;return"error"===e.type?r.a.createElement("pre",{className:"text-danger p-5"},e.text):(e.metadata.tb_stripped,e.core.length<1?r.a.createElement("div",{className:"container"},r.a.createElement(Ze,{tb:e.metadata.tb_stripped,tblabel:e.metadata.tb_label,text:"View record"}),r.a.createElement(Ge.a,{className:"mt-2"},r.a.createElement(rt.a,null,r.a.createElement("h3",{className:"text-danger"},"Record paths.",e.metadata.tb_stripped,".",this.props.match.params.id,"  not found!")))):r.a.createElement("div",{className:"container"},r.a.createElement(Ze,{tb:e.metadata.tb_stripped,tblabel:e.metadata.tb_label,text:"View record"}),r.a.createElement(C.a,{className:"mt-2"},r.a.createElement(x.a,{sm:"8"},r.a.createElement(Ge.a,null,r.a.createElement(rt.a,null,r.a.createElement("h3",null,"paths.",e.metadata.tb_stripped,".",e.core.id.val),r.a.createElement("div",{className:"text-secondary d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement(w.a,{icon:"link"})," http://paths.uniroma1.it/atlas/",e.metadata.tb_stripped,"/",e.core.id.val),r.a.createElement("div",null,r.a.createElement(na.CopyToClipboard,{text:"http://paths.uniroma1.it/atlas/"+e.metadata.tb_stripped+"/"+e.core.id.val,onCopy:function(){t.setState({copied:!0}),window.setTimeout(function(){t.setState({copied:!1})},2e3)}},r.a.createElement(le.a,{size:"sm",color:this.state.copied?"primary":"secondary"},r.a.createElement(w.a,{icon:"clone"})," ",r.a.createElement("span",{className:"d-none d-sm-inline"},this.state.copied?"Copied!":"Copy to clipboard")))))),r.a.createElement(Ve.a,null,r.a.createElement(va,{rec:e})))),r.a.createElement(x.a,{sm:"4"},r.a.createElement(Sa,{geom:e.geodata}),r.a.createElement(Ca,{files:e.files,baseUrl:Ue.getBaseUrl()}),r.a.createElement(Ea,{links:e.links,backlinks:e.backlinks}),r.a.createElement(ka,{links:e.manualLinks}),r.a.createElement(Ra,{rec:e.core,tb:e.metadata.tb_stripped})))))}},{key:"render",value:function(){return this.state.rec?r.a.createElement("div",{className:"mb-5"},this.renderTemplate(this.state.rec)):r.a.createElement("div",{className:"m-5 p-5"},r.a.createElement(ae,null))}}]),t}(n.Component),Ua=a(235),Ma=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"parseData",value:function(e){var t={labels:[],datasets:[{label:"My First dataset",backgroundColor:"rgba(195,31,42,0.8)",borderColor:"rgba(195,31,42,1)",borderWidth:1,hoverBackgroundColor:"rgba(195,31,42,1)",hoverBorderColor:"rgba(195,31,42,0.8)",data:[]}]};return e.forEach(function(e){t.labels.push(e.series_name),Object.keys(e).forEach(function(a){"series_name"!==a&&(t.datasets[0].data.push(e[a]),t.datasets[0].label=a)})}),t}},{key:"render",value:function(){if(this.props.loading)return r.a.createElement(ae,null,"Loading chart...");if(!this.props.data)return null;var e=this.parseData(this.props.data);return r.a.createElement("div",{className:"my-5"},r.a.createElement("h2",null,this.props.name),r.a.createElement(Ua.a,{data:e,width:100,height:350,options:{maintainAspectRatio:!1}}))}}]),t}(n.Component),Fa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={name:!1,data:!1,loading:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"loadChart",value:function(e){var t=this;this.setState({loading:!0}),Ue.getChart(e,function(e){t.setState({name:e.name}),t.setState({data:e.data}),t.setState({loading:!1})})}},{key:"render",value:function(){var e=this;return this.props.charts?"error"===this.props.charts.type?r.a.createElement("div",{className:"text-danger mt-5 px-5"},"Sorry! There was an error getting list of chart from the database..."):r.a.createElement("div",{className:"mt-5"},r.a.createElement(Ma,{name:this.state.name,data:this.state.data,loading:this.state.loading}),r.a.createElement(Ge.a,null,r.a.createElement(Ve.a,null,r.a.createElement(Je.a,null,this.props.charts.map(function(t,a){return r.a.createElement(Qe.a,{key:a,tag:le.a,onClick:function(){return e.loadChart(t.id)},className:"mb-3",color:"secondary"},t.name)}))))):r.a.createElement(ae,null,"Loading chart list...")}}]),t}(n.Component),za=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={chartList:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(e,t){var a=this;Ue.getChart("all",function(e){a.setState({chartList:e})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("h1",null,r.a.createElement(w.a,{icon:"chart-bar"})," Available charts"),r.a.createElement(Fa,{charts:this.state.chartList}))}}]),t}(n.Component),Ba=(a(564),a(237)),Ha=a.n(Ba);function Ga(){var e=Object(n.useState)(r.a.createElement(ae,null)),t=Object(M.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)(function(){fetch(Ha.a).then(function(e){return e.text()}).then(function(e){s(r.a.createElement(Ct.a,{source:e,escapeHtml:!1}))})},[]),r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"How to cite the \u201cPAThs\u201d project as a whole and the single database records"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-5 px-5 cite"},a)))}var Va=a(238),Wa=a.n(Va);function Ja(){var e=Object(n.useState)(r.a.createElement(ae,null)),t=Object(M.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)(function(){fetch(Wa.a).then(function(e){return e.text()}).then(function(e){s(r.a.createElement(Ct.a,{source:e,escapeHtml:!1}))})},[]),r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"PAThs API & Data export"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-5 px-5"},a)))}var Qa=a(123),Ka=a(239),Ya=Object(Ka.detect)();window.location.href.match(/atlas\.paths-erc\.eu/g)&&(Qa.a.initialize("UA-10461068-45"),Qa.a.pageview(window.location.pathname+window.location.search));var Za={ie:1e4,"opera-mini":1e4,bb10:1e4,edge:14,firefox:39,chrome:42,safari:11,opera:29,android:67},$a=!1;if(Ya){var Xa=Ya.name,en=Ya.version.split(".")[0];Object.keys(Za).indexOf(Xa)>-1&&en<Za[Xa]&&($a=!0)}u.b.add(b.i,f.b,b.a,b.b,b.d,b.c,b.e,f.a,b.f,b.g,b.h);var tn=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return $a?r.a.createElement(pe,{browser:Ya,compatibility:Za}):r.a.createElement(d.a,{basename:"/"},r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/map/:action?/:data?",component:ze}),r.a.createElement(T,null,r.a.createElement(h.a,{exact:!0,path:"/",component:ce}),r.a.createElement(h.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|collections)",component:aa}),r.a.createElement(h.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|collections)/:id",component:La}),r.a.createElement(h.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/saved",component:dt}),r.a.createElement(h.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/all",component:wt}),r.a.createElement(h.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/adv",component:Ot}),r.a.createElement(h.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/encoded",component:jt}),r.a.createElement(h.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|collections)",component:vt}),r.a.createElement(h.a,{exact:!0,path:"/charts/:id?",component:za}),r.a.createElement(h.a,{exact:!0,path:"/cite",component:Ga}),r.a.createElement(h.a,{exact:!0,path:"/api",component:Ja}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(tn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,t,a){e.exports=a.p+"static/media/paths-logo.d0a2b412.png"}},[[241,1,2]]]);
//# sourceMappingURL=main.1c215c44.chunk.js.map