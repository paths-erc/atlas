(this["webpackJsonppaths-atlas"]=this["webpackJsonppaths-atlas"]||[]).push([[0],{197:function(t){t.exports=JSON.parse('{"name":"paths-atlas","version":"2.0.0","description":"The Archaeological Atlas of Coptic Literature by PAThs, an ERC Advanced funded project","bugs":"https://github.com/paths-erc/atlas/issues","email":"julian.bogdani@uniroma1.it","license":"Creative Commons Attribution 4.0 International License.","author":"Julian Bogdani <julian.bogdani@uniroma1.it> (http://www.lettere.uniroma1.it/users/julian-bogdani)","private":true,"homepage":"https://atlas.paths-erc.eu","dependencies":{"@fortawesome/fontawesome-free":"^5.15.1","@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/free-brands-svg-icons":"^5.15.1","@fortawesome/free-solid-svg-icons":"^5.15.1","@fortawesome/react-fontawesome":"^0.1.11","axios":"^0.21.1","chart.js":"^2.9.3","detect-browser":"^5.2.0","gh-pages":"^3.1.0","leaflet":"^1.7.1","object-hash":"^2.1.1","prop-types":"^15.7.2","qs":"^6.9.4","quirematrix":"^1.2.0","react":"^17.0.1","react-bootstrap-typeahead":"^5.1.2","react-chartjs-2":"^2.11.1","react-copy-to-clipboard":"^5.0.2","react-dom":"^17.0.1","react-fontawesome":"^1.7.1","react-ga":"^3.3.0","react-leaflet":"^2.7.0","react-leaflet-fullscreen":"^1.0.1","react-leaflet-google-v2":"^5.1.3","react-leaflet-sidebarv2":"^0.6.0","react-markdown":"^5.0.3","react-nl2br":"^1.0.1","react-router-dom":"^5.2.0","react-scripts":"^4.0.1","react-scroll-up":"^1.3.5","react-select":"^3.1.0","reactstrap":"^8.8.1"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test --env=jsdom","eject":"react-scripts eject"},"browserslist":[">0.2%","not dead","not ie <= 11","not op_mini all"]}')},231:function(t,e,s){},378:function(t,e,s){},406:function(t,e,s){},410:function(t,e,s){},507:function(t,e,s){},508:function(t,e,s){"use strict";s.r(e);var a=s(0),i=s(1),r=s.n(i),c=s(24),o=s.n(c),n=s(18),l=s(20),p=s(53),h=s(35),d=s(85),m=s(196),b=s.n(m),j=s(15),u=s(22),g=s(510),x=s(511),O=s(512),_=s(513),f=s(514),y=s(515),v=s(516);function w(t){const e=Object(i.useState)(!1),s=Object(u.a)(e,2),r=s[0],c=s[1];return Object(a.jsx)("div",{children:Object(a.jsxs)(g.a,{color:"dark",dark:!0,expand:"md",className:"fixed-top",children:[Object(a.jsx)(x.a,{to:"/",tag:n.b,children:"PAThs"}),Object(a.jsx)(O.a,{onClick:()=>{c(!r)}}),Object(a.jsxs)(_.a,{isOpen:r,navbar:!0,children:[Object(a.jsxs)(f.a,{navbar:!0,children:[Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{style:{backgroundColor:"#cc545a",color:"#fff"},to:"/map/saved/all_ms_places",tag:n.c,children:[Object(a.jsx)(j.a,{icon:"map"})," Atlas"]})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/places",tag:n.c,children:"Places"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/manuscripts",tag:n.c,children:"Manuscripts"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/works",tag:n.c,children:"Works"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/authors",tag:n.c,children:"Authors"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/titles",tag:n.c,children:"Titles"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/colophons",tag:n.c,children:"Colophons"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/persons",tag:n.c,children:"Persons"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/collections",tag:n.c,children:"Collections"})})]}),Object(a.jsxs)(f.a,{className:"ml-auto",navbar:!0,children:[Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{href:"http://paths.uniroma1.it",children:"Website"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/cite",tag:n.c,children:"How to cite PAThs"})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(v.a,{to:"/api",tag:n.c,children:"API"})})]})]})]})})}var k=s(517),N=s(518),B=s(197),C=s.p+"static/media/erc.6935dc7b.jpg",S=s.p+"static/media/sapienza.acddf492.jpg";function G(){return Object(a.jsx)("footer",{className:"mt-5 bg-dark text-white p-3",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("p",{children:["Tracking Papyrus and Parchment Paths",Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"lead",style:{color:"#ffab00"},children:"An Archaeological Atlas of Coptic Literature"}),Object(a.jsx)("br",{}),Object(a.jsxs)("small",{children:["Literary Texts in their Geographical Context:",Object(a.jsx)("br",{}),"Production, Copying, Usage, Dissemination and Preservation"]})]})}),Object(a.jsxs)("div",{className:"col text-right",children:[Object(a.jsxs)("p",{children:["An ",Object(a.jsx)("a",{href:"https://erc.europa.eu/",target:"_blank",rel:"noopener noreferrer",title:"European Research Council",children:"ERC"})," funded project hosted at the ",Object(a.jsx)("a",{href:"https://www.uniroma1.it",target:"_blank",rel:"noopener noreferrer",title:"Sapienza University of Rome",children:"Sapienza University of Rome"})]}),Object(a.jsxs)("p",{children:["Principal Investigator ",Object(a.jsx)("a",{href:"http://www.lettere.uniroma1.it/users/paola-buzi",title:"Paola Buzi",target:"_blank",rel:"noopener noreferrer",children:"Paola Buzi"})," [",Object(a.jsx)("a",{href:"mailto:paola.buzi@uniroma1.it",title:"Email to Paola Buzi",children:"paola.buzi(at)uniroma1.it"}),"]"]}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"http://paths.uniroma1.it/",target:"_blank",rel:"noopener noreferrer",title:"PAThs\u2019 web site",children:"paths.uniroma1.it"})})]})]}),Object(a.jsxs)(k.a,{className:"my-3",children:[Object(a.jsx)(N.a,{xs:{size:6},md:{size:3,offset:3},children:Object(a.jsx)("img",{src:S,alt:"Sapienza Universit\xe0 di Roma",className:"img-fluid"})}),Object(a.jsx)(N.a,{xs:{size:6},md:{size:3},children:Object(a.jsx)("img",{src:C,alt:"European Research Council",className:"img-fluid"})})]}),Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsxs)("p",{className:"",children:["Copyright \xa9 PAThs team, Sapienza Universit\xe0 di Roma.",Object(a.jsx)("br",{}),Object(a.jsx)("small",{children:Object(a.jsxs)("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:["Use, sharing and remixing permitted under terms of the",Object(a.jsx)("br",{}),"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License",Object(a.jsx)("br",{}),Object(a.jsx)("img",{alt:"Creative Commons License",style:{borderWidth:0},src:"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"})]})})]}),Object(a.jsxs)("p",{children:["Version ",B.version,Object(a.jsx)("br",{}),Object(a.jsx)("a",{href:"https://github.com/paths-erc/atlas/commits/master",target:"_blank",rel:"noopener noreferrer",children:"Changelog"})]})]})]})})}s(231);function J(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{location:t.location}),Object(a.jsx)("main",{role:"main",className:"maxHeight",children:t.children}),Object(a.jsx)(G,{}),Object(a.jsx)(b.a,{showUnder:160,children:Object(a.jsx)(j.a,{icon:"arrow-circle-up",size:"3x"})})]})}var Q=s.p+"static/media/paths-logo.98acd17b.png",A=s(119),P=s.n(A),X=s(198),M=s(199),T=s.n(M),L=s.p+"static/media/Ripple-1.7s-200px.ec9bf62a.svg";function D(t){const e={width:t.width?t.width:"100px"};return Object(a.jsxs)("span",{children:[Object(a.jsx)("img",{src:L,style:e,alt:"Loading..."}),""!==t.children?t.children:Object(a.jsx)("span",{children:"Loading..."})]})}function q(t){const e=Object(i.useState)(),s=Object(u.a)(e,2),r=s[0],c=s[1];return Object(i.useEffect)((()=>{function e(){return(e=Object(X.a)(P.a.mark((function t(e){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((t=>t.text())).then((t=>{c(t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t.path)}),[t.path]),r?Object(a.jsx)(T.a,{source:r,escapeHtml:!1}):Object(a.jsx)(D,{})}var z=s.p+"static/media/IntroMd.ed4eaa26.md",E=s.p+"static/media/LogoMd.0bd1fd06.md",R=s.p+"static/media/MissionStatementMd.4db2c7d3.md",F=s.p+"static/media/lod.0d10f3ba.md",I=s.p+"static/media/license.19b9a123.md";function H(){const t=[{id:"intro",title:"Introduction",path:z},{id:"logo",title:"Logo",path:E},{id:"missionstatement",title:"Mission Statement",path:R},{id:"lod",title:"Linked Open Data",path:F},{id:"license",title:"Copyright and license",path:I}];return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"jumbotron",children:Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsx)("img",{className:"img-fluid shadow-lg",src:Q,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"})})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"my-5 px-5",children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow",children:[Object(a.jsx)("h4",{children:"Table of contents"}),Object(a.jsx)("ul",{className:"p-0 m-0",children:t.map(((t,e)=>Object(a.jsx)("li",{style:{listStyle:"none"},children:Object(a.jsx)("a",{href:"#"+t.id,children:t.title})},e)))})]}),t.map(((t,e)=>Object(a.jsxs)("div",{className:"text-justify",children:[Object(a.jsx)("h1",{id:t.id,className:"mt-5",children:t.title}),Object(a.jsx)(q,{path:t.path})]},e)))]})})})]})}function U(t){const e=t.compatibility,s=t.browser;return Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsxs)("div",{className:"my-5 py-5",children:[Object(a.jsx)("h1",{children:"Sorry, it seems that your browser is not supported!"}),Object(a.jsxs)("p",{children:["You are running ",Object(a.jsx)("code",{children:s.name}),", version ",Object(a.jsx)("code",{children:s.version})," on ",Object(a.jsx)("code",{children:s.os}),"."]}),Object(a.jsx)("p",{children:"Please upgrade your browser or use a modern one to work with PAThs Atlas."}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Compatibility list"}),Object(a.jsx)("pre",{children:Object.keys(e).map(((t,s)=>Object(a.jsx)("div",{children:1e4!==e[t]?t+" >= "+e[t]:""},s)))})]}),Object(a.jsx)("div",{className:"border-top pt-5 mt-5",children:Object(a.jsx)("img",{className:"img-fluid shadow-lg",src:Q,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"})})]})})}var W=s(159),V=s(524),K=s(542),Z=s(525),$=s(19),Y=s.n($),tt=s(69),et=s(519);class st extends i.Component{render(){return this.props.places&&this.props.places.features?Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsxs)("h5",{children:["Found ",this.props.places.features.length," places"]}),Object(a.jsx)("ol",{children:this.props.places.features.map(((t,e)=>Object(a.jsxs)("li",{className:"border-bottom border-info mb-3 pb-1",children:[Object(a.jsx)("strong",{children:t.properties.name}),Object(a.jsx)("br",{}),Object(a.jsx)("small",{children:Object(a.jsx)("span",{className:"coptic",children:t.properties.copticname})}),["greekname","egyptianname"].map(((e,s)=>t[e]?Object(a.jsx)("div",{children:Object(a.jsx)("small",{children:t.properties[e]})},s):null)),t.properties.tot_ms&&"0"!==t.properties.tot_ms?Object(a.jsx)("div",{className:"text-right",children:Object(a.jsxs)(et.a,{color:"secondary",children:[t.properties.tot_ms," manuscripts related"]})}):null,Object(a.jsx)("div",{children:Object(a.jsxs)("small",{children:[Object(a.jsx)(j.a,{icon:"id-badge"})," ",Object(a.jsxs)(n.b,{to:"/places/"+t.properties.id,children:["paths.places.",t.properties.id]})]})})]},e)))})]}):null}}function at(t){return t.urlFilter?Object(a.jsx)("div",{children:Object(a.jsxs)(n.b,{to:"/map",className:"btn btn-warning btn-block mt-1 mb-3",children:[Object(a.jsx)(j.a,{icon:"filter"})," Filter active. Click to disable"]})}):null}class it extends i.Component{render(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("h5",{children:"Map legend"}),Object(a.jsxs)("ul",{style:{listStyle:"none",margin:0,padding:0},children:[Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#f64747"}}),"Production places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#d47500"}}),"Storage places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#aa8f00"}}),"Discovery places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#b381b3"}}),"Discovery and production places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#009fd4"}}),"Storage and production places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#00aa55"}}),"Discovery and storage places of manuscripts"]}),Object(a.jsxs)("li",{className:"p-1 m-1",children:[Object(a.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#939393"}}),"Discovery, storage and production places of manuscripts"]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Available basemaps"}),Object(a.jsxs)("ul",{style:{listStyle:"none",margin:0,padding:0},children:[Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"http://pelagios.org/maps/greco-roman/",target:"_blank",rel:"noopener noreferrer",children:"Imperium, Pelagios"})}),Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"https://dh.gu.se/dare/",target:"_blank",rel:"noopener noreferrer",children:"Imperium, Digital Atlas of Ancient World (DARE)"})}),Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"http://awmc.unc.edu/wordpress/",target:"_blank",rel:"noopener noreferrer",children:"Ancient World Mapping Center"})}),Object(a.jsx)("li",{className:"p-1 m-1",children:Object(a.jsx)("a",{href:"https://www.openstreetmap.org",target:"_blank",rel:"noopener noreferrer",children:"Open Street Map"})})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Other vector data"}),Object(a.jsxs)("p",{children:["Other vector themes are being made available by PAThs. These data are produced by other parallel projects and reworked by PAThs or newly created by sub-projects. Data, metadata and credits are freely published at ",Object(a.jsx)("a",{href:"https://docs.paths-erc.eu/gis/vectors",target:"_blank",rel:"noopener noreferrer",children:"https://docs.paths-erc.eu/gis/vectors"})]})]})}}const rt=t=>"?verb=search&shortsql=".concat(t.join("~"));var ct={places:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:rt(["@places","?id|IN|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|discovery}"]),data:{}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:rt(["@places","?id|IN|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|storage}"]),data:{}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:rt(["@places","?id|IN|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|production}"]),data:{}},episcopal_sees:{id:"episcopal_sees",title:"Episcopal sees",url:rt(["@places","?episcopalsee|=|1"]),data:{}},ms_in_graves:{id:"ms_in_graves",title:"Places where manuscrips used in funerary contexts have been found",url:rt(["@places","?id|IN|(24, 27, 28, 74, 83, 178, 274)"]),data:{}},cemeteries:{id:"cemeteries",title:"Catacombs, cemeteries tombs or necropoleis",url:rt(["@places","?typology|=|catacomb, cemetery, necropolis||or|typology|=|tomb"]),data:{}},hermitages:{id:"hermitages",title:"Hermitage units (mainly referred to the area of Western Thebes)",url:rt(["@places","?typology|=|hermitage unit(s)"]),data:{}},mines:{id:"mines",title:"Mines or quarries",url:rt(["@places","?typology|=|mine, quarry"]),data:{}},monasteries:{id:"monasteries",title:"Monasteries",url:rt(["@places","?typology|=|monastery"]),data:{}},settlements:{id:"settlements",title:"Settlement",url:rt(["@places","?typology|=|settlement"]),data:{}}},titles:{final:{id:"final",title:"Final titles",url:rt(["@titles","?type|=|final"]),data:{}},section_headings:{id:"section_headings",title:"Section headings",url:rt(["@titles","?type|=|section heading"]),data:{}}},authors:{bishops:{id:"bishops",title:"Authors-(arch)bishops",url:rt(["@authors","?title|LIKE|%bishop"]),data:{}}},manuscripts:{palimpsest_ms:{id:"palimpsest_ms",title:"Palimpsests",url:rt(["@manuscripts","?palimpsest|=|1"]),data:{}},wandering_ms:{id:"wandering_ms",title:"\u201cWandering\u201d manuscripts (for instance manufactured in a place but stored in another palace, etc.)",url:rt(["@manuscripts","[paths__manuscripts.*,{@m_msplaces~[m_msplaces.place|count_distinct~?table_link|=|paths__manuscripts||and|id_link|=|^paths__manuscripts.id}:pl_ms","?pl_ms|<|1"]),data:{}},ms_has_bindings:{id:"ms_has_bindings",title:"Manuscripts with ancient bookbindings",url:rt(["@manuscripts","?bindings|=|1"]),data:{}},detached_bindings:{id:"detached_bindings",title:"Bookbindings detached from original manuscripts",url:rt(["@manuscripts","?isbookbinding|=|1"]),data:{}},horizontal_rolls:{id:"horizontal_rolls",title:"Horizontal rolls",url:rt(["@manuscripts","?bookform|=|horizontal roll"]),data:{}},vertical_rolls:{id:"vertical_rolls",title:"Vertical rolls",url:rt(["@manuscripts","?bookform|=|vertical roll"]),data:{}},minor_dialects:{id:"minor_dialects",title:"\u201cMinor\u201d dialects",url:rt(["@manuscripts","?dialect|not like|%F;%||and|dialect|not like|%S;%||and|dialect|not like|%B;%||and|dialect|not like|%F||and|dialect|not like|%B"]),data:{}},miniature_codices:{id:"miniature_codices",title:"Miniature codices",url:rt(["@manuscripts","?bookform|=|codex||and|leafw|>|0||and|leafw|<|101"]),data:{}},square_codices:{id:"square_codices",title:"Square format codices",url:rt(["@manuscripts","?bookform|=|codex||and|prophw|>|.84||and|prophw|<|1.16"]),data:{}},oblong_codices:{id:"oblong_codices",title:"Oblong format codices",url:rt(["@manuscripts","?bookform|=|codex||and|prophw|>|.84"]),data:{}},early_bohairic:{id:"early_bohairic",title:"Early Bohairic manuscripts (up to 7th cent.)",url:rt(["@manuscripts","?dialect|like|%B%||and|chronoto|<|701"]),data:{}},fayyumic:{id:"fayyumic",title:"Fayyumic dialect manuscripts",url:rt(["@manuscripts","?dialect|like|%F%"]),data:{}},ms_third_c:{id:"ms_third_c",title:"Manuscripts up to the 3rd Century",url:rt(["@manuscripts","?chronofrom|<|301"]),data:{}},ms_forth_c:{id:"ms_forth_c",title:"Manuscripts of the 4th Century",url:rt(["@manuscripts","?chronofrom|>|299||and|chronofrom|<|400"]),data:{}},ms_fifth_c:{id:"ms_fifth_c",title:"Manuscripts of the 5th Century",url:rt(["@manuscripts","?chronofrom|>|399||and|chronofrom|<|500"]),data:{}},ms_sixth_c:{id:"ms_sixth_c",title:"Manuscripts of the 6th Century",url:rt(["@manuscripts","?chronofrom|>|499||and|chronofrom|<|600"]),data:{}},ms_seventh_c:{id:"ms_seventh_c",title:"Manuscripts of the 7th Century",url:rt(["@manuscripts","?chronofrom|>|599||and|chronofrom|<|700"]),data:{}}},works:{translations_biblical_sahidic:{id:"translations_biblical_sahidic",title:"Translations of biblical works into Sahidic - first phase (3rd-4th cent.)",url:rt(["@works","?litperiod|=|Translations of biblical works into Sahidic - first phase (3rd-4th cent.)"]),data:{}},translations_biblical_bohairic:{id:"translations_biblical_bohairic",title:"Translations of biblical works into Bohairic - first phase (4th cent.)",url:rt(["@works","?litperiod|=|Translations of biblical works into Bohairic - first phase (4th cent.)"]),data:{}},early_translations_other:{id:"early_translations_other",title:"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)",url:rt(["@works","?litperiod|=|Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)"]),data:{}},translations_apocryphal:{id:"translations_apocryphal",title:"Translations of apocryphal works \u2013 first phase (4th cent.)",url:rt(["@works","?litperiod|=|Translations of apocryphal works \u2013 first phase (4th cent.)"]),data:{}},translations_gnostic:{id:"translations_gnostic",title:"Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)",url:rt(["@works","?litperiod|=|Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)"]),data:{}},translations_manichaean:{id:"translations_manichaean",title:"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)",url:rt(["@works","?litperiod|=|Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)"]),data:{}},translations_patristic:{id:"translations_patristic",title:"Translation of patristic works \u2013 first phase (3th-5th cent.)",url:rt(["@works","?litperiod|=|Translation of patristic works \u2013 first phase (3th-5th cent.)"]),data:{}},pachomius:{id:"pachomius",title:"Pachomius and the early Pachomian milieu (4th-5th cent.)",url:rt(["@works","?litperiod|=|Pachomius and the early Pachomian milieu (4th-5th cent.)"]),data:{}},shenoute:{id:"shenoute",title:"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)",url:rt(["@works","?litperiod|=|Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)"]),data:{}},standard_translations:{id:"standard_translations",title:"\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)",url:rt(["@works","?litperiod|=|\u201cStandard\u201d translations of biblical works into Sahidic (5th cent.)"]),data:{}},translations_apocryphal_second:{id:"translations_apocryphal_second",title:"Translations of apocryphal texts \u2013 second phase (4th-5th cent.)",url:rt(["@works","?litperiod|=|Translations of apocryphal texts \u2013 second phase (4th-5th cent.)"]),data:{}},translations_hagiographical:{id:"translations_hagiographical",title:"Translations of hagiographical works \u2013 first phase (4th-6th cent.)",url:rt(["@works","?litperiod|=|Translations of hagiographical works \u2013 first phase (4th-6th cent.)"]),data:{}},classsical_translations_homilies:{id:"classsical_translations_homilies",title:"\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)",url:rt(["@works","?litperiod|=|\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)"]),data:{}},classsical_translations_historiae:{id:"classsical_translations_historiae",title:"\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)",url:rt(["@works","?litperiod|=|\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)"]),data:{}},classical_translations_acts:{id:"classical_translations_acts",title:"\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)",url:rt(["@works","?litperiod|=|\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)"]),data:{}},classical_translations_monastic:{id:"classical_translations_monastic",title:"\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)",url:rt(["@works","?litperiod|=|\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)"]),data:{}},post_chalcedonian:{id:"post_chalcedonian",title:"Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)",url:rt(["@works","?litperiod|=|Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)"]),data:{}},historiographic:{id:"historiographic",title:"Historiographic Production (6th cent.)",url:rt(["@works","?litperiod|=|Historiographic Production (6th cent.)"]),data:{}},orig_lit_formation:{id:"orig_lit_formation",title:"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)",url:rt(["@works","?litperiod|=|Original Literature: Formation of the earlier hagiographic cycles (6 cent.)"]),data:{}},orig_lit_damian_hag:{id:"orig_lit_damian_hag",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies",url:rt(["@works","?litperiod|=|Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies"]),data:{}},orig_lit_damian_hom:{id:"orig_lit_damian_hom",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies",url:rt(["@works","?litperiod|=|Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies"]),data:{}},poetry:{id:"poetry",title:"Poetic production (7th-8th cent.)",url:rt(["@works","?litperiod|=|Poetic production (7th-8th cent.)"]),data:{}},orig_lit_hom:{id:"orig_lit_hom",title:"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)",url:rt(["@works","?litperiod|=|Original Literature: Homilies with apocryphal insertions (6th -8th cent.)"]),data:{}},original_lit_early_islamic:{id:"original_lit_early_islamic",title:"Original Literature: Literary production of the early Islamic period (7th cent.)",url:rt(["@works","?litperiod|=|Original Literature: Literary production of the early Islamic period (7th cent.)"]),data:{}},standard_translations_in_bohairic:{id:"standard_translations_in_bohairic",title:"\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)",url:rt(["@works","?litperiod|=|\u201cStandard\u201d translations of biblical works into Bohairic (7th-8th cent.)"]),data:{}},original_lit_later_hag:{id:"original_lit_early_islamic",title:"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)",url:rt(["@works","?litperiod|=|Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)"]),data:{}},synaxarial:{id:"synaxarial",title:"Synaxarial arrangement (9th-10th cent.)",url:rt(["@works","?litperiod|=|Synaxarial arrangement (9th-10th cent.)"]),data:{}},late_liturgical:{id:"late_liturgical",title:"Late liturgical production (10th-14th cent.)",url:rt(["@works","?litperiod|=|Late liturgical production (10th-14th cent.)"]),data:{}}},colophons:{cryptography:{id:"cryptography",title:"Colophons with cryptography",url:rt(["@colophons","?cryptography|=|1"]),data:{}},greek_minuscule:{id:"greek_minuscule",title:"Colophons with Greek minuscule",url:rt(["@colophons","?minusculegreek|=|1"]),data:{}},coptic_minuscule:{id:"coptic_minuscule",title:"Colophons with Coptic minuscule",url:rt(["@colophons","?minusminusculecopitcculegreek|=|1"]),data:{}}},persons:{donors:{id:"donors",title:"Donors",url:rt(["@persons","?type|=|donor"]),data:{}},copyists:{id:"copyists",title:"Copyists",url:rt(["@persons","?type|=|copyist"]),data:{}}},map:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:rt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","?places.id|in|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|discovery}","-500:0"])+"&geojson=1",data:{}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:rt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","?places.id|in|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|storage}","-500:0"])+"&geojson=1",data:{}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:rt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","?places.id|in|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|production}","-500:0"])+"&geojson=1",data:{}},all_ms_places:{id:"all_ms_places",title:"All places connected to manuscripts",url:rt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","-500:0","?tot_ms|>|^0"])+"&geojson=1",data:{}},bishoprics:{id:"bishoprics",title:"Bishoprics",url:rt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology","?episcopalsee|=|1","-500:0"])+"&geojson=1",data:{}}}};class ot extends i.Component{render(){return Object(a.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:Object.values(ct.map).map(((t,e)=>Object(a.jsx)("li",{className:"mb-3",children:Object(a.jsxs)(n.b,{to:"/map/saved/"+t.id,children:[Object(a.jsx)(j.a,{icon:"arrow-circle-right"})," ",t.title]})},e)))})}}var nt=s(520);function lt(t){return t.show?Object(a.jsx)(K.a,{addonType:"append",children:Object(a.jsx)(nt.a,{color:"danger",onClick:t.onClick,children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}):null}var pt=s(543),ht=s(521),dt=s(522),mt=s(523);function bt(t){const e=Object(i.useState)(!1),s=Object(u.a)(e,2),r=s[0],c=s[1];return Object(a.jsxs)(pt.a,{isOpen:!r,toggle:()=>c(!r),className:t.className,children:[Object(a.jsx)(ht.a,{children:"Error"}),Object(a.jsx)(dt.a,{children:t.children}),Object(a.jsx)(mt.a,{children:Object(a.jsx)(nt.a,{color:"success",block:!0,onClick:()=>c(!r),children:"Close"})})]})}var jt=s(105),ut=s(162),gt=s(158),xt=s(68),Ot=s(38),_t=s.n(Ot),ft=s(13),yt=s.n(ft),vt=s(200),wt=s.n(vt);const kt=(t,e)=>{let s="#0f4880";return t.properties.type&&(t.properties.type.includes("discovery")&&t.properties.type.includes("storage")&&t.properties.type.includes("production")?s="#939393":t.properties.type.includes("discovery")&&t.properties.type.includes("storage")?s="#00aa55":t.properties.type.includes("storage")&&t.properties.type.includes("production")?s="#009fd4":t.properties.type.includes("discovery")&&t.properties.type.includes("production")?s="#b381b3":t.properties.type.includes("discovery")?s="#aa8f00":t.properties.type.includes("storage")?s="#d47500":t.properties.type.includes("production")&&(s="#f64747")),new yt.a.CircleMarker(e,{radius:5,weight:1,color:"#fff",opacity:.9,fillColor:s,fillOpacity:1})},Nt=(t,e)=>{const s=window.location.pathname.replace(/\/map(.*)/,"");e.bindPopup("<strong>".concat(t.properties.name,"</strong>")+(t.properties.copticname?'<br /><span class="coptic">'+t.properties.copticname+"</span>":"")+(t.properties.type?'<br /><span class="text-secondary">'.concat(t.properties.type,"</span>"):"")+'<br /><a href="'.concat(s,"/places/").concat(t.properties.id,'">paths/places/').concat(t.properties.id,"</a>")),e.on("mouseover",(function(){e.openPopup()}))};function Bt(t){return Object(a.jsx)(r.a.Fragment,{children:t.shownPlaces&&Object(a.jsx)(gt.a,{onAdd:t.onAdd,data:t.shownPlaces,pointToLayer:kt,onEachFeature:Nt},wt()(t.shownPlaces))})}const Ct=[{name:"Holy family in Egypt",url:"https://raw.githubusercontent.com/paths-erc/docs/master/raw-data/gis/sacra-famiglia-in-egitto/sacra-famiglia-in-egitto.geojson",info:"https://docs.paths-erc.eu/gis/vectors"},{name:"Coptic monasteries with coordinates",url:"https://raw.githubusercontent.com/paths-erc/docs/master/raw-data/gis/coptic-monasteries-with-coordinates/coptic-monasteries-with-coordinates.geojson",info:"https://docs.paths-erc.eu/gis/vectors"}],St=["paths.places.16-Elephantine/BGQ6JNX2-186","paths.places.16-Elephantine/BGQ6JNX2-77","paths.places.19-Luxor-complex/BGQ6JNX2-68","paths.places.19-Luxor-complex/BGQ6JNX2-69","paths.places.19-Luxor-complex/BGQ6JNX2-70","paths.places.19-Luxor-complex/BGQ6JNX2-71","paths.places.20-Koptos/BGQ6JNX2-64","paths.places.21-Dendera/BGQ6JNX2-63","paths.places.24-Panopolis/BGQ6JNX2-159","paths.places.24-Panopolis/BGQ6JNX2-161","paths.places.24-Panopolis/BGQ6JNX2-160","paths.places.28-Hermopolis-Magna/BGQ6JNX2-58","paths.places.28-Hermopolis-Magna/BGQ6JNX2-59","paths.places.36-Pelusium/BGQ6JNX2-189","paths.places.36-Pelusium/BGQ6JNX2-88","paths.places.36-Pelusium/BGQ6JNX2-89","paths.places.36-Pelusium/BGQ6JNX2-90","paths.places.38-Alexandria/BGQ6JNX2-1","paths.places.53-Antinoupolis/BGQ6JNX2-52","paths.places.53-Antinoupolis/BGQ6JNX2-53","paths.places.53-Antinoupolis/BGQ6JNX2-54","paths.places.53-Antinoupolis/BGQ6JNX2-55","paths.places.58-Esna/BGQ6JNX2-169","paths.places.58-Esna/BGQ6JNX2-76","paths.places.68-Pbou/BGQ6JNX2-162a","paths.places.68-Pbou/BGQ6JNX2-162b","paths.places.70-Hermonthis/BGQ6JNX2-74","paths.places.72-Deir-Ambra-Adra/BGQ6JNX2-177","paths.places.73-Bawit/BGQ6JNX2-142","paths.places.73-Bawit/BGQ6JNX2-143","paths.places.75-Apa-Jeremiah/BGQ6JNX2-126","paths.places.75-Apa-Jeremiah/BGQ6JNX2-127","paths.places.74-Naqlun/BGQ6JNX2-131b","paths.places.74-Naqlun/BGQ6JNX2-131a","paths.places.74-Naqlun/BGQ6JNX2-131c","paths.places.78-Kellia/BGQ6JNX2-114","paths.places.78-Kellia/BGQ6JNX2-115","paths.places.78-Kellia/BGQ6JNX2-116","paths.places.78-Kellia/BGQ6JNX2-117","paths.places.87-Medinet-Habu/BGQ6JNX2-72","paths.places.87-Medinet-Habu/BGQ6JNX2-73","paths.places.88-Petemout/BGQ6JNX2-66","paths.places.88-Petemout/BGQ6JNX2-67","paths.places.89-Ostrakine/BGQ6JNX2-92","paths.places.89-Ostrakine/BGQ6JNX2-93","paths.places.92-Deir-el-Balaiza/BGQ6JNX2-148","paths.places.96-Philae/BGQ6JNX2-78","paths.places.96-Philae/BGQ6JNX2-79","paths.places.96-Philae/BGQ6JNX2-80","paths.places.97-Deir-el-Kubaniya/BGQ6JNX2-174","paths.places.101-Tebtynis/BGQ6JNX2-47","paths.places.106-Karanis/BGQ6JNX2-191","paths.places.104-Medinet-Madi/BGQ6JNX2-39","paths.places.104-Medinet-Madi/BGQ6JNX2-40","paths.places.104-Medinet-Madi/BGQ6JNX2-41","paths.places.104-Medinet-Madi/BGQ6JNX2-42","paths.places.104-Medinet-Madi/BGQ6JNX2-43","paths.places.104-Medinet-Madi/BGQ6JNX2-44","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-150","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-151","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-152a","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-152b","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-154","paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-156","paths.places.113-Red-Monastery-at-Atripe/BGQ6JNX2-155","paths.places.114-Kellis/BGQ6JNX2-85","paths.places.115-Bagawat/BGQ6JNX2-86","paths.places.115-Bagawat/BGQ6JNX2-87","paths.places.116-Abu-Mina/BGQ6JNX2-16","paths.places.116-Abu-Mina/BGQ6JNX2-17","paths.places.116-Abu-Mina/BGQ6JNX2-18","paths.places.116-Abu-Mina/BGQ6JNX2-19","paths.places.116-Abu-Mina/BGQ6JNX2-20","paths.places.116-Abu-Mina/BGQ6JNX2-21a1","paths.places.116-Abu-Mina/BGQ6JNX2-21a2","paths.places.116-Abu-Mina/BGQ6JNX2-21a3","paths.places.116-Abu-Mina/BGQ6JNX2-21b","paths.places.116-Abu-Mina/BGQ6JNX2-21b1","paths.places.116-Abu-Mina/BGQ6JNX2-22","paths.places.116-Abu-Mina/BGQ6JNX2-23","paths.places.116-Abu-Mina/BGQ6JNX2-24","paths.places.116-Abu-Mina/BGQ6JNX2-25","paths.places.116-Abu-Mina/BGQ6JNX2-26","paths.places.116-Abu-Mina/BGQ6JNX2-27","paths.places.116-Abu-Mina/BGQ6JNX2-28a","paths.places.116-Abu-Mina/BGQ6JNX2-28b","paths.places.116-Abu-Mina/BGQ6JNX2-30","paths.places.116-Abu-Mina/BGQ6JNX2-31","paths.places.116-Abu-Mina/BGQ6JNX2-103","paths.places.116-Abu-Mina/BGQ6JNX2-104","paths.places.116-Abu-Mina/BGQ6JNX2-105","paths.places.117-Marina-el-Alamein/BGQ6JNX2-8","paths.places.119-Dionysias/BGQ6JNX2-46","paths.places.122-Hawara/BGQ6JNX2-49","paths.places.143-Marea/BGQ6JNX2-9","paths.places.144-Babylon/BGQ6JNX2-33","paths.places.144-Babylon/BGQ6JNX2-34","paths.places.144-Babylon/BGQ6JNX2-122","paths.places.144-Babylon/BGQ6JNX2-123a","paths.places.144-Babylon/BGQ6JNX2-123b","paths.places.169-Manqabad/BGQ6JNX2-144","paths.places.169-Manqabad/BGQ6JNX2-145","paths.places.169-Manqabad/BGQ6JNX2-146","paths.places.173-Dakhleh/BGQ6JNX2-181","paths.places.176-Deir-abu-Matta/BGQ6JNX2-180","paths.places.182-Karnak/BGQ6JNX2-166","paths.places.182-Karnak/BGQ6JNX2-167","paths.places.188-Pharan/BGQ6JNX2-95","paths.places.188-Pharan/BGQ6JNX2-96a","paths.places.188-Pharan/BGQ6JNX2-96b","paths.places.188-Pharan/BGQ6JNX2-97","paths.places.188-Pharan/BGQ6JNX2-98","paths.places.188-Pharan/BGQ6JNX2-99","paths.places.188-Pharan/BGQ6JNX2-100","paths.places.205-Wadi-Natrun-Baramus/BGQ6JNX2-118","paths.places.206-Wadi-Natrun-Syrians/BGQ6JNX2-119","paths.places.208-Wadi-Natrun-Macarius/BGQ6JNX2-121","paths.places.215-Deir-Abu-Hennes/BGQ6JNX2-141","paths.places.217-Deir-al-Dik/BGQ6JNX2-51","paths.places.338-Taposiris-Magna/BGQ6JNX2-3","paths.places.338-Taposiris-Magna/BGQ6JNX2-4","paths.places.338-Taposiris-Magna/BGQ6JNX2-5","paths.places.338-Taposiris-Magna/BGQ6JNX2-185","paths.places.367-Deir-Mar-Tumas/BGQ6JNX2-158","paths.places.368-Upper-Ansina/BGQ6JNX2-137","paths.places.368-Upper-Ansina/BGQ6JNX2-138","paths.places.368-Upper-Ansina/BGQ6JNX2-139","paths.places.368-Upper-Ansina/BGQ6JNX2-56","paths.places.370-Hilwan/BGQ6JNX2-35","paths.places.370-Hilwan/BGQ6JNX2-36","paths.places.370-Hilwan/BGQ6JNX2-37","paths.places.370-Hilwan/BGQ6JNX2-38","paths.places.374-Deir-el-Matmar/BGQ6JNX2-168","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-164","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-165a","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-165b","paths.places.415-Abu-Fana/BGQ6JNX2-134","paths.places.415-Abu-Fana/BGQ6JNX2-135","paths.places.415-Abu-Fana/BGQ6JNX2-136","paths.places.416-Deir-al-Fakhuri/BGQ6JNX2-171","paths.places.416-Deir-al-Fakhuri/BGQ6JNX2-172","paths.places.417-Abu-Shaar/BGQ6JNX2-187","paths.places.419-Ain-el-Hayz/BGQ6JNX2-83","paths.places.420-Gezira-el-Faraun/BGQ6JNX2-101","paths.places.421-Hawwariya/BGQ6JNX2-11","paths.places.421-Hawwariya/BGQ6JNX2-12","paths.places.422-Kalabasa/BGQ6JNX2-82","paths.places.423-Kom-Namrud/BGQ6JNX2-132","paths.places.423-Kom-Namrud/BGQ6JNX2-133","paths.places.424-El-Tor/BGQ6JNX2-188","paths.places.425-Tuphium/BGQ6JNX2-75"];var Gt="AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o";const Jt=jt.b.BaseLayer,Qt=jt.b.Overlay;function At(t){const e=Object(i.useState)(),s=Object(u.a)(e,2),r=s[0],c=s[1];return Object(i.useEffect)((()=>{let t=[];const e=Ct.map((e=>(t.push({name:e.name,url:e.url,info:e.info}),_t()({method:"get",url:e.url}))));_t.a.all(e).then((e=>{e.map(((e,s)=>(t[s].geojson=e.data,!0))),c(t)}))}),[]),Object(a.jsxs)(jt.b,{position:"topright",children:[Object(a.jsx)(Jt,{name:"AWMC",children:Object(a.jsx)(ut.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})}),Object(a.jsx)(Jt,{name:"Imperium (DARE)",checked:"true",children:Object(a.jsx)(ut.a,{url:"https://dh.gu.se/tiles/imperium/{z}/{x}/{y}.png"})}),Object(a.jsx)(Jt,{name:"OpenStreetMap",children:Object(a.jsx)(ut.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})}),Object(a.jsx)(Jt,{name:"Google Maps",children:Object(a.jsx)(xt.GoogleLayer,{googlekey:Gt,maptype:"ROADMAP"})}),Object(a.jsx)(Jt,{name:"Google Satellite",children:Object(a.jsx)(xt.GoogleLayer,{googlekey:Gt,maptype:"SATELLITE"})}),Object(a.jsx)(Jt,{name:"Composite: A Map of Lower Egypt from Various Surveys by A. Arrowsmith (1807)",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/arrowsmith-1807/{z}/{x}/{y}.png",maxZoom:15})}),Object(a.jsx)(Jt,{name:"Carte geographique de l'Egypte et des pays environnans by Pierre Jacotin (1818, 1828)",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/jacotin-1827/{z}/{x}/{y}.png",maxZoom:15})}),Object(a.jsx)(Jt,{name:"Series 4085 - GB & USA (1941)",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/series-4085-gb-usa-1941/{z}/{x}/{y}.png",maxZoom:15})}),Object(a.jsx)(Jt,{name:"Series P502 - USA (1954)",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/series-p502-usa-1954/{z}/{x}/{y}.png",maxZoom:14})}),Object(a.jsx)(Jt,{name:"Series 1404, Great Britain War Office and Air Ministry, 1958-",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/imw-1m-1960/{z}/{x}/{y}.png",maxZoom:13})}),Object(a.jsx)(Jt,{name:"International Map of the World (1960)",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/imw-1m-1960/{z}/{x}/{y}.png",maxZoom:12})}),Object(a.jsx)(Jt,{name:"Tactical Pilotage Chart Series - World (1979)",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/tpc-500k-1979/{z}/{x}/{y}.png",maxZoom:14})}),Object(a.jsx)(Jt,{name:"Ministry of Finance, Egypt - Atlas of Egypt: Lower and Upper Egypt (1914)",children:Object(a.jsx)(ut.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/min-fin-1914/{z}/{x}/{y}.png",maxZoom:17})}),t.shownPlaces&&Object(a.jsx)(Bt,{shownPlaces:t.shownPlaces,onAdd:t.onAdd}),r&&r.map(((t,e)=>{const s="#"+(16777216+16777215*Math.random()).toString(16).substr(1,6);return Object(a.jsx)(Qt,{name:t.name,children:Object(a.jsx)(gt.a,{data:t.geojson,pointToLayer:(t,e)=>((t,e,s)=>new yt.a.CircleMarker(e,{radius:5,weight:1,color:s||!1}))(0,e,s),onEachFeature:(e,s)=>((t,e,s)=>{const a=Object.entries(t.properties).map((t=>!!t[1]&&"<strong>".concat(t[0],"</strong>: ").concat(t[1])));e.bindPopup(a.filter(Boolean).join("<br>")+"<hr><strong>".concat(s.name,'</strong><br>\n    <a href="').concat(s.info,'" title="More information">').concat(s.info,"</a>\n    "))})(e,s,t)})},e)}))]})}let Pt="https://bdus.cloud/db/";"localhost"===window.location.hostname&&(Pt="http://bdus.localhost/"),Pt+="api/paths/";class Xt{static getData(t,e,s){t=Pt+t,_t()({method:"post",url:t,params:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((t=>{if(t.data.type&&"error"===t.data.type)return console.log("API error: ".concat(t.data.text)),!1;s(t.data)})).catch((t=>{t instanceof Error?console.log(t.message):console.log(t.data)}))}static getBaseUrl(){return Pt}static getUniqueVal(t,e,s,a){this.getData("./"+t,{verb:"getUniqueVal",tb:t.replace("paths__",""),fld:e,s:s},(t=>{a(t)}),!0)}static getSaved(t,e,s,a){"undefined"!==typeof ct[t][e]?(ct[t][e].data.page=s,this.getData(ct[t][e].url,ct[t][e].data,(s=>{a(s,ct[t][e].title)}))):a({status:"error",text:"No saved query found for id: ".concat(t,".").concat(e)})}static getSimple(t,e,s,a,i,r){const c={verb:"search",shortsql:"@".concat(t,"~?").concat(e.replace(":","."),"|").concat(a?"=":"LIKE","|").concat(a?s:"%".concat(s,"%")),page:i};this.getData("",c,(t=>{r(t)}),!0)}static getAdv(t,e,s,a){let i=[];Object.entries(e).forEach((([t,e])=>{let s=[];switch(e.o){case"LIKE":e.v="%".concat(e.v,"%");break;case"starts_with":e.o="LIKE",e.v="".concat(e.v,"%");break;case"ends_with":e.o="LIKE",e.v="%".concat(e.v);break;case"is_empty":e.o="is",e.v="^null",e.c="or",i.push("".concat(e.f.replace(":","."),"|=|^"));break;case"is_not_empty":e.o="is not",e.v="^null",e.c="or",i.push("".concat(e.f.replace(":","."),"|!=|^"))}e.c&&s.push(e.c),s.push(e.f.replace(":",".")),s.push(e.o),s.push(e.v),i.push(s.join("|"))})),this.getData("",{verb:"search",shortsql:"@".concat(t,"~?").concat(i.join("||")),page:s},(t=>{a(t)}))}static getStr(t,e,s,a){this.getData(t,{verb:"search",type:"fast",string:e,page:s},(t=>{a(t,"Search ["+e+"] in "+t.head.table_label)}),!0)}static getAll(t,e,s){this.getData("",{verb:"search",shortsql:"@".concat(t),page:e},(t=>{s(t)}))}static getOne(t,e,s){this.getData("",{tb:t,verb:"read",id:e},(t=>{s(t)}))}static inspect(t,e){this.getData("",{tb:t,verb:"inspect"},(t=>{e(t)}))}static getChart(t,e){this.getData(""+t,{id:t,verb:"getChart"},(t=>{e(t)}))}static getPlaces(t,e){let s="1";if(t){let e=t.split("?");e.shift(),s=encodeURIComponent(e.join("?"))}this.getData("?verb=search&geojson=true&shortsql="+["@places","[geodata.geometry,id,name,pleiades,typology,{@m_toponyms~[toponym|group_concat~?table_link|=|paths__places||and|id_link|=|^places.id}:toponyms","?".concat(s),"-500:0"].join("~"),{},(t=>{e(t)}))}static getMsPlaces(t,e){let s="";"@manuscripts"!==t&&(s="~?".concat(t)),this.getData("",{verb:"search",geojson:1,shortsql:["@places","]m_msplaces||paths__places.id|=|^m_msplaces.place","?m_msplaces.table_link|=|paths__manuscripts||and|m_msplaces.id_link|in|{@manuscripts~[id".concat(s,"}~*places.id,places.name,places.pleiades,places.typology,geodata.geometry")].join("~")},(t=>e(t)))}}s(378);class Mt extends i.Component{constructor(t){super(t),this.state={places:null,shownPlaces:null,urlFilter:!1,sidebarCollapsed:!1,selected:"home",manualFilter:"",error:!1,mapBounds:!1,zoom:!1,geoJsonBounds:!1},this.placesLayerRef=r.a.createRef(),this.mapRef=r.a.createRef()}onSidebarClose(){this.setState({sidebarCollapsed:!0})}onSidebarOpen(t){this.setState({sidebarCollapsed:!1,selected:t})}filterPlaces(t){const e=t.target.value;let s={};if(""===e)s=this.state.places;else{s={type:"FeatureCollection",features:[]};for(var a=0,i=Object.values(this.state.places.features);a<i.length;a++){const t=i[a];Object.values(t.properties).join("|").toLowerCase().includes(e.toLowerCase())&&s.features.push(t)}}this.setState({manualFilter:e,shownPlaces:s}),this.fitMapToBounds()}clearFiltered(){this.setState({manualFilter:"",shownPlaces:this.state.places}),this.fitMapToBounds()}fitMapToBounds(){let t=[[19.700194,16.570227],[35.4737,32.869317]];this.state.geoJsonBounds&&t._northEast&&t._southWest&&(t=this.state.geoJsonBounds,t._northEast.lat===t._southWest.lat&&t._northEast.lng===t._southWest.lng&&t.pad()),this.mapRef.current.leafletElement.fitBounds(t)}fetchData(t,e){if(t)Xt.getSaved("map",t,null,(t=>{this.setState({places:t,shownPlaces:t,urlFilter:!0}),this.fitMapToBounds()}));else if(e){const t=Y.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});if("manuscripts"===t.tb)Xt.getMsPlaces(t.shortsql,(e=>{this.setState({places:e,shownPlaces:e,urlFilter:t.shortsql}),this.fitMapToBounds()}));else{if("places"!==t.tb)return!1;Xt.getPlaces(t.shortsql,(e=>{this.setState({places:e,shownPlaces:e,urlFilter:t.shortsql}),this.fitMapToBounds()}))}}else Xt.getPlaces(null,(t=>{t.type&&"error"===t.type?this.setState({error:Object(a.jsxs)("div",{children:["Sorry. There was an error in getting the data from database. Please report this error to ",Object(a.jsx)("a",{href:"mailto:julian.bogdani@uniroma1.it",children:"julian.bogdani@uniroma1.it"})," and be sure to copy and paste the following lines:",Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"border p-3 mt-3",children:[Object(a.jsx)("code",{children:window.location.href}),Object(a.jsx)("pre",{children:t.text})]})]})}):(this.setState({places:t,shownPlaces:t}),this.fitMapToBounds())}))}onViewportChanged(t){const e=this.mapRef.current.leafletElement.getBounds(),s=t.zoom;this.setState({mapBounds:e,zoom:s})}UNSAFE_componentWillReceiveProps(t){t!==this.props&&(this.setState({places:null,urlFilter:null}),this.fetchData(t.match.params.data,null))}componentDidMount(){this.fetchData(this.props.match.params.data,this.props.location.search)}showGeoJson(){if(!this.state.shownPlaces)return Object(a.jsx)("div",{style:{textAlign:"center",zIndex:999,marginTop:"5rem"},children:Object(a.jsx)(D,{children:"Loading map data..."})})}onAddgeoJson(t){this.setState({geoJsonBounds:t.target.getBounds()})}render(){return Object(a.jsxs)("div",{className:"maxHeight",children:[Object(a.jsx)(w,{location:this.props.location}),Object(a.jsxs)("main",{role:"main",className:"maxHeight",children:[Object(a.jsxs)(tt.Sidebar,{id:"sidebar",collapsed:this.state.sidebarCollapsed,selected:this.state.selected,onOpen:this.onSidebarOpen.bind(this),onClose:this.onSidebarClose.bind(this),closeIcon:Object(a.jsx)(j.a,{icon:"caret-left"}),children:[Object(a.jsxs)(tt.Tab,{id:"home",header:"Home",icon:Object(a.jsx)(j.a,{icon:"home"}),children:[Object(a.jsx)("div",{className:"sidebarSearch",children:Object(a.jsxs)(V.a,{className:"my-2",children:[Object(a.jsx)(K.a,{addonType:"prepend",children:"Search:"}),Object(a.jsx)(Z.a,{type:"search",value:this.state.manualFilter,onChange:this.filterPlaces.bind(this),placeholder:"start typing to filter places..."}),Object(a.jsx)(lt,{show:this.state.manualFilter,onClick:this.clearFiltered.bind(this)})]})}),Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsx)(at,{urlFilter:this.state.urlFilter,filter:this.state.filter}),Object(a.jsx)(st,{places:this.state.shownPlaces})]})]}),Object(a.jsx)(tt.Tab,{id:"savedQueries",header:"Saved queries",icon:Object(a.jsx)(j.a,{icon:"save"}),children:Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsx)(ot,{})})}),Object(a.jsx)(tt.Tab,{id:"legend",header:"Legend",icon:Object(a.jsx)(j.a,{icon:"info"}),children:Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsx)(it,{})})})]}),this.state.error&&Object(a.jsx)(bt,{children:this.state.error}),!this.state.shownPlaces&&Object(a.jsx)("div",{style:{position:"absolute",top:"5rem",textAlign:"center",zIndex:999,width:"100%"},children:Object(a.jsx)(D,{children:"Loading map data..."})}),Object(a.jsx)(W.a,{className:"sidebar-map maxHeight",zoomControl:!0,ref:this.mapRef,onViewportChanged:this.onViewportChanged.bind(this),maxZoom:"25",children:Object(a.jsx)(At,{shownPlaces:this.state.shownPlaces,onAdd:this.onAddgeoJson.bind(this),mapBounds:this.state.mapBounds,zoom:this.state.zoom})})]})]})}}var Tt=s(538),Lt=s(531),Dt=s(526),qt=s(527),zt=s(528),Et=s(529),Rt=s(530);class Ft extends i.Component{render(){const t=this.props.tblabel,e=this.props.tb;return Object(a.jsx)("div",{children:Object(a.jsxs)(Dt.a,{className:"mt-5 mb-5",color:"light",children:[Object(a.jsx)("div",{className:"text-right",children:Object(a.jsx)("button",{type:"button",className:"close mr-2 mt-2","aria-label":"Close",onClick:this.props.closeFn,children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(a.jsxs)(qt.a,{children:[Object(a.jsxs)(zt.a,{children:["Saved queries for ",t]}),Object(a.jsx)(Et.a,{children:Object.values(ct[e]).map(((t,s)=>Object(a.jsxs)(Rt.a,{onClick:this.props.closeFn,className:"mb-3",tag:n.b,to:"/search/".concat(e,"/saved?q=").concat(t.id),color:"secondary",children:[Object(a.jsx)(j.a,{icon:"arrow-circle-right"})," ",t.title]},s)))})]})]})})}}var It={coptic:["authors.copticname","titles.text","colophons.text"],greek:["authors.greekname"],hidden:["manuscripts.creator","collections.creator","collections.cmclname","works.id","works.creator","works.shelfmarks","works.period","works.problems","titles.creator","titles.taggedtext","colophons.creator","authors.id","authors.creator","authors.cmclname","editors.cmclname","places.creator","places.hasplans","places.hasphotos","persons.id","persons.creator","biblio.creator","biblio.editors","m_quires.id","m_hands.id","m_placephase.id"],id_fld:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"name",persons:"name"},searchDefault:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"paths__m_toponyms:toponym",persons:"name"},preview:{manuscripts:["id","cmclid","tm","ldab","bookform","writingsupport"],collections:["id","fullname","cmclname","country","town","institution","name","notes"],works:["id","cmcl","title","cpg"],titles:["cc","type","workcc","msid"],colophons:["id","msid","dialect","chronofrom","chronoto","datingcriteria"],authors:["name","title","copticname","greekname","cmclname"],places:["id","name","tmgeo","pleiades","region","area","episcopalsee"],persons:["id","name","type","profession","patronymic"]},label:{manuscripts:"Manuscripts",collections:"Collections",works:"Works",titles:"Titles",colophons:"Colophons",authors:"Authors",places:"Places",persons:"Persons attested in colophons"},fld_whitelist:["paths__places:id","paths__places:name","paths__places:tmgeo","paths__places:pleiades","paths__places:region","paths__places:area","paths__places:meris","paths__places:nomos","paths__places:province","paths__places:episcopalsee","paths__places:typology","paths__places:description","paths__places:hasmonastery","paths__places:isnomoscapital","paths__places:status","paths__m_toponyms:toponym","paths__m_placephase:fperiod","paths__m_placephase:ftypology","paths__works:id","paths__works:cmcl","paths__works:title","paths__works:cpg","paths__works:cant","paths__works:cavt","paths__works:bho","paths__works:bhg","paths__works:bhl","paths__works:cae","paths__works:litperiod","paths__m_wkauthors:type","paths__m_wkauthors:author","paths__authors:id","paths__authors:name","paths__authors:copticname","paths__authors:greekname","paths__authors:viaf","paths__authors:title","paths__authors:status","paths__titles:id","paths__titles:cc","paths__titles:workcc","paths__titles:msid","paths__titles:type","paths__titles:text","paths__titles:translation","paths__colophons:id","paths__colophons:msid","paths__colophons:chronofrom","paths__colophons:chronoto","paths__colophons:dialect","paths__colophons:greektext","paths__colophons:writingaxis","paths__colophons:cryptography","paths__colophons:minusculecopitc","paths__colophons:minusculegreek","paths__colophons:text","paths__colophons:translation","paths__collections:id","paths__collections:fullname","paths__collections:country","paths__collections:town","paths__collections:institution","paths__collections:name","paths__manuscripts:id","paths__m_shelfmarks:collection","paths__m_shelfmarks:shelfmark","paths__manuscripts:cmclid","paths__manuscripts:tm","paths__manuscripts:ldab","paths__manuscripts:lcbm","paths__manuscripts:dbmnt","paths__manuscripts:alias","paths__manuscripts:bookform","paths__manuscripts:writingsupport","paths__manuscripts:issinglefrag","paths__manuscripts:isbookbinding","paths__manuscripts:reusedinbinding","paths__manuscripts:stratigraphy","paths__manuscripts:modernhistory","paths__manuscripts:contents","paths__manuscripts:dialect","paths__manuscripts:chronofrom","paths__manuscripts:chronoto","paths__m_msplaces:place","paths__m_msplaces:type","paths__m_msplaces:sourceinfo","paths__manuscripts:datingsource","paths__manuscripts:leaftotextant","paths__manuscripts:quiresextant","paths__manuscripts:columns","paths__manuscripts:linespercolumn","paths__manuscripts:charsperline","paths__manuscripts:leafw","paths__manuscripts:leafh","paths__manuscripts:prophw","paths__manuscripts:propwt","paths__manuscripts:quiresig","paths__manuscripts:quiretype","paths__manuscripts:quireposition","paths__m_quires:quirepaptype","paths__m_quires:quirepartype","paths__manuscripts:pagination","paths__manuscripts:pagtype","paths__manuscripts:pagposition","paths__manuscripts:foliation","paths__manuscripts:foltype","paths__manuscripts:folposition","paths__manuscripts:folnotes","paths__manuscripts:lectionalsigns","paths__manuscripts:structuralsigns","paths__manuscripts:signsnotes","paths__manuscripts:abbreviations","paths__manuscripts:ruling","paths__manuscripts:rulingtype","paths__manuscripts:rulingtool","paths__manuscripts:pricking","paths__manuscripts:leaftabs","paths__manuscripts:kolleseis","paths__manuscripts:kolleseseisdescr","paths__manuscripts:bindings","paths__manuscripts:boardmat","paths__manuscripts:sewings","paths__manuscripts:covers","paths__manuscripts:marginalnotes","paths__manuscripts:greekminuscule","paths__manuscripts:palimpsest","paths__manuscripts:restancient","paths__manuscripts:restmodern","paths__manuscripts:pgmcol","paths__manuscripts:pgmlocation","paths__manuscripts:blktype","paths__manuscripts:blklocation","paths__manuscripts:decortype","paths__manuscripts:decorsubj","paths__manuscripts:decorationdescr","paths__manuscripts:sourceinfo","paths__manuscripts:status","paths__m_hands:handno","paths__m_hands:modulartypology","paths__m_hands:writingaxis","paths__m_hands:thickandthin","paths__m_hands:identification","paths__m_hands:writingnotes","paths__m_biblio:short","paths__m_biblio:details","paths__persons:id","paths__persons:name","paths__persons:type","paths__persons:profession","paths__persons:patronymiccarnal","paths__persons:patronymicspirit","paths__persons:hasbrother","paths__persons:hasfather","paths__persons:placebirth","paths__persons:placeaffiliation","paths__persons:sex","paths__persons:datefrom","paths__persons:dateto"]};class Ht extends i.Component{constructor(t){super(t),this.state={showSaved:!1}}toggleSaved(t){this.setState({showSaved:!this.state.showSaved})}render(){const t=this.props.tblabel?this.props.tblabel:It.label[this.props.tb],e=this.props.tb,s=!!this.props.text&&Object(a.jsx)("span",{className:"subText",children:this.props.text});let i=[{to:"/search/"+e+"/all",icon:"list-ul",text:"Show all"},{to:"/search/"+e,icon:"search",text:"Search"},{to:"/search/"+e+"/adv",icon:"search-plus",text:"Advanced search"}];return Object(a.jsx)("div",{children:Object(a.jsx)(Lt.a,{className:"p-4",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{children:s}),Object(a.jsxs)(g.a,{color:"light",light:!0,expand:"xs",className:"ml-auto",children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("h3",{children:Object(a.jsx)("small",{children:t})})}),Object(a.jsxs)(f.a,{className:"ml-auto",navbar:!0,children:[i.map(((t,e)=>Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{to:t.to,tag:n.b,children:[Object(a.jsx)(j.a,{icon:t.icon})," ",Object(a.jsx)("span",{className:"d-none d-md-inline",children:t.text})]})},e))),ct[e]&&Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{onClick:this.toggleSaved.bind(this),style:{cursor:"pointer"},children:[Object(a.jsx)(j.a,{icon:"save"}),Object(a.jsx)("span",{className:"d-none d-md-inline",children:" Saved queries"})]})})]})]}),this.state.showSaved&&Object(a.jsx)(Ft,{tb:e,tblabel:t,closeFn:this.toggleSaved.bind(this)})]})})})}}var Ut=Ht,Wt=s(42),Vt=s(532),Kt=s(533),Zt=s(534);function $t(t){const e=function(t,e,s,a=1){let i=Math.ceil(s/30),r=[];a=parseInt(a,10);let c=Y.a.parse(e,{ignoreQueryPrefix:!0});return a-2>0&&(c.page=1,r.push({to:t+"?"+Y.a.stringify(c),text:1})),a-3>0&&r.push({to:"#",disabled:!0,text:"..."}),a-1>0&&(c.page=a-1,r.push({to:t+"?"+Y.a.stringify(c),text:c.page})),c.page=a,r.push({to:t+"?"+Y.a.stringify(c),active:!0,text:a}),a+1<i&&(c.page=a+1,r.push({to:t+"?"+Y.a.stringify(c),text:c.page})),a+2<i&&r.push({to:"#",disabled:!0,text:"..."}),a!==i&&(c.page=i,r.push({to:t+"?"+Y.a.stringify(c),text:c.page})),r}(t.path,t.search,t.totalRows,t.page);return Object(a.jsxs)(Vt.a,{children:[Object(a.jsx)(Kt.a,{children:Object(a.jsx)(Zt.a,{children:"Pages: "})}),e.map(((t,e)=>{const s={disabled:t.disabled,active:t.active};return Object(i.createElement)(Kt.a,Object(Wt.a)(Object(Wt.a)({},s),{},{key:e}),Object(a.jsx)(Zt.a,{tag:n.b,to:t.to,children:t.text}))}))]})}function Yt(t){const e=t.page?t.page:1,s=30*e-30+1,i=30*e<t.totalRows?30*e:t.totalRows;return Object(a.jsxs)("div",{className:"mb-3",children:["Showing records ",Object(a.jsxs)("span",{className:"badge badge-primary",children:[s," \u2013  ",i," "]})," of ",Object(a.jsx)("span",{className:"badge badge-success",children:t.totalRows})," records found"]})}var te=s(535),ee=s(536),se=s(537);class ae extends i.Component{render(){return Object(a.jsx)(k.a,{children:this.props.children})}}class ie extends i.Component{render(){const t=this.props.record,e=this.props.fields,s=this.props.tb,i=this.props.previewFlds,r=this.props.idField;return Object(a.jsx)(N.a,{sm:"4",children:Object(a.jsxs)(Dt.a,{className:"mt-3",outline:!0,color:"dark",children:[Object(a.jsx)(te.a,{tag:"h4",children:t[r]}),Object(a.jsxs)(qt.a,{id:t.id,children:[Object(a.jsx)(ee.a,{hover:!0,size:"sm",children:Object(a.jsx)("tbody",{children:i.map(((s,i)=>Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:e[s]}),Object(a.jsx)("td",{children:t[s]})]},i)))})}),Object(a.jsx)("div",{className:"clearfix",children:Object(a.jsx)("div",{className:"btn-group float-right",role:"group",children:Object(a.jsx)(se.a,{children:Object(a.jsxs)(nt.a,{size:"sm",color:"info",tag:n.b,to:"/"+[s,t.id].join("/"),children:[Object(a.jsx)(j.a,{icon:"eye"})," View"]})})})})]})]})})}}function re(t){const e=t.tb,s=t.shortsql;return["manuscripts","places"].indexOf(e)<0?null:Object(a.jsx)("div",{className:"float-right mt-2",children:Object(a.jsxs)(n.b,{to:"/map?tb="+e+"&shortsql="+encodeURI(s),className:"btn btn-warning",children:[Object(a.jsx)(j.a,{icon:"map-marker-alt"})," View on Map"]})})}class ce extends i.Component{constructor(t){super(t),this.state={result:!1}}_fetchData(){switch(this.props.type){case"simple":Xt.getSimple(this.props.tb,this.props.fld,this.props.val,this.props.strict,this.props.page,(t=>{this.setState({result:t})}));break;case"adv":Xt.getAdv(this.props.tb,this.props.data,this.props.page,(t=>{this.setState({result:t})}));break;case"all":Xt.getAll(this.props.tb,this.props.page,(t=>{this.setState({result:t})}));break;case"saved":Xt.getSaved(this.props.tb,this.props.query,this.props.page,(t=>{this.setState({result:t})}));break;case"shortsql":Xt.getData("",{verb:"search",shortsql:this.props.q,page:this.props.page},(t=>{this.setState({result:t})}));break;default:return console.log("Unknown verb ".concat(this.props.type)),null}}componentDidUpdate(t){this.props.page===t.page&&this.props.fld===t.fld&&this.props.val===t.val&&this.props.strict===t.strict&&this.props.query===t.query||this._fetchData()}componentDidMount(){this._fetchData()}render(){return this.state.result?"error"===this.state.result.type?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)(Tt.a,{color:"danger",className:"mt-5",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"We are so sorry!"}),Object(a.jsxs)("p",{children:["Something went terribly wrong. Please report this error to ",Object(a.jsx)("a",{href:"https://github.com/paths-erc/atlas/issues",children:"our public repository"})," in order to get it fixes as soon as possible."]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Please file the current URL:"}),Object(a.jsx)(Tt.a,{color:"info",className:"border p-3 m-2 ml-4",children:window.location.href}),Object(a.jsx)(Tt.a,{color:"info",className:"border p-3 m-2 ml-4",children:decodeURIComponent(window.location.href)}),Object(a.jsx)("p",{children:"and the following error message"}),Object(a.jsx)(Tt.a,{color:"info",className:"border p-3 m-2 ml-4",children:Object(a.jsx)("pre",{children:this.state.result.text})}),Object(a.jsx)("p",{children:"Full error trace"}),Object(a.jsx)(Tt.a,{color:"info",className:"border p-3 m-2 ml-4",children:Object(a.jsx)("pre",{children:this.state.result.trace})})]})]})}):0===this.state.result.head.total_rows?Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(Tt.a,{color:"warning",className:"mt-5",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"Ooops!"}),"No result found. Please reformulate the query."]})})}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"clearfix",children:[Object(a.jsx)(re,{tb:this.state.result.head.stripped_table,shortsql:this.state.result.head.shortsql}),Object(a.jsx)(Yt,{totalRows:this.state.result.head.total_rows,page:this.state.result.head.page,query:this.state.result.head.query_arrived}),Object(a.jsx)($t,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})]}),Object(a.jsx)(ae,{children:this.state.result.records.map(((t,e)=>Object(a.jsx)(ie,{idField:It.id_fld[this.props.match.params.table],previewFlds:It.preview[this.props.match.params.table],tb:this.props.match.params.table,record:t,fields:this.state.result.head.fields},e)))}),Object(a.jsx)("div",{className:"pt-3",children:Object(a.jsx)($t,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})})]})}):Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(D,{})})}}var oe=Object(l.f)(ce);class ne extends i.Component{constructor(t){super(t);const e=Y.a.parse(t.location.search,{ignoreQueryPrefix:!0});this.state={saved:e.q,page:e.page}}componentDidUpdate(t,e){const s=Y.a.parse(t.location.search,{ignoreQueryPrefix:!0}),a=Y.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});s.page!==a.page&&this.setState({page:a.page}),s.q!==a.q&&this.setState({saved:a.q})}render(){return"undefined"===typeof ct[this.props.match.params.table][this.state.saved]?Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(Tt.a,{color:"warning",className:"mt-5",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"Ooops!"}),"No saved query ",Object(a.jsx)("code",{children:this.state.saved})," found."]})}):Object(a.jsxs)("div",{children:[Object(a.jsx)(Ut,{tb:this.props.match.params.table,text:ct[this.props.match.params.table][this.state.saved].title}),Object(a.jsx)(oe,{tb:this.props.match.params.table,query:this.state.saved,type:"saved",page:this.state.page})]})}}var le=s(539),pe=s(540),he=s(210);class de extends i.Component{constructor(t){super(),this.state={fields:!1,fld:!1}}_setState(t,e){let s;if(t=It.fld_whitelist.map((e=>!!t[e]&&{value:e,label:t[e].label})).filter((t=>t)),e)s=t.filter((t=>t.value===e))[0];else{if(It.searchDefault[this.props.tb]){const e=It.searchDefault[this.props.tb].includes("paths")?It.searchDefault[this.props.tb]:"paths__".concat(this.props.tb,":").concat(It.searchDefault[this.props.tb]);s=t.filter((t=>t.value===e))[0]}else s=t[0];this.props.onChange(s)}this.setState({fields:t,fld:s})}componentDidMount(){Xt.inspect(this.props.tb,(t=>{this._setState(t.fields,this.props.fld)}))}render(){return this.state.fields?Object(a.jsx)(he.a,{defaultValue:this.state.fld,options:this.state.fields,onChange:this.props.onChange}):null}}var me=s(209);function be(t){const e=Object(i.useState)(!1),s=Object(u.a)(e,2),r=s[0],c=s[1],o=Object(i.useState)([]),n=Object(u.a)(o,2),l=n[0],p=n[1],h=Object(i.useCallback)((e=>{c(!0);const s=t.fld.split(":"),a=Object(u.a)(s,2),i=a[0],r=a[1];Xt.getUniqueVal(i,r,e,(t=>{p(t),c(!1)}))}),[t.fld]),d=t.val&&t.val.customOption?t.val.customOption.label:t.val?[t.val]:[];return Object(a.jsx)(me.a,{id:"get-value-from-db",isLoading:r,minLength:1,options:l,multiple:!1,placeholder:"Add a value",onSearch:h,onChange:t.onChange,onInputChange:t.onChange,defaultSelected:d})}class je extends i.Component{constructor(t){super(),this.state={fld:t.fld,val:t.val,strict:!0===t.strict},this.handleSubmit=this.handleSubmit.bind(this),this._changeField=this._changeField.bind(this),this._changeVal=this._changeVal.bind(this),this._changeStrict=this._changeStrict.bind(this)}componentDidUpdate(t){t!==this.props&&this.setState({fld:this.props.fld,val:this.props.val,strict:!!this.props.strict})}_changeField(t){this.setState({fld:t.constructor===Object&&t.value?t.value:t})}_changeVal(t){this.setState({val:t.constructor===Array?t[0]:t})}_changeStrict(t){this.setState({strict:t.target.checked})}handleSubmit(t){t.preventDefault(),this.state.val?this.props.onSubmit(this.state.fld,this.state.val,this.state.strict):alert("Insert a value to continue")}render(){return Object(a.jsx)("div",{className:"my-5",children:Object(a.jsx)("form",{onSubmit:this.handleSubmit,className:"form",children:Object(a.jsxs)(le.a,{row:!0,children:[Object(a.jsx)(N.a,{sm:4,children:Object(a.jsx)(de,{tb:this.props.tb,fld:this.state.fld,onChange:this._changeField})}),Object(a.jsx)(N.a,{sm:5,children:Object(a.jsx)(be,{fld:this.state.fld,val:this.state.val,onChange:this._changeVal})}),Object(a.jsx)(N.a,{sm:1,children:Object(a.jsxs)(pe.a,{check:!0,children:[Object(a.jsx)(Z.a,{name:"strict",type:"checkbox",checked:this.state.strict,onChange:this._changeStrict})," Strict"]})}),Object(a.jsxs)(N.a,{sm:2,children:[" ",Object(a.jsx)(nt.a,{type:"submit",color:"success",block:!0,children:"Search!"})," "]})]})})})}}class ue extends i.Component{constructor(t){super();const e=Y.a.parse(t.location.search,{ignoreQueryPrefix:!0});this.state={fld:e.f,val:e.v,strict:e.s&&"false"!==e.s&&"undefined"!==e.s,page:e.page},this._onFormSubmit=this._onFormSubmit.bind(this)}_onFormSubmit(t,e,s){const a="f=".concat(encodeURIComponent(t)).concat(s?"&s=1":"","&v=").concat(encodeURIComponent(e));this.setState({fld:t,val:e,strict:s}),this.props.history.push("/search/".concat(this.props.match.params.table,"?").concat(a))}componentDidUpdate(t,e){const s=Y.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==s.page&&this.setState({page:s.page})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ut,{tb:this.props.match.params.table,text:"Simple search"}),Object(a.jsxs)("div",{className:"mt-3 p-1 container",children:[Object(a.jsx)(je,{tb:this.props.match.params.table,onSubmit:this._onFormSubmit,fld:this.state.fld,val:this.state.val,strict:this.state.strict}),Object(a.jsx)("hr",{})]}),this.state.fld&&this.state.val&&Object(a.jsx)(oe,{tb:this.props.match.params.table,type:"simple",fld:this.state.fld,val:this.state.val,strict:this.state.strict,page:this.state.page})]})}}class ge extends i.Component{render(){return Object(a.jsx)("div",{children:Object(a.jsx)(Z.a,Object(Wt.a)(Object(Wt.a)({type:"select",placeholder:"select"},this.props),{},{children:[{k:"LIKE",v:"Contains"},{k:"=",v:"Is exactly"},{k:"NOT LIKE",v:"Does not contain"},{k:"starts_with",v:"Starts with"},{k:"ends_with",v:"Ends with"},{k:"is_empty",v:"Is empty"},{k:"is_not_empty",v:"Is not empty"},{k:">",v:"Is bigger than"},{k:"<",v:"Is smaller than"}].map(((t,e)=>Object(a.jsx)("option",{value:t.k,children:t.v},e)))}))})}}function xe(t){return Object(a.jsx)("div",{children:Object(a.jsxs)(Z.a,Object(Wt.a)(Object(Wt.a)({type:"select"},t),{},{children:[Object(a.jsx)("option",{value:"AND",children:"AND"}),Object(a.jsx)("option",{value:"OR",children:"OR"})]}))})}class Oe extends i.Component{constructor(t){super(t);const e=Y.a.parse(t.location.search,{ignoreQueryPrefix:!0});let s,a=!1;0===Object.getOwnPropertyNames(e).length?s={a:{f:"",o:"LIKE",v:""}}:(s=e,a=!0),this.state={rows:s,showResults:a,page:!1},this._changeOperator=this._changeOperator.bind(this),this._changeConnector=this._changeConnector.bind(this),this._addRow=this._addRow.bind(this),this._removeRow=this._removeRow.bind(this)}_removeRow(t){let e=this.state.rows;delete e[t.target.name],this.setState({rows:e,showResults:!1})}_addRow(){let t=this.state.rows;t["a"+Math.random().toString(36).substr(2,9)]={f:"",o:"LIKE",v:"",c:"AND"},this.setState({rows:t,showResults:!1})}_changeField(t,e){let s=this.state.rows;s[t].f=e.constructor===Object&&e.value?e.value:e,this.setState({rows:s,showResults:!1})}_changeVal(t,e){let s=this.state.rows;s[t].v=e.constructor===Array?e[0]:e,this.setState({rows:s,showResults:!1})}_changeOperator(t){let e=this.state.rows;e[t.target.name].o=t.target.value,this.setState({rows:e,showResults:!1})}_changeConnector(t){let e=this.state.rows;e[t.target.name].c=t.target.value,this.setState({rows:e,showResults:!1})}_handleSubmit(t){t.preventDefault(),this.setState({showResults:!0});const e=Y.a.stringify(this.state.rows);this.props.history.push("/search/".concat(this.props.match.params.table,"/adv?").concat(e))}componentDidUpdate(t,e){const s=Y.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==s.page&&this.setState({page:s.page})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ut,{tb:this.props.match.params.table,text:"Advanced search"}),Object(a.jsxs)("div",{className:"mt-3 p-1 container",children:[Object(a.jsxs)("form",{onSubmit:this._handleSubmit.bind(this),className:"form",children:[Object.entries(this.state.rows).map(((t,e)=>{const s=t[0],i=t[1];return Object(a.jsx)("div",{className:"my-3",children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(N.a,{xs:1,children:e>0&&Object(a.jsx)(xe,{defaultValue:i.c,onChange:this._changeConnector,name:s})}),Object(a.jsx)(N.a,{xs:4,children:Object(a.jsx)(de,{tb:this.props.match.params.table,fld:i.f,onChange:this._changeField.bind(this,s)})}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(ge,{defaultValue:i.o,name:s,onChange:this._changeOperator})}),Object(a.jsx)(N.a,{xs:3,children:Object(a.jsx)(be,{fld:i.f,val:i.v,onChange:this._changeVal.bind(this,s)})}),Object(a.jsx)(N.a,{xs:1,children:e+1===Object.keys(this.state.rows).length&&Object(a.jsx)(nt.a,{type:"button",color:"info",block:!0,onClick:this._addRow,children:"+"})}),Object(a.jsx)(N.a,{xs:1,children:e>0&&Object(a.jsx)(nt.a,{type:"button",color:"danger",block:!0,name:s,onClick:this._removeRow,children:"-"})})]})},e)})),Object(a.jsx)(nt.a,{type:"submit",color:"success",block:!0,children:"Search!"})]}),Object(a.jsx)("hr",{})]}),this.state.showResults&&Object(a.jsx)(oe,{tb:this.props.match.params.table,type:"adv",data:this.state.rows,page:this.state.page})]})}}class _e extends i.Component{render(){const t=Y.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ut,{tb:this.props.match.params.table,text:"Custom query"}),Object(a.jsx)(oe,{tb:this.props.match.params.table,type:"shortsql",q:t.q,page:t.page})]})}}class fe extends i.Component{constructor(t){super(t);const e=Y.a.parse(t.location.search,{ignoreQueryPrefix:!0});this.state={page:e.page}}componentDidUpdate(t,e){const s=Y.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==s.page&&this.setState({page:s.page})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ut,{tb:this.props.match.params.table,text:"View all"}),Object(a.jsx)(oe,{tb:this.props.match.params.table,type:"all",page:this.state.page})]})}}var ye=s.p+"static/media/places.2f644bcf.md",ve=s.p+"static/media/places.52b49a3a.jpg",we=s.p+"static/media/manuscripts.8f62d77a.md",ke=s.p+"static/media/manuscripts.a1357b19.jpg",Ne=s.p+"static/media/works.1287edb2.md",Be=s.p+"static/media/works-without-clavis.3a26df45.md",Ce=s.p+"static/media/works.c6227c93.jpg",Se=s.p+"static/media/titles.f28094cc.md",Ge=s.p+"static/media/titles.950ffc96.jpg",Je=s.p+"static/media/authors.00655ea7.md",Qe=s.p+"static/media/authors.71b42f83.jpg",Ae=s.p+"static/media/colophons.92373147.md",Pe=s.p+"static/media/colophons.7e23657b.jpg",Xe=s.p+"static/media/persons.13c81941.md",Me=s.p+"static/media/persons.3f31b3fa.jpg",Te=s.p+"static/media/collections.c3d31f1d.md",Le=s.p+"static/media/collections.a80c397a.jpg";s(406);function De(t){const e=t.match.params.table,s={places:{label:"Places",img:ve,data:[{title:!1,mdPath:ye}]},manuscripts:{label:"Manuscripts",img:ke,data:[{title:!1,mdPath:we}]},works:{label:"Works",img:Ce,data:[{title:!1,mdPath:Ne},{title:"Literary works currently without a Clavis Coptica entry",mdPath:Be}]},titles:{label:"Titles",img:Ge,data:[{title:!1,mdPath:Se}]},authors:{label:"Authors",img:Qe,data:[{title:!1,mdPath:Je}]},colophons:{label:"Colophons",img:Pe,data:[{title:!1,mdPath:Ae}]},persons:{label:"Persons",img:Me,data:[{title:!1,mdPath:Xe}]},collections:{label:"Collections",img:Le,data:[{title:!1,mdPath:Te}]}};if(!s.hasOwnProperty(e))return Object(a.jsxs)("div",{className:"container m-5 p-5 text-center text-danger",children:["Error: invalid table name",Object(a.jsx)("code",{children:e})]});const i=s[e];let r={};return i.img&&(r={width:"100%",height:"300px",backgroundImage:"url("+i.img+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:r}),Object(a.jsx)(Ut,{tblabel:i.label,tb:e,text:"Introduction"}),Object(a.jsx)("div",{className:"container",children:i.data.map(((t,e)=>Object(a.jsxs)("div",{className:"intro-level-".concat(e," mt-5 border-top pt-5"),children:[t.title&&Object(a.jsx)("h1",{children:t.title}),Object(a.jsx)("div",{className:"my-3 px-md-5 double-column text-justify",children:Object(a.jsx)(q,{path:t.mdPath})})]},e)))})]})}var qe=s(203),ze=s(204),Ee=s.n(ze);class Re extends i.Component{constructor(t){super(t),this.state={uid:Math.random().toString(36).substr(2,5)}}componentDidMount(){if(null!==this.props.string){new Ee.a("canvas"+this.state.uid).parseString(this.props.string,"secondHalf"+this.state.uid)}}render(){let t=!1;return null!==this.props.string&&(t=100+this.props.string.length/3*20),Object(a.jsxs)("div",{className:"mt-2 mb-4",children:[Object(a.jsxs)(k.a,{children:[Object(a.jsx)(N.a,{id:"firstHalf",children:this.props.string}),Object(a.jsx)(N.a,{id:"secondHalf"+this.state.uid})]}),t&&Object(a.jsx)("canvas",{width:"400",height:t,id:"canvas"+this.state.uid})]})}}var Fe=Re,Ie=s(205),He=s.n(Ie);function Ue(t){return t.replace(/@([a-z]+)\.([a-z0-9/]+)(\[([^\]]+)\])?/gi,(function(t,e,s,a,i,r,c){return'<a href="/'.concat(e,"/").concat(s,'">\n        ').concat(a&&i?i:"paths.".concat(e,".").concat(s),"\n      </a>")}))}const We=t=>He()(t).map(((t,e)=>"string"===typeof t?Object(a.jsx)("span",{className:"internal-link",dangerouslySetInnerHTML:{__html:Ue(t)}},e):t));function Ve(t){const e=t.text,s=t.separator,r=t.fld,c=Object(i.useState)("none"),o=Object(u.a)(c,2),n=o[0],l=o[1],p=e.split(",").map(((t,e)=>{const s=((t,e)=>{const s={tm:"https://www.trismegistos.org/text/".concat(e.trim()),tmgeo:"https://www.trismegistos.org/place/".concat(e.trim()),pleiades:"https://pleiades.stoa.org/places/".concat(e.trim()),ldab:"https://www.trismegistos.org/ldab/text.php?quick=".concat(e.trim()),coptot:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=".concat(encodeURIComponent(e.trim())),colophons:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(e.trim(),".xml"),dbmnt:"http://www.dbmnt.uw.edu.pl/".concat(e.trim())};return void 0!==typeof s[t]&&s[t]})(r,t);return!!s&&Object(a.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:[t,";"]},e)})).filter((t=>t));if(p.length>0)return p;const h=function(t,e,s="."){if(!t||t.length<=e)return[t,!1];const a=t.substr(0,e);if(a.substr(a.length-1)===s)return[a,!1];const i=a+""+t.replace(a,"").split(s)[0],r=t.replace(i+""+s,"");return[i+s,r!==i&&r]}(e,200,s);return h[1]?Object(a.jsxs)("span",{children:[We(h[0]),Object(a.jsx)("span",{style:{display:n},children:We(h[1])}),"none"===n?"\u2026":"",Object(a.jsx)(nt.a,{color:"info",size:"sm",className:"ml-3",onClick:()=>{l("none"===n?"inline":"none")},children:"none"===n?"+":"-"})]}):We(h[0])}s(410);function Ke(t){const e=t.colophon,s=Object(i.useState)(),r=Object(u.a)(s,2),c=r[0],o=r[1];return Object(i.useEffect)((()=>{_t.a.get("https://raw.githubusercontent.com/paths-erc/coptic-texts/master/colophons/paths.colophons.".concat(e,".xml")).then((t=>{const e=(t=>{let e=t.match(/<body>([\s\S]*)<\/body>/i)[1];return e=e.replace(/\s{2,}/gim," ").replace(/\|/gim,"\n"),e=e.replace(/\([0-9]{1,2}\)/gim,""),e=e.replace(/<\/?\b(?:roleName|p|date|gap|org|quote|rs)\b[^>]*>/gim,""),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/<\s*(?:place|pers)Name[^>]*ref="([^"]+)"[^>]*>(.*?)<\s*\/\s*(?:place|pers)Name>/gi,((t,e,s)=>{const a=e.split(".");return a[1]&&a[2]?'<a href="/'.concat(a[1],"/").concat(a[2],'">').concat(s,"</a>"):s})),e})(t.data);o(e)})).catch((t=>{o("Error in getting marked text of colophon #".concat(e)),console.log(t)}))}),[e]),c?Object(a.jsx)("div",{children:Object(a.jsx)("ol",{className:"colophons",children:c.split("\n").map(((t,e)=>Object(a.jsx)("li",{dangerouslySetInnerHTML:{__html:t.trim()}},e)))})}):Object(a.jsxs)(D,{children:["Loading the marked text of the colophon #",e]})}function Ze(t){const e=t.val,s=t.label,i=t.coptic,r=t.greek,c=t.name,o=t.colophonId;if(!e||""===e)return null;let n=[];return i&&n.push("coptic"),r&&n.push("greek"),Object(a.jsxs)(k.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==e?"":" d-none"),children:[Object(a.jsx)(N.a,{sm:"4",md:"3",children:Object(a.jsx)("label",{className:"font-weight-bold",children:s})}),Object(a.jsx)(N.a,{children:Object(a.jsx)("div",{className:n.join(" "),children:"Quire layout"===s?Object(a.jsx)(Fe,{string:e}):o?Object(a.jsx)(Ke,{colophon:o}):Object(a.jsx)(Ve,{text:e,fld:c,separator:i?"\u2027":"."})})})]})}class $e extends i.Component{render(){const t=this.props.data.data,e=this.props.data.metadata;return Object(a.jsx)("div",{className:"plugins",children:Object(a.jsxs)(Dt.a,{className:"mt-2",children:[Object(a.jsx)(te.a,{children:Object(a.jsx)("h5",{children:e.tb_label})}),Object(a.jsx)(qt.a,{children:Object.values(t).map(((t,e)=>{return Object(a.jsxs)("span",{className:"mr-3",children:[(s=t.zotero.val,i=t.short.val,s?Object(a.jsx)("a",{href:"https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/"+s,target:"_blank",rel:"noopener noreferrer",children:i}):i),t.details.val?", "+t.details.val:"",t.images.val?" [".concat(t.images.val,"];"):";"]},e);var s,i}))})]})})}}class Ye extends i.Component{constructor(t){super(t),this.state={modal:!1},this.toggle=this.toggle.bind(this)}getHtmlModalBody(t){return Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{children:"Country:        "}),Object(a.jsx)("dd",{children:t.country.val}),Object(a.jsx)("dt",{children:"Town:           "}),Object(a.jsx)("dd",{children:t.town.val}),Object(a.jsx)("dt",{children:"Institution:    "}),Object(a.jsx)("dd",{children:t.institution.val}),Object(a.jsx)("dt",{children:"Collection name:"}),Object(a.jsx)("dd",{children:t.name.val}),Object(a.jsx)("dt",{children:"CMCL full name: "}),Object(a.jsx)("dd",{children:t.fullsegnat.val}),Object(a.jsx)("dt",{children:"URN:            "}),Object(a.jsx)("dd",{children:Object(a.jsxs)("code",{children:["paths.shelfmarks.",t.id.val]})})]})}toggle(t){t.id&&this.setState({title:t.fullname.val,body:this.getHtmlModalBody(t)}),this.setState({modal:!this.state.modal})}render(){return Object(a.jsxs)("div",{className:"plugins",children:[Object(a.jsxs)(Dt.a,{className:"mt-2",children:[Object(a.jsx)(te.a,{children:Object(a.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object(a.jsx)(qt.a,{children:Object(a.jsx)("ul",{children:Object.values(this.props.data.data).map(((t,e)=>Object(a.jsxs)("li",{children:[Object(a.jsx)(nt.a,{style:{margin:"0 0 4px 0",padding:0},color:"link",onClick:()=>this.toggle(t),children:t.fullname.val}),t.shelfmark.val?", "+t.shelfmark.val:"",t.pp.val?", "+t.pp.val:""]},e)))})})]}),Object(a.jsxs)(pt.a,{isOpen:this.state.modal,toggle:this.toggle,children:[Object(a.jsx)(ht.a,{toggle:this.toggle,children:this.state.title}),Object(a.jsx)(dt.a,{children:this.state.body})]})]})}}class ts extends i.Component{constructor(t){super(t),this.state={display:"none"},this.toggleDisplay=this.toggleDisplay.bind(this)}toggleDisplay(){this.setState({display:"none"===this.state.display?"inline":"none"})}render(){return Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{style:{display:this.state.display},className:"ml-3 bg-light text-muted p-2",children:this.props.text}),Object(a.jsx)(nt.a,{color:"info",size:"sm",className:"ml-3",onClick:this.toggleDisplay,children:"none"===this.state.display?Object(a.jsx)(j.a,{icon:"info"}):"<"})]})}}class es extends i.Component{render(){const t=this.props.data.length;return Object(a.jsx)("div",{children:this.props.data.map(((e,s)=>Object(a.jsxs)("span",{className:"mr-2 pr-2"+(t===s+1?"":" border-right border-warning"),children:[Object(a.jsxs)("span",{className:e.language.val?e.language.val.toLowerCase():"",title:e.notes.val,children:[e.toponym.val," "]}),e.transcription.val?Object(a.jsxs)("span",{className:"text-muted ml-2",children:["[",e.transcription.val,"]"]}):"",e.notes.val?Object(a.jsx)(ts,{text:e.notes.val}):""]},s)))})}}class ss extends i.Component{parseNames(t){let e={};return t.forEach(((t,s)=>{e[t.language.val]||(e[t.language.val]=[]),e[t.language.val].push(t)})),Object.keys(e).map(((t,s)=>Object(a.jsxs)(k.a,{className:"border-bottom mt-2 mb-2 pb-1",children:[Object(a.jsx)(N.a,{sm:"4",md:"3",children:Object(a.jsx)("label",{className:"font-weight-bold",children:t})}),Object(a.jsx)(N.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)(es,{data:e[t]})})})]},s)))}render(){return Object(a.jsx)("div",{className:"plugins",children:Object(a.jsxs)(Dt.a,{className:"mt-2",children:[Object(a.jsx)(te.a,{children:Object(a.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object(a.jsx)(qt.a,{children:this.parseNames(this.props.data.data)})]})})}}class as extends i.Component{render(){return this.props.data.data.length<1?null:"paths__m_biblio"===this.props.data.metadata.tb_id?Object(a.jsx)($e,{data:this.props.data}):"paths__m_shelfmarks"===this.props.data.metadata.tb_id?Object(a.jsx)(Ye,{data:this.props.data}):"paths__m_toponyms"===this.props.data.metadata.tb_id?Object(a.jsx)(ss,{data:this.props.data}):Object(a.jsx)("div",{className:"plugins",children:Object(a.jsxs)(Dt.a,{className:"mt-2",children:[Object(a.jsx)(te.a,{children:Object(a.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object.values(this.props.data.data).map(((t,e)=>Object(a.jsxs)(qt.a,{className:"border border-info mb-2",children:[Object.keys(t).map(((e,s)=>It.hidden.indexOf(this.props.data.metadata.tb_stripped+"."+e)>-1||"sort"===e?null:t[e].label?Object(a.jsx)(Ze,{coptic:It.coptic.indexOf(this.props.data.metadata.tb_stripped+"."+e)>-1,greek:It.greek.indexOf(this.props.data.metadata.tb_stripped+"."+e)>-1,val:t[e].val_label?t[e].val_label:t[e].val,label:t[e].label},s):null)),Object(a.jsx)("hr",{})]},e)))]})})}}var is=as;function rs(t){const e=t.data.val_label?t.data.val_label:t.data.val,s=t.data.label,i=t.data.name,r=t.data.coptic,c=t.data.greek;if(!e||""===e)return null;let o=[];return r&&o.push("coptic"),c&&o.push("greek"),Object(a.jsxs)(k.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==e?"":" d-none"),children:[Object(a.jsx)(N.a,{sm:"4",md:"3",children:Object(a.jsx)("label",{className:"font-weight-bold",children:s})}),Object(a.jsx)(N.a,{children:Object(a.jsx)("div",{className:o.join(" "),children:"Quire layout"===s?Object(a.jsx)(Fe,{string:e}):Object(a.jsx)(Ve,{text:e,fld:i,separator:r?"\u2027":"."})})})]})}class cs extends i.Component{render(){const t=this.props.fields,e=this.props.legend;let s=!1;return t.forEach((t=>{"undefined"!==typeof t.val&&t.val&&""!==t.val&&(s=!0)})),!!s&&Object(a.jsxs)("fieldset",{className:"p-3 border border-warning mt-3",children:[e&&Object(a.jsx)("legend",{className:"border border-warning shadow-sm text-muted px-3 py-1",style:{fontSize:"1.1rem",fontWeight:"bold"},children:e}),t.map(((t,e)=>Object(a.jsx)(rs,{data:t},e)))]})}}class os extends i.Component{render(){const t=this.props.rec;return Object(a.jsxs)("div",{children:[Object(a.jsx)(cs,{legend:"Manuscript identifiers",fields:[t.core.id,t.core.cmclid,t.core.tm,t.core.ldab,t.core.lcbm,t.core.dbmnt,t.core.alias,t.core.issinglefrag,t.core.reusedinbinding,t.core.stratigraphy,t.core.modernhistory,t.core.contents]}),t.plugins.paths__m_shelfmarks&&Object(a.jsx)(is,{data:t.plugins.paths__m_shelfmarks}),Object(a.jsx)(cs,{legend:"Dialects",fields:[t.core.dialect,t.core.dialectnotes]}),Object(a.jsx)(cs,{legend:"Dating",fields:[t.core.datingsource,t.core.chronofrom,t.core.chronoto,t.core.datingcriteria]}),t.plugins.paths__m_msplaces&&Object(a.jsx)(is,{data:t.plugins.paths__m_msplaces}),Object(a.jsx)(cs,{legend:"Book form",fields:[t.core.bookform,t.core.writingsupport]}),Object(a.jsx)(cs,{legend:"General description",fields:[t.core.leaftotextant,t.core.fragtot,t.core.fragdim,t.core.leaftotestimated,t.core.quiresextant,t.core.gennotes]}),Object(a.jsx)(cs,{legend:"Page description",fields:[t.core.columns,t.core.colnotes,t.core.linespercolumn,t.core.charsperline,t.core.alignment,t.core.alignmentnotes]}),Object(a.jsx)(cs,{legend:"Dimensions (mm) and proportions",fields:[t.core.leafw,t.core.leafh,t.core.framew,t.core.frameh,t.core.intercolumnium,t.core.marginup,t.core.marginlow,t.core.marginin,t.core.marginout,t.core.marginleft,t.core.marginright,t.core.heighttenlines,t.core.prophw,t.core.propwt,t.core.dimnotes]}),t.plugins.paths__m_quires&&Object(a.jsx)(is,{data:t.plugins.paths__m_quires}),Object(a.jsx)(cs,{fields:[t.core.quirenotes]}),Object(a.jsx)(cs,{legend:"Quire signature",fields:[t.core.quiresig,t.core.quiretype,t.core.quireposition,t.core.quirenrnotes]}),Object(a.jsx)(cs,{legend:"Pagination",fields:[t.core.pagination,t.core.pagtype,t.core.pagposition,t.core.pagnote]}),Object(a.jsx)(cs,{legend:"Foliation (ancient and modern)",fields:[t.core.foliation,t.core.foltype,t.core.folposition,t.core.folnotes]}),Object(a.jsx)(rs,{data:t.core.handstot}),t.plugins.paths__m_hands&&Object(a.jsx)(is,{data:t.plugins.paths__m_hands}),Object(a.jsx)(cs,{legend:"Diacritical signs",fields:[t.core.lectionalsigns,t.core.structuralsigns,t.core.signsnotes]}),Object(a.jsx)(cs,{legend:"Abbreviations",fields:[t.core.abbreviations,t.core.abbrnotes]}),Object(a.jsx)(cs,{legend:"Ruling and pricking",fields:[t.core.ruling,t.core.rulingtype,t.core.rulingtool,t.core.pricking,t.core.rulingnotes]}),Object(a.jsx)(cs,{legend:"",fields:[t.core.leaftabs,t.core.leaftabsnotes]}),Object(a.jsx)(cs,{legend:"Manufacture of the rolls",fields:[t.core.kolleseis,t.core.kolleseseisdescr,t.core.tracesnotes,t.core.kollno,t.core.kolldim]}),Object(a.jsx)(cs,{legend:"Binding",fields:[t.core.bindings,t.core.covers,t.core.coversnotes,t.core.sewings,t.core.sewingtype,t.core.holesno,t.core.holesarrangement,t.core.holesnotes]}),Object(a.jsx)(cs,{legend:"Coloured pigments",fields:[t.core.pgmcol,t.core.pgmlocation,t.core.pgmnotes]}),Object(a.jsx)(cs,{legend:"Black inks",fields:[t.core.blktype,t.core.blklocation,t.core.blknotes]}),Object(a.jsx)(cs,{legend:"Additional information",fields:[t.core.marginalnotes,t.core.greekminuscule,t.core.greekminusculenotes,t.core.palimpsest,t.core.palimpsestnotes,t.core.decortype,t.core.decorsubj,t.core.decorationdescr,t.core.enlargedinitials,t.core.restancient,t.core.restmodern]}),t.plugins.paths__m_biblio&&Object(a.jsx)(is,{data:t.plugins.paths__m_biblio}),Object(a.jsx)(cs,{legend:"Metadata",fields:[t.core.sourceinfo,t.core.editors,t.core.status,t.core.lastmodified]})]})}}class ns extends i.Component{renderTemplate(t){switch(t.metadata.tb_stripped){case"manuscripts":return Object(a.jsx)(os,{rec:t});default:return Object(a.jsxs)("div",{children:[Object.values(t.core).map(((e,s)=>It.hidden.indexOf(t.metadata.tb_stripped+"."+e.name)>-1?null:Object(a.jsx)(Ze,{coptic:It.coptic.indexOf(t.metadata.tb_stripped+"."+e.name)>-1,greek:It.greek.indexOf(t.metadata.tb_stripped+"."+e.name)>-1,label:e.label,name:e.name,val:e.val_label?e.val_label:e.val,colophonId:"colophons"===t.metadata.tb_stripped&&"text"===e.name&&t.core.id.val},s))),Object.keys(t.plugins).map(((e,s)=>Object(a.jsx)(is,{data:t.plugins[e]},s)))]})}}render(){return this.props.rec?Object(a.jsx)("div",{className:"mb-5",children:this.renderTemplate(this.props.rec)}):Object(a.jsx)("div",{className:"m-5 p-5",children:Object(a.jsx)(D,{})})}}class ls extends i.Component{makeHref(t,e){return["/","search","/",t.replace("paths__",""),"/","shortsql","?q=@".concat(t,"~?").concat(e)].join("")}renderLinks(t){return Object.entries(t).map((([t,e],s)=>e.tot<1?null:Object(a.jsxs)(Rt.a,{tag:n.b,to:this.makeHref(t,e.where),children:[Object(a.jsx)(j.a,{icon:"external-link-square-alt"})," ",e.tot+" referenced item"+(e.tot>1?"s":"")+" in "+e.tb_label]},s)))}renderBackLinks(t){return!("undefined"===typeof t||t.length<1)&&Object.entries(t).map((([t,e],s)=>!(e.tot<1)&&Object(a.jsxs)(Rt.a,{tag:n.b,to:this.makeHref(t,e.where),children:[Object(a.jsx)(j.a,{icon:"external-link-square-alt"})," ",e.tot+" referenced item"+(e.tot>1?"s":"")+" in "+e.tb_label]},s)))}render(){return!this.props.links&&!this.props.backlinks||this.props.links.length<1&&this.props.backlinks.length<1?null:Object(a.jsxs)(Dt.a,{className:"mt-2",children:[Object(a.jsxs)(te.a,{children:[Object(a.jsx)(j.a,{icon:"link"})," Links"]}),Object(a.jsx)(qt.a,{children:Object(a.jsxs)(Et.a,{children:[this.renderLinks(this.props.links),this.renderBackLinks(this.props.backlinks)]})})]})}}var ps=ls;class hs extends i.Component{makeHref(t,e){return["/",t.replace("paths__",""),"/",e].join("")}render(){const t=this.props.links||[];return"undefined"===typeof t||t.length<1?null:Object(a.jsxs)(Dt.a,{className:"mt-2",children:[Object(a.jsxs)(te.a,{children:[Object(a.jsx)(j.a,{icon:"link"})," Manually entered links"]}),Object(a.jsx)(qt.a,{children:Object(a.jsx)(Et.a,{children:Object.values(t).map(((t,e)=>Object(a.jsxs)(Rt.a,{tag:n.b,to:this.makeHref(t.tb_stripped,t.ref_id),children:[Object(a.jsx)(j.a,{icon:"external-link-square-alt"}),"  ",t.tb_label," #",t.ref_label?t.ref_label:t.ref_id]},e)))})})]})}}var ds=hs,ms=s(541);class bs extends i.Component{render(){return this.props.text?Object(a.jsx)(qt.a,{className:"text-secondary",style:{fontSize:".9rem",fontStyle:"italic"},children:this.props.text}):null}}class js extends i.Component{constructor(t){super(t),this.state={modal:!1},this.toggle=this.toggle.bind(this)}toggle(){this.setState({modal:!this.state.modal})}render(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(Dt.a,{className:"mt-1",children:[Object(a.jsx)(ms.a,{top:!0,width:"100%",src:this.props.file,onClick:this.toggle}),Object(a.jsx)(bs,{text:this.props.description})]}),Object(a.jsxs)(pt.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,size:"lg",children:[Object(a.jsx)(dt.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)("img",{style:{width:"100%"},src:this.props.file,alt:this.props.description})})}),Object(a.jsx)(mt.a,{children:Object(a.jsx)(bs,{text:this.props.description})})]})]})}}class us extends i.Component{constructor(t){super(t),this.state={shown:!1,buttonText:"Show more images"},this.toggle=this.toggle.bind(this)}toggle(){this.setState({shown:!this.state.shown,buttonText:"Show more images"===this.state.buttonText?"Hide":"Show more"})}render(){return!this.props.files||this.props.files.length<1?null:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{display:this.state.shown?"block":"none"},children:this.props.files.map(((t,e)=>Object(a.jsx)(js,{file:this.props.baseUrl.replace("/api/","/projects/")+"files/"+t.id+"."+t.ext,description:t.description},e)))}),Object(a.jsx)("div",{className:"text-center mt-2",children:Object(a.jsx)(nt.a,{onClick:this.toggle,color:"info",children:this.state.buttonText})})]})}}class gs extends i.Component{render(){let t=Object.values(this.props.files)||[];t=t.map((t=>!!["jpg","png","gif","tif","tiff","jpeg"].includes(t.ext.toLowerCase())&&t)).filter((t=>t));const e=t.slice(0,3),s=t.slice(3);return e.length<1?null:Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("h5",{children:"Attached images"}),e.map(((t,e)=>Object(a.jsx)(js,{file:this.props.baseUrl.replace("/api/","/projects/")+"files/"+t.id+"."+t.ext,description:t.description},e))),Object(a.jsx)(us,{files:s,baseUrl:this.props.baseUrl})]})}}var xs=s(160),Os=s(161);const _s=t=>{const e=t.properties;let s,a={weight:2,fillOpacity:.2};switch(e.reconstr?(a.dashArray="4 4",s=.4):s=.8,!0){case e.phase<-1:a.color="rgba(150, 150, 150, "+s+")",a.fillColor="rgba(150, 150, 150, .4)";break;case-1===e.phase:a.color="rgba(61, 90, 128, "+s+")",a.fillColor="rgba(61, 90, 128, .4)";break;case 1===e.phase:a.color="rgba(247, 110, 1, "+s+")",a.fillColor="rgba(247, 110, 1, .4)";break;case 2===e.phase:a.color="rgba(194, 0, 251, "+s+")",a.fillColor="rgba(194, 0, 251, .4)";break;case 3===e.phase:a.color="rgba(56, 134, 89, "+s+")",a.fillColor="rgba(56, 134, 89, .4)";break;case e.phase>3:a.color="rgba(80, 47, 76, "+s+")",a.fillColor="rgba(56, 134, 89, .4)";break;default:a.color="rgba(31, 120, 180, "+s+")",a.fillColor="rgba(31, 120, 180, .4)"}return e.part&&e.part.indexOf("u")>-1?(a.fill=!1,a.color="rgba(0, 0, 0, .2)"):e.part&&e.part.indexOf("l")>-1?(a.fillColor="rgba(0, 0, 0, .1)",a.color="rgba(0, 0, 0, .2)"):e.part&&e.part.indexOf("d")>-1&&(a.fillColor="rgba(171, 221, 164, .8)",a.color="rgba(171, 221, 164, 1)"),a},fs=(t,e)=>{e.bindPopup('<a href="https://atlas.paths-erc.eu/places/'.concat(t.properties.place,'">paths.places.').concat(t.properties.place,"</a>\n  <br />").concat(t.properties.subplace,'\n  <br />Vectorized from: <a href="https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/').concat(t.properties.source,'" target="_blank">PAThs Zotero ').concat(t.properties.source," ").concat(t.properties.subsource,"</a>\n  <br />Phase: ").concat(t.properties.phase))};function ys(t){const e=t.bounds,s=t.zoom,c=t.siteId,o=Object(i.useState)(),n=Object(u.a)(o,2),l=n[0],p=n[1];return Object(i.useEffect)((()=>{const t=St.map((t=>!!t.startsWith("paths.places.".concat(c,"-"))&&_t()({method:"get",url:"https://xyz.paths-erc.eu/geojson/".concat(t,".geojson")}))).filter(Boolean);let e=[];_t.a.all(t).then((t=>{e=t.map((t=>t.data)),p(e)}))}),[e,s,c]),l?Object(a.jsx)(r.a.Fragment,{children:l.map(((t,e)=>Object(a.jsx)(gt.a,{data:t,style:_s,onEachFeature:fs},e)))}):null}s(411);var vs=s(206),ws=s.n(vs);const ks=jt.b.BaseLayer;function Ns(t){const e=!!t.geom&&Object.values(t.geom),s=t.id;if(!e||e.length<1)return null;const i=JSON.parse(e[0].geojson).coordinates.reverse();return Object(a.jsx)("div",{style:{height:"300px",width:"100%"},className:"mb-5",children:Object(a.jsxs)(W.a,{className:"sidebar-map maxHeight",center:i,zoom:15,zoomControl:!0,children:[Object(a.jsx)(ws.a,{position:"topleft"}),Object(a.jsxs)(jt.b,{position:"topright",children:[Object(a.jsx)(ks,{name:"AWMC",children:Object(a.jsx)(ut.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})}),Object(a.jsx)(ks,{name:"Imperium (DARE)",children:Object(a.jsx)(ut.a,{url:"https://dh.gu.se/tiles/imperium/{z}/{x}/{y}.png"})}),Object(a.jsx)(ks,{name:"OpenStreetMap",children:Object(a.jsx)(ut.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})}),Object(a.jsx)(ks,{name:"Google Satellite",checked:"true",children:Object(a.jsx)(xt.GoogleLayer,{googlekey:Gt,maptype:"SATELLITE"})}),Object(a.jsx)(ys,{siteId:s}),e.map(((t,e)=>{const s=JSON.parse(t.geojson).coordinates.reverse();return Object(a.jsx)(xs.a,{position:s,children:Object(a.jsxs)(Os.a,{children:["Latitude: ",s[0],Object(a.jsx)("br",{}),"Longitude: ",s[1],Object(a.jsx)("br",{}),"CRS: ",Object(a.jsx)("a",{href:"https://epsg.io/4326",target:"_blank",rel:"noopener noreferrer",children:"WGS84 [EPSG:4326]"})]})},e)}))]})]})})}function Bs(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(a.jsx)(Rt.a,{children:Object(a.jsxs)("a",{href:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum="+encodeURIComponent(t.data.val),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," The Digital Edition of the Coptic Old Testament"]})})}function Cs(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(a.jsx)("div",{children:t.data.val.split(",").map(((t,e)=>Object(a.jsx)(Rt.a,{children:Object(a.jsxs)("a",{href:"https://www.trismegistos.org/text/"+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," TM ",t]})},e)))})}function Ss(t){return"places"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(a.jsx)("div",{children:t.data.val.split(",").map(((t,e)=>Object(a.jsx)(Rt.a,{children:Object(a.jsxs)("a",{href:"https://www.trismegistos.org/place/"+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," TM Geo ",t]})},e)))})}function Gs(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(a.jsx)("div",{children:t.data.val.split(",").map(((t,e)=>Object(a.jsx)(Rt.a,{children:Object(a.jsxs)("a",{href:"https://www.trismegistos.org/ldab/text.php?quick="+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," LDAB ",t]})},e)))})}function Js(t){return"places"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(a.jsx)("div",{children:t.data.val.split(",").map(((t,e)=>Object(a.jsx)(Rt.a,{children:Object(a.jsxs)("a",{href:"https://pleiades.stoa.org/places/"+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," Pleiades ",t]})},e)))})}function Qs(t){return"colophons"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(a.jsx)(Rt.a,{children:Object(a.jsxs)("a",{href:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(t.data.val,".xml"),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," View marked-up text on GitHub"]})})}function As(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(a.jsx)("div",{children:t.data.val.split(",").map(((t,e)=>Object(a.jsx)(Rt.a,{children:Object(a.jsxs)("a",{href:"http://www.dbmnt.uw.edu.pl/".concat(t.trim()),target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)(j.a,{icon:"external-link-alt"})," DBMNT ",t]})},e)))})}class Ps extends i.Component{render(){return!this.props.rec||this.props.rec.length<1?null:Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsxs)(Dt.a,{className:"mt-2",children:[Object(a.jsxs)(te.a,{children:[Object(a.jsx)(j.a,{icon:["fab","hubspot"]})," External links"]}),Object(a.jsx)(qt.a,{children:Object(a.jsxs)(Et.a,{children:[Object(a.jsx)(Bs,{data:this.props.rec.lcbm,tb:this.props.tb}),Object(a.jsx)(Cs,{data:this.props.rec.tm,tb:this.props.tb}),Object(a.jsx)(Gs,{data:this.props.rec.ldab,tb:this.props.tb}),Object(a.jsx)(As,{data:this.props.rec.dbmnt,tb:this.props.tb}),Object(a.jsx)(Ss,{data:this.props.rec.tmgeo,tb:this.props.tb}),Object(a.jsx)(Js,{data:this.props.rec.pleiades,tb:this.props.tb}),Object(a.jsx)(Qs,{data:this.props.rec.id,tb:this.props.tb})]})})]})})}}class Xs extends i.Component{constructor(t){super(t),this.state={rec:!1,copied:!1}}UNSAFE_componentWillReceiveProps(t){t!==this.props&&(this.setState({rec:null}),Xt.getOne(t.match.params.table,t.match.params.id,(t=>{this.setState({rec:t})})))}componentDidMount(){Xt.getOne(this.props.match.params.table,this.props.match.params.id,(t=>{this.setState({rec:t})}))}renderTemplate(t){return"error"===t.type?Object(a.jsx)("pre",{className:"text-danger p-5",children:t.text}):(t.metadata.tb_stripped,t.core.length<1?Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(Ut,{tb:t.metadata.tb_stripped,tblabel:t.metadata.tb_label,text:"View record"}),Object(a.jsx)(Dt.a,{className:"mt-2",children:Object(a.jsx)(te.a,{children:Object(a.jsxs)("h3",{className:"text-danger",children:["Record paths.",t.metadata.tb_stripped,".",this.props.match.params.id,"  not found!"]})})})]}):Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(Ut,{tb:t.metadata.tb_stripped,tblabel:t.metadata.tb_label,text:"View record"}),Object(a.jsxs)(k.a,{className:"mt-2",children:[Object(a.jsx)(N.a,{sm:"8",children:Object(a.jsxs)(Dt.a,{children:[Object(a.jsxs)(te.a,{children:[Object(a.jsxs)("h3",{children:["paths.",t.metadata.tb_stripped,".",t.core.id.val]}),Object(a.jsxs)("div",{className:"text-secondary d-flex justify-content-between",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{icon:"link"})," http://paths.uniroma1.it/atlas/",t.metadata.tb_stripped,"/",t.core.id.val]}),Object(a.jsx)("div",{children:Object(a.jsx)(qe.CopyToClipboard,{text:"http://paths.uniroma1.it/atlas/"+t.metadata.tb_stripped+"/"+t.core.id.val,onCopy:()=>{this.setState({copied:!0}),window.setTimeout((()=>{this.setState({copied:!1})}),2e3)},children:Object(a.jsxs)(nt.a,{size:"sm",color:this.state.copied?"primary":"secondary",children:[Object(a.jsx)(j.a,{icon:"clone"})," ",Object(a.jsx)("span",{className:"d-none d-sm-inline",children:this.state.copied?"Copied!":"Copy to clipboard"})]})})})]})]}),Object(a.jsxs)(qt.a,{children:[Object(a.jsx)(Ns,{geom:t.geodata,id:t.core.id.val}),Object(a.jsx)(ns,{rec:t})]})]})}),Object(a.jsxs)(N.a,{sm:"4",children:[Object(a.jsx)(gs,{files:t.files,baseUrl:Xt.getBaseUrl()}),Object(a.jsx)(ps,{links:t.links,backlinks:t.backlinks}),Object(a.jsx)(ds,{links:t.manualLinks}),Object(a.jsx)(Ps,{rec:t.core,tb:t.metadata.tb_stripped})]})]})]}))}render(){return this.state.rec?Object(a.jsx)("div",{className:"mb-5",children:this.renderTemplate(this.state.rec)}):Object(a.jsx)("div",{className:"m-5 p-5",children:Object(a.jsx)(D,{})})}}var Ms=s(207);class Ts extends i.Component{parseData(t){let e={labels:[],datasets:[{label:"My First dataset",backgroundColor:"rgba(195,31,42,0.8)",borderColor:"rgba(195,31,42,1)",borderWidth:1,hoverBackgroundColor:"rgba(195,31,42,1)",hoverBorderColor:"rgba(195,31,42,0.8)",data:[]}]};return t.forEach((t=>{e.labels.push(t.series_name),Object.keys(t).forEach((s=>{"series_name"!==s&&(e.datasets[0].data.push(t[s]),e.datasets[0].label=s)}))})),e}render(){if(this.props.loading)return Object(a.jsx)(D,{children:"Loading chart..."});if(!this.props.data)return null;const t=this.parseData(this.props.data);return Object(a.jsxs)("div",{className:"my-5",children:[Object(a.jsx)("h2",{children:this.props.name}),Object(a.jsx)(Ms.Bar,{data:t,width:100,height:350,options:{maintainAspectRatio:!1}})]})}}class Ls extends i.Component{constructor(t){super(t),this.state={name:!1,data:!1,loading:!1}}loadChart(t){this.setState({loading:!0}),Xt.getChart(t,(t=>{this.setState({name:t.name}),this.setState({data:t.data}),this.setState({loading:!1})}))}render(){return this.props.charts?"error"===this.props.charts.type?Object(a.jsx)("div",{className:"text-danger mt-5 px-5",children:"Sorry! There was an error getting list of chart from the database..."}):Object(a.jsxs)("div",{className:"mt-5",children:[Object(a.jsx)(Ts,{name:this.state.name,data:this.state.data,loading:this.state.loading}),Object(a.jsx)(Dt.a,{children:Object(a.jsx)(qt.a,{children:Object(a.jsx)(Et.a,{children:this.props.charts.map(((t,e)=>Object(a.jsx)(Rt.a,{tag:nt.a,onClick:()=>this.loadChart(t.id),className:"mb-3",color:"secondary",children:t.name},e)))})})})]}):Object(a.jsx)(D,{children:"Loading chart list..."})}}class Ds extends i.Component{constructor(t){super(t),this.state={chartList:!1}}componentDidMount(t,e){Xt.getChart("all",(t=>{this.setState({chartList:t})}))}render(){return Object(a.jsxs)("div",{className:"container mt-5",children:[Object(a.jsxs)("h1",{children:[Object(a.jsx)(j.a,{icon:"chart-bar"})," Available charts"]}),Object(a.jsx)(Ls,{charts:this.state.chartList})]})}}s(507);var qs=s.p+"static/media/Cite.a0d89a54.md";function zs(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"jumbotron",children:Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsx)("h1",{children:"How to cite the \u201cPAThs\u201d project as a whole and the single database records"})})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"my-5 px-5 cite",children:Object(a.jsx)(q,{path:qs})})})]})}var Es=s.p+"static/media/Api.8f01dbe1.md";function Rs(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"jumbotron",children:Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsx)("h1",{children:"PAThs API & Data export"})})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"my-5 px-5",children:Object(a.jsx)(q,{path:Es})})})]})}var Fs=s(122),Is=s(208);const Hs=Object(Is.a)();window.location.href.match(/atlas\.paths-erc\.eu/g)&&(Fs.a.initialize("UA-10461068-45"),Fs.a.pageview(window.location.pathname+window.location.search));const Us={ie:1e4,"opera-mini":1e4,bb10:1e4,edge:14,firefox:39,chrome:42,safari:11,opera:29,android:67};let Ws=!1;if(Hs){const t=Hs.name,e=Hs.version.split(".")[0];Object.keys(Us).indexOf(t)>-1&&e<Us[t]&&(Ws=!0)}function Vs(){return Ws?Object(a.jsx)(U,{browser:Hs,compatibility:Us}):Object(a.jsx)(n.a,{basename:"/",children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/map/:action?/:data?",component:Mt}),Object(a.jsxs)(J,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:H}),Object(a.jsx)(l.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:De}),Object(a.jsx)(l.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/:id",component:Xs}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/saved",component:ne}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/all",component:fe}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/adv",component:Oe}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/shortsql",component:_e}),Object(a.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:ue}),Object(a.jsx)(l.a,{exact:!0,path:"/charts/:id?",component:Ds}),Object(a.jsx)(l.a,{exact:!0,path:"/cite",component:zs}),Object(a.jsx)(l.a,{exact:!0,path:"/api",component:Rs})]})]})})}p.b.add(h.i,d.b,h.a,h.b,h.d,h.c,h.e,d.a,h.f,h.g,h.h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(Vs,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((t=>{t.unregister()}))}},[[508,1,2]]]);
//# sourceMappingURL=main.f5aae68d.chunk.js.map