{"version":3,"sources":["components/mainLayout/img/erc.jpg","components/mainLayout/img/sapienza.jpg","components/Home/paths-logo.png","components/Home/IntroMd.md","components/Home/MissionStatementMd.md","components/Home/lod.md","components/Loading/Ripple-1.7s-200px.svg","components/Intro/places/places.md","components/Intro/places/places.jpg","components/Intro/manuscripts/manuscripts.md","components/Intro/manuscripts/manuscripts.jpg","components/Intro/works/works.md","components/Intro/titles/titles.md","components/Intro/authors/authors.md","components/Intro/authors/authors.jpg","components/Intro/colophons/colophons.md","components/Services/SavedQueries.js","components/Services/Database/Database.jsx","components/mainLayout/Header.jsx","components/mainLayout/Footer.jsx","components/mainLayout/MainTemplate.jsx","components/Loading/Loading.jsx","components/Home/Home.jsx","components/PathsMap/ListPlaces.jsx","components/PathsMap/UrlFilterButton.jsx","components/PathsMap/TabLegend.jsx","components/PathsMap/TabSavedQueries.jsx","components/PathsMap/ClearButton.jsx","components/PathsMap/PathsMap.jsx","components/SubHead/SavedQueriesList.jsx","components/Services/Cfg/Cfg.js","components/SubHead/SubHead.jsx","components/SqlModal/SqlModal.jsx","components/PaginateResult/PaginateResult.jsx","components/Search/ItemPreview.jsx","components/Manuscripts/OpenInMap.jsx","components/Search/Results.jsx","components/Search/SearchSaved.jsx","components/Search/FldSelect.jsx","components/Search/ValueInput.jsx","components/Search/CustomSearchForm.jsx","components/Search/SearchSimple.jsx","components/Search/OperatorSelect.jsx","components/Search/ConnectorSelect.jsx","components/Search/SearchAdv.jsx","components/Search/SearchEncoded.jsx","components/Search/SearchAll.jsx","components/Intro/Intro.jsx","components/Record/QuireMatrixView.jsx","components/Record/PreviewText.jsx","components/Record/RecordCell.jsx","components/Record/RecordLinks.jsx","components/Record/UserLinks.jsx","components/ViewFiles/Caption.jsx","components/ViewFiles/PreviewModal.jsx","components/ViewFiles/MoreImages.jsx","components/ViewFiles/Files.jsx","components/Record/PluginBiblio.jsx","components/Record/PluginShelfmarks.jsx","components/Record/Timeline.jsx","components/Record/Plugin.jsx","components/Record/MiniMap.jsx","components/Record/ExternalLinks/CoptOT.jsx","components/Record/ExternalLinks/TM.jsx","components/Record/ExternalLinks/TmPlaces.jsx","components/Record/ExternalLinks/Ldab.jsx","components/Record/ExternalLinks/Pleiades.jsx","components/Record/ExternalLinks.jsx","components/Record/ViewOne.jsx","components/Charts/ChartView.jsx","components/Charts/ChartList.jsx","components/Charts/Charts.jsx","App.js","index.js"],"names":["module","exports","__webpack_require__","p","SavedQueries","manuscripts","ms_has_bindings","id","title","url","data","q_encoded","btoa","map","discovery_places","join","fields[paths__geodata.geometry]","fields[p.id]","fields[p.name]","fields[p.copticname]","fields[p.greekname]","fields[p.egyptianname]","fields[p.pleiades]","fields[p.typology]","fields[mp.type]","fields[count(mp.id_link)]","group","limit_start","limit_end","storage_places","production_places","all_ms_places","bishoprics","fields[paths__places.id]","fields[paths__places.name]","fields[paths__places.copticname]","fields[paths__places.greekname]","fields[paths__places.egyptianname]","fields[paths__places.pleiades]","fields[paths__places.typology]","multi_stratified","baseUrl","window","location","hostname","Database","params","callback","axios","method","headers","Content-Type","then","res","catch","Error","console","log","message","tb","fld","string","cb","this","getData","verb","replace","s","d","grp","q","page","status","text","concat","val","strict","type","adv[a0][fld]","adv[a0][operator]","adv[a0][value]","Object","entries","forEach","_ref","_ref2","slicedToArray","k","v","f","o","c","head","table_label","sql","where","ms_where","fields[paths__m_msplaces.type]","FixedNavbar","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggle","bind","assertThisInitialized","state","isOpen","setState","react_default","a","createElement","reactstrap_es","color","dark","expand","className","to","tag","Link","onClick","navbar","style","backgroundColor","RRNavLink","react_fontawesome_index_es","icon","nav","inNavbar","caret","right","target","href","getBaseUrl","Component","Footer","rel","xs","size","md","offset","src","Sapienza","alt","Erc","borderWidth","MainTemplate","Header","role","children","Footer_Footer","React","Loading","width","Ripple","Home","titles","path","intro","missionstatement","lod","_this2","e","fetch","response","_this3","Loading_Loading","i","key","listStyle","react_markdown_default","source","escapeHtml","imgPathsLogo","showContentAndToc","ListPlaces","places","features","length","properties","name","copticname","ee","ii","UrlFilterButton","urlFilter","TabLegend","margin","padding","background","TabSavedQueries","values","show","addonType","aria-hidden","BaseLayer","LayersControl","googleKey","PathsMap","shownPlaces","sidebarCollapsed","selected","manualFilter","placesLayerRef","createRef","mapRef","t","L","CircleMarker","radius","weight","opacity","fillColor","fillOpacity","feature","layer","base","pathname","bindPopup","str","value","fgj","_arr","_i","toLowerCase","includes","push","fitMapToBounds","bounds","current","leafletElement","getBounds","fitBounds","savedQ","locationSearch","getSaved","qstring","qs","parse","search","ignoreQueryPrefix","getMsPlaces","getPlaces","nextProps","fetchData","match","react_leaflet_sidebarv2_lib","collapsed","onOpen","onSidebarOpen","onClose","onSidebarClose","closeIcon","header","position","marginTop","onChange","filterPlaces","placeholder","ClearButton_ListPlaces","clearFiltered","UrlFilterButton_UrlFilterButton","filter","ListPlaces_ListPlaces","TabSavedQueries_TabSavedQueries","anchor","TabLegend_TabLegend","Map","zoomControl","ref","TileLayer","checked","react_leaflet_google","googlekey","maptype","GeoJSON","hash","pointToLayer","onEachFeature","SavedQueriesList","tblabel","aria-label","closeFn","Cfg","coptic","greek","hidden","id_fld","collections","works","colophons","authors","persons","searchDefault","preview","label","SubHead","showSaved","preventDefault","menuItems","light","toggleSaved","SavedQueriesList_SavedQueriesList","SqlModal","modal","PaginateResult","result","queryString","tot_rows","curr_page","arguments","undefined","tot_pages","Math","ceil","parseInt","qString","stringify","disabled","active","build_object","totalRows","r","assign","PaginateResultSummary","start_at","up_to","components_SqlModal_SqlModal","query","ItemPreviewWrapper","ItemPreview","el","record","flds","fields","preview_flds","previewFlds","id_field","idField","sm","outline","hover","OpenInMap","indexOf","encodeURI","Results","getSimple","getAdv","getAll","getByEncodedSql","prevProps","_fetchData","decodeURIComponent","trace","total_rows","query_arrived","Manuscripts_OpenInMap","stripped_table","query_where","PaginateResult_PaginateResultSummary","PaginateResult_PaginateResult","ItemPreview_ItemPreviewWrapper","records","ItemPreview_ItemPreview","table","withRouter","SearchSaved","saved","prevState","components_SubHead_SubHead","Search_Results","FldSelect","fldList","selObj","keys","fullname","_setState","inspect","react_select_esm","defaultValue","options","ValueInput","_handleSearch","isLoading","_this$props$fld$split","split","_this$props$fld$split2","getUniqueVal","multiple","react_bootstrap_typeahead_lib","minLength","onSearch","onInputChange","defaultInputValue","CustomSearchForm","handleSubmit","_changeField","_changeVal","_changeStrict","constructor","Array","event","onSubmit","alert","row","FldSelect_FldSelect","ValueInput_ValueInput","check","block","SearchSimple","_onFormSubmit","encodeURIComponent","history","CustomSearchForm_CustomSearchForm","OperatorSelect","ConnectorSelect","AdvSearchForm","rows","getOwnPropertyNames","showResults","_changeOperator","_changeConnector","_addRow","_removeRow","random","toString","substr","index","_handleSubmit","ConnectorSelect_ConnectorSelect","OperatorSelect_OperatorSelect","SearchAll","PlacePage","img","PlacesMd","PlacesImg","ManuscriptsMd","ManuscriptsImg","WorksMd","TitlesMd","AuthorsMd","AuthorsImg","ColophonsMd","_updateData","QuireMatrixView","uid","Matrix","parseString","height","PreviewText","display","toggleDisplay","textParts","until","str1","start","relaxedSplit","RecordCell","Record_QuireMatrixView","PreviewText_PreviewText","RecordLinks","links","info","tot","makeHref","tb_label","backlinks","_ref3","_ref4","arr","renderLinks","renderBackLinks","UserLinks","l","tb_stripped","ref_id","ref_label","Caption","fontSize","fontStyle","PreviewModal","top","file","Caption_Caption","description","MoreImages","shown","buttonText","files","PreviewModal_PreviewModal","ext","Files","firstFiles","slice","otherFiles","MoreImages_MoreImages","PluginBiblio","metadata","di","zotero","short","details","country","town","institution","fullsegnat","body","getHtmlModalBody","shelfmark","pp","m","Predynastic Egypt (4500 BC - 2950 BC)","Early Dynastic Egypt (2950 BC - 2670 BC)","Old Kingdom Egypt (2670 BC - 2168 BC)","First Intermediate Period Egypt (2168 BC - 2010 BC)","Middle Kingdom Egypt (2010 BC - 1640 BC)","Second Intermediate Period Egypt (1640 BC - 1548 BC)","New Kingdom Egypt (1548 BC - 1086 BC)","Third Intermediate Period Egypt (1086 BC - 664 BC)","Late Period Egypt (664 BC - 332 BC)","Macedonian Egypt (332 BC - 304 BC)","Ptolemaic Egypt (304 BC - 30 BC)","Ptolemaic-Roman Egypt (304 BC - AD 640)","Roman, early Empire (30 BC - AD 300)","Late Antique (AD 300 - AD 640)","Early Byzantine (AD 650 - AD 850)","Middle Byzantine (AD 850 - AD 1200)","Late Byzantine Period (AD 1200 - AD 1450)","Early Ottoman Empire (AD 1453 - AD 1683)","Ottoman Empire (AD 1513 - AD 1918)","legend","scales","yAxes","stacked","xAxes","ticks","stepSize","max","Timeline","placefase","labels","datasets","hoverBackgroundColor","borderColor","hoverBorderColor","fperiod","es","Plugin","tb_id","PluginBiblio_PluginBiblio","PluginShelfmarks_PluginBiblio","Timeline_Timeline","fi","Record_RecordCell","val_label","MiniMap","geom","JSON","geojson","coordinates","reverse","center","zoom","coord","Marker","CoptOT","TM","TmPlaces","Ldab","Pleiades","ExternalLinks","rec","CoptOT_CoptOT","lcbm","TM_TM","tm","Ldab_Ldab","ldab","TmPlaces_TmPlaces","Pleiades_Pleiades","pleiades","ReadTitle","getOne","core","plugins","Record_Plugin","Record_MiniMap","geodata","paths__m_placefase","Files_Files","Record_RecordLinks","Record_UserLinks","manualLinks","ExternalLinks_ExternalLinks","renderTemplate","ChartView","series_name","loading","parseData","maintainAspectRatio","ChartList","getChart","charts","ChartView_ChartView","Button","loadChart","Charts","chartList","ChartList_ChartList","library","add","fas","fab","faArrowCircleRight","faBug","faEye","faExternalLinkSquareAlt","faFilter","faGithub","faIdBadge","faLink","faMapMarkerAlt","App","BrowserRouter","basename","Switch","Route","component","MainTemplate_MainTemplate","exact","Intro","SearchAdv","SearchEncoded","ViewOne","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8c371864.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/erc.9fb24811.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sapienza.b75f3d2c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/paths-logo.d0a2b412.png\";","module.exports = __webpack_public_path__ + \"static/media/IntroMd.c2b421ab.md\";","module.exports = __webpack_public_path__ + \"static/media/MissionStatementMd.6b5abc54.md\";","module.exports = __webpack_public_path__ + \"static/media/lod.80612625.md\";","module.exports = __webpack_public_path__ + \"static/media/Ripple-1.7s-200px.7466db60.svg\";","module.exports = __webpack_public_path__ + \"static/media/places.09975378.md\";","module.exports = __webpack_public_path__ + \"static/media/places.1485b780.jpg\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.caf4fa66.md\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.ef53f386.jpg\";","module.exports = __webpack_public_path__ + \"static/media/works.57b31e77.md\";","module.exports = __webpack_public_path__ + \"static/media/titles.9fdb8c8e.md\";","module.exports = __webpack_public_path__ + \"static/media/authors.6529badf.md\";","module.exports = __webpack_public_path__ + \"static/media/authors.c5d4185c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/colophons.670754fc.md\";","/*jshint esversion: 6 */\n\nexport default {\n  manuscripts: {\n    ms_has_bindings: {\n      id: \"ms_has_bindings\",\n      title: \"Manuscripts with bookbindings\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bindings`='1'\")\n      }\n\n    },\n  //   ms_with_date: {\n  //     id: \"ms_with_date\",\n  //     title: \"Dated manuscripts\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"(`chronofrom`!='' AND `chronofrom` IS NOT NULL) OR (`chronoto`!='' AND `chronoto` IS NOT NULL)\")\n  //     }\n  //   },\n  //   ms_ae_200: {\n  //     id: \"ms_ae_200\",\n  //     title: \"Manuscripts of the 3th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 199 AND `chronoto` < 300\")\n  //     }\n  //   },\n  //   ms_ae_300: {\n  //     id: \"ms_ae_300\",\n  //     title: \"Manuscripts of the 4th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 299 AND `chronoto` < 400\")\n  //     }\n  //   },\n  //   ms_ae_400: {\n  //     id: \"ms_ae_400\",\n  //     title: \"Manuscripts of the 5th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 399 AND `chronoto` < 500\")\n  //     }\n  //   },\n  //   ms_ae_500: {\n  //     id: \"ms_ae_500\",\n  //     title: \"Manuscripts of the 6th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 499 AND `chronoto` < 600\")\n  //     }\n  //   },\n  //   ms_ae_600: {\n  //     id: \"ms_ae_600\",\n  //     title: \"Manuscripts of the 7th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 599 AND `chronoto` < 700\")\n  //     }\n  //   },\n  //   ms_ae_700: {\n  //     id: \"ms_ae_700\",\n  //     title: \"Manuscripts of the 8th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 699  AND `chronoto` < 800\")\n  //     }\n  //   },\n  //   ms_ae_800: {\n  //     id: \"ms_ae_800\",\n  //     title: \"Manuscripts of the 9th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 799 AND `chronoto` < 900\")\n  //     }\n  //   },\n  //   ms_ae_900: {\n  //     id: \"ms_ae_900\",\n  //     title: \"Manuscripts of the 10th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 899 AND `chronoto` < 1000\")\n  //     }\n  //   },\n  //   ms_ae_1000: {\n  //     id: \"ms_ae_1000\",\n  //     title: \"Manuscripts of the 11th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 999 AND `chronoto` < 1100\")\n  //     }\n  //   },\n  //   ms_gt_1000: {\n  //     id: \"ms_gt_1000\",\n  //     title: \"Manuscripts after the 11th Century\",\n  //     url: 'manuscripts?verb=search&type=encoded',\n  //     data: {\n  //       \"q_encoded\": btoa(\"`chronofrom` > 1099\")\n  //     }\n  //   }\n  },\n  map: {\n    discovery_places: {\n      id: 'discovery_places',\n      title: 'Manuscript discovery places',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.copticname]\": \"Coptic name\",\n        \"fields[p.greekname]\": \"Greek name\",\n        \"fields[p.egyptianname]\": \"Egyptian name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'discovery' \")\n      }\n    },\n    storage_places: {\n      id: 'storage_places',\n      title: 'Manuscript storage places',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.copticname]\": \"Coptic name\",\n        \"fields[p.greekname]\": \"Greek name\",\n        \"fields[p.egyptianname]\": \"Egyptian name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n\n        \"q_encoded\": btoa(\" mp.type = 'storage' \")\n      }\n    },\n    production_places: {\n      id: 'production_places',\n      title: 'Manuscript production places',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.copticname]\": \"Coptic name\",\n        \"fields[p.greekname]\": \"Greek name\",\n        \"fields[p.egyptianname]\": \"Egyptian name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'production' \")\n      }\n    },\n    all_ms_places: {\n      id: 'all_ms_places',\n      title: 'All manuscript related places',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.copticname]\": \"Coptic name\",\n        \"fields[p.greekname]\": \"Greek name\",\n        \"fields[p.egyptianname]\": \"Egyptian name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" 1 \")\n      }\n    },\n    bishoprics: {\n      id: 'bishoprics',\n      title: 'Bishoprics',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[paths__places.id]\": \"Id\",\n        \"fields[paths__places.name]\": \"Name\",\n        \"fields[paths__places.copticname]\": \"Coptic name\",\n        \"fields[paths__places.greekname]\": \"Greek name\",\n        \"fields[paths__places.egyptianname]\": \"Egyptian name\",\n        \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n        \"fields[paths__places.typology]\": \"Site typology\",\n        \"q_encoded\": btoa( '`paths__places`.`episcopalsee`=1 LIMIT 0, 100')\n      }\n    },\n    multi_stratified: {\n      id: 'multi_stratified',\n      title: 'Multi stratified sites',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \"JOIN `paths__places` ON `paths__geodata`.`table_link` = 'paths__places' AND `paths__geodata`.`id_link` = `paths__places`.`id` \" +\n        \"JOIN (SELECT `id_link`, count(id) as tot from `paths__m_placefase` GROUP BY `id_link` ORDER BY `tot` DESC LIMIT 0,10) as t ON `t`.`id_link` = `paths__geodata`.`id_link` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[paths__places.id]\": \"Id\",\n        \"fields[paths__places.name]\": \"Name\",\n        \"fields[paths__places.copticname]\": \"Coptic name\",\n        \"fields[paths__places.greekname]\": \"Greek name\",\n        \"fields[paths__places.egyptianname]\": \"Egyptian name\",\n        \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n        \"fields[paths__places.typology]\": \"Site typology\",\n        \"q_encoded\": btoa( '1 ORDER BY `t`.`tot` DESC')\n      }\n    }\n  }\n};\n","import axios from 'axios';\nimport SavedQueries from '../SavedQueries';\n\n\nlet baseUrl = 'https://db-dev.bradypus.net/api/paths/';\n\nif (window.location.hostname === 'localhost'){\n  baseUrl = 'http://db.localhost/api/paths/';\n}\n\nexport default class Database {\n\n  static getData(url, params, callback) {\n\n    url = baseUrl + url;\n\n    axios({\n      method: 'post',\n      url: url,\n      params: params,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      callback(res.data);\n    })\n    .catch( res => {\n      if(res instanceof Error) {\n        console.log(res.message);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  static getBaseUrl(){\n    return baseUrl;\n  }\n\n  static getUniqueVal(tb, fld, string, cb) {\n    this.getData('../v2/paths/' + tb, {\n      verb: 'getUniqueVal',\n      tb: tb.replace('paths__', ''),\n      fld: fld,\n      s: string\n    }, d => { cb(d); }, true);\n\n  }\n\n  static getSaved(grp, q, page, cb) {\n    if (typeof SavedQueries[grp][q] === 'undefined') {\n      cb({\n        status: 'error',\n        text: `No saved query found for id: ${grp}.${q}`\n      });\n      return;\n    } else {\n      SavedQueries[grp][q].data.page = page;\n      this.getData(SavedQueries[grp][q].url, SavedQueries[grp][q].data, d => {\n        cb(d, SavedQueries[grp][q].title);\n      });\n    }\n  }\n\n  static getSimple(tb, fld, val, strict, page, cb){\n    const data = {\n      verb: 'search',\n      type: 'advanced',\n      page: page,\n      'adv[a0][fld]': fld,\n      'adv[a0][operator]': strict ? '=' : 'LIKE',\n      'adv[a0][value]': val\n    };\n    this.getData(tb, data, d => { cb(d); }, true);\n  }\n\n  /**\n   * Executes an advanced query on the database\n   * @param  {String}   tb   Table to be queried, no prefix\n   * @param  {Object}   data Object of query data: {a:{f:'fieldname', v:'value', o: 'operator'}, a2:{f:'fieldname', v:'value', o: 'operator', c: 'connector'}}\n   * @param  {Integer}   page Page number\n   * @param  {Function} cb   Callback function\n   */\n  static getAdv(tb, data, page, cb) {\n    let d = {\n      verb: 'search',\n      type: 'advanced',\n      page: page\n    };\n    Object.entries(data).forEach(([k, v]) => {\n      d[`adv[${k}][fld]`] = v.f;\n      d[`adv[${k}][value]`] = v.v;\n      d[`adv[${k}][operator]`] = v.o;\n      d[`adv[${k}][connector]`] = v.c;\n    });\n\n    this.getData(tb, d, d => { cb(d); }, true);\n  }\n\n  static getStr(tb, string, page, cb) {\n    this.getData(tb, {\n      verb: 'search',\n      type: 'fast',\n      string: string,\n      page: page\n    }, d => { cb(d, 'Search [' + string + '] in ' + d.head.table_label); }, true);\n  }\n\n  static getByEncodedSql(tb, sql, page, cb) {\n      this.getData(tb, {\n        verb: 'search',\n        type: 'encoded',\n        'q_encoded': sql,\n        page: page\n      }, d => { cb(d); }, true);\n  }\n\n  static getAll(tb, page, cb) {\n    this.getData(tb, {\n      verb : 'search',\n      type: 'all',\n      page: page\n    }, d => { cb(d); });\n  }\n\n  static getOne(tb, id, cb) {\n    this.getData('../v2/paths', {\n      tb: tb,\n      verb : 'read',\n      id : id\n    }, d => { cb(d); });\n  }\n\n  static inspect(tb, cb) {\n    this.getData('../v2/paths' , {\n      tb: tb,\n      'verb':'inspect'\n    }, d => { cb(d); });\n  }\n\n  static getChart(id, cb) {\n    this.getData('../v2/paths/' + id, {\n      id: id,\n      'verb':'getChart'\n    }, d => { cb(d); });\n  }\n\n  static getPlaces(where, cb) {\n    let data = {\n      \"join\": \"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\",\n      \"fields[paths__geodata.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.copticname]\": \"Coptic name\",\n      \"fields[paths__places.greekname]\": \"Greek name\",\n      \"fields[paths__places.egyptianname]\": \"Egyptian name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"q_encoded\": btoa( ( where ? where.replace(/`(.*)`/gi, '`paths__places`.`$1`') : \" 1 LIMIT 0, 500\" ))\n    };\n\n    this.getData(\n      'geodata?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb(d) }\n    );\n  }\n\n  static getMsPlaces(ms_where, cb) {\n    const data = {\n      \"join\": \" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\" +\n              \" JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` \",\n      \"fields[paths__geodata.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.copticname]\": \"Coptic name\",\n      \"fields[paths__places.greekname]\": \"Greek name\",\n      \"fields[paths__places.egyptianname]\": \"Egyptian name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[paths__m_msplaces.type]\": \"Place type\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa(\" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE \" + ms_where + \" )\")\n    };\n    this.getData(\n      'geodata?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb(d) }\n    );\n  }\n\n}\n","import React, { Component } from 'react';\nimport { NavLink, Navbar, Nav, NavItem, NavbarBrand, NavbarToggler, DropdownMenu, DropdownToggle, DropdownItem, Collapse, UncontrolledDropdown } from 'reactstrap';\nimport { Link, NavLink as RRNavLink } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\n\nclass FixedNavbar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false\n    };\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\nrender() {\n  // borderBottom: '1px solid #f4dcde'\n\n    return (\n          <div>\n            <Navbar color=\"dark\" dark expand=\"md\" className=\"fixed-top\">\n              <NavbarBrand to=\"/\" tag={Link}>PAThs</NavbarBrand>\n              <NavbarToggler onClick={this.toggle} />\n              <Collapse isOpen={this.state.isOpen} navbar>\n                <Nav navbar>\n                  <NavItem>\n                    <NavLink style={{ backgroundColor: '#cc545a', color: '#fff'}} to=\"/map\" tag={RRNavLink}>\n                      <FontAwesomeIcon icon=\"map\" /> Atlas\n                    </NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/places\" tag={RRNavLink}>Places</NavLink>\n                  </NavItem>\n\n                  <NavItem>\n                    <NavLink to=\"/manuscripts\" tag={RRNavLink}>Manuscripts</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/works\" tag={RRNavLink}>Works</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/authors\" tag={RRNavLink}>Authors</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/titles\" tag={RRNavLink}>Titles</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/colophons\" tag={RRNavLink}>Colophons</NavLink>\n                  </NavItem>\n                </Nav>\n\n                <Nav className=\"ml-auto\" navbar>\n                  \n                  <UncontrolledDropdown nav inNavbar>\n                    <DropdownToggle nav caret>\n                      <FontAwesomeIcon icon=\"share-alt\" /> LOD\n                    </DropdownToggle>\n                    <DropdownMenu right>\n                      <DropdownItem target=\"_blank\" href={ Database.getBaseUrl() + \"places?verb=pelagios-void\"}>\n                          Pelagios VoID\n                      </DropdownItem>\n                      <DropdownItem target=\"_blank\" href={ Database.getBaseUrl() + \"places?verb=search&type=encoded&q_encoded=MSBMSU1JVCAwLCA1MDA=&fullRecords=true&format=turtle\"}>\n                          Places\n                      </DropdownItem>\n                    </DropdownMenu>\n                  </UncontrolledDropdown>\n                </Nav>\n              </Collapse>\n            </Navbar>\n          </div>\n    );\n  }\n}\n\nexport default FixedNavbar;\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Row, Col } from 'reactstrap';\n\nimport Erc from './img/erc.jpg';\nimport Sapienza from './img/sapienza.jpg';\n\nexport default class Footer extends Component {\n\nrender() {\n\n    return (\n      <footer className=\"mt-5 bg-dark text-white p-3\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <p>Tracking Papyrus and Parchment Paths<br />\n              <span  className=\"lead\" style={{ color: '#ffab00'}}>An Archaeological Atlas of Coptic Literature</span><br />\n              <small>Literary Texts in their Geographical Context:<br />\n              Production, Copying, Usage, Dissemination and Preservation</small></p>\n            </div>\n            <div className=\"col text-right\">\n              <p>An <a href=\"https://erc.europa.eu/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"European Research Council\">ERC</a> funded project hosted at the <a href=\"https://www.uniroma1.it\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Sapienza University of Rome\">Sapienza University of Rome</a></p>\n              <p>Principal Investigator <a href=\"http://www.lettere.uniroma1.it/users/paola-buzi\" title=\"Paola Buzi\" target=\"_blank\" rel=\"noopener noreferrer\">Paola Buzi</a> [<a href=\"mailto:paola.buzi@uniroma1.it\" title=\"Email to Paola Buzi\">paola.buzi(at)uniroma1.it</a>]</p>\n              <p>\n                <a href=\"http://paths.uniroma1.it/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"PAThs web site\">\n                  paths.uniroma1.it\n                </a>\n              </p>\n            </div>\n          </div>\n\n          <Row className=\"my-3\">\n            <Col xs={{ size: 6 }} md={{size: 3, offset: 3}}><img src={Sapienza} alt=\"Sapienza Universit di Roma\" className=\"img-fluid\" /></Col>\n            <Col xs={{ size: 6 }} md={{size: 3}}><img src={Erc} alt=\"European Research Council\" className=\"img-fluid\" /></Col>\n          </Row>\n\n          <div className=\"text-center\">\n            <p className=\"text-secondary\"><small>\n            <a rel=\"license\" href=\"http://creativecommons.org/licenses/by/4.0/\">\n              <img alt=\"Creative Commons License\" style={{borderWidth:0}}\n                    src=\"https://i.creativecommons.org/l/by/4.0/88x31.png\" />\n            <br />\n            This work is licensed under a Creative Commons Attribution 4.0 International License</a>.\n            </small></p>\n\n            <a href=\"https://github.com/paths-erc/atlas\" title=\"Fork PAThs Atlas on Github\" target=\"_blank\" rel=\"noopener noreferrer\"><FontAwesomeIcon icon={['fab', 'github']} size=\"2x\" /> Fork on Github</a>\n          </div>\n\n        </div>\n      </footer>\n    );\n  }\n}\n","import React from \"react\";\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport './MainTemplate.css';\n\nexport default class MainTemplate extends React.Component{\n\n  render(){\n    return (\n      <div>\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n            { this.props.children }\n          </main>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Ripple from './Ripple-1.7s-200px.svg';\n\n\n\nexport default class Loading extends Component {\n\n  render() {\n    const style = {\n      width: this.props.width ? this.props.width : '100px'\n    };\n    return (\n      <span>\n        <img src={Ripple} style={style} alt=\"Loading...\"/>\n        Loading...\n      </span>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\n\nimport imgPathsLogo from './paths-logo.png';\n\nimport intro from './IntroMd.md';\nimport missionstatement from './MissionStatementMd.md';\nimport lod from './lod.md';\nimport Loading from '../Loading/Loading';\n\n\nexport default class Home extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      text: {},\n      titles: [\n        {\n          id    : 'intro',\n          title : \"Introduction\",\n          path  : intro\n        },\n        {\n          id    : 'missionstatement',\n          title : \"Mission Statement\",\n          path  : missionstatement\n        },\n        {\n          id    : 'lod',\n          title : \"Linked Open Data\",\n          path  : lod\n        }\n      ]\n    }\n  }\n  componentWillMount() {\n    this.state.titles.map( e => {\n      fetch(e.path).then((response) => response.text()).then((text) => {\n        const o = this.state.text;\n        o[e.id] = text;\n        this.setState({ text: o });\n      });\n      return true;\n    });\n\n  }\n\n  showContentAndToc(){\n    if (this.state.text === {} ){\n      return (<Loading />);\n    } else {\n      return (\n        <div>\n          <div className=\"border p-3 d-inline-block bg-light float-right ml-5 mb-5\">\n            <h4>Table of contents</h4>\n            <ul className=\"p-0 m-0\">\n              {this.state.titles.map( (k, i) =>{\n                return (\n                  <li key={i} style={{ listStyle: 'none' }}>\n                    <a href={ '#' + k.id }>{ k.title }</a>\n                  </li>\n                );\n\n              })}\n            </ul>\n          </div>\n          { this.state.titles.map( (k, i) =>{\n            return (\n              <div key={i} className=\"text-justify\">\n                <h1 id={ k.id } className=\"mt-5\">{ k.title }</h1>\n                <ReactMarkdown source={this.state.text[k.id]} escapeHtml={false} />\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n      <div>\n        <div className=\"jumbotron\">\n          <div className=\"container text-center\">\n            <img className=\"img-fluid\" src={ imgPathsLogo } alt=\"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation\" />\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"my-5 px-5\">\n            { this.showContentAndToc() }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Badge } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n\n    if (!this.props.places || !this.props.places.features) {\n      return null;\n    }\n\n    return (\n      <div className=\"mt-3\">\n        <h5>Found { this.props.places.features.length } places</h5>\n        <ol>\n          {\n            this.props.places.features.map( (e, i)=>{\n              return <li key={i} className=\"border-bottom border-info mb-3 pb-1\">\n                <strong>{ e.properties.name }</strong>\n                <br /><small><span className=\"coptic\">{e.properties.copticname}</span></small>\n                {\n                  ['greekname', 'egyptianname'].map( (ee, ii)=>{\n                    if (e[ee]){\n                      return (<div key={ii}><small>{e.properties[ee]}</small></div>);\n                    } else {\n                      return null;\n                    }\n                  } )\n                }\n\n                {\n                  e.properties['count(mp.id_link)'] ?  <div className=\"text-right\"><Badge color=\"secondary\">{ e.properties['count(mp.id_link)'] } manuscripts related</Badge></div>  : null\n                }\n\n                <div><small><FontAwesomeIcon icon=\"id-badge\" /> <Link to={ '/read/places/' + e.properties.id }>paths.places.{e.properties.id}</Link></small></div>\n              </li>\n            } )\n          }\n        </ol>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nexport default class UrlFilterButton extends Component {\n\nrender() {\n\n    if (this.props.urlFilter) {\n      return (\n        <div>\n          <Link to=\"/map\" className=\"btn btn-warning btn-block mt-1 mb-3\">\n            <FontAwesomeIcon icon=\"filter\" /> Filter active. Click to disable\n          </Link>\n        </div>\n\n      );\n    } else {\n      return null;\n    }\n\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class TabLegend extends Component {\n\n  render() {\n\n    return (\n      <div>\n\n        <h5>Marker symbols</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(255, 0, 0, .9)'}}></span>\n            Discovery\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(0, 0, 255, .9)'}}></span>\n            Production\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(0, 255, 0, .9)'}}></span>\n            Storage\n          </li>\n        </ul>\n\n        <hr />\n        <h5>Basemaps</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://pelagios.org/maps/greco-roman/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Pelagios</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://dare.ht.lu.se/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Digital Atlas of Ancient World (DARE)</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://awmc.unc.edu/wordpress/\" target=\"_blank\" rel=\"noopener noreferrer\">Ancient World Mapping Center</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"https://www.openstreetmap.org\" target=\"_blank\" rel=\"noopener noreferrer\">Open Street Map</a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class TabSavedQueries extends Component {\n\n  render() {\n    return (\n      <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n        { Object.values(SavedQueries.map).map( (e, i) => {\n          return <li key={i}  className=\"mb-3\">\n            <Link to={ '/map/saved/' + e.id }>\n              <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n            </Link>\n          </li>\n        }) }\n      </ul>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { InputGroupAddon, Button } from 'reactstrap';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n    if (!this.props.show){\n      return null;\n    }\n    return (\n      <InputGroupAddon addonType=\"append\">\n        <Button color=\"danger\" onClick = { this.props.onClick }>\n          <span aria-hidden=\"true\">&times;</span>\n        </Button>\n      </InputGroupAddon>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, LayersControl, GeoJSON } from 'react-leaflet';\nimport { InputGroup, InputGroupAddon, Input } from 'reactstrap';\nimport qs from 'qs';\nimport hash from 'object-hash';\nimport { Sidebar, Tab } from 'react-leaflet-sidebarv2';\nimport L from 'leaflet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { GoogleLayer } from 'react-leaflet-google';\n\n\nimport Header from \"../mainLayout/Header\"\nimport ListPlaces from './ListPlaces';\nimport UrlFilterButton from './UrlFilterButton';\nimport TabLegend from './TabLegend';\nimport TabSavedQueries from './TabSavedQueries';\nimport ClearButton from './ClearButton';\n\nimport Database from '../Services/Database/Database';\n\nimport './PathsMap.css';\n\nconst { BaseLayer } = LayersControl\n\nconst googleKey = \"AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o\";\nexport default class PathsMap extends Component {\n\n  constructor(props) {\n\n    super(props);\n    this.state = {\n      places: null,\n      shownPlaces: null,\n      urlFilter: false,\n      sidebarCollapsed: false,\n      selected: 'home',\n      manualFilter: ''\n    };\n    this.placesLayerRef = React.createRef();\n    this.mapRef = React.createRef();\n  }\n\n  onSidebarClose() {\n    this.setState({\n      sidebarCollapsed: true\n    });\n  }\n\n  onSidebarOpen(id) {\n    this.setState({\n      sidebarCollapsed: false,\n      selected: id,\n    })\n  }\n\n\n  pointToLayer(t, i) {\n    return new L.CircleMarker(i, {\n      radius: 5,\n      weight: 1,\n      color: \"#000\",\n      opacity: 0.9,\n      fillColor: (t.properties.type === 'discovery' ? '#ff0000' : t.properties.type === 'storage' ? '#00ff00' : '#0000ff'),\n      fillOpacity: 0.5\n    })\n  }\n\n  onEachFeature(feature, layer){\n    const base = window.location.pathname.replace(/\\/map(.*)/, '');\n    layer.bindPopup(\n      '<strong>' + feature.properties.name + '</strong>' +\n       (feature.properties.copticname ? '<br><span class=\"coptic\">' + feature.properties.copticname + '</span>': '') +\n       '<br>' +\n       '<a href=\"' + base + '/read/places/' + feature.properties.id + '\">paths/places/' + feature.properties.id +'</a>'\n    );\n  }\n\n  filterPlaces(e) {\n    const str =  e.target.value;\n    let fgj = {};\n    if (str === ''){\n      fgj = this.state.places;\n    } else {\n      fgj = {\n        \"type\": \"FeatureCollection\",\n        \"features\": []\n      };\n      for (const val of Object.values(this.state.places.features)) {\n        if (Object.values(val.properties).join('|').toLowerCase().includes(str.toLowerCase())){\n          fgj.features.push(val);\n        }\n      }\n    }\n\n    // this.placesLayerRef.current.leafletElement.clearLayers();\n    // this.placesLayerRef.current.leafletElement.addData(fgj);\n    this.setState({\n      manualFilter: str,\n      shownPlaces: fgj\n    });\n    this.fitMapToBounds();\n  }\n\n  clearFiltered(){\n    this.setState({\n      manualFilter: '',\n      shownPlaces: this.state.places\n    });\n    this.fitMapToBounds();\n  }\n\n  fitMapToBounds(){\n    let bounds = [ [19.700194, 16.570227], [35.4737, 32.869317] ];\n    if (this.placesLayerRef && this.placesLayerRef.current.props.data.features.length > 1){\n      bounds = this.placesLayerRef.current.leafletElement.getBounds();\n    }\n    this.mapRef.current.leafletElement.fitBounds(bounds);\n  }\n\n\n  fetchData(savedQ, locationSearch){\n    if (savedQ) {\n      Database.getSaved('map', savedQ, null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n          urlFilter: true\n        });\n        this.fitMapToBounds()\n      });\n    } else if (locationSearch) {\n      let qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true})\n      if (qstring.tb === 'manuscripts') {\n        Database.getMsPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else if (qstring.tb === 'places') {\n        Database.getPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else {\n        return false;\n      }\n\n    } else {\n      Database.getPlaces(null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n        });\n        this.fitMapToBounds();\n      });\n    }\n  }\n\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        places: null,\n        urlFilter: null\n      });\n      this.fetchData(nextProps.match.params.data, null);\n    }\n  }\n\n\n  componentDidMount(){\n    this.fetchData(this.props.match.params.data, this.props.location.search);\n  }\n\n\n  render() {\n    return (\n      <div className=\"maxHeight\">\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n\n          <Sidebar id=\"sidebar\" collapsed={this.state.sidebarCollapsed} selected={this.state.selected}\n                   onOpen={this.onSidebarOpen.bind(this)} onClose={this.onSidebarClose.bind(this)}\n                   closeIcon={<FontAwesomeIcon icon=\"caret-left\" />}>\n            <Tab id=\"home\" header=\"Home\" icon={<FontAwesomeIcon icon=\"home\" />}>\n\n              <div style={{ position: 'fixed', width: '380px', background: '#fff', marginTop: '2rem'}}>\n                <InputGroup className=\"my-2\">\n                  <InputGroupAddon addonType=\"prepend\">\n                    Search:\n                  </InputGroupAddon>\n                  <Input type=\"search\" value={this.state.manualFilter} onChange={this.filterPlaces.bind(this)} placeholder=\"start typing to filter places...\" />\n                    <ClearButton show={this.state.manualFilter} onClick={ this.clearFiltered.bind(this) } />\n                </InputGroup>\n              </div>\n\n              <div style={{ marginTop: '6rem'}}>\n                <UrlFilterButton urlFilter={ this.state.urlFilter } filter={ this.state.filter }/>\n                <ListPlaces places={ this.state.shownPlaces } />\n              </div>\n            </Tab>\n\n            <Tab id=\"savedQueries\" header=\"Saved queries\" icon={<FontAwesomeIcon icon=\"save\" />}>\n              <div className=\"mt-5\">\n                <TabSavedQueries />\n              </div>\n            </Tab>\n\n            <Tab id=\"legend\" header=\"Legend\" icon={<FontAwesomeIcon icon=\"info\" />} anchor=\"bottom\">\n              <div className=\"mt-5\">\n                <TabLegend />\n              </div>\n            </Tab>\n\n          </Sidebar>\n\n          <Map className=\"sidebar-map maxHeight\" zoomControl={true} ref={this.mapRef}>\n            <LayersControl position=\"topright\">\n              <BaseLayer name=\"Imperium (Pelagios)\">\n                <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"Imperium (DARE)\">\n                <TileLayer url=\"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"AWMC\" checked={true}>\n                <TileLayer url=\"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name='Google Maps Roads'>\n                 <GoogleLayer googlekey={googleKey}  maptype='ROADMAP'/>\n              </BaseLayer>\n              \n              <BaseLayer name='Google Satellite'>\n               <GoogleLayer googlekey={googleKey}  maptype='SATELLITE'/>\n              </BaseLayer>\n              <BaseLayer name=\"OpenStreetMap\">\n                <TileLayer url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              { this.state.places &&\n                  <GeoJSON\n                    ref={this.placesLayerRef}\n                    key={ hash(this.state.shownPlaces) }\n                    data={this.state.shownPlaces}\n                    pointToLayer={this.pointToLayer.bind(this)}\n                    onEachFeature={this.onEachFeature.bind(this) } />\n              }\n            </LayersControl>\n\n          </Map>\n        </main>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardTitle, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Link } from 'react-router-dom';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class SavedQueriesList extends Component {\n\n  render(){\n    const tblabel = this.props.tblabel;\n    const tb = this.props.tb;\n\n    return (\n      <div>\n        <Card className=\"mt-5 mb-5\" color=\"light\">\n          <div className=\"text-right\">\n            <button type=\"button\" className=\"close mr-2 mt-2\" aria-label=\"Close\" onClick={this.props.closeFn}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n        <CardBody>\n          <CardTitle>Saved queries for {tblabel}</CardTitle>\n            <ListGroup>\n              { Object.values(SavedQueries[tb]).map( (e, i) => {\n                return <ListGroupItem key={i}  className=\"mb-3\" tag={Link} to={ `/search/${tb}/saved?q=${e.id}`} color=\"secondary\">\n                    <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n                </ListGroupItem>\n              }) }\n            </ListGroup>\n        </CardBody>\n      </Card>\n      </div>\n    );\n  }\n}\n","/*jshint esversion: 6 */\n\n\nexport default {\n    \"coptic\": [\n      \"places.copticname\",\n      \"authors.copticname\",\n      \"titles.text\",\n      \"colophons.text\"\n    ],\n    \"greek\": [\n      \"authors.greekname\",\n      \"places.greekname\"\n    ],\n    \"hidden\": [\n      \"manuscripts.creator\",\n      \"collections.creator\",\n      \"collections.cmclname\",\n      \"works.id\",\n      \"works.creator\",\n      \"works.shelfmarks\",\n      \"works.period\",\n      \"works.problems\",\n      \"titles.creator\",\n      \"colophons.creator\",\n      \"authors.id\",\n      \"authors.creator\",\n      \"authors.cmclname\",\n      \"places.creator\",\n      \"places.hasplans\",\n      \"places.hasphotos\",\n      \"persons.id\",\n      \"persons.creator\",\n      \"biblio.creator\"\n    ],\n    \"id_fld\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"name\",\n      \"persons\": \"name\"\n    },\n    \"searchDefault\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"paths__m_toponyms:toponym\",\n      \"persons\": \"name\"\n    },\n    \"preview\": {\n      \"manuscripts\":  [ \"id\", \"cmclid\", \"tm\", \"ldab\", \"bookform\", \"writingsupport\" ],\n      \"collections\":  [ \"id\", \"fullname\", \"cmclname\", \"country\", \"town\", \"institution\", \"name\", \"notes\" ],\n      \"works\":        [ \"id\", \"cmcl\", \"title\", \"cpg\" ],\n      \"titles\":       [ \"cc\", \"type\", \"workcc\", \"msid\" ],\n      \"colophons\":    [ \"id\", \"dialect\", \"chronofrom\", \"chronoto\", \"datingcriteria\" ],\n      \"authors\":      [ \"name\", \"title\", \"copticname\", \"greekname\", \"cmclname\" ],\n      \"places\":       [ \"id\", \"name\", \"copticname\", \"greekname\", \"arabictranslname\", \"egyptianname\", \"tm\", \"pleiades\" ],\n      \"persons\":      [ \"id\", \"name\", \"type\", \"profession\", \"patronymic\" ]\n    },\n    \"label\": {\n      \"manuscripts\": \"Manuscripts\",\n      \"collections\": \"Collections\",\n      \"works\": \"Works\",\n      \"titles\": \"Titles\",\n      \"colophons\": \"Colophons\",\n      \"authors\": \"Authors\",\n      \"places\": \"Places\",\n      \"persons\": \"Persons attested in colophons\"\n    }\n};\n","import React, { Component } from 'react';\nimport { Jumbotron, Navbar, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueriesList from './SavedQueriesList';\nimport SavedQueries from '../Services/SavedQueries';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nclass SubHead extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSaved: false\n    };\n  }\n\n  toggleSaved(e){\n    e.preventDefault();\n    this.setState({\n      showSaved: !this.state.showSaved\n    });\n  }\n\n  render(){\n    const tblabel = this.props.tblabel ? this.props.tblabel : Cfg.label[this.props.tb];\n    const tb = this.props.tb;\n    const text = this.props.text ? <span className=\"subText\">{this.props.text}</span> : false;\n\n    let menuItems = [\n      {\n        to: '/search/' + tb + '/all',\n        icon: 'list-ul',\n        text: 'Show all'\n      },\n      {\n        to: '/search/' + tb ,\n        icon: 'search',\n        text: 'Search'\n      },\n      {\n        to: '/search/' + tb + '/adv',\n        icon: 'search-plus',\n        text: 'Advanced search'\n      }\n    ];\n\n    return (\n      <div>\n        <Jumbotron className=\"p-4\">\n\n        <div className=\"container\">\n          <h2>{text}</h2>\n          <Navbar color=\"light\" light expand=\"xs\" className=\"ml-auto\">\n            <NavbarBrand>\n              <h3><small>{ tblabel }</small></h3>\n            </NavbarBrand>\n            <Nav className=\"ml-auto\" navbar>\n              {\n                menuItems.map( (e, k) => {\n                  return (\n                    <NavItem key={k}>\n                      <NavLink to={e.to} tag={Link}>\n                        <FontAwesomeIcon icon={e.icon} /> {e.text}\n                      </NavLink>\n                    </NavItem>\n                  );\n                })\n              }\n              { SavedQueries[tb] && (<NavItem><NavLink onClick={this.toggleSaved.bind(this)} to=\"#\" tag={Link}><FontAwesomeIcon icon=\"save\" /> Saved queries</NavLink></NavItem>)}\n            </Nav>\n          </Navbar>\n\n          {this.state.showSaved && <SavedQueriesList  tb={tb} tblabel={tblabel} closeFn={this.toggleSaved.bind(this)}/>}\n        </div>\n      </Jumbotron>\n      </div>\n    );\n  }\n}\n\nexport default SubHead;\n","import React, { Component } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass SqlModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <span>\n        <Button color=\"danger\" size=\"sm\" onClick={this.toggle}><FontAwesomeIcon icon=\"code\" /></Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Executed SQL</ModalHeader>\n          <ModalBody>\n            <code>{this.props.sql}</code>\n          </ModalBody>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default SqlModal;\n","import React, { Component } from 'react';\nimport qs from 'qs';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport SqlModal from '../SqlModal/SqlModal';\n\n\nfunction build_object(path, queryString, tot_rows, curr_page = 1)\n{\n\n  const rpp = 30;\n\n  let tot_pages = Math.ceil(tot_rows / rpp);\n  let result = [];\n\n  curr_page = parseInt(curr_page, 10);\n\n  let qString = qs.parse(queryString, {ignoreQueryPrefix: true});\n\n  if (curr_page - 2 > 0 ) {\n    qString.page = 1;\n    result.push({\n      to :  path + '?' + qs.stringify(qString),\n      text : 1\n    });\n  }\n\n  if (curr_page - 3 > 0 ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n\n  // -1 page\n  if (curr_page - 1 > 0 ) {\n    qString.page = (curr_page - 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  // current page\n  qString.page = curr_page;\n  result.push({\n    to : path + '?' + qs.stringify(qString),\n    active : true,\n    text : curr_page\n  });\n\n  // +1 page\n  if (curr_page + 1 < tot_pages ) {\n    qString.page = (curr_page + 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n    // +3 page\n  if (curr_page + 2 < tot_pages ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n  if (curr_page !== tot_pages ) {\n    qString.page = (tot_pages);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  return result;\n}\n\nclass PaginateResult extends Component {\n\n  render() {\n\n    const result = build_object(\n      this.props.path,\n      this.props.search,\n      this.props.totalRows,\n      this.props.page\n    );\n\n    return (\n      <Pagination>\n        <PaginationItem>\n          <PaginationLink>Pages: </PaginationLink>\n        </PaginationItem>\n        { result.map( (r, i) => {\n          const props = {\n            disabled: r.disabled,\n            active: r.active\n          };\n         return <PaginationItem {...props} key={i}>\n           <PaginationLink tag={Link} to= { r.to }>\n              { r.text }\n           </PaginationLink>\n         </PaginationItem>\n        }) }\n\n      </Pagination>\n    );\n\n  }\n}\nclass PaginateResultSummary extends Component {\n\n  render() {\n\n    const curr_page =  this.props.page ? this.props.page : 1;\n    const start_at = curr_page * 30 - 30 + 1;\n    const up_to = (curr_page * 30) < this.props.totalRows ? curr_page * 30 : this.props.totalRows;\n\n    return (\n      <div className=\"mb-3\">\n        Showing records <span className=\"badge badge-primary\">\n        { start_at }   { up_to } </span> of <span className=\"badge badge-success\">\n        { this.props.totalRows }</span> records found\n        &nbsp;<SqlModal sql={this.props.query}/>\n      </div>\n    );\n\n  }\n}\n\nexport {PaginateResult, PaginateResultSummary};\n","import React, { Component } from 'react';\nimport { Row, Col, Table, Card, CardBody, CardHeader, ButtonGroup, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nclass ItemPreviewWrapper extends Component {\n\n  render() {\n    return (\n      <Row>{ this.props.children }</Row>\n    );\n  }\n}\n\nclass ItemPreview extends Component {\n\n  render() {\n\n    const el = this.props.record;\n    const flds = this.props.fields;\n    const tb = this.props.tb;\n\n    const preview_flds = this.props.previewFlds;\n    const id_field = this.props.idField;\n\n    return (\n      <Col sm=\"4\">\n      \t<Card className=\"mt-3\" outline color=\"dark\">\n          <CardHeader tag=\"h4\">{ el[id_field] }</CardHeader>\n          <CardBody id={ el.id }>\n\n            <Table hover size=\"sm\">\n              <tbody>\n                {\n                  preview_flds.map( (e, k) => {\n                    return <tr key={k}>\n                      <th>{ flds[e] }</th>\n                      <td>{ el[e] }</td>\n                    </tr>\n                  } )\n                }\n              </tbody>\n            </Table>\n\n            <div className=\"clearfix\">\n              <div className=\"btn-group float-right\" role=\"group\">\n                <ButtonGroup>\n                  <Button size=\"sm\" color=\"info\" tag={Link} to={ '/' + ['read', tb, el.id].join('/') }>\n                    <FontAwesomeIcon icon=\"eye\" /> View\n                  </Button>\n                </ButtonGroup>\n              </div>\n            </div>\n\n          </CardBody>\n    \t  </Card>\n      </Col>\n    );\n  }\n}\n\nexport {ItemPreview, ItemPreviewWrapper};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass OpenInMap extends Component {\n\nrender() {\n\n  const tb = this.props.tb;\n\n  if (['manuscripts', 'places'].indexOf(tb) < 0){\n    return null;\n  }\n  return (\n    <div className=\"float-right mt-2\">\n      <Link to={'/map?tb=' + tb + '&where=' + encodeURI(this.props.where) } className=\"btn btn-warning\">\n        <FontAwesomeIcon icon=\"map-marker-alt\" /> View on Map\n      </Link>\n    </div>\n  );\n  }\n}\n\nexport default OpenInMap;\n","import React, { Component } from 'react';\nimport { Alert } from 'reactstrap';\nimport qs from 'qs';\nimport {withRouter} from 'react-router';\n\nimport Database from '../Services/Database/Database';\nimport {PaginateResult, PaginateResultSummary} from '../PaginateResult/PaginateResult';\nimport { ItemPreview, ItemPreviewWrapper } from './ItemPreview';\nimport OpenInMap from '../Manuscripts/OpenInMap';\nimport Loading from '../Loading/Loading';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\n\nclass Results extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: false\n    };\n  }\n\n  _fetchData(){\n    switch (this.props.type) {\n      case 'simple':\n        Database.getSimple(this.props.tb, this.props.fld, this.props.val, this.props.strict, this.props.page, d => {\n          this.setState({\n            result: d\n          });\n        });\n        break;\n\n        case 'adv':\n          Database.getAdv(this.props.tb, this.props.data, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'all':\n          Database.getAll(this.props.tb, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'saved':\n          Database.getSaved(this.props.tb, this.props.query, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'encoded':\n          Database.getByEncodedSql(this.props.tb, this.props.q, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        default:\n          console.log(`Unknown verb ${this.props.type}`);\n          return null;\n    }\n\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (this.props.page !== prevProps.page || this.props.fld !== prevProps.fld  || this.props.val !== prevProps.val || this.props.strict !== prevProps.strict) {\n      this._fetchData();\n    }\n  }\n\n  componentDidMount(){\n    this._fetchData();\n  }\n\n  render() {\n    if (!this.state.result) {\n      return <div className=\"container\"><Loading /></div>;\n    }\n\n    if(this.state.result.type === 'error') {\n      return (\n        <div>\n          <div className=\"container\">\n            <Alert color=\"danger\" className=\"mt-5\">\n                <h4 className=\"alert-heading\">We are so sorry!</h4>\n                <p>Something went terribly wrong. Please report this error to <a href=\"https://github.com/paths-erc/atlas/issues\">our public repository</a> in order to get it fixes as soon as possible.</p>\n            </Alert>\n            <div>\n              <p>Please file the current URL:</p>\n\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ window.location.href }</Alert>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ decodeURIComponent(window.location.href) }</Alert>\n              <p>and the following error message</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.text}\n                </pre>\n              </Alert>\n              <p>Full error trace</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.trace}\n                </pre>\n              </Alert>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    if(this.state.result.head.total_rows === 0) {\n      return (\n        <div>\n\n            <div className=\"container\">\n\n              <Alert color=\"warning\" className=\"mt-5\">\n                  <h4 className=\"alert-heading\">Ooops!</h4>\n                  No result found. Please reformulate the query.\n                  <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ this.state.result.head.query_arrived }</Alert>\n\n              </Alert>\n            </div>\n        </div>\n      )\n    }\n\n    return (\n    \t<div>\n\n        <div className=\"container\">\n\n          <div className=\"clearfix\">\n\n            <OpenInMap\n                tb={this.state.result.head.stripped_table}\n                where={this.state.result.head.query_where}\n                type={this.props.match.params.type}\n                search={ qs.parse(this.props.location.search, {ignoreQueryPrefix: true}) }\n                />\n\n            <PaginateResultSummary\n              totalRows={this.state.result.head.total_rows}\n              page={this.state.result.head.page}\n              query={this.state.result.head.query_arrived}\n              />\n\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n\n\n          <ItemPreviewWrapper>\n          {\n             this.state.result.records.map( (e, i) => {\n              return <ItemPreview\n                  idField = { Cfg.id_fld[this.props.match.params.table] }\n                  previewFlds = { Cfg.preview[this.props.match.params.table] }\n                  tb={this.props.match.params.table}\n                  record={e}\n                  fields={this.state.result.head.fields}\n                  key={i} />\n            })\n          }\n          </ItemPreviewWrapper>\n\n          <div className=\"pt-3\">\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n        </div>\n\n\t\t  </div>\n    );\n  }\n}\nexport default withRouter(Results);\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport SavedQueries from '../Services/SavedQueries';\n\n\n\n\nexport default class SearchSaved extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      saved: qstring.q,\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text={SavedQueries[this.props.match.params.table][this.state.saved].title} />\n\n      \t<Results\n            tb={this.props.match.params.table}\n            query={this.state.saved}\n            type=\"saved\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Select from 'react-select';\n\nimport Database from '../Services/Database/Database';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nexport default class FldSelect extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fields: false,\n      fld: false\n    };\n  }\n\n  _setState(fldList, selected, parse){\n    if (parse){\n      fldList = Object.keys(fldList).map(key => {\n        if (Cfg.hidden.indexOf(key.replace(':', '.').replace('paths__', '')) < 0){\n          return { value: fldList[key].fullname, label: fldList[key].label };\n        } else {\n          return false;\n        }\n      }).filter(e => {\n        return e;\n      });\n    }\n    let selObj;\n    if (selected){\n      selObj= fldList.filter( e => {\n        return e.value === selected;\n      })[0];\n    } else {\n      if (Cfg.searchDefault[this.props.tb]){\n        const v = Cfg.searchDefault[this.props.tb].includes('paths') ? Cfg.searchDefault[this.props.tb] : `paths__${this.props.tb}:${Cfg.searchDefault[this.props.tb]}`;\n\n        selObj = fldList.filter( e => {\n          return e.value === v;\n        })[0];\n      } else {\n        selObj = fldList[0];\n      }\n      this.props.onChange(selObj);\n    }\n\n    this.setState({\n      fields: fldList,\n      fld: selObj\n    });\n  }\n\n\n  componentDidMount(){\n    if (!this.props.fields){\n      Database.inspect(this.props.tb, data => {\n        this._setState(data.fields, this.props.fld, true);\n      });\n    } else {\n      this._setState(this.props.fields, this.props.fld);\n    }\n\n  }\n\n  render() {\n    if (!this.state.fields){\n      return null;\n    }\n\n    return (\n        <Select\n          defaultValue={ this.state.fld }\n          options={ this.state.fields }\n          onChange={ this.props.onChange }\n          />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\n\nimport Database from '../Services/Database/Database';\n\n\n\nexport default class ValueInput extends Component {\n\n  constructor(props) {\n    super();\n\n    this.state = {\n      isLoading: false,\n      multiple: false,\n      options: []\n    }\n  }\n\n  _handleSearch = (string) => {\n    this.setState({isLoading: true});\n    const [tb, fld] = this.props.fld.split(':');\n    Database.getUniqueVal(tb, fld, string, d => {\n      this.setState({\n        options : d,\n        isLoading: false\n      })\n    });\n  }\n\n  render() {\n    if(!this.state.options){\n      return null;\n    }\n\n    return (\n      <div>\n        <AsyncTypeahead\n          {...this.state}\n          minLength={1}\n          placeholder=\"Add a value\"\n          onSearch={this._handleSearch}\n          onInputChange={this.props.onChange}\n          onChange={this.props.onChange}\n          defaultInputValue={this.props.val ? this.props.val : ''}\n          />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport { FormGroup, Input, Button, Col, Label } from 'reactstrap';\n\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\n\n\n\nexport default class CustomSearchForm extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fld: props.fld,\n      val: props.val,\n      strict: props.strict === true\n    }\n\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this._changeField = this._changeField.bind(this);\n    this._changeVal = this._changeVal.bind(this);\n    this._changeStrict = this._changeStrict.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props){\n      this.setState({\n        fld: this.props.fld,\n        val: this.props.val,\n        strict: this.props.strict ? true : false\n      });\n    }\n  }\n\n  _changeField(v){\n    this.setState({\n      fld: v.constructor === Object && v.value ? v.value : v\n    });\n  }\n  _changeVal(v){\n    this.setState({\n      val: v.constructor === Array ? v[0] : v\n    });\n  }\n  _changeStrict(e){\n    this.setState({\n      strict: e.target.checked\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (!this.state.val){\n      alert('Insert a value to continue');\n      return;\n    }\n    this.props.onSubmit(this.state.fld, this.state.val, this.state.strict);\n  }\n\n  render() {\n    return (\n      <div className=\"my-5\">\n        <form onSubmit={this.handleSubmit} className=\"form\">\n\n          <FormGroup row>\n\n            <Col sm={4}>\n              <FldSelect\n                  tb={ this.props.tb }\n                  fld={this.state.fld}\n                  onChange={ this._changeField }\n                  />\n            </Col>\n\n            <Col sm={5}>\n              <ValueInput\n                fld={ this.state.fld }\n                val={this.state.val}\n                onChange={this._changeVal}\n               />\n            </Col>\n\n            <Col sm={1}>\n              <Label check>\n                <Input\n                    name=\"strict\"\n                    type=\"checkbox\"\n                    checked={this.state.strict }\n                    onChange={this._changeStrict}\n                  /> Strict\n              </Label>\n            </Col>\n\n            <Col sm={2}> <Button type=\"submit\" color=\"success\" block>Search!</Button> </Col>\n          </FormGroup>\n\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport CustomSearchForm from './CustomSearchForm';\nimport Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      fld: qstring.f,\n      val: qstring.v,\n      strict: (qstring.s && qstring.s !== 'false' && qstring.s !== 'undefined'),\n      page: qstring.page\n    };\n\n    this._onFormSubmit = this._onFormSubmit.bind(this);\n  }\n\n  _onFormSubmit(fld, val, strict){\n    const s = \"f=\" + encodeURIComponent(fld) +\n                  (strict ? \"&s=1\" : '')+\n                  \"&v=\" + encodeURIComponent(val);\n\n    this.setState({\n      fld: fld,\n      val: val,\n      strict: strict\n    });\n\n    this.props.history.push(`/search/${this.props.match.params.table}?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Simple search' />\n\n      \t<div className=\"mt-3 p-1 container\">\n          <CustomSearchForm\n              tb={ this.props.match.params.table }\n              onSubmit={this._onFormSubmit}\n              fld={this.state.fld}\n              val={this.state.val}\n              strict={this.state.strict}\n             />\n          <hr />\n  \t\t  </div>\n\n        { this.state.fld && this.state.val && <Results\n            tb={this.props.match.params.table}\n            type=\"simple\"\n            fld={this.state.fld}\n            val={this.state.val}\n            strict={this.state.strict}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class OperatorSelect extends Component {\n\n  render() {\n\n    const operators = [\n      {\n        'k': 'LIKE',\n        'v': 'Contains'\n      },\n      {\n        'k': '=',\n        'v': 'Is exactly'},\n      {\n        'k': 'NOT LIKE',\n        'v': 'Does not contain'},\n      {\n        'k': 'starts_with',\n        'v': 'Starts with'},\n      {\n        'k': 'ends_with',\n        'v': 'Ends with'},\n      {\n        'k': 'is_empty',\n        'v': 'Is empty'},\n      {\n        'k': 'is_not_empty',\n        'v': 'Is not empty'},\n      {\n        'k': '>',\n        'v': 'Is bigger than'},\n      {\n        'k': '<',\n        'v': 'Is smaller than'}\n    ];\n\n    return (\n      <div>\n        <Input type=\"select\" placeholder=\"select\" {...this.props}>\n          {operators.map( (f, i) => {\n            return (<option key={i} value={f.k}>{ f.v }</option>);\n          } ) }\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class ConnectorSelect extends Component {\n\n  render() {\n\n    return (\n      <div>\n        <Input type=\"select\" {...this.props}>\n          <option value=\"AND\">AND</option>\n          <option value=\"OR\">OR</option>\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col, Button } from 'reactstrap';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\nimport OperatorSelect from './OperatorSelect';\nimport ConnectorSelect from './ConnectorSelect';\nimport Database from '../Services/Database/Database';\nimport Loading from '../Loading/Loading';\n\n\n\nexport default class AdvSearchForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n\n    let rows;\n    let show = false;\n\n    if(Object.getOwnPropertyNames(qstring).length === 0){\n      rows = {\n        'a': {\n          f: '',\n          o: 'LIKE',\n          v: ''\n        }\n      };\n    } else {\n      rows = qstring;\n      show = true;\n    }\n\n    this.state = {\n      rows: rows,\n      showResults: show,\n      page: false,\n      fields: false\n    };\n\n    this._changeOperator = this._changeOperator.bind(this);\n    this._changeConnector = this._changeConnector.bind(this);\n    this._addRow = this._addRow.bind(this);\n    this._removeRow = this._removeRow.bind(this);\n\n  }\n\n\n  _removeRow(e){\n    let rows = this.state.rows;\n    const delKey = e.target.name;\n    delete rows[delKey];\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _addRow(){\n    let rows = this.state.rows;\n    const uid = 'a' + Math.random().toString(36).substr(2, 9);\n    rows[uid] = { f: '', o: 'LIKE', v: '', c: 'AND'}\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeField(index, val){\n    let rows = this.state.rows;\n    rows[index].f = val.constructor === Object && val.value ? val.value : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeVal(index, val){\n    let rows = this.state.rows;\n    rows[index].v = val.constructor === Array ? val[0] : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeOperator(e){\n    let rows = this.state.rows;\n    rows[e.target.name].o = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeConnector(e){\n    let rows = this.state.rows;\n    rows[e.target.name].c = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n    this.setState({\n      showResults: true\n    });\n    const s = qs.stringify(this.state.rows)\n    this.props.history.push(`/search/${this.props.match.params.table}/adv?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  componentDidMount(){\n    Database.inspect(this.props.match.params.table, data => {\n      let fldList = data.fields;\n      fldList = Object.keys(data.fields).map(key => {\n        return { value: fldList[key].fullname, label: fldList[key].label };\n      });\n      this.setState({\n        fields: fldList\n      });\n    });\n  }\n\n\n  render() {\n    if (!this.state.fields){\n      return <Loading />;\n    }\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Advanced search' />\n\n        <div className=\"mt-3 p-1 container\">\n          <form onSubmit={this._handleSubmit.bind(this)} className=\"form\">\n            {\n              Object.entries(this.state.rows).map((e, i)=>{\n                const k = e[0];\n                const v = e[1];\n\n                return <div key={i} className=\"my-3\">\n                  <Row>\n                    <Col xs={1}>\n                      { i > 0 && <ConnectorSelect\n                          defaultValue={v.c}\n                          onChange={this._changeConnector}\n                          name={k}\n                        />}\n                    </Col>\n                    <Col xs={4}>\n                      <FldSelect\n                        fields={this.state.fields}\n                        tb={ this.props.match.params.table }\n                        fld={v.f}\n                        onChange={ this._changeField.bind(this, k) }\n                        />\n                    </Col>\n                    <Col xs={2}>\n                      <OperatorSelect\n                        defaultValue={v.o}\n                        name={k}\n                        onChange={ this._changeOperator }\n                        />\n                    </Col>\n                    <Col xs={3}>\n                      <ValueInput\n                        fld={ v.f }\n                        val={v.v}\n                        onChange={this._changeVal.bind(this, k)}\n                        />\n                    </Col>\n\n                    <Col xs={1}>\n                      { i+1 === Object.keys(this.state.rows).length && <Button type=\"button\" color=\"info\" block onClick={ this._addRow }>+</Button>}\n                    </Col>\n                    <Col xs={1}>\n                      { i > 0 && <Button type=\"button\" color=\"danger\" block name={k} onClick={ this._removeRow }>-</Button>}\n                    </Col>\n                  </Row>\n                </div>\n              })\n            }\n\n            <Button type=\"submit\" color=\"success\" block>Search!</Button>\n          </form>\n          <hr />\n        </div>\n\n        { this.state.showResults && <Results\n            tb={this.props.match.params.table}\n            type=\"adv\"\n            data={this.state.rows}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\n  import Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n\n  render() {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Custom query' />\n        <Results\n            tb={this.props.match.params.table}\n            type=\"encoded\"\n            q={qstring.q}\n            page={qstring.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\n\n\n\nexport default class SearchAll extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='View all' />\n\n      \t<Results\n            tb={this.props.match.params.table}\n            type=\"all\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nimport SubHead from '../SubHead/SubHead';\nimport Loading from '../Loading/Loading';\n\nimport PlacesMd from './places/places.md';\nimport PlacesImg from './places/places.jpg';\n\nimport ManuscriptsMd from './manuscripts/manuscripts.md';\nimport ManuscriptsImg from './manuscripts/manuscripts.jpg';\n\nimport WorksMd from './works/works.md';\n// import WorksImg from './works/works.jpg';\n\nimport TitlesMd from './titles/titles.md';\n// import TitlesImg from './titles/titles.jpg';\n\nimport AuthorsMd from './authors/authors.md';\nimport AuthorsImg from './authors/authors.jpg';\n\nimport ColophonsMd from './colophons/colophons.md';\n// import ColophonsImg from './colophons/colophons.jpg';\n\nexport default class PlacePage extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      tb: props.match.params.table,\n      label: false,\n      text: false,\n      img: false\n    }\n  }\n\n  _updateData(tb){\n    let md = false;\n    let img = false;\n    let label = false;\n\n    switch (tb) {\n      case 'places':\n        md = PlacesMd;\n        img = PlacesImg;\n        label = 'Places';\n        break;\n      case 'manuscripts':\n        md = ManuscriptsMd;\n        img = ManuscriptsImg;\n        label = 'Manuscripts';\n        break;\n      case 'works':\n        md = WorksMd;\n        // img = WorksImg;\n        label = 'Works';\n        break;\n      case 'titles':\n        md = TitlesMd;\n        // img = TitlesImg;\n        label = 'Titles';\n        break;\n      case 'authors':\n        md = AuthorsMd;\n        img = AuthorsImg;\n        label = 'Authors';\n        break;\n      case 'colophons':\n        md = ColophonsMd;\n        // img = ColophonsImg;\n        label = 'Colophons';\n        break;\n      default:\n        return false;\n    }\n\n    fetch(md).then((response) => response.text()).then((text) => {\n      this.setState({\n        tb: tb,\n        text: text,\n        img: img,\n        label: label\n      })\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.table !== prevProps.match.params.table) {\n      this._updateData(this.props.match.params.table);\n    }\n  }\n\n  componentDidMount() {\n    this._updateData(this.state.tb)\n  }\n\n\n  render() {\n    if(!this.state.text){\n      return <Loading />\n    }\n\n    return (\n      <div>\n        <div>\n          { this.state.img && <img className=\"img-fluid\" src={this.state.img} alt={this.state.label} /> }\n        </div>\n\n        <SubHead tblabel={this.state.label} tb={this.state.tb} text=\"Introduction\" />\n\n        <div className=\"container\">\n          <div className=\"my-3 px-md-5 double-column\">\n            <ReactMarkdown source={this.state.text} escapeHtml={false} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport Matrix from 'quirematrix';\n\nclass QuireMatrixView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid : Math.random().toString(36).substr(2, 5)\n    };\n  }\n\n  componentDidMount(){\n    const m = new Matrix('canvas'  + this.state.uid);\n    m.parseString(this.props.string, 'secondHalf' + this.state.uid);\n  }\n\n  render() {\n    const height = 100 + this.props.string.length / 3 * 20;\n    return (\n      <div className=\"mt-2 mb-4\">\n        <Row>\n          <Col id=\"firstHalf\">{ this.props.string }</Col>\n          <Col id={ 'secondHalf' + this.state.uid }></Col>\n        </Row>\n        <canvas width=\"400\" height={ height } id={ 'canvas'+ this.state.uid }></canvas>\n      </div>\n    );\n  }\n}\n\n\nexport default QuireMatrixView;\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\n\n\n\n\nfunction relaxedSplit(str, offset, until = '.'){\n  if (!str || str.length <= offset){\n    return [str, false];\n  }\n  const str1 = str.substr(0, offset);\n\n  if (str1.substr(str1.length - 1) === until){\n    return [str1, false];\n  }\n\n  var start = str1 + '' + str.replace(str1, '').split(until)[0];\n  return [\n    start + until,\n    str.replace(start + until, '')\n  ];\n}\n\n\nexport default class PreviewText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n\n    const textParts = relaxedSplit(this.props.text, 200, '.');\n    if (!textParts[1]){\n      return textParts[0];\n    }\n\n    return (\n      <span>{ textParts[0] }\n        <span style={{ display: this.state.display }}>{ textParts[1] }</span>\n        {this.state.display === 'none' ? '\\u2026' : ''}\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? '+' : '-'}\n        </Button>\n      </span>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport QuireMatrixView from './QuireMatrixView';\nimport PreviewText from './PreviewText';\n\n\n\nclass RecordCell extends Component {\n\n  render() {\n    const val = this.props.val;\n    const label = this.props.label;\n    let className = [];\n    if(this.props.coptic){\n      className.push('coptic');\n    }\n    if(this.props.greek){\n      className.push('greek');\n    }\n    return (\n      <Row className={\"border-bottom mt-2 mb-2 pb-1\" + (val !== null ? '' : ' d-none') }>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{label}</label>\n        </Col>\n        <Col>\n          <div className={ className.join(' ') }>\n            {  ( label === 'Quire layout' ) ? (<QuireMatrixView string={val} />) : <PreviewText text={val} /> }\n          </div>\n        </Col>\n\t    </Row>\n    );\n  }\n}\n\nexport default RecordCell;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass RecordLinks extends Component {\n\n  makeHref(table, query){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      'search',\n      '/',\n      strippedTb,\n      '/',\n      'encoded',\n      '?q=' + window.btoa('SELECT * FROM ' + table + ' WHERE ' + query)\n    ];\n\n    return url.join('');\n  }\n\n  renderLinks(links){\n\n     return Object.entries(links).map(\n      ([tb, info], i) => {\n        if (info.tot < 1) {\n          return null;\n        }\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, info.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {info.tot + ' referenced item' + (info.tot > 1 ? 's': '') + ' in ' + info.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  renderBackLinks(backlinks){\n    if (typeof backlinks === 'undefined' || backlinks.length < 1){\n      return false;\n    }\n\n    return Object.entries(backlinks).map(\n      ([tb, arr], i) => {\n        if (arr.tot < 1){\n          return false;\n        }\n\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, arr.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {arr.tot + ' referenced item' + (arr.tot > 1 ? 's': '') + ' in ' + arr.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  render() {\n    if( (!this.props.links && !this.props.backlinks) || (this.props.links.length < 1 && this.props.backlinks.length < 1) ){\n      return null;\n    }\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            { this.renderLinks(this.props.links) }\n            { this.renderBackLinks(this.props.backlinks) }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default RecordLinks;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass UserLinks extends Component {\n\n  makeHref(table, id){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      'read',\n      '/',\n      strippedTb,\n      '/',\n      id\n    ];\n\n    return url.join('');\n  }\n\n  render() {\n    const links = this.props.links || [];\n\n    if (typeof links === 'undefined' || links.length < 1) {\n      return null;\n    }\n\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Manualy entered links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            {\n              links.map(\n                (l, i) => {\n                  return <ListGroupItem key={i} tag={Link} to={ this.makeHref(l.tb_stripped, l.ref_id) }>\n                    <FontAwesomeIcon icon=\"external-link-square-alt\" />  { l.tb_label } #{ l.ref_label ? l.ref_label : l.ref_id }\n                  </ListGroupItem>\n                }\n              )\n            }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default UserLinks;\n","import React, { Component } from 'react';\n\nimport { CardBody } from 'reactstrap';\n\nexport default class Caption extends Component {\n  render(){\n    if (!this.props.text){\n      return null;\n    }\n    return (<CardBody className=\"text-secondary\" style={{ fontSize: '.9rem', fontStyle: 'italic'}}>{this.props.text}</CardBody>);\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardImg, Modal, ModalFooter, ModalBody } from 'reactstrap';\n\nimport Caption from './Caption';\n\n\nexport default class PreviewModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <div>\n        <Card className=\"mt-1\">\n          <CardImg top\n              width=\"100%\"\n              src={this.props.file}\n              onClick={this.toggle} />\n            <Caption text={this.props.description} />\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className} size=\"lg\">\n          <ModalBody>\n            <div>\n              <img style={ { width: \"100%\" } }\n                  src={this.props.file}\n                  alt={ this.props.description } />\n            </div>\n          </ModalBody>\n          <ModalFooter><Caption text={this.props.description} /></ModalFooter>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\n\nimport PreviewModal from './PreviewModal';\n\nexport default class MoreImages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: false,\n      buttonText: 'Show more images'\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      shown: !this.state.shown,\n      buttonText : this.state.buttonText === 'Show more images' ? 'Hide' : 'Show more'\n    });\n  }\n\n  render(){\n    if (!this.props.files || this.props.files.length < 1){\n      return null;\n    }\n    return (\n      <div>\n        <div style={{ display: this.state.shown ? 'block' : 'none' }}>\n        {\n          this.props.files.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        </div>\n        <div className=\"text-center mt-2\" >\n          <Button onClick={this.toggle} color=\"info\">{ this.state.buttonText}</Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport MoreImages from './MoreImages';\nimport PreviewModal from './PreviewModal';\n\n\nexport default class Files extends Component {\n\n  render() {\n    let files = this.props.files || [];\n    files = files.map( f => {\n      if (['jpg', 'png', 'gif', 'tif', 'tiff'].includes(f.ext)){\n        return f;\n      } else {\n        return false;\n      }\n    });\n    const firstFiles = files.slice(0,3);\n    const otherFiles = files.slice(3);\n\n    if(firstFiles.length < 1){\n      return null;\n    }\n\n    return (\n\n      <div className=\"mt-3\">\n        <h5>Attached images</h5>\n        {\n          firstFiles.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        <MoreImages files={otherFiles} baseUrl={this.props.baseUrl} />\n      </div>\n\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nfunction showLink(zotero, short){\n  if (zotero){\n    return (<a href={'https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/' + zotero} target=\"_blank\" rel=\"noopener noreferrer\">{short}</a>)\n  } else {\n    return short;\n  }\n}\n\nexport default class PluginBiblio extends Component {\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (\n                <span key={di} className=\"mr-3\">\n                  { showLink(d.zotero.val,d.short.val) }\n                  { d.details.val ? ', ' + d.details.val : ''};\n                </span>\n              )\n            })\n          }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\n\n\nexport default class PluginBiblio extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n  getHtmlModalBody(d){\n    return (\n      <dl>\n        <dt>Country:        </dt><dd>{d.country.val}</dd>\n        <dt>Town:           </dt><dd>{d.town.val}</dd>\n        <dt>Institution:    </dt><dd>{d.institution.val}</dd>\n        <dt>Collection name:</dt><dd>{d.name.val}</dd>\n        <dt>CMCL full name: </dt><dd>{d.fullsegnat.val}</dd>\n        <dt>URN:            </dt><dd><code>paths.shelfmarks.{d.id.val}</code></dd>\n      </dl>\n    );\n  }\n\n  toggle(d) {\n    if (d.id){\n      this.setState({\n        title: d.fullname.val,\n        body: this.getHtmlModalBody(d)\n      });\n    } else {\n\n    }\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            <ul>\n            {\n              this.props.data.data.map( (d, di) =>{\n                return (\n                  <li key={di}>\n                    <Button style={{margin: '0 0 4px 0', padding: 0}} color=\"link\" onClick={ () => this.toggle(d) }>\n                      {d.fullname.val}\n                    </Button>\n                    { d.shelfmark.val ? ', ' + d.shelfmark.val : ''}\n                    { d.pp.val ? ', ' + d.pp.val : ''}\n                  </li>\n                )\n              })\n            }\n          </ul>\n          </CardBody>\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>{ this.state.title }</ModalHeader>\n          <ModalBody>{ this.state.body }</ModalBody>\n        </Modal>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {HorizontalBar} from 'react-chartjs-2';\n\nconst m = {\n  'Predynastic Egypt (4500 BC - 2950 BC)':                  {s: -4500, e:-2950},\n  'Early Dynastic Egypt (2950 BC - 2670 BC)':               {s: -2950, e:-2760},\n  'Old Kingdom Egypt (2670 BC - 2168 BC)':                  {s: -2760, e:-2168},\n  'First Intermediate Period Egypt (2168 BC - 2010 BC)':    {s: -2168, e:-2010},\n  'Middle Kingdom Egypt (2010 BC - 1640 BC)':               {s: -2010, e:-1640},\n  'Second Intermediate Period Egypt (1640 BC - 1548 BC)':   {s: -1640, e:-1548},\n  'New Kingdom Egypt (1548 BC - 1086 BC)':                  {s: -1548, e:-1086},\n  'Third Intermediate Period Egypt (1086 BC - 664 BC)':     {s: -1086, e:-664},\n  'Late Period Egypt (664 BC - 332 BC)':                    {s: -664,  e:-332},\n  'Macedonian Egypt (332 BC - 304 BC)':                     {s: -332,  e:-304},\n  'Ptolemaic Egypt (304 BC - 30 BC)':                       {s: -304,  e:-30},\n  'Ptolemaic-Roman Egypt (304 BC - AD 640)':                {s: -306,  e:640},\n  'Roman, early Empire (30 BC - AD 300)':                   {s: -30,   e:300},\n  'Late Antique (AD 300 - AD 640)':                         {s: 300,   e:640},\n  'Early Byzantine (AD 650 - AD 850)':                      {s: 650,   e:850},\n  'Middle Byzantine (AD 850 - AD 1200)':                    {s: 850,   e:1200},\n  'Late Byzantine Period (AD 1200 - AD 1450)':              {s: 1200,  e:1450},\n  'Early Ottoman Empire (AD 1453 - AD 1683)':               {s: 1453,  e:1683},\n  'Ottoman Empire (AD 1513 - AD 1918)':                     {s: 1513,  e:1918}\n};\n\nconst options = {\n  legend: {\n    display: false\n  },\n  scales: {\n    yAxes: [{\n      stacked: true\n    }],\n    xAxes: [{\n      ticks:{\n        stepSize: 100,\n        max: 1918\n      }\n    }]\n  }\n};\n\n// let used_cols = [];\n//\n// function getRandomColor() {\n//   let letters = '0123456789ABCDEF';\n//   let color = '#';\n//   for (var i = 0; i < 6; i++) {\n//     color += letters[Math.floor(Math.random() * 16)];\n//   }\n//   if (used_cols.indexOf(color) > -1){\n//     color = getRandomColor();\n//   } else {\n//     used_cols.push(color);\n//     return color;\n//   }\n// }\n\n\nexport default class Timeline extends Component {\n\n\n\n  render() {\n    if (!this.props.placefase || this.props.placefase.length < 1) {\n      return null;\n    }\n\n    let data = {\n      labels: [],\n      datasets: [\n        {\n          backgroundColor: '#fff',\n          hoverBackgroundColor: '#fff',\n          data: []\n        },\n        {\n          backgroundColor: '#B5353C',\n          borderColor: '#B5353C',\n          borderWidth: 1,\n          hoverBackgroundColor: '#B5353C',\n          hoverBorderColor: '#B5353C',\n          data: []\n        }\n      ]\n    };\n\n    this.props.placefase.data.forEach(e => {\n      data.labels.push(e.fperiod.val.replace(/\\s*\\([^)]+\\)/gi, ''));\n      if (m[e.fperiod.val]){\n        // end BCE => white: e; red: s\n        if (m[e.fperiod.val].e < 0){\n          data.datasets[0].data.push(m[e.fperiod.val].e);\n          data.datasets[1].data.push(m[e.fperiod.val].s);\n        } else if (m[e.fperiod.val].e > 0 && m[e.fperiod.val].s < 0){\n        // end CE, start BCE => white:\n          data.datasets[1].data.push(m[e.fperiod.val].s);\n          data.datasets[1].data.push(m[e.fperiod.val].e);\n          data.datasets[0].data.push(0);\n          data.datasets[0].data.push(0);\n          data.labels.push(e.fperiod.val.replace(/\\s*\\([^)]+\\)/gi, ''));\n        }\n      }\n    });\n\n    // const dataT = {\n    //   \"labels\":[\n    //     \"\"\n    //   ],\n    //   \"datasets\":[\n    //     {\n    //       \"backgroundColor\":\"#fff\",\n    //       \"borderColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#fff\",\n    //       \"data\":[0]\n    //     },\n    //     {\n    //       \"backgroundColor\":\"#ff00ff\",\n    //       \"borderColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#ff00ff\",\n    //       \"data\":[-2550]\n    //     },\n    //     {\n    //       \"backgroundColor\":\"#ff0000\",\n    //       \"borderColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#ff0000\",\n    //       \"data\":[-3550]\n    //     },\n    //     {\n    //       \"backgroundColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#B5353C\",\n    //       \"data\":[-4500]\n    //     }\n    //     ]}\n\n\n    return <div className=\"mt-5\">\n      <h5>Other phases overview</h5>\n      <HorizontalBar data={data} options={options} />\n    </div>\n  }\n}\n\n// export default MiniMap;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nimport RecordCell from './RecordCell';\nimport PluginBiblio from './PluginBiblio';\nimport PluginShelfmarks from './PluginShelfmarks';\nimport Timeline from './Timeline';\n\n\n\nclass Plugin extends Component {\n\n  render() {\n\n    if (this.props.data.data.length < 1) {\n      return null;\n    }\n\n    if(this.props.data.metadata.tb_id === 'paths__m_biblio'){\n      return <PluginBiblio data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_shelfmarks'){\n      return <PluginShelfmarks data={ this.props.data } />\n    }\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n\n          {this.props.data.metadata.tb_id === 'paths__m_placefase' && <div className=\"p-1\"><Timeline placefase={ this.props.data } /></div>}\n\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (<CardBody key={di} className=\"border border-info mb-2\">{\n                  Object.keys(d).map( (f, fi) => {\n                    if (d[f].label){\n                      return <RecordCell val={ d[f].val_label ? d[f].val_label : d[f].val } label={ d[f].label } key={fi} />\n                    } else {\n                      return null;\n                    }\n                  })\n                }<hr /></CardBody>)\n            } )\n          }\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default Plugin;\n","import React, { Component } from 'react';\nimport { Map, TileLayer, Marker } from 'react-leaflet';\n\nclass MiniMap extends Component {\n\n  render() {\n    if (this.props.geom.length < 1) {\n      return null;\n    }\n    const position = JSON.parse(this.props.geom[0].geojson).coordinates.reverse();\n\n    return (\n      <div style={{ height: '300px', width: '100%' }}>\n        <Map className=\"sidebar-map maxHeight\" center={ position } zoom={11} zoomControl={true}>\n          <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n\n          { this.props.geom.map( (e, i) => {\n            const coord = JSON.parse(e.geojson).coordinates.reverse();\n            return (<Marker position={ coord } key={ i } />)\n          } ) }\n\n        </Map>\n      </div>\n\n    );\n  }\n}\n\nexport default MiniMap;\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class CoptOT extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=\" + encodeURIComponent(this.props.data.val)} target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> The Digital Edition of the Coptic Old Testament\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TM extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/text/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Trismegistos texts\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TmPlaces extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/place/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Trismegistos places\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Ldab extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/ldab/text.php?quick=\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Leuven Database of Ancient books\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Pleiades extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://pleiades.stoa.org/places/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Pleiades\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport CoptOT from './ExternalLinks/CoptOT';\nimport TM from './ExternalLinks/TM';\nimport TmPlaces from './ExternalLinks/TmPlaces';\nimport Ldab from './ExternalLinks/Ldab';\nimport Pleiades from './ExternalLinks/Pleiades';\n\n\nexport default class ExternalLinks extends Component {\n\n  render() {\n    if ( !this.props.rec || this.props.rec.length < 1 ) {\n      return null;\n    }\n    return <div className=\"mt-3\">\n\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon={['fab', 'hubspot']} /> External links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            <CoptOT   data={this.props.rec.lcbm}  tb={this.props.tb}/>\n            <TM       data={this.props.rec.tm}    tb={this.props.tb} />\n            <Ldab     data={this.props.rec.ldab}  tb={this.props.tb} />\n\n            <TmPlaces data={this.props.rec.tm}    tb={this.props.tb} />\n            <Pleiades data={this.props.rec.pleiades} tb={this.props.tb} />\n\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col } from 'reactstrap';\n\nimport Database from '../Services/Database/Database';\nimport Cfg from '../Services/Cfg/Cfg';\nimport SubHead from '../SubHead/SubHead';\nimport RecordCell from './RecordCell';\nimport RecordLinks from './RecordLinks';\nimport UserLinks from './UserLinks';\nimport Files from '../ViewFiles/Files';\nimport Plugin from './Plugin';\nimport MiniMap from './MiniMap';\nimport Loading from '../Loading/Loading';\nimport ExternalLinks from './ExternalLinks';\nimport Timeline from './Timeline';\n\nclass ReadTitle extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rec: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        rec: null\n      });\n\n      Database.getOne(nextProps.match.params.table, nextProps.match.params.id, (d) =>{\n        this.setState({\n          rec: d\n        });\n      });\n    }\n  }\n\n  componentDidMount(){\n    Database.getOne(this.props.match.params.table, this.props.match.params.id, (d) =>{\n      this.setState({\n        rec: d\n      });\n    });\n  }\n\n  renderTemplate(rec) {\n\n    if (rec.type === 'error'){\n      return (<pre className=\"text-danger p-5\">{ rec.text }</pre>)\n    }\n\n    switch (rec.metadata.tb_stripped) {\n      // case 'titles':\n      //   return (<ViewOneTitle record={ rec } />);\n      default:\n        if (rec.core.length < 1){\n          return (\n            <div className=\"container\">\n              <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n                <Card className=\"mt-2\">\n                  <CardHeader>\n                    <h3 className=\"text-danger\">Record paths.{ rec.metadata.tb_stripped }.{ this.props.match.params.id }  not found!</h3>\n                  </CardHeader>\n                </Card>\n            </div>\n          )\n        }\n        return(\n          <div className=\"container\">\n\n            <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n\n            <Row className=\"mt-2\">\n              <Col sm=\"8\">\n                <Card>\n                  <CardHeader>\n                    <h3>paths.{ rec.metadata.tb_stripped }.{ rec.core.id.val }</h3>\n                  </CardHeader>\n                  <CardBody>\n                    {\n                      Object.values(rec.core).map( (i, k) => {\n                        if (Cfg.hidden.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1){\n                          return null;\n                        }\n                        return <RecordCell\n                            coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                            greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                            label={ i.label }\n                            val={ i.val_label ? i.val_label : i.val}\n                            key={k} />\n                      })\n                    }\n                    {\n                      Object.keys(rec.plugins).map( (t, k) => {\n                        return  <Plugin key={k} data={rec.plugins[t]} />\n                      })\n                    }\n                  </CardBody>\n                </Card>\n              </Col>\n              <Col sm=\"4\">\n                <MiniMap geom={ rec.geodata } />\n                <Timeline placefase={ rec.plugins.paths__m_placefase } />\n                <Files files={ rec.files } baseUrl={ Database.getBaseUrl() } />\n                <RecordLinks links={ rec.links } backlinks={ rec.backlinks } />\n                <UserLinks links={ rec.manualLinks } />\n                <ExternalLinks rec={ rec.core } tb={ rec.metadata.tb_stripped } />\n              </Col>\n            </Row>\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.state.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.state.rec) }\n      </div>\n    );\n  }\n}\n\nexport default ReadTitle;\n","import React, { Component } from 'react';\nimport {Bar} from 'react-chartjs-2';\n\n\nexport default class ChartView extends Component {\n\n  parseData(data){\n    let d = {\n      labels: [],\n      datasets: [{\n        label: 'My First dataset',\n        backgroundColor: 'rgba(195,31,42,0.8)',\n        borderColor: 'rgba(195,31,42,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(195,31,42,1)',\n        hoverBorderColor: 'rgba(195,31,42,0.8)',\n        data: []\n      }]\n    }\n\n    data.forEach(row => {\n      d.labels.push(row.series_name)\n      Object.keys(row).forEach(k =>{\n        if (k !== 'series_name'){\n          d.datasets[0].data.push(row[k]);\n          d.datasets[0].label = k;\n        }\n      });\n    });\n\n    return d;\n  }\n\n  render(){\n    if (this.props.loading){\n      return <p className=\"lead my-5 text-secondary\">Loading chart...</p>;\n    }\n    if (!this.props.data){\n      return null;\n    }\n\n    const data = this.parseData(this.props.data);\n    return (\n      <div className=\"my-5\">\n        <h2>{ this.props.name }</h2>\n          <Bar data={ data }  width={100}\n          height={350}\n          options={{\n            maintainAspectRatio: false\n          }}/>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, Card, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport Database from '../Services/Database/Database';\nimport ChartView from './ChartView';\n\n\nexport default class ChartList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: false,\n      data: false,\n      loading: false\n    };\n  }\n\n  loadChart(id){\n    this.setState({ loading: true });\n    Database.getChart(id, d => {\n      this.setState({ name: d.name });\n      this.setState({ data: d.data });\n      this.setState({ loading: false });\n    });\n\n  }\n\n  render(){\n    if (!this.props.charts){\n      return <p className=\"lead my-5 text-secondary\">Loading chart list...</p>;\n    }\n    if (this.props.charts.type === 'error'){\n      return (\n        <div className=\"text-danger mt-5 px-5\">Sorry! There was an error getting list of chart from the database...</div>\n      );\n    }\n    return (\n      <div className=\"mt-5\">\n        <ChartView name={this.state.name} data={this.state.data} loading={this.state.loading}/>\n        <Card>\n          <CardBody>\n            <ListGroup>\n              { this.props.charts.map( (c, i) => {\n                return (\n                  <ListGroupItem\n                    key={i}\n                    tag={Button}\n                    onClick={ () => this.loadChart(c.id) } className=\"mb-3\"\n\n                    color=\"secondary\">\n                    { c.name }\n                  </ListGroupItem>\n                );\n              } ) }\n            </ListGroup>\n          </CardBody>\n        </Card>\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\nimport ChartList from './ChartList';\n\n\nexport default class Charts extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartList: false\n    };\n  }\n\n  componentDidMount(prevProps, prevState){\n    Database.getChart('all', d => {\n      this.setState({ chartList: d });\n    });\n  }\n\n\n  render(){\n    return (\n      <div className=\"container mt-5\">\n        <h1><FontAwesomeIcon icon=\"chart-bar\" /> Available charts</h1>\n        <ChartList charts={this.state.chartList} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faIdBadge, faLink, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\n\nimport MainTemplate from './components/mainLayout/MainTemplate';\nimport Home from './components/Home/Home';\nimport PathsMap from './components/PathsMap/PathsMap';\n\nimport SearchSaved from './components/Search/SearchSaved';\nimport SearchSimple from './components/Search/SearchSimple';\nimport SearchAdv from './components/Search/SearchAdv';\nimport SearchEncoded from './components/Search/SearchEncoded';\nimport SearchAll from './components/Search/SearchAll';\n\nimport Intro from './components/Intro/Intro';\n\nimport ViewOne from './components/Record/ViewOne';\nimport Charts from './components/Charts/Charts';\n\n\nlibrary.add(fas, fab, faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faGithub, faIdBadge, faLink, faMapMarkerAlt);\n\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter basename=\"atlas\">\n        <Switch>\n          <Route path='/map/:action?/:data?' component={PathsMap}/>\n          <MainTemplate>\n            <Route exact path='/' component={Home} />\n            <Route path='/:table(places|titles|works|manuscripts|authors|colophons)' component={Intro} />\n\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons)/saved' component={SearchSaved} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons)/all' component={SearchAll} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons)/adv' component={SearchAdv} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons)/encoded' component={SearchEncoded} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons)' component={SearchSimple} />\n\n            <Route exact path='/read/:table(places|titles|works|manuscripts|authors|colophons)/:id' component={ViewOne} />\n\n            <Route exact path='/charts/:id?' component={Charts} />\n\n          </MainTemplate>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\n"],"sourceRoot":""}