{"version":3,"sources":["components/mainLayout/img/erc.jpg","components/mainLayout/img/sapienza.jpg","components/Home/paths-logo.png","components/Home/IntroMd.md","components/Home/MissionStatementMd.md","components/Home/lod.md","components/Loading/Ripple-1.7s-200px.svg","components/Intro/places/places.md","components/Intro/places/places.jpg","components/Intro/manuscripts/manuscripts.md","components/Intro/manuscripts/manuscripts.jpg","components/Intro/works/works.md","components/Intro/works/works.jpg","components/Intro/titles/titles.md","components/Intro/titles/titles.jpg","components/Intro/authors/authors.md","components/Intro/authors/authors.jpg","components/Intro/colophons/colophons.md","components/Intro/colophons/colophons.jpg","components/Intro/collections/collections.md","components/Intro/collections/collections.jpg","components/Cite/Cite.md","components/Services/SavedQueries.js","components/Services/Database/Database.jsx","components/mainLayout/Header.jsx","components/mainLayout/Footer.jsx","components/mainLayout/MainTemplate.jsx","components/Loading/Loading.jsx","components/Home/Disclaimer.jsx","components/Home/Home.jsx","components/PathsMap/ListPlaces.jsx","components/PathsMap/UrlFilterButton.jsx","components/PathsMap/TabLegend.jsx","components/PathsMap/TabSavedQueries.jsx","components/PathsMap/ClearButton.jsx","components/PathsMap/PathsMap.jsx","components/SubHead/SavedQueriesList.jsx","components/Services/Cfg/Cfg.js","components/SubHead/SubHead.jsx","components/SqlModal/SqlModal.jsx","components/PaginateResult/PaginateResult.jsx","components/Search/ItemPreview.jsx","components/Manuscripts/OpenInMap.jsx","components/Search/Results.jsx","components/Search/SearchSaved.jsx","components/Search/FldSelect.jsx","components/Search/ValueInput.jsx","components/Search/CustomSearchForm.jsx","components/Search/SearchSimple.jsx","components/Search/OperatorSelect.jsx","components/Search/ConnectorSelect.jsx","components/Search/SearchAdv.jsx","components/Search/SearchEncoded.jsx","components/Search/SearchAll.jsx","components/Intro/Intro.jsx","components/Record/QuireMatrixView.jsx","components/Record/PreviewText.jsx","components/Record/RecordCell.jsx","components/Record/PluginBiblio.jsx","components/Record/PluginShelfmarks.jsx","components/Record/PluginToponyms.jsx","components/Record/Timeline.jsx","components/Record/Plugin.jsx","components/Record/Bodies/ManuscriptsBody.jsx","components/Record/Bodies/Body.jsx","components/Record/RecordLinks.jsx","components/Record/UserLinks.jsx","components/ViewFiles/Caption.jsx","components/ViewFiles/PreviewModal.jsx","components/ViewFiles/MoreImages.jsx","components/ViewFiles/Files.jsx","components/Record/MiniMap.jsx","components/Record/ExternalLinks/CoptOT.jsx","components/Record/ExternalLinks/TM.jsx","components/Record/ExternalLinks/TmPlaces.jsx","components/Record/ExternalLinks/Ldab.jsx","components/Record/ExternalLinks/Pleiades.jsx","components/Record/ExternalLinks/CopticColophons.jsx","components/Record/ExternalLinks.jsx","components/Record/ViewOne.jsx","components/Charts/ChartView.jsx","components/Charts/ChartList.jsx","components/Charts/Charts.jsx","components/Cite/Cite.jsx","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","SavedQueries","places","episcopal_sees","id","title","url","data","q_encoded","btoa","has_monasteries","churches","cemeteries","forts","hermitages","mines","monasteries","settlements","shrines","authors","bishops","manuscripts","ms_has_bindings","horizontal_rolls","vertical_rolls","minor_dialects","ms_third_c","ms_forth_c","ms_fifth_c","ms_sixth_c","ms_seventh_c","works","early_translations_sahidic","early_translations_bohairic","early_translations_other","early_translations_apocryphal","unescape","encodeURIComponent","translations_gnostic","translations_manichaean","translations_patristic","pachomius","shenoute","standard_translations","translations_apocryphal_second","translations_hagiographical","classsical_translations_homilies","classsical_translations_historiae","classsical_translations_acts","classsical_translations_monastic","post_chalcedonian","historiographic","orig_lit_formation","orig_lit_damian_hag","orig_lit_damian_hom","poetry","orig_lit_hom","original_lit_early_islamic","standard_translations_in_bohairic","original_lit_later_hag","synaxarial","late_liturgical","map","discovery_places","join","fields[paths__geodata.geometry]","fields[p.id]","fields[p.name]","fields[p.pleiades]","fields[p.typology]","fields[mp.type]","fields[count(mp.id_link)]","group","limit_start","limit_end","storage_places","production_places","all_ms_places","bishoprics","fields[paths__places.id]","fields[paths__places.name]","fields[paths__places.pleiades]","fields[paths__places.typology]","multi_stratified","baseUrl","window","location","hostname","Database","params","callback","axios","method","headers","Content-Type","then","res","catch","Error","console","log","message","tb","fld","string","cb","this","getData","verb","replace","s","d","grp","q","page","status","text","concat","val","strict","type","adv[a0][fld]","adv[a0][operator]","adv[a0][value]","Object","entries","forEach","_ref","_ref2","slicedToArray","k","v","f","o","c","head","table_label","sql","gj","newgj","features","currentId","_ref3","_ref4","value","properties","push","length","toponym","where","_this","fields[paths__m_toponyms.toponym]","simplifyGeojson","ms_where","fields[paths__m_msplaces.type]","FixedNavbar","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggle","bind","assertThisInitialized","state","isOpen","setState","react_default","a","createElement","reactstrap_es","color","dark","expand","className","to","tag","Link","onClick","navbar","style","backgroundColor","RRNavLink","react_fontawesome_index_es","icon","nav","inNavbar","caret","right","target","href","getBaseUrl","Component","Footer","rel","xs","size","md","offset","src","Sapienza","alt","Erc","borderWidth","packageJson","version","MainTemplate","Header","role","children","Footer_Footer","React","Loading","width","Ripple","Disclaimer","modal","block","Home","titles","path","intro","missionstatement","lod","_this2","e","fetch","response","_this3","Loading_Loading","i","key","listStyle","with_html_default","source","escapeHtml","Disclaimer_Disclaimer","imgPathsLogo","showContentAndToc","ListPlaces","name","copticname","ee","ii","UrlFilterButton","urlFilter","TabLegend","margin","padding","background","TabSavedQueries","values","show","addonType","aria-hidden","BaseLayer","LayersControl","googleKey","PathsMap","shownPlaces","sidebarCollapsed","selected","manualFilter","placesLayerRef","createRef","mapRef","t","L","CircleMarker","radius","weight","opacity","fillColor","fillOpacity","feature","layer","base","pathname","bindPopup","str","fgj","_arr","_i","toLowerCase","includes","fitMapToBounds","bounds","current","leafletElement","getBounds","fitBounds","savedQ","locationSearch","getSaved","qstring","qs","parse","search","ignoreQueryPrefix","getMsPlaces","getPlaces","nextProps","fetchData","match","react_leaflet_sidebarv2_lib","collapsed","onOpen","onSidebarOpen","onClose","onSidebarClose","closeIcon","header","onChange","filterPlaces","placeholder","ClearButton_ListPlaces","clearFiltered","UrlFilterButton_UrlFilterButton","filter","ListPlaces_ListPlaces","TabSavedQueries_TabSavedQueries","anchor","TabLegend_TabLegend","Map","zoomControl","ref","position","TileLayer","checked","react_leaflet_google","googlekey","maptype","GeoJSON","hash","pointToLayer","onEachFeature","SavedQueriesList","tblabel","aria-label","closeFn","Cfg","coptic","greek","hidden","id_fld","collections","colophons","persons","searchDefault","preview","label","fld_whitelist","SubHead","showSaved","preventDefault","menuItems","light","toggleSaved","SavedQueriesList_SavedQueriesList","SqlModal","height","whiteSpace","PaginateResult","result","queryString","tot_rows","curr_page","arguments","undefined","tot_pages","Math","ceil","parseInt","qString","stringify","disabled","active","build_object","totalRows","r","assign","PaginateResultSummary","start_at","up_to","components_SqlModal_SqlModal","query","ItemPreviewWrapper","ItemPreview","el","record","flds","fields","preview_flds","previewFlds","id_field","idField","sm","outline","hover","OpenInMap","indexOf","encodeURI","Results","getSimple","getAdv","getAll","getByEncodedSql","prevProps","_fetchData","decodeURIComponent","trace","total_rows","Manuscripts_OpenInMap","stripped_table","query_where","PaginateResult_PaginateResultSummary","query_arrived","PaginateResult_PaginateResult","ItemPreview_ItemPreviewWrapper","records","ItemPreview_ItemPreview","table","withRouter","SearchSaved","saved","prevState","old_qstring","new_qstring","components_SubHead_SubHead","Search_Results","FldSelect","fldList","selObj","keys","fullname","_setState","inspect","react_select_esm","defaultValue","options","ValueInput","_handleSearch","isLoading","_this$props$fld$split","split","_this$props$fld$split2","getUniqueVal","multiple","react_bootstrap_typeahead_lib","minLength","onSearch","onInputChange","defaultInputValue","CustomSearchForm","handleSubmit","_changeField","_changeVal","_changeStrict","constructor","Array","event","onSubmit","alert","row","FldSelect_FldSelect","ValueInput_ValueInput","check","SearchSimple","_onFormSubmit","history","CustomSearchForm_CustomSearchForm","OperatorSelect","ConnectorSelect","AdvSearchForm","rows","getOwnPropertyNames","showResults","_changeOperator","_changeConnector","_addRow","_removeRow","random","toString","substr","index","_handleSubmit","ConnectorSelect_ConnectorSelect","OperatorSelect_OperatorSelect","SearchAll","PlacePage","img","PlacesMd","PlacesImg","ManuscriptsMd","ManuscriptsImg","WorksMd","WorksImg","TitlesMd","TitlesImg","AuthorsMd","AuthorsImg","ColophonsMd","ColophonsImg","CollectionsMd","CollectionsImg","_updateData","styles","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","react_markdown_default","QuireMatrixView","uid","Matrix","parseString","PreviewText","display","toggleDisplay","textParts","until","str1","start","cont","relaxedSplit","nl2br","separator","RecordCell","Record_QuireMatrixView","PreviewText_PreviewText","PluginBiblio","metadata","tb_label","di","zotero","short","details","images","PluginShelfmarks","country","town","institution","fullsegnat","body","getHtmlModalBody","shelfmark","pp","ToggleText","TopoCell","tot","language","notes","transcription","PluginToponyms_ToggleText","PluginToponyms","obj","l","PluginToponyms_TopoCell","parseNames","m","Predynastic Egypt (4500 BC - 2950 BC)","Early Dynastic Egypt (2950 BC - 2670 BC)","Old Kingdom Egypt (2670 BC - 2168 BC)","First Intermediate Period Egypt (2168 BC - 2010 BC)","Middle Kingdom Egypt (2010 BC - 1640 BC)","Second Intermediate Period Egypt (1640 BC - 1548 BC)","New Kingdom Egypt (1548 BC - 1086 BC)","Third Intermediate Period Egypt (1086 BC - 664 BC)","Late Period Egypt (664 BC - 332 BC)","Macedonian Egypt (332 BC - 304 BC)","Ptolemaic Egypt (304 BC - 30 BC)","Ptolemaic-Roman Egypt (304 BC - AD 640)","Roman, early Empire (30 BC - AD 300)","Late Antique (AD 300 - AD 640)","Early Byzantine (AD 650 - AD 850)","Middle Byzantine (AD 850 - AD 1200)","Late Byzantine Period (AD 1200 - AD 1450)","Early Ottoman Empire (AD 1453 - AD 1683)","Ottoman Empire (AD 1513 - AD 1918)","legend","scales","yAxes","stacked","xAxes","ticks","stepSize","max","Timeline","placephase","labels","datasets","hoverBackgroundColor","borderColor","hoverBorderColor","fperiod","es","Plugin","tb_id","PluginBiblio_PluginBiblio","PluginShelfmarks_PluginShelfmarks","PluginToponyms_PluginToponyms","Timeline_Timeline","fi","tb_stripped","Record_RecordCell","val_label","ViewOne","rec","loaded_plg","core","Record_Plugin","plugins","ManuscriptsBody_ViewOne","renderTemplate","RecordLinks","links","info","makeHref","backlinks","arr","renderLinks","renderBackLinks","UserLinks","ref_id","ref_label","Caption","fontSize","fontStyle","PreviewModal","top","file","Caption_Caption","description","MoreImages","shown","buttonText","files","PreviewModal_PreviewModal","ext","Files","firstFiles","slice","otherFiles","MoreImages_MoreImages","MiniMap","geom","JSON","geojson","coordinates","reverse","center","zoom","coord","Marker","CoptOT","TM","TmPlaces","Ldab","Pleiades","CopticColophons","ExternalLinks","CoptOT_CoptOT","lcbm","TM_TM","tm","Ldab_Ldab","ldab","TmPlaces_TmPlaces","Pleiades_Pleiades","pleiades","CopticColophons_CopticColophons","copied","getOne","_this4","react_copy_to_clipboard_lib","onCopy","setTimeout","Body_ViewOne","Record_MiniMap","geodata","paths__m_placephase","Files_Files","Record_RecordLinks","Record_UserLinks","manualLinks","ExternalLinks_ExternalLinks","ChartView","series_name","loading","parseData","maintainAspectRatio","ChartList","getChart","charts","ChartView_ChartView","Button","loadChart","Charts","chartList","ChartList_ChartList","Cite","cite","showContent","library","add","fas","fab","faArrowCircleRight","faBug","faEye","faExternalLinkSquareAlt","faFilter","faGithub","faIdBadge","faLink","faMapMarkerAlt","App","BrowserRouter","basename","Switch","Route","component","MainTemplate_MainTemplate","exact","Intro","SearchAdv","SearchEncoded","Boolean","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"skDAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iXCEzBC,EAAA,CACbC,OAAQ,CACNC,eAAgB,CACdC,GAAI,iBACJC,MAAO,iBACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,sBAGtBC,gBAAiB,CACfN,GAAI,kBACJC,MAAO,mCACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,wBAGtBE,SAAU,CACRP,GAAI,WACJC,MAAO,WACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,2BAGtBG,WAAY,CACVR,GAAI,aACJC,MAAO,6CACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,0EAGtBI,MAAO,CACLT,GAAI,QACJC,MAAO,kBACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,gCAGtBK,WAAY,CACVV,GAAI,aACJC,MAAO,kBACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,sCAGtBM,MAAO,CACLX,GAAI,QACJC,MAAO,oBACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,iCAGtBO,YAAa,CACXZ,GAAI,cACJC,MAAO,cACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,8BAGtBQ,YAAa,CACXb,GAAI,cACJC,MAAO,aACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,+BAGtBS,QAAS,CACPd,GAAI,UACJC,MAAO,UACPC,IAAK,kCACLC,KAAM,CACJC,UAAaC,KAAK,4BAIxBU,QAAS,CACPC,QAAS,CACPhB,GAAI,UACJC,MAAO,wBACPC,IAAK,mCACLC,KAAM,CACJC,UAAaC,KAAK,+BAIxBY,YAAa,CACXC,gBAAiB,CACflB,GAAI,kBACJC,MAAO,gCACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,oBAGtBc,iBAAmB,CACjBnB,GAAI,mBACJC,MAAO,mBACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,oCAGtBe,eAAiB,CACfpB,GAAI,iBACJC,MAAO,iBACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,kCAGtBgB,eAAiB,CACfrB,GAAI,iBACJC,MAAO,6BACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,+KAWtBiB,WAAY,CACVtB,GAAI,aACJC,MAAO,oCACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,wBAGtBkB,WAAY,CACVvB,GAAI,aACJC,MAAO,iCACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,+CAGtBmB,WAAY,CACVxB,GAAI,aACJC,MAAO,iCACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,+CAGtBoB,WAAY,CACVzB,GAAI,aACJC,MAAO,iCACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,+CAGtBqB,aAAc,CACZ1B,GAAI,eACJC,MAAO,iCACPC,IAAK,uCACLC,KAAM,CACJC,UAAaC,KAAK,gDA4CxBsB,MAAO,CACLC,2BAA4B,CAC1B5B,GAAI,6BACJC,MAAO,oEACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK,6GAGtBwB,4BAA6B,CAC3B7B,GAAI,8BACJC,MAAO,iEACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK,qFAGtByB,yBAA0B,CACxB9B,GAAI,2BACJC,MAAO,yGACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK,6HAGtB0B,8BAA+B,CAC7B/B,GAAI,gCACJC,MAAO,wEACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,8FAGlDC,qBAAsB,CACpBlC,GAAI,uBACJC,MAAO,4FACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,kHAGlDE,wBAAyB,CACvBnC,GAAI,0BACJC,MAAO,mFACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,yGAGlDG,uBAAwB,CACtBpC,GAAI,yBACJC,MAAO,0EACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,gGAGlDI,UAAW,CACTrC,GAAI,YACJC,MAAO,2DACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,iFAGlDK,SAAU,CACRtC,GAAI,WACJC,MAAO,yFACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,+GAGlDM,sBAAuB,CACrBvC,GAAI,wBACJC,MAAO,+EACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,qGAGlDO,+BAAgC,CAC9BxC,GAAI,iCACJC,MAAO,uEACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,6FAGlDQ,4BAA6B,CAC3BzC,GAAI,8BACJC,MAAO,6DACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,mFAGlDS,iCAAkC,CAChC1C,GAAI,mCACJC,MAAO,uEACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,6FAGlDU,kCAAmC,CACjC3C,GAAI,oCACJC,MAAO,wFACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,8GAGlDW,6BAA8B,CAC5B5C,GAAI,+BACJC,MAAO,gGACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,sHAGlDY,iCAAkC,CAChC7C,GAAI,mCACJC,MAAO,kFACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,wGAGlDa,kBAAmB,CACjB9C,GAAI,oBACJC,MAAO,wGACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,8HAGlDc,gBAAiB,CACf/C,GAAI,kBACJC,MAAO,yCACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,+DAGlDe,mBAAoB,CAClBhD,GAAI,qBACJC,MAAO,8EACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,oGAGlDgB,oBAAqB,CACnBjD,GAAI,sBACJC,MAAO,mGACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,yHAGlDiB,oBAAqB,CACnBlD,GAAI,sBACJC,MAAO,8FACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,oHAGlDkB,OAAQ,CACNnD,GAAI,SACJC,MAAO,oCACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,0DAGlDmB,aAAc,CACZpD,GAAI,eACJC,MAAO,4EACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,kGAGlDoB,2BAA4B,CAC1BrD,GAAI,6BACJC,MAAO,mFACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,yGAGlDqB,kCAAmC,CACjCtD,GAAI,oCACJC,MAAO,oFACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,0GAGlDsB,uBAAwB,CACtBvD,GAAI,6BACJC,MAAO,mJACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,yKAGlDuB,WAAY,CACVxD,GAAI,aACJC,MAAO,0CACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,gEAGlDwB,gBAAiB,CACfzD,GAAI,kBACJC,MAAO,+CACPC,IAAK,iCACLC,KAAM,CACJC,UAAaC,KAAK2B,SAASC,mBAAmB,sEAIpDyB,IAAK,CACHC,iBAAkB,CAChB3D,GAAI,mBACJC,MAAO,8BACPC,IAAK,gDACLC,KAAM,CACJyD,KAAQ,mNAERC,kCAAmC,WACnCC,eAAgB,KAChBC,iBAAkB,OAClBC,qBAAsB,cACtBC,qBAAsB,gBACtBC,kBAAmB,aACnBC,4BAA6B,SAC7BC,MAAS,OACTC,YAAe,IACfC,UAAa,MACblE,UAAaC,KAAK,6BAGtBkE,eAAgB,CACdvE,GAAI,iBACJC,MAAO,4BACPC,IAAK,gDACLC,KAAM,CACJyD,KAAQ,mNAERC,kCAAmC,WACnCC,eAAgB,KAChBC,iBAAkB,OAClBC,qBAAsB,cACtBC,qBAAsB,gBACtBC,kBAAmB,aACnBC,4BAA6B,SAC7BC,MAAS,OACTC,YAAe,IACfC,UAAa,MAEblE,UAAaC,KAAK,2BAGtBmE,kBAAmB,CACjBxE,GAAI,oBACJC,MAAO,+BACPC,IAAK,gDACLC,KAAM,CACJyD,KAAQ,mNAERC,kCAAmC,WACnCC,eAAgB,KAChBC,iBAAkB,OAClBC,qBAAsB,cACtBC,qBAAsB,gBACtBC,kBAAmB,aACnBC,4BAA6B,SAC7BC,MAAS,OACTC,YAAe,IACfC,UAAa,MACblE,UAAaC,KAAK,8BAGtBoE,cAAe,CACbzE,GAAI,gBACJC,MAAO,sCACPC,IAAK,gDACLC,KAAM,CACJyD,KAAQ,gQAERC,kCAAmC,WACnCC,eAAgB,KAChBC,iBAAkB,OAClBC,qBAAsB,cACtBC,qBAAsB,gBACtBC,kBAAmB,aACnBC,4BAA6B,SAC7BC,MAAS,OACTC,YAAe,IACfC,UAAa,MACblE,UAAaC,KAAK,SAGtBqE,WAAY,CACV1E,GAAI,aACJC,MAAO,aACPC,IAAK,gDACLC,KAAM,CACJyD,KAAQ,kHACRC,kCAAmC,WACnCc,2BAA4B,KAC5BC,6BAA8B,OAC9BC,iCAAkC,cAClCC,iCAAkC,gBAClC1E,UAAaC,KAAM,mDAGvB0E,iBAAkB,CAChB/E,GAAI,mBACJC,MAAO,yBACPC,IAAK,gDACLC,KAAM,CACJyD,KAAQ,2SAERC,kCAAmC,WACnCc,2BAA4B,KAC5BC,6BAA8B,OAC9BC,iCAAkC,cAClCC,iCAAkC,gBAClC1E,UAAaC,KAAM,iCCniBvB2E,EAAU,yCAEmB,cAA7BC,OAAOC,SAASC,WAClBH,EAAU,sCAGSI,uGAEJlF,EAAKmF,EAAQC,GAE1BpF,EAAM8E,EAAU9E,EAEhBqF,IAAM,CACJC,OAAQ,OACRtF,IAAKA,EACLmF,OAAQA,EACRI,QAAS,CACPC,eAAgB,uCAGnBC,KAAK,SAAAC,GACJN,EAASM,EAAIzF,QAEd0F,MAAO,SAAAD,GACHA,aAAeE,MAChBC,QAAQC,IAAIJ,EAAIK,SAEhBF,QAAQC,IAAIJ,EAAIzF,6CAMpB,OAAO6E,uCAGWkB,EAAIC,EAAKC,EAAQC,GACnCC,KAAKC,QAAQ,eAAiBL,EAAI,CAChCM,KAAM,eACNN,GAAIA,EAAGO,QAAQ,UAAW,IAC1BN,IAAKA,EACLO,EAAGN,GACF,SAAAO,GAAON,EAAGM,KAAO,oCAINC,EAAKC,EAAGC,EAAMT,GACQ,qBAAzBxG,EAAa+G,GAAKC,IAO3BhH,EAAa+G,GAAKC,GAAG1G,KAAK2G,KAAOA,EACjCR,KAAKC,QAAQ1G,EAAa+G,GAAKC,GAAG3G,IAAKL,EAAa+G,GAAKC,GAAG1G,KAAM,SAAAwG,GAChEN,EAAGM,EAAG9G,EAAa+G,GAAKC,GAAG5G,UAR7BoG,EAAG,CACDU,OAAQ,QACRC,KAAI,gCAAAC,OAAkCL,EAAlC,KAAAK,OAAyCJ,uCAWlCX,EAAIC,EAAKe,EAAKC,EAAQL,EAAMT,GAC3C,IAAMlG,EAAO,CACXqG,KAAM,SACNY,KAAM,WACNN,KAAMA,EACNO,eAAgBlB,EAChBmB,oBAAqBH,EAAS,IAAM,OACpCI,iBAAkBL,GAEpBZ,KAAKC,QAAQL,EAAI/F,EAAM,SAAAwG,GAAON,EAAGM,KAAO,kCAU5BT,EAAI/F,EAAM2G,EAAMT,GAC5B,IAAIM,EAAI,CACNH,KAAM,SACNY,KAAM,WACNN,KAAMA,GAERU,OAAOC,QAAQtH,GAAMuH,QAAQ,SAAAC,GAAY,IAAAC,EAAAJ,OAAAK,EAAA,EAAAL,CAAAG,EAAA,GAAVG,EAAUF,EAAA,GAAPG,EAAOH,EAAA,GACvCjB,EAAC,OAAAM,OAAQa,EAAR,WAAqBC,EAAEC,EACxBrB,EAAC,OAAAM,OAAQa,EAAR,aAAuBC,EAAEA,EAC1BpB,EAAC,OAAAM,OAAQa,EAAR,gBAA0BC,EAAEE,EAC7BtB,EAAC,OAAAM,OAAQa,EAAR,iBAA2BC,EAAEG,IAGhC5B,KAAKC,QAAQL,EAAIS,EAAG,SAAAA,GAAON,EAAGM,KAAO,kCAGzBT,EAAIE,EAAQU,EAAMT,GAC9BC,KAAKC,QAAQL,EAAI,CACfM,KAAM,SACNY,KAAM,OACNhB,OAAQA,EACRU,KAAMA,GACL,SAAAH,GAAON,EAAGM,EAAG,WAAaP,EAAS,QAAUO,EAAEwB,KAAKC,eAAiB,2CAGnDlC,EAAImC,EAAKvB,EAAMT,GAClCC,KAAKC,QAAQL,EAAI,CACfM,KAAM,SACNY,KAAM,UACNhH,UAAaiI,EACbvB,KAAMA,GACL,SAAAH,GAAON,EAAGM,KAAO,kCAGVT,EAAIY,EAAMT,GACtBC,KAAKC,QAAQL,EAAI,CACfM,KAAO,SACPY,KAAM,MACNN,KAAMA,GACL,SAAAH,GAAON,EAAGM,oCAGDT,EAAIlG,EAAIqG,GACpBC,KAAKC,QAAQ,cAAe,CAC1BL,GAAIA,EACJM,KAAO,OACPxG,GAAKA,GACJ,SAAA2G,GAAON,EAAGM,qCAGAT,EAAIG,GACjBC,KAAKC,QAAQ,cAAgB,CAC3BL,GAAIA,EACJM,KAAO,WACN,SAAAG,GAAON,EAAGM,sCAGC3G,EAAIqG,GAClBC,KAAKC,QAAQ,eAAiBvG,EAAI,CAChCA,GAAIA,EACJwG,KAAO,YACN,SAAAG,GAAON,EAAGM,6CAGQ2B,GACrB,IAAIC,EAAQ,CACVnB,KAAM,oBACNoB,SAAU,IAERC,GAAY,EAWhB,OATAjB,OAAOC,QAAQa,EAAGE,UAAUd,QAAS,SAAAgB,GAAkB,IAAAC,EAAAnB,OAAAK,EAAA,EAAAL,CAAAkB,EAAA,GAAXE,GAAWD,EAAA,GAAAA,EAAA,IAChDF,GAAaA,IAAcG,EAAMC,WAAW7I,KAC/CuI,EAAMC,SAASM,KAAKF,GACpBH,EAAYG,EAAMC,WAAW7I,IAE3ByI,IAAcG,EAAMC,WAAW7I,KACjCuI,EAAMC,SAASD,EAAMC,SAASO,OAAO,GAAGF,WAAWG,SAAW,IAAIJ,EAAMC,WAAWG,WAGhFT,oCAGQU,EAAO5C,GAAI,IAAA6C,EAAA5C,KACtBnG,EAAO,CACTyD,KAAQ,4OAERC,kCAAmC,WACnCc,2BAA4B,KAC5BC,6BAA8B,OAC9BC,iCAAkC,cAClCC,iCAAkC,gBAClCqE,oCAAqC,WACrC/I,UAAaC,KAAQ4I,EAAQA,EAAMxC,QAAQ,WAAY,wBAA0B,qBAGnFH,KAAKC,QACH,gDACApG,EACA,SAAAwG,GAAON,EAAI6C,EAAKE,gBAAgBzC,0CAIjB0C,EAAUhD,GAC3B,IAAMlG,EAAO,CACXyD,KAAQ,8PAERC,kCAAmC,WACnCc,2BAA4B,KAC5BC,6BAA8B,OAC9BC,iCAAkC,cAClCC,iCAAkC,gBAClCwE,iCAAkC,aAClClF,MAAS,mBACTC,YAAe,IACfC,UAAa,MACblE,UAAaC,KAAK,kFAAoFgJ,EAAW,OAEnH/C,KAAKC,QACH,gDACApG,EACA,SAAAwG,GAAON,EAAGM,cClHD4C,cAnFb,SAAAA,EAAYC,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAiD,IACjBL,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA+B,GAAAK,KAAAtD,KAAMkD,KAEDK,OAASX,EAAKW,OAAOC,KAAZtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KACdA,EAAKc,MAAQ,CACXC,QAAQ,GALOf,wEAUjB5C,KAAK4D,SAAS,CACZD,QAAS3D,KAAK0D,MAAMC,0CAOtB,OACME,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,OAAOC,MAAI,EAACC,OAAO,KAAKC,UAAU,aAC9CP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAaK,GAAG,IAAIC,IAAKC,KAAzB,SACAV,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAeQ,QAASxE,KAAKuD,SAC7BM,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUL,OAAQ3D,KAAK0D,MAAMC,OAAQc,QAAM,GACzCZ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKS,QAAM,GACTZ,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASU,MAAO,CAAEC,gBAAiB,UAAWV,MAAO,QAASI,GAAG,OAAOC,IAAKM,KAC3Ef,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,QADxB,WAIFjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,UAAUC,IAAKM,KAA3B,WAGFf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,eAAeC,IAAKM,KAAhC,gBAEFf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,SAASC,IAAKM,KAA1B,UAEFf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,WAAWC,IAAKM,KAA5B,YAEFf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,UAAUC,IAAKM,KAA3B,WAEFf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,aAAaC,IAAKM,KAA9B,cAEFf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,eAAeC,IAAKM,KAAhC,gBAEFf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAG,QAAQC,IAAKM,KAAzB,mCAIJf,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKI,UAAU,UAAUK,QAAM,GAE7BZ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAsBe,KAAG,EAACC,UAAQ,GAChCnB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAgBe,KAAG,EAACE,OAAK,GACvBpB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,gBADxB,aAGAjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAckB,OAAK,GACjBrB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAcK,GAAG,UAAUC,IAAKM,KAC5Bf,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,cAD1B,WAGAjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAcmB,OAAO,SAASC,KAAOtG,EAASuG,aAAe,6BACzDxB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,cAD1B,uBAGAjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAcmB,OAAO,SAASC,KAAOtG,EAASuG,aAAe,iGACzDxB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,cAD1B,6BAvEIQ,0DCCLC,mLAIjB,OACE1B,EAAAC,EAAAC,cAAA,UAAQK,UAAU,+BAChBP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,OACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,OACbP,EAAAC,EAAAC,cAAA,gDAAuCF,EAAAC,EAAAC,cAAA,WACvCF,EAAAC,EAAAC,cAAA,QAAOK,UAAU,OAAOM,MAAO,CAAET,MAAO,YAAxC,gDAAuGJ,EAAAC,EAAAC,cAAA,WACvGF,EAAAC,EAAAC,cAAA,6DAAoDF,EAAAC,EAAAC,cAAA,WAApD,gEAGFF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,kBACbP,EAAAC,EAAAC,cAAA,eAAMF,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,yBAAyBD,OAAO,SAASK,IAAI,sBAAsB7L,MAAM,6BAAjF,OAAN,iCAAwJkK,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,0BAA0BD,OAAO,SAASK,IAAI,sBAAsB7L,MAAM,+BAAlF,gCACxJkK,EAAAC,EAAAC,cAAA,mCAA0BF,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,kDAAkDzL,MAAM,aAAawL,OAAO,SAASK,IAAI,uBAAjG,cAA1B,KAAiK3B,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,gCAAgCzL,MAAM,uBAA9C,6BAAjK,KACAkK,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,4BAA4BD,OAAO,SAASK,IAAI,sBAAsB7L,MAAM,wBAApF,wBAONkK,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKI,UAAU,QACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,CAAEC,KAAM,GAAKC,GAAI,CAACD,KAAM,EAAGE,OAAQ,IAAI/B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKC,IAAUC,IAAI,iCAA8B3B,UAAU,eAChHP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,CAAEC,KAAM,GAAKC,GAAI,CAACD,KAAM,IAAI7B,EAAAC,EAAAC,cAAA,OAAK8B,IAAKG,IAAKD,IAAI,4BAA4B3B,UAAU,gBAGhGP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,eACbP,EAAAC,EAAAC,cAAA,KAAGK,UAAU,IAAb,6DACsDP,EAAAC,EAAAC,cAAA,WACpDF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,KAAGyB,IAAI,UAAUJ,KAAK,qDAAtB,yDACwDvB,EAAAC,EAAAC,cAAA,WADxD,kFAEiFF,EAAAC,EAAAC,cAAA,WAC/EF,EAAAC,EAAAC,cAAA,OAAKgC,IAAI,2BAA2BrB,MAAO,CAACuB,YAAY,GAClDJ,IAAI,8DAKhBhC,EAAAC,EAAAC,cAAA,oBAAamC,EAAYC,mBA3CDb,aCHfc,2LAGjB,OACEvC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsC,EAAD,CAAQzH,SAAUoB,KAAKkD,MAAMtE,WAC3BiF,EAAAC,EAAAC,cAAA,QAAMuC,KAAK,OAAOlC,UAAU,aACxBpE,KAAKkD,MAAMqD,UAGjB1C,EAAAC,EAAAC,cAACyC,EAAD,cAVkCC,IAAMnB,wHCA3BoB,mLAGjB,IAAMhC,EAAQ,CACZiC,MAAO3G,KAAKkD,MAAMyD,MAAQ3G,KAAKkD,MAAMyD,MAAQ,SAE/C,OACE9C,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAK8B,IAAKe,IAAQlC,MAAOA,EAAOqB,IAAI,eADtC,qBAP+BT,aCFhBuB,cAEnB,SAAAA,EAAY3D,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA6G,IACjBjE,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA2F,GAAAvD,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXoD,OAAO,GAHQlE,wEAQjB5C,KAAK4D,SAAS,CACZkD,OAAQ9G,KAAK0D,MAAMoD,yCAKrB,OACEjD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOL,OAAQ3D,KAAK0D,MAAMoD,MAAOvD,OAAQvD,KAAKuD,OAAOC,KAAKxD,MAAOoE,UAAWpE,KAAKkD,MAAMkB,WACrFP,EAAAC,EAAAC,cAACC,EAAA,EAAD,mBACAH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,kTAIAF,EAAAC,EAAAC,cAAA,0JAC0DF,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,iCAAR,0BAD1D,KAEFvB,EAAAC,EAAAC,cAAA,0WAG4DF,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,iCAAR,0BAH5D,MAMAvB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,UAAU8C,OAAK,EAACvC,QAASxE,KAAKuD,OAAOC,KAAKxD,OAAxD,4BAjC8ByG,IAAMnB,WCUzB0B,cAEnB,SAAAA,EAAY9D,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAgH,IACjBpE,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA8F,GAAA1D,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXhD,KAAM,GACNuG,OAAQ,CACN,CACEvN,GAAQ,QACRC,MAAQ,eACRuN,KAAQC,KAEV,CACEzN,GAAQ,mBACRC,MAAQ,oBACRuN,KAAQE,KAEV,CACE1N,GAAQ,MACRC,MAAQ,mBACRuN,KAAQG,OAlBGzE,oFAuBE,IAAA0E,EAAAtH,KACnBA,KAAK0D,MAAMuD,OAAO7J,IAAK,SAAAmK,GAMrB,OALAC,MAAMD,EAAEL,MAAM7H,KAAK,SAACoI,GAAD,OAAcA,EAAS/G,SAAQrB,KAAK,SAACqB,GACtD,IAAMiB,EAAI2F,EAAK5D,MAAMhD,KACrBiB,EAAE4F,EAAE7N,IAAMgH,EACV4G,EAAK1D,SAAS,CAAElD,KAAMiB,OAEjB,gDAKQ,IAAA+F,EAAA1H,KACjB,OAAIA,KAAK0D,MAAMhD,OAAS,GACdmD,EAAAC,EAAAC,cAAC4D,EAAD,MAGN9D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,mEACbP,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACXpE,KAAK0D,MAAMuD,OAAO7J,IAAK,SAACoE,EAAGoG,GAC1B,OACE/D,EAAAC,EAAAC,cAAA,MAAI8D,IAAKD,EAAGlD,MAAO,CAAEoD,UAAW,SAC9BjE,EAAAC,EAAAC,cAAA,KAAGqB,KAAO,IAAM5D,EAAE9H,IAAO8H,EAAE7H,YAOnCqG,KAAK0D,MAAMuD,OAAO7J,IAAK,SAACoE,EAAGoG,GAC3B,OACE/D,EAAAC,EAAAC,cAAA,OAAK8D,IAAKD,EAAGxD,UAAU,gBACrBP,EAAAC,EAAAC,cAAA,MAAIrK,GAAK8H,EAAE9H,GAAK0K,UAAU,QAAS5C,EAAE7H,OACrCkK,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAekE,OAAQN,EAAKhE,MAAMhD,KAAKc,EAAE9H,IAAKuO,YAAY,yCAUtE,OACEpE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmE,EAAD,MACArE,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,sBAAsByB,IAAMsC,IAAepC,IAAI,mMAGlElC,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACXpE,KAAKoI,8BAhFe3B,IAAMnB,iICRnB+C,oLAIjB,OAAKrI,KAAKkD,MAAM1J,QAAWwG,KAAKkD,MAAM1J,OAAO0I,SAK3C2B,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAA,mBAAY/D,KAAKkD,MAAM1J,OAAO0I,SAASO,OAAvC,WACAoB,EAAAC,EAAAC,cAAA,UAEI/D,KAAKkD,MAAM1J,OAAO0I,SAAS9E,IAAK,SAACmK,EAAGK,GAClC,OAAO/D,EAAAC,EAAAC,cAAA,MAAI8D,IAAKD,EAAGxD,UAAU,uCAC3BP,EAAAC,EAAAC,cAAA,cAAUwD,EAAEhF,WAAW+F,MACvBzE,EAAAC,EAAAC,cAAA,WAAMF,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,QAAMK,UAAU,UAAUmD,EAAEhF,WAAWgG,aAElD,CAAC,YAAa,gBAAgBnL,IAAK,SAACoL,EAAIC,GACtC,OAAIlB,EAAEiB,GACI3E,EAAAC,EAAAC,cAAA,OAAK8D,IAAKY,GAAI5E,EAAAC,EAAAC,cAAA,aAAQwD,EAAEhF,WAAWiG,KAEpC,OAMXjB,EAAEhF,WAAW,qBAAwBsB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,cAAaP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,MAAM,aAAcsD,EAAEhF,WAAW,qBAAxC,yBAAoG,KAGvKsB,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,aAA7B,IAA2CjB,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMF,GAAK,WAAakD,EAAEhF,WAAW7I,IAArC,gBAAwD6N,EAAEhF,WAAW7I,WA1BxH,YAL2B4L,aCAnBoD,oLAIjB,OAAI1I,KAAKkD,MAAMyF,UAEX9E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMF,GAAG,OAAOD,UAAU,uCACxBP,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,WADxB,qCAOG,YAdgCQ,aCHxBsD,oLAIjB,OACE/E,EAAAC,EAAAC,cAAA,WAEEF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,MAAIW,MAAO,CAAEoD,UAAW,OAAQe,OAAQ,EAAGC,QAAS,IAClDjF,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACZP,EAAAC,EAAAC,cAAA,QAAMK,UAAU,6BAA6BM,MAAO,CAAEqE,WAAY,yBADpE,aAIAlF,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACZP,EAAAC,EAAAC,cAAA,QAAMK,UAAU,6BAA6BM,MAAO,CAAEqE,WAAY,yBADpE,cAIAlF,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACZP,EAAAC,EAAAC,cAAA,QAAMK,UAAU,6BAA6BM,MAAO,CAAEqE,WAAY,yBADpE,YAMFlF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,MAAIW,MAAO,CAAEoD,UAAW,OAAQe,OAAQ,EAAGC,QAAS,IAClDjF,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACZP,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,wCAAwCD,OAAO,SAASK,IAAI,uBAApE,uBAEF3B,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACZP,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,wBAAwBD,OAAO,SAASK,IAAI,uBAApD,oDAEF3B,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACZP,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,iCAAiCD,OAAO,SAASK,IAAI,uBAA7D,iCAEF3B,EAAAC,EAAAC,cAAA,MAAIK,UAAU,WACZP,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,gCAAgCD,OAAO,SAASK,IAAI,uBAA5D,6BApC2BF,aCKlB0D,oLAGjB,OACEnF,EAAAC,EAAAC,cAAA,MAAIW,MAAO,CAAEoD,UAAW,OAAQe,OAAQ,EAAGC,QAAS,IAChD5H,OAAO+H,OAAO1P,EAAa6D,KAAKA,IAAK,SAACmK,EAAGK,GACzC,OAAO/D,EAAAC,EAAAC,cAAA,MAAI8D,IAAKD,EAAIxD,UAAU,QAC5BP,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMF,GAAK,cAAgBkD,EAAE7N,IAC3BmK,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,uBADxB,IACkDyC,EAAE5N,kBARnB2L,aCJxB+C,oLAGjB,OAAKrI,KAAKkD,MAAMgG,KAIdrF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAiBmF,UAAU,UACzBtF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,SAASO,QAAYxE,KAAKkD,MAAMsB,SAC5CX,EAAAC,EAAAC,cAAA,QAAMqF,cAAY,QAAlB,UALG,YAJ2B9D,aCmBhC+D,WAAcC,IAAdD,WAEFE,GAAY,0CACGC,eAEnB,SAAAA,EAAYtG,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAwJ,IAEjB5G,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAsI,GAAAlG,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXlK,OAAQ,KACRiQ,YAAa,KACbd,WAAW,EACXe,kBAAkB,EAClBC,SAAU,OACVC,aAAc,IAEhBhH,EAAKiH,eAAiBpD,IAAMqD,YAC5BlH,EAAKmH,OAAStD,IAAMqD,YAZHlH,gFAgBjB5C,KAAK4D,SAAS,CACZ8F,kBAAkB,0CAIRhQ,GACZsG,KAAK4D,SAAS,CACZ8F,kBAAkB,EAClBC,SAAUjQ,yCAKDsQ,EAAGpC,GACd,OAAO,IAAIqC,KAAEC,aAAatC,EAAG,CAC3BuC,OAAQ,EACRC,OAAQ,EACRnG,MAAO,OACPoG,QAAS,GACTC,UAAkC,cAAtBN,EAAEzH,WAAWzB,KAAuB,UAAkC,YAAtBkJ,EAAEzH,WAAWzB,KAAqB,UAAY,UAC1GyJ,YAAa,2CAIHC,EAASC,GACrB,IAAMC,EAAO/L,OAAOC,SAAS+L,SAASxK,QAAQ,YAAa,IAC3DsK,EAAMG,UACJ,WAAaJ,EAAQjI,WAAW+F,KAAO,aACrCkC,EAAQjI,WAAWgG,WAAa,4BAA8BiC,EAAQjI,WAAWgG,WAAa,UAAW,IAC1G,gBACcmC,EAAO,WAAaF,EAAQjI,WAAW7I,GAAK,kBAAoB8Q,EAAQjI,WAAW7I,GAAI,6CAI7F6N,GACX,IAAMsD,EAAOtD,EAAEpC,OAAO7C,MAClBwI,EAAM,GACV,GAAY,KAARD,EACFC,EAAM9K,KAAK0D,MAAMlK,WACZ,CACLsR,EAAM,CACJhK,KAAQ,oBACRoB,SAAY,IAEd,IALK,IAAA6I,EAKa7J,OAAO+H,OAAOjJ,KAAK0D,MAAMlK,OAAO0I,UAAlD8I,EAAA,EAAAA,EAAAD,EAAAtI,OAAAuI,IAA6D,CAAxD,IAAMpK,EAAGmK,EAAAC,GACR9J,OAAO+H,OAAOrI,EAAI2B,YAAYjF,KAAK,KAAK2N,cAAcC,SAASL,EAAII,gBACrEH,EAAI5I,SAASM,KAAK5B,IAOxBZ,KAAK4D,SAAS,CACZgG,aAAciB,EACdpB,YAAaqB,IAEf9K,KAAKmL,yDAILnL,KAAK4D,SAAS,CACZgG,aAAc,GACdH,YAAazJ,KAAK0D,MAAMlK,SAE1BwG,KAAKmL,0DAIL,IAAIC,EAAS,CAAE,CAAC,UAAW,WAAY,CAAC,QAAS,YAC7CpL,KAAK6J,gBAAkB7J,KAAK6J,eAAewB,QAAQnI,MAAMrJ,KAAKqI,SAASO,OAAS,IAClF2I,EAASpL,KAAK6J,eAAewB,QAAQC,eAAeC,aAEtDvL,KAAK+J,OAAOsB,QAAQC,eAAeE,UAAUJ,qCAIrCK,EAAQC,GAAe,IAAApE,EAAAtH,KAC/B,GAAIyL,EACF3M,EAAS6M,SAAS,MAAOF,EAAQ,KAAM,SAAA5R,GACrCyN,EAAK1D,SAAS,CACZpK,OAAQK,EACR4P,YAAa5P,EACb8O,WAAW,IAEbrB,EAAK6D,wBAEF,GAAIO,EAAgB,CACzB,IAAIE,EAAUC,KAAGC,MAAM9L,KAAKkD,MAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IACvE,GAAmB,gBAAfJ,EAAQhM,GACVd,EAASmN,YAAYL,EAAQjJ,MAAO,SAAA9I,GAClCyN,EAAK1D,SAAS,CACZpK,OAAQK,EACR4P,YAAa5P,EACb8O,UAAWiD,EAAQjJ,QAErB2E,EAAK6D,uBAEF,IAAmB,WAAfS,EAAQhM,GAUjB,OAAO,EATPd,EAASoN,UAAUN,EAAQjJ,MAAO,SAAA9I,GAChCyN,EAAK1D,SAAS,CACZpK,OAAQK,EACR4P,YAAa5P,EACb8O,UAAWiD,EAAQjJ,QAErB2E,EAAK6D,yBAOTrM,EAASoN,UAAU,KAAM,SAAArS,GACvByN,EAAK1D,SAAS,CACZpK,OAAQK,EACR4P,YAAa5P,IAEfyN,EAAK6D,4EAMsBgB,GAC5BA,IAAcnM,KAAKkD,QACpBlD,KAAK4D,SAAS,CACZpK,OAAQ,KACRmP,UAAW,OAEb3I,KAAKoM,UAAUD,EAAUE,MAAMtN,OAAOlF,KAAM,mDAM9CmG,KAAKoM,UAAUpM,KAAKkD,MAAMmJ,MAAMtN,OAAOlF,KAAMmG,KAAKkD,MAAMtE,SAASmN,yCAKjE,OACElI,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACsC,EAAD,CAAQzH,SAAUoB,KAAKkD,MAAMtE,WAC3BiF,EAAAC,EAAAC,cAAA,QAAMuC,KAAK,OAAOlC,UAAU,aAE5BP,EAAAC,EAAAC,cAACuI,GAAA,QAAD,CAAS5S,GAAG,UAAU6S,UAAWvM,KAAK0D,MAAMgG,iBAAkBC,SAAU3J,KAAK0D,MAAMiG,SAC1E6C,OAAQxM,KAAKyM,cAAcjJ,KAAKxD,MAAO0M,QAAS1M,KAAK2M,eAAenJ,KAAKxD,MACzE4M,UAAW/I,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,gBACxCjB,EAAAC,EAAAC,cAACuI,GAAA,IAAD,CAAK5S,GAAG,OAAOmT,OAAO,OAAO/H,KAAMjB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,UAEvDjB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iBACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYI,UAAU,QACpBP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAiBmF,UAAU,WAA3B,WAGAtF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOlD,KAAK,SAASwB,MAAOtC,KAAK0D,MAAMkG,aAAckD,SAAU9M,KAAK+M,aAAavJ,KAAKxD,MAAOgN,YAAY,qCACvGnJ,EAAAC,EAAAC,cAACkJ,GAAD,CAAa/D,KAAMlJ,KAAK0D,MAAMkG,aAAcpF,QAAUxE,KAAKkN,cAAc1J,KAAKxD,UAIpF6D,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAACoJ,GAAD,CAAiBxE,UAAY3I,KAAK0D,MAAMiF,UAAYyE,OAASpN,KAAK0D,MAAM0J,SACxEvJ,EAAAC,EAAAC,cAACsJ,GAAD,CAAY7T,OAASwG,KAAK0D,MAAM+F,gBAIpC5F,EAAAC,EAAAC,cAACuI,GAAA,IAAD,CAAK5S,GAAG,eAAemT,OAAO,gBAAgB/H,KAAMjB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,UACxEjB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAACuJ,GAAD,QAIJzJ,EAAAC,EAAAC,cAACuI,GAAA,IAAD,CAAK5S,GAAG,SAASmT,OAAO,SAAS/H,KAAMjB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,SAAWyI,OAAO,UAC7E1J,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAACyJ,GAAD,SAMN3J,EAAAC,EAAAC,cAAC0J,EAAA,EAAD,CAAKrJ,UAAU,wBAAwBsJ,aAAa,EAAMC,IAAK3N,KAAK+J,QAClElG,EAAAC,EAAAC,cAACuF,EAAA,EAAD,CAAesE,SAAS,YACtB/J,EAAAC,EAAAC,cAACsF,GAAD,CAAWf,KAAK,uBACdzE,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CAAWjU,IAAI,2DAEjBiK,EAAAC,EAAAC,cAACsF,GAAD,CAAWf,KAAK,mBACdzE,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CAAWjU,IAAI,yDAEjBiK,EAAAC,EAAAC,cAACsF,GAAD,CAAWf,KAAK,OAAOwF,SAAS,GAC9BjK,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CAAWjU,IAAI,yEAEjBiK,EAAAC,EAAAC,cAACsF,GAAD,CAAWf,KAAK,qBACbzE,EAAAC,EAAAC,cAACgK,GAAA,YAAD,CAAaC,UAAWzE,GAAY0E,QAAQ,aAG/CpK,EAAAC,EAAAC,cAACsF,GAAD,CAAWf,KAAK,oBACfzE,EAAAC,EAAAC,cAACgK,GAAA,YAAD,CAAaC,UAAWzE,GAAY0E,QAAQ,eAE7CpK,EAAAC,EAAAC,cAACsF,GAAD,CAAWf,KAAK,iBACdzE,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CAAWjU,IAAI,6CAEfoG,KAAK0D,MAAMlK,QACTqK,EAAAC,EAAAC,cAACmK,GAAA,EAAD,CACEP,IAAK3N,KAAK6J,eACVhC,IAAMsG,KAAKnO,KAAK0D,MAAM+F,aACtB5P,KAAMmG,KAAK0D,MAAM+F,YACjB2E,aAAcpO,KAAKoO,aAAa5K,KAAKxD,MACrCqO,cAAerO,KAAKqO,cAAc7K,KAAKxD,mBAjOrBsF,aClBjBgJ,oLAGjB,IAAMC,EAAUvO,KAAKkD,MAAMqL,QACrB3O,EAAKI,KAAKkD,MAAMtD,GAEtB,OACEiE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,YAAYH,MAAM,SAChCJ,EAAAC,EAAAC,cAAA,OAAKK,UAAU,cACbP,EAAAC,EAAAC,cAAA,UAAQjD,KAAK,SAASsD,UAAU,kBAAkBoK,aAAW,QAAQhK,QAASxE,KAAKkD,MAAMuL,SACvF5K,EAAAC,EAAAC,cAAA,QAAMqF,cAAY,QAAlB,UAGNvF,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,0BAA8BuK,GAC5B1K,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACI9C,OAAO+H,OAAO1P,EAAaqG,IAAKxC,IAAK,SAACmK,EAAGK,GACzC,OAAO/D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAe6D,IAAKD,EAAIxD,UAAU,OAAOE,IAAKC,IAAMF,GAAE,WAAA1D,OAAcf,EAAd,aAAAe,OAA4B4G,EAAE7N,IAAMuK,MAAM,aACnGJ,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,uBADnB,IAC6CyC,EAAE5N,oBAnBxB2L,aCJ/BoJ,GAAA,CACXC,OAAU,CACR,qBACA,cACA,kBAEFC,MAAS,CACP,qBAEFC,OAAU,CACR,sBACA,sBACA,uBACA,WACA,gBACA,mBACA,eACA,iBACA,iBACA,oBACA,aACA,kBACA,mBACA,mBACA,iBACA,kBACA,mBACA,aACA,kBACA,iBACA,iBACA,eAEFC,OAAU,CACRnU,YAAe,KACfoU,YAAe,WACf1T,MAAS,OACT4L,OAAU,KACV+H,UAAa,KACbvU,QAAW,OACXjB,OAAU,OACVyV,QAAW,QAEbC,cAAiB,CACfvU,YAAe,KACfoU,YAAe,WACf1T,MAAS,OACT4L,OAAU,KACV+H,UAAa,KACbvU,QAAW,OACXjB,OAAU,4BACVyV,QAAW,QAEbE,QAAW,CACTxU,YAAgB,CAAE,KAAM,SAAU,KAAM,OAAQ,WAAY,kBAC5DoU,YAAgB,CAAE,KAAM,WAAY,WAAY,UAAW,OAAQ,cAAe,OAAQ,SAC1F1T,MAAgB,CAAE,KAAM,OAAQ,QAAS,OACzC4L,OAAgB,CAAE,KAAM,OAAQ,SAAU,QAC1C+H,UAAgB,CAAE,KAAM,OAAQ,UAAW,aAAc,WAAY,kBACrEvU,QAAgB,CAAE,OAAQ,QAAS,aAAc,YAAa,YAC9DjB,OAAgB,CAAE,KAAM,OAAQ,KAAM,WAAY,SAAU,OAAQ,gBACpEyV,QAAgB,CAAE,KAAM,OAAQ,OAAQ,aAAc,eAExDG,MAAS,CACPzU,YAAe,cACfoU,YAAe,cACf1T,MAAS,QACT4L,OAAU,SACV+H,UAAa,YACbvU,QAAW,UACXjB,OAAU,SACVyV,QAAW,iCAGbI,cAAiB,CACb,mBACA,qBACA,mBACA,yBACA,uBACA,qBACA,sBACA,sBACA,yBACA,6BACA,yBACA,4BACA,6BACA,+BACA,4BACA,8BACA,gCAEA,kBACA,oBACA,qBACA,mBACA,oBACA,oBACA,mBACA,mBACA,mBACA,mBACA,yBACA,0BACA,4BAEA,oBACA,sBACA,4BACA,2BACA,sBACA,uBAEA,mBACA,mBACA,uBACA,qBACA,qBAEA,sBACA,wBACA,8BACA,4BACA,2BACA,6BACA,+BACA,gCACA,mCACA,kCACA,wBACA,+BAEA,wBACA,8BACA,6BACA,0BACA,iCACA,0BAEA,wBACA,4BACA,wBACA,0BACA,0BACA,2BACA,kCACA,6BACA,gCACA,8BACA,kCACA,8BACA,oCACA,mCACA,kCACA,6BACA,oCACA,kCACA,8BACA,+BACA,mCACA,gCACA,6BACA,iCACA,+BACA,6BACA,iCACA,8BACA,oCACA,qCACA,mCACA,4BACA,gCACA,gCACA,8BACA,8BACA,+BACA,8BACA,6BACA,gCACA,4BACA,gCACA,+BACA,+BACA,iCACA,gCACA,yBACA,0BACA,wBACA,iCACA,6BACA,gCC9GOC,eAvEb,SAAAA,EAAYpM,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAsP,IACjB1M,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAoO,GAAAhM,KAAAtD,KAAMkD,KACDQ,MAAQ,CACX6L,WAAW,GAHI3M,2EAOP2E,GACVA,EAAEiI,iBACFxP,KAAK4D,SAAS,CACZ2L,WAAYvP,KAAK0D,MAAM6L,6CAKzB,IAAMhB,EAAUvO,KAAKkD,MAAMqL,QAAUvO,KAAKkD,MAAMqL,QAAUG,GAAIU,MAAMpP,KAAKkD,MAAMtD,IACzEA,EAAKI,KAAKkD,MAAMtD,GAChBc,IAAOV,KAAKkD,MAAMxC,MAAOmD,EAAAC,EAAAC,cAAA,QAAMK,UAAU,WAAWpE,KAAKkD,MAAMxC,MAEjE+O,EAAY,CACd,CACEpL,GAAI,WAAazE,EAAK,OACtBkF,KAAM,UACNpE,KAAM,YAER,CACE2D,GAAI,WAAazE,EACjBkF,KAAM,SACNpE,KAAM,UAER,CACE2D,GAAI,WAAazE,EAAK,OACtBkF,KAAM,cACNpE,KAAM,oBAIV,OACEmD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAWI,UAAU,OAErBP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,UAAKrD,GACLmD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,QAAQyL,OAAK,EAACvL,OAAO,KAAKC,UAAU,WAChDP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,aAASwK,KAEf1K,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKI,UAAU,UAAUK,QAAM,GAE3BgL,EAAUrS,IAAK,SAACmK,EAAG/F,GACjB,OACEqC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAS6D,IAAKrG,GACZqC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASK,GAAIkD,EAAElD,GAAIC,IAAKC,KACtBV,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAMyC,EAAEzC,OAD3B,IACoCjB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,sBAAsBmD,EAAE7G,UAMlFnH,EAAaqG,IAAQiE,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAASH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASQ,QAASxE,KAAK2P,YAAYnM,KAAKxD,MAAOqE,GAAG,IAAIC,IAAKC,KAAMV,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,SAASjB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,sBAAhB,sBAInIpE,KAAK0D,MAAM6L,WAAa1L,EAAAC,EAAAC,cAAC6L,GAAD,CAAmBhQ,GAAIA,EAAI2O,QAASA,EAASE,QAASzO,KAAK2P,YAAYnM,KAAKxD,kBAjEzFsF,uBC4BPuK,eAjCb,SAAAA,EAAY3M,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA6P,IACjBjN,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA2O,GAAAvM,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXoD,OAAO,GAGTlE,EAAKW,OAASX,EAAKW,OAAOC,KAAZtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KANGA,wEAUjB5C,KAAK4D,SAAS,CACZkD,OAAQ9G,KAAK0D,MAAMoD,yCAQrB,OACEjD,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,SAASyB,KAAK,KAAKlB,QAASxE,KAAKuD,QAAQM,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,UAC7EjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOL,OAAQ3D,KAAK0D,MAAMoD,MAAOvD,OAAQvD,KAAKuD,OAAQa,UAAWpE,KAAKkD,MAAMkB,WAC1EP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAaT,OAAQvD,KAAKuD,QAA1B,gBACAM,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAAEoL,OAAQ,QAASC,WAAY,aAAe/P,KAAKkD,MAAMnB,eA3B1DuD,iBC+EjB0K,oLAIF,IAAMC,EA/EV,SAAsB/I,EAAMgJ,EAAaC,GACzC,IADmDC,EACnDC,UAAA5N,OAAA,QAAA6N,IAAAD,UAAA,GAAAA,UAAA,GAD+D,EAKzDE,EAAYC,KAAKC,KAAKN,EAFd,IAGRF,EAAS,GAEbG,EAAYM,SAASN,EAAW,IAEhC,IAAIO,EAAU9E,KAAGC,MAAMoE,EAAa,CAAClE,mBAAmB,IA8DxD,OA5DIoE,EAAY,EAAI,IAClBO,EAAQnQ,KAAO,EACfyP,EAAOzN,KAAK,CACV6B,GAAM6C,EAAO,IAAM2E,KAAG+E,UAAUD,GAChCjQ,KAAO,KAIP0P,EAAY,EAAI,GAClBH,EAAOzN,KAAK,CACV6B,GAAK,IACLwM,UAAW,EACXnQ,KAAO,QAMP0P,EAAY,EAAI,IAClBO,EAAQnQ,KAAQ4P,EAAY,EAC5BH,EAAOzN,KAAK,CACV6B,GAAK6C,EAAO,IAAM2E,KAAG+E,UAAUD,GAC/BjQ,KAAOiQ,EAAQnQ,QAKnBmQ,EAAQnQ,KAAO4P,EACfH,EAAOzN,KAAK,CACV6B,GAAK6C,EAAO,IAAM2E,KAAG+E,UAAUD,GAC/BG,QAAS,EACTpQ,KAAO0P,IAILA,EAAY,EAAIG,IAClBI,EAAQnQ,KAAQ4P,EAAY,EAC5BH,EAAOzN,KAAK,CACV6B,GAAK6C,EAAO,IAAM2E,KAAG+E,UAAUD,GAC/BjQ,KAAOiQ,EAAQnQ,QAKf4P,EAAY,EAAIG,GAClBN,EAAOzN,KAAK,CACV6B,GAAK,IACLwM,UAAW,EACXnQ,KAAO,QAIP0P,IAAcG,IAChBI,EAAQnQ,KAAQ+P,EAChBN,EAAOzN,KAAK,CACV6B,GAAK6C,EAAO,IAAM2E,KAAG+E,UAAUD,GAC/BjQ,KAAOiQ,EAAQnQ,QAIZyP,EAOUc,CACb/Q,KAAKkD,MAAMgE,KACXlH,KAAKkD,MAAM6I,OACX/L,KAAKkD,MAAM8N,UACXhR,KAAKkD,MAAM1C,MAGb,OACEqD,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,iBAEAiM,EAAO7S,IAAK,SAAC6T,EAAGrJ,GAChB,IAAM1E,EAAQ,CACZ2N,SAAUI,EAAEJ,SACZC,OAAQG,EAAEH,QAEb,OAAOjN,EAAAC,EAAAC,cAACC,EAAA,EAAD9C,OAAAgQ,OAAA,GAAoBhO,EAApB,CAA2B2E,IAAKD,IACrC/D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAgBM,IAAKC,IAAMF,GAAM4M,EAAE5M,IAC9B4M,EAAEvQ,iBAvBW4E,aAiCvB6L,oLAIF,IAAMf,EAAapQ,KAAKkD,MAAM1C,KAAOR,KAAKkD,MAAM1C,KAAO,EACjD4Q,EAAuB,GAAZhB,EAAiB,GAAK,EACjCiB,EAAqB,GAAZjB,EAAkBpQ,KAAKkD,MAAM8N,UAAwB,GAAZZ,EAAiBpQ,KAAKkD,MAAM8N,UAEpF,OACEnN,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QAAf,mBACkBP,EAAAC,EAAAC,cAAA,QAAMK,UAAU,uBAC9BgN,EADc,YACEC,EADF,KADlB,OAEuCxN,EAAAC,EAAAC,cAAA,QAAMK,UAAU,uBACnDpE,KAAKkD,MAAM8N,WAHf,sBAIQnN,EAAAC,EAAAC,cAACuN,GAAD,CAAUvP,IAAK/B,KAAKkD,MAAMqO,gBAbJjM,aC/G9BkM,oLAGF,OACE3N,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAOhE,KAAKkD,MAAMqD,iBAJSjB,aAS3BmM,oLAIF,IAAMC,EAAK1R,KAAKkD,MAAMyO,OAChBC,EAAO5R,KAAKkD,MAAM2O,OAClBjS,EAAKI,KAAKkD,MAAMtD,GAEhBkS,EAAe9R,KAAKkD,MAAM6O,YAC1BC,EAAWhS,KAAKkD,MAAM+O,QAE5B,OACEpO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAG,KACPrO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,OAAO+N,SAAO,EAAClO,MAAM,QAClCJ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYM,IAAI,MAAOoN,EAAGM,IAC1BnO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUtK,GAAKgY,EAAGhY,IAEhBmK,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOoO,OAAK,EAAC1M,KAAK,MAChB7B,EAAAC,EAAAC,cAAA,aAEI+N,EAAa1U,IAAK,SAACmK,EAAG/F,GACpB,OAAOqC,EAAAC,EAAAC,cAAA,MAAI8D,IAAKrG,GACdqC,EAAAC,EAAAC,cAAA,UAAM6N,EAAKrK,IACX1D,EAAAC,EAAAC,cAAA,UAAM2N,EAAGnK,SAOnB1D,EAAAC,EAAAC,cAAA,OAAKK,UAAU,YACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,wBAAwBkC,KAAK,SAC1CzC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAK,KAAKzB,MAAM,OAAOK,IAAKC,IAAMF,GAAK,IAAM,CAACzE,EAAI8R,EAAGhY,IAAI4D,KAAK,MACpEuG,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,QADxB,sBAjCQQ,aCSX+M,oLAfb,IAAMzS,EAAKI,KAAKkD,MAAMtD,GAEtB,MAAI,CAAC,cAAe,UAAU0S,QAAQ1S,GAAM,EACnC,KAGPiE,EAAAC,EAAAC,cAAA,OAAKK,UAAU,oBACbP,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMF,GAAI,WAAazE,EAAK,UAAY2S,UAAUvS,KAAKkD,MAAMP,OAASyB,UAAU,mBAC9EP,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,mBADxB,wBAXkBQ,aCUlBkN,eAEJ,SAAAA,EAAYtP,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAwS,IACjB5P,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAsR,GAAAlP,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXuM,QAAQ,GAHOrN,4EAOP,IAAA0E,EAAAtH,KACV,OAAQA,KAAKkD,MAAMpC,MACjB,IAAK,SACHhC,EAAS2T,UAAUzS,KAAKkD,MAAMtD,GAAII,KAAKkD,MAAMrD,IAAKG,KAAKkD,MAAMtC,IAAKZ,KAAKkD,MAAMrC,OAAQb,KAAKkD,MAAM1C,KAAM,SAAAH,GACpGiH,EAAK1D,SAAS,CACZqM,OAAQ5P,MAGZ,MAEA,IAAK,MACHvB,EAAS4T,OAAO1S,KAAKkD,MAAMtD,GAAII,KAAKkD,MAAMrJ,KAAMmG,KAAKkD,MAAM1C,KAAM,SAAAH,GAC/DiH,EAAK1D,SAAS,CACZqM,OAAQ5P,MAGZ,MAEF,IAAK,MACHvB,EAAS6T,OAAO3S,KAAKkD,MAAMtD,GAAII,KAAKkD,MAAM1C,KAAM,SAAAH,GAC9CiH,EAAK1D,SAAS,CACZqM,OAAQ5P,MAGZ,MAEF,IAAK,QACHvB,EAAS6M,SAAS3L,KAAKkD,MAAMtD,GAAII,KAAKkD,MAAMqO,MAAOvR,KAAKkD,MAAM1C,KAAM,SAAAH,GAClEiH,EAAK1D,SAAS,CACZqM,OAAQ5P,MAGZ,MAEF,IAAK,UACHvB,EAAS8T,gBAAgB5S,KAAKkD,MAAMtD,GAAII,KAAKkD,MAAM3C,EAAGP,KAAKkD,MAAM1C,KAAM,SAAAH,GACrEiH,EAAK1D,SAAS,CACZqM,OAAQ5P,MAGZ,MAEF,QAEE,OADAZ,QAAQC,IAAR,gBAAAiB,OAA4BX,KAAKkD,MAAMpC,OAChC,iDAMI+R,GAEf7S,KAAKkD,MAAM1C,OAASqS,EAAUrS,MAC3BR,KAAKkD,MAAMrD,MAAQgT,EAAUhT,KAC7BG,KAAKkD,MAAMtC,MAAQiS,EAAUjS,KAC7BZ,KAAKkD,MAAMrC,SAAWgS,EAAUhS,QAChCb,KAAKkD,MAAMqO,QAAUsB,EAAUtB,OAElCvR,KAAK8S,yDAKP9S,KAAK8S,8CAGE,IAAApL,EAAA1H,KACP,OAAKA,KAAK0D,MAAMuM,OAIc,UAA3BjQ,KAAK0D,MAAMuM,OAAOnP,KAEjB+C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,MAAM,SAASG,UAAU,QAC5BP,EAAAC,EAAAC,cAAA,MAAIK,UAAU,iBAAd,oBACAP,EAAAC,EAAAC,cAAA,uEAA8DF,EAAAC,EAAAC,cAAA,KAAGqB,KAAK,6CAAR,yBAA9D,mDAEJvB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,yCAEAF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,MAAM,OAAOG,UAAU,uBAAwBzF,OAAOC,SAASwG,MACtEvB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,MAAM,OAAOG,UAAU,uBAAwB2O,mBAAmBpU,OAAOC,SAASwG,OACzFvB,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,MAAM,OAAOG,UAAU,uBAC5BP,EAAAC,EAAAC,cAAA,WACC/D,KAAK0D,MAAMuM,OAAOvP,OAGrBmD,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,MAAM,OAAOG,UAAU,uBAC5BP,EAAAC,EAAAC,cAAA,WACC/D,KAAK0D,MAAMuM,OAAO+C,WASU,IAAtChT,KAAK0D,MAAMuM,OAAOpO,KAAKoR,WAEtBpP,EAAAC,EAAAC,cAAA,WAEIF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,MAAM,UAAUG,UAAU,QAC7BP,EAAAC,EAAAC,cAAA,MAAIK,UAAU,iBAAd,UADJ,oDAUTP,EAAAC,EAAAC,cAAA,WAEGF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aAEbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,YAEbP,EAAAC,EAAAC,cAACmP,GAAD,CACItT,GAAII,KAAK0D,MAAMuM,OAAOpO,KAAKsR,eAC3BxQ,MAAO3C,KAAK0D,MAAMuM,OAAOpO,KAAKuR,YAC9BtS,KAAMd,KAAKkD,MAAMmJ,MAAMtN,OAAO+B,KAC9BiL,OAASF,KAAGC,MAAM9L,KAAKkD,MAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,MAGtEnI,EAAAC,EAAAC,cAACsP,GAAD,CACErC,UAAWhR,KAAK0D,MAAMuM,OAAOpO,KAAKoR,WAClCzS,KAAMR,KAAK0D,MAAMuM,OAAOpO,KAAKrB,KAC7B+Q,MAAOvR,KAAK0D,MAAMuM,OAAOpO,KAAKyR,gBAGhCzP,EAAAC,EAAAC,cAACwP,GAAD,CACIrM,KAAMlH,KAAKkD,MAAMtE,SAAS+L,SAC1BoB,OAAS/L,KAAKkD,MAAMtE,SAASmN,OAC7BiF,UAAWhR,KAAK0D,MAAMuM,OAAOpO,KAAKoR,WAClCzS,KAAMR,KAAK0D,MAAMuM,OAAOpO,KAAKrB,QAMnCqD,EAAAC,EAAAC,cAACyP,GAAD,KAEGxT,KAAK0D,MAAMuM,OAAOwD,QAAQrW,IAAK,SAACmK,EAAGK,GAClC,OAAO/D,EAAAC,EAAAC,cAAC2P,GAAD,CACHzB,QAAYvD,GAAII,OAAOpH,EAAKxE,MAAMmJ,MAAMtN,OAAO4U,OAC/C5B,YAAgBrD,GAAIS,QAAQzH,EAAKxE,MAAMmJ,MAAMtN,OAAO4U,OACpD/T,GAAI8H,EAAKxE,MAAMmJ,MAAMtN,OAAO4U,MAC5BhC,OAAQpK,EACRsK,OAAQnK,EAAKhE,MAAMuM,OAAOpO,KAAKgQ,OAC/BhK,IAAKD,OAKb/D,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAACwP,GAAD,CACIrM,KAAMlH,KAAKkD,MAAMtE,SAAS+L,SAC1BoB,OAAS/L,KAAKkD,MAAMtE,SAASmN,OAC7BiF,UAAWhR,KAAK0D,MAAMuM,OAAOpO,KAAKoR,WAClCzS,KAAMR,KAAK0D,MAAMuM,OAAOpO,KAAKrB,UAjGhCqD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aAAYP,EAAAC,EAAAC,cAAC4D,EAAD,cA7ElBrC,aAwLPsO,gBAAWpB,IC5LLqB,eAEnB,SAAAA,EAAY3Q,GAAO,IAAAN,EAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA6T,GACjBjR,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA2S,GAAAvQ,KAAAtD,KAAMkD,IAEN,IAAM0I,EAAUC,KAAGC,MAAM5I,EAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IAHnD,OAIjBpJ,EAAKc,MAAQ,CACXoQ,MAAOlI,EAAQrL,EACfC,KAAMoL,EAAQpL,MANCoC,kFAUAiQ,EAAWkB,GAC5B,IAAMC,EAAcnI,KAAGC,MAAM+G,EAAUjU,SAASmN,OAAQ,CAACC,mBAAmB,IACtEiI,EAAcpI,KAAGC,MAAM9L,KAAKkD,MAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IAE1EgI,EAAYxT,OAASyT,EAAYzT,MAClCR,KAAK4D,SAAS,CACZpD,KAAMyT,EAAYzT,OAGnBwT,EAAYzT,IAAM0T,EAAY1T,GAC/BP,KAAK4D,SAAS,CACZkQ,MAAOG,EAAY1T,qCAMvB,OACEsD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmQ,GAAD,CAAStU,GAAKI,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAAQjT,KAAMnH,EAAayG,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,OAAO3T,KAAK0D,MAAMoQ,OAAOna,QACnHkK,EAAAC,EAAAC,cAACoQ,GAAD,CACKvU,GAAII,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAC5BpC,MAAOvR,KAAK0D,MAAMoQ,MAClBhT,KAAK,QACLN,KAAMR,KAAK0D,MAAMlD,eApCY8E,uBCHpB8O,eAEnB,SAAAA,EAAYlR,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAoU,IACjBxR,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAkT,GAAA9Q,KAAAtD,QACK0D,MAAQ,CACXmO,QAAQ,EACRhS,KAAK,GAJU+C,yEAQTyR,EAAS1K,EAAUmC,GAU3B,IAAIwI,EACJ,GAVIxI,IACFuI,EAAUnT,OAAOqT,KAAKF,GAASjX,IAAI,SAAAyK,GACjC,OAAI6G,GAAIW,cAAciD,QAAQzK,IAAQ,GAC7B,CAAEvF,MAAO+R,EAAQxM,GAAK2M,SAAUpF,MAAOiF,EAAQxM,GAAKuH,SAI5DhC,OAAO,SAAA7F,GAAO,OAAOA,KAGtBoC,EACF2K,EAAQD,EAAQjH,OAAQ,SAAA7F,GACtB,OAAOA,EAAEjF,QAAUqH,IAClB,OACE,CACL,GAAI+E,GAAIQ,cAAclP,KAAKkD,MAAMtD,IAAI,CACnC,IAAM6B,EAAIiN,GAAIQ,cAAclP,KAAKkD,MAAMtD,IAAIsL,SAAS,SAAWwD,GAAIQ,cAAclP,KAAKkD,MAAMtD,IAAlF,UAAAe,OAAkGX,KAAKkD,MAAMtD,GAA7G,KAAAe,OAAmH+N,GAAIQ,cAAclP,KAAKkD,MAAMtD,KAE1J0U,EAASD,EAAQjH,OAAQ,SAAA7F,GACvB,OAAOA,EAAEjF,QAAUb,IAClB,QAEH6S,EAASD,EAAQ,GAEnBrU,KAAKkD,MAAM4J,SAASwH,GAGtBtU,KAAK4D,SAAS,CACZiO,OAAQwC,EACRxU,IAAKyU,gDAKU,IAAAhN,EAAAtH,KACZA,KAAKkD,MAAM2O,OAKd7R,KAAKyU,UAAUzU,KAAKkD,MAAM2O,OAAQ7R,KAAKkD,MAAMrD,KAJ7Cf,EAAS4V,QAAQ1U,KAAKkD,MAAMtD,GAAI,SAAA/F,GAC9ByN,EAAKmN,UAAU5a,EAAKgY,OAAQvK,EAAKpE,MAAMrD,KAAK,sCAShD,OAAKG,KAAK0D,MAAMmO,OAKZhO,EAAAC,EAAAC,cAAC4Q,GAAA,EAAD,CACEC,aAAe5U,KAAK0D,MAAM7D,IAC1BgV,QAAU7U,KAAK0D,MAAMmO,OACrB/E,SAAW9M,KAAKkD,MAAM4J,WAPnB,YA1D0BxH,uBCAlBwP,eAEnB,SAAAA,EAAY5R,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA8U,IACjBlS,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA4T,GAAAxR,KAAAtD,QASF+U,cAAgB,SAACjV,GACf8C,EAAKgB,SAAS,CAACoR,WAAW,IADA,IAAAC,EAERrS,EAAKM,MAAMrD,IAAIqV,MAAM,KAFbC,EAAAjU,OAAAK,EAAA,EAAAL,CAAA+T,EAAA,GAEnBrV,EAFmBuV,EAAA,GAEftV,EAFesV,EAAA,GAG1BrW,EAASsW,aAAaxV,EAAIC,EAAKC,EAAQ,SAAAO,GACrCuC,EAAKgB,SAAS,CACZiR,QAAUxU,EACV2U,WAAW,OAbfpS,EAAKc,MAAQ,CACXsR,WAAW,EACXK,UAAU,EACVR,QAAS,IANMjS,wEAsBjB,OAAI5C,KAAK0D,MAAMmR,QAKbhR,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACuR,GAAA,eAADpU,OAAAgQ,OAAA,GACMlR,KAAK0D,MADX,CAEE6R,UAAW,EACXvI,YAAY,cACZwI,SAAUxV,KAAK+U,cACfU,cAAezV,KAAKkD,MAAM4J,SAC1BA,SAAU9M,KAAKkD,MAAM4J,SACrB4I,kBAAmB1V,KAAKkD,MAAMtC,IAAMZ,KAAKkD,MAAMtC,IAAM,OAZlD,YAzB2B0E,aCEnBqQ,eAEnB,SAAAA,EAAYzS,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA2V,IACjB/S,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAyU,GAAArS,KAAAtD,QACK0D,MAAQ,CACX7D,IAAKqD,EAAMrD,IACXe,IAAKsC,EAAMtC,IACXC,QAAyB,IAAjBqC,EAAMrC,QAIhB+B,EAAKgT,aAAehT,EAAKgT,aAAapS,KAAlBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KACpBA,EAAKiT,aAAejT,EAAKiT,aAAarS,KAAlBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KACpBA,EAAKkT,WAAalT,EAAKkT,WAAWtS,KAAhBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KAClBA,EAAKmT,cAAgBnT,EAAKmT,cAAcvS,KAAnBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KAZJA,kFAeAiQ,GACbA,IAAc7S,KAAKkD,OACrBlD,KAAK4D,SAAS,CACZ/D,IAAKG,KAAKkD,MAAMrD,IAChBe,IAAKZ,KAAKkD,MAAMtC,IAChBC,SAAQb,KAAKkD,MAAMrC,8CAKZY,GACXzB,KAAK4D,SAAS,CACZ/D,IAAK4B,EAAEuU,cAAgB9U,QAAUO,EAAEa,MAAQb,EAAEa,MAAQb,uCAG9CA,GACTzB,KAAK4D,SAAS,CACZhD,IAAKa,EAAEuU,cAAgBC,MAAQxU,EAAE,GAAKA,0CAG5B8F,GACZvH,KAAK4D,SAAS,CACZ/C,OAAQ0G,EAAEpC,OAAO2I,+CAIRoI,GACXA,EAAM1G,iBACDxP,KAAK0D,MAAM9C,IAIhBZ,KAAKkD,MAAMiT,SAASnW,KAAK0D,MAAM7D,IAAKG,KAAK0D,MAAM9C,IAAKZ,KAAK0D,MAAM7C,QAH7DuV,MAAM,+DAOR,OACEvS,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAA,QAAMoS,SAAUnW,KAAK4V,aAAcxR,UAAU,QAE3CP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAWqS,KAAG,GAEZxS,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAI,GACPrO,EAAAC,EAAAC,cAACuS,GAAD,CACI1W,GAAKI,KAAKkD,MAAMtD,GAChBC,IAAKG,KAAK0D,MAAM7D,IAChBiN,SAAW9M,KAAK6V,gBAItBhS,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAI,GACPrO,EAAAC,EAAAC,cAACwS,GAAD,CACE1W,IAAMG,KAAK0D,MAAM7D,IACjBe,IAAKZ,KAAK0D,MAAM9C,IAChBkM,SAAU9M,KAAK8V,cAInBjS,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAI,GACPrO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOwS,OAAK,GACV3S,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIsE,KAAK,SACLxH,KAAK,WACLgN,QAAS9N,KAAK0D,MAAM7C,OACpBiM,SAAU9M,KAAK+V,gBALrB,YAUFlS,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAI,GAAT,IAAarO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQlD,KAAK,SAASmD,MAAM,UAAU8C,OAAK,GAA3C,WAAb,eAtFkCzB,aCAzBmR,eAEnB,SAAAA,EAAYvT,GAAO,IAAAN,EAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAyW,GACjB7T,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAuV,GAAAnT,KAAAtD,KAAMkD,IAEN,IAAM0I,EAAUC,KAAGC,MAAM5I,EAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IAHnD,OAIjBpJ,EAAKc,MAAQ,CACX7D,IAAK+L,EAAQlK,EACbd,IAAKgL,EAAQnK,EACbZ,OAAS+K,EAAQxL,GAAmB,UAAdwL,EAAQxL,GAA+B,cAAdwL,EAAQxL,EACvDI,KAAMoL,EAAQpL,MAGhBoC,EAAK8T,cAAgB9T,EAAK8T,cAAclT,KAAnBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KAXJA,6EAcL/C,EAAKe,EAAKC,GACtB,IAAMT,EAAI,KAAOzE,mBAAmBkE,IACrBgB,EAAS,OAAS,IACnB,MAAQlF,mBAAmBiF,GAEzCZ,KAAK4D,SAAS,CACZ/D,IAAKA,EACLe,IAAKA,EACLC,OAAQA,IAGVb,KAAKkD,MAAMyT,QAAQnU,KAAnB,WAAA7B,OAAmCX,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAA3D,KAAAhT,OAAoEP,+CAGnDyS,EAAWkB,GAC5B,IAAMnI,EAAUC,KAAGC,MAAM9L,KAAKkD,MAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IACtEhM,KAAK0D,MAAMlD,OAASoL,EAAQpL,MAC7BR,KAAK4D,SAAS,CACZpD,KAAMoL,EAAQpL,wCAMlB,OACEqD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmQ,GAAD,CAAStU,GAAKI,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAAQjT,KAAK,kBAEpDmD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,sBACZP,EAAAC,EAAAC,cAAC6S,GAAD,CACIhX,GAAKI,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAC7BwC,SAAUnW,KAAK0W,cACf7W,IAAKG,KAAK0D,MAAM7D,IAChBe,IAAKZ,KAAK0D,MAAM9C,IAChBC,OAAQb,KAAK0D,MAAM7C,SAEvBgD,EAAAC,EAAAC,cAAA,YAGA/D,KAAK0D,MAAM7D,KAAOG,KAAK0D,MAAM9C,KAAOiD,EAAAC,EAAAC,cAACoQ,GAAD,CAClCvU,GAAII,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAC5B7S,KAAK,SACLjB,IAAKG,KAAK0D,MAAM7D,IAChBe,IAAKZ,KAAK0D,MAAM9C,IAChBC,OAAQb,KAAK0D,MAAM7C,OACnBL,KAAMR,KAAK0D,MAAMlD,eA7Da8E,aCLrBuR,oLAmCjB,OACEhT,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD9C,OAAAgQ,OAAA,CAAOpQ,KAAK,SAASkM,YAAY,UAAahN,KAAKkD,OAjCrC,CAChB,CACE1B,EAAK,OACLC,EAAK,YAEP,CACED,EAAK,IACLC,EAAK,cACP,CACED,EAAK,WACLC,EAAK,oBACP,CACED,EAAK,cACLC,EAAK,eACP,CACED,EAAK,YACLC,EAAK,aACP,CACED,EAAK,WACLC,EAAK,YACP,CACED,EAAK,eACLC,EAAK,gBACP,CACED,EAAK,IACLC,EAAK,kBACP,CACED,EAAK,IACLC,EAAK,oBAMQrE,IAAK,SAACsE,EAAGkG,GAClB,OAAQ/D,EAAAC,EAAAC,cAAA,UAAQ8D,IAAKD,EAAGtF,MAAOZ,EAAEF,GAAKE,EAAED,cAvCR6D,aCAvBwR,oLAIjB,OACEjT,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD9C,OAAAgQ,OAAA,CAAOpQ,KAAK,UAAad,KAAKkD,OAC5BW,EAAAC,EAAAC,cAAA,UAAQzB,MAAM,OAAd,OACAuB,EAAAC,EAAAC,cAAA,UAAQzB,MAAM,MAAd,eARmCgD,aCYxByR,eAEnB,SAAAA,EAAY7T,GAAO,IAAAN,EAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA+W,GACjBnU,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA6V,GAAAzT,KAAAtD,KAAMkD,IAEN,IAEI8T,EAFEpL,EAAUC,KAAGC,MAAM5I,EAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IAGhE9C,GAAO,EANM,OAQiC,IAA/ChI,OAAO+V,oBAAoBrL,GAASnJ,OACrCuU,EAAO,CACLlT,EAAK,CACHpC,EAAG,GACHC,EAAG,OACHF,EAAG,MAIPuV,EAAOpL,EACP1C,GAAO,GAGTtG,EAAKc,MAAQ,CACXsT,KAAMA,EACNE,YAAahO,EACb1I,MAAM,EACNqR,QAAQ,GAGVjP,EAAKuU,gBAAkBvU,EAAKuU,gBAAgB3T,KAArBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KACvBA,EAAKwU,iBAAmBxU,EAAKwU,iBAAiB5T,KAAtBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KACxBA,EAAKyU,QAAUzU,EAAKyU,QAAQ7T,KAAbtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KACfA,EAAK0U,WAAa1U,EAAK0U,WAAW9T,KAAhBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KA/BDA,0EAoCR2E,GACT,IAAIyP,EAAOhX,KAAK0D,MAAMsT,YAEfA,EADQzP,EAAEpC,OAAOmD,MAExBtI,KAAK4D,SAAS,CACZoT,KAAMA,EACNE,aAAa,sCAKf,IAAIF,EAAOhX,KAAK0D,MAAMsT,KAEtBA,EADY,IAAMxG,KAAK+G,SAASC,SAAS,IAAIC,OAAO,EAAG,IAC3C,CAAE/V,EAAG,GAAIC,EAAG,OAAQF,EAAG,GAAIG,EAAG,OAC1C5B,KAAK4D,SAAS,CACZoT,KAAMA,EACNE,aAAa,yCAIJQ,EAAO9W,GAClB,IAAIoW,EAAOhX,KAAK0D,MAAMsT,KACtBA,EAAKU,GAAOhW,EAAId,EAAIoV,cAAgB9U,QAAUN,EAAI0B,MAAQ1B,EAAI0B,MAAQ1B,EACtEZ,KAAK4D,SAAS,CACZoT,KAAMA,EACNE,aAAa,uCAINQ,EAAO9W,GAChB,IAAIoW,EAAOhX,KAAK0D,MAAMsT,KACtBA,EAAKU,GAAOjW,EAAIb,EAAIoV,cAAgBC,MAAQrV,EAAI,GAAKA,EACrDZ,KAAK4D,SAAS,CACZoT,KAAMA,EACNE,aAAa,4CAID3P,GACd,IAAIyP,EAAOhX,KAAK0D,MAAMsT,KACtBA,EAAKzP,EAAEpC,OAAOmD,MAAM3G,EAAI4F,EAAEpC,OAAO7C,MACjCtC,KAAK4D,SAAS,CACZoT,KAAMA,EACNE,aAAa,6CAIA3P,GACf,IAAIyP,EAAOhX,KAAK0D,MAAMsT,KACtBA,EAAKzP,EAAEpC,OAAOmD,MAAM1G,EAAI2F,EAAEpC,OAAO7C,MACjCtC,KAAK4D,SAAS,CACZoT,KAAMA,EACNE,aAAa,0CAIH3P,GACZA,EAAEiI,iBACFxP,KAAK4D,SAAS,CACZsT,aAAa,IAEf,IAAM9W,EAAIyL,KAAG+E,UAAU5Q,KAAK0D,MAAMsT,MAClChX,KAAKkD,MAAMyT,QAAQnU,KAAnB,WAAA7B,OAAmCX,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAA3D,SAAAhT,OAAwEP,+CAGvDyS,EAAWkB,GAC5B,IAAMnI,EAAUC,KAAGC,MAAM9L,KAAKkD,MAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IACtEhM,KAAK0D,MAAMlD,OAASoL,EAAQpL,MAC7BR,KAAK4D,SAAS,CACZpD,KAAMoL,EAAQpL,mDAKD,IAAA8G,EAAAtH,KACjBlB,EAAS4V,QAAQ1U,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAAO,SAAA9Z,GAC9C,IAAIwa,EAAUxa,EAAKgY,OACnBwC,EAAUnT,OAAOqT,KAAK1a,EAAKgY,QAAQzU,IAAI,SAAAyK,GACrC,QAAI6G,GAAIW,cAAcnE,SAASrD,IACtB,CAAEvF,MAAO+R,EAAQxM,GAAK2M,SAAUpF,MAAOiF,EAAQxM,GAAKuH,SAI5DhC,OAAO,SAAA7F,GAAO,OAAOA,IACxBD,EAAK1D,SAAS,CACZiO,OAAQwC,uCAML,IAAA3M,EAAA1H,KACP,OAAKA,KAAK0D,MAAMmO,OAIdhO,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmQ,GAAD,CAAStU,GAAKI,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAAQjT,KAAK,oBAEnDmD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,sBACbP,EAAAC,EAAAC,cAAA,QAAMoS,SAAUnW,KAAK2X,cAAcnU,KAAKxD,MAAOoE,UAAU,QAErDlD,OAAOC,QAAQnB,KAAK0D,MAAMsT,MAAM5Z,IAAI,SAACmK,EAAGK,GACtC,IAAMpG,EAAI+F,EAAE,GACN9F,EAAI8F,EAAE,GAEZ,OAAO1D,EAAAC,EAAAC,cAAA,OAAK8D,IAAKD,EAAGxD,UAAU,QAC5BP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,GACLmC,EAAI,GAAK/D,EAAAC,EAAAC,cAAC6T,GAAD,CACPhD,aAAcnT,EAAEG,EAChBkL,SAAUpF,EAAK0P,iBACf9O,KAAM9G,KAGZqC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,GACP5B,EAAAC,EAAAC,cAACuS,GAAD,CACEzE,OAAQnK,EAAKhE,MAAMmO,OACnBjS,GAAK8H,EAAKxE,MAAMmJ,MAAMtN,OAAO4U,MAC7B9T,IAAK4B,EAAEC,EACPoL,SAAWpF,EAAKmO,aAAarS,KAAKkE,EAAMlG,MAG5CqC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,GACP5B,EAAAC,EAAAC,cAAC8T,GAAD,CACEjD,aAAcnT,EAAEE,EAChB2G,KAAM9G,EACNsL,SAAWpF,EAAKyP,mBAGpBtT,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,GACP5B,EAAAC,EAAAC,cAACwS,GAAD,CACE1W,IAAM4B,EAAEC,EACRd,IAAKa,EAAEA,EACPqL,SAAUpF,EAAKoO,WAAWtS,KAAKkE,EAAMlG,MAIzCqC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,GACLmC,EAAE,IAAM1G,OAAOqT,KAAK7M,EAAKhE,MAAMsT,MAAMvU,QAAUoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQlD,KAAK,SAASmD,MAAM,OAAO8C,OAAK,EAACvC,QAAUkD,EAAK2P,SAAxD,MAEnDxT,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKyB,GAAI,GACLmC,EAAI,GAAK/D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQlD,KAAK,SAASmD,MAAM,SAAS8C,OAAK,EAACuB,KAAM9G,EAAGgD,QAAUkD,EAAK4P,YAAnE,UAOrBzT,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQlD,KAAK,SAASmD,MAAM,UAAU8C,OAAK,GAA3C,YAEFlD,EAAAC,EAAAC,cAAA,YAGA/D,KAAK0D,MAAMwT,aAAerT,EAAAC,EAAAC,cAACoQ,GAAD,CACxBvU,GAAII,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAC5B7S,KAAK,MACLjH,KAAMmG,KAAK0D,MAAMsT,KACjBxW,KAAMR,KAAK0D,MAAMlD,QAjEhBqD,EAAAC,EAAAC,cAAC4D,EAAD,aAnI8BrC,aCRtBmR,oLAIjB,IAAM7K,EAAUC,KAAGC,MAAM9L,KAAKkD,MAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IAEzE,OACEnI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmQ,GAAD,CAAStU,GAAKI,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAAQjT,KAAK,iBACnDmD,EAAAC,EAAAC,cAACoQ,GAAD,CACIvU,GAAII,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAC5B7S,KAAK,UACLP,EAAGqL,EAAQrL,EACXC,KAAMoL,EAAQpL,eAbgB8E,aCArBwS,eAEnB,SAAAA,EAAY5U,GAAO,IAAAN,EAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA8X,GACjBlV,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA4W,GAAAxU,KAAAtD,KAAMkD,IAEN,IAAM0I,EAAUC,KAAGC,MAAM5I,EAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IAHnD,OAIjBpJ,EAAKc,MAAQ,CACXlD,KAAMoL,EAAQpL,MALCoC,kFASAiQ,EAAWkB,GAC5B,IAAMnI,EAAUC,KAAGC,MAAM9L,KAAKkD,MAAMtE,SAASmN,OAAQ,CAACC,mBAAmB,IACtEhM,KAAK0D,MAAMlD,OAASoL,EAAQpL,MAC7BR,KAAK4D,SAAS,CACZpD,KAAMoL,EAAQpL,wCAMlB,OACEqD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmQ,GAAD,CAAStU,GAAKI,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAAQjT,KAAK,aAEpDmD,EAAAC,EAAAC,cAACoQ,GAAD,CACKvU,GAAII,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAC5B7S,KAAK,MACLN,KAAMR,KAAK0D,MAAMlD,eA5BU8E,uUCoBlByS,eAEnB,SAAAA,EAAY7U,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA+X,IACjBnV,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA6W,GAAAzU,KAAAtD,KAAMkD,KACDQ,MAAQ,CACX9D,GAAIsD,EAAMmJ,MAAMtN,OAAO4U,MACvBvE,OAAO,EACP1O,MAAM,EACNsX,KAAK,GANUpV,2EAUPhD,GAAG,IAAA0H,EAAAtH,KACT2F,GAAK,EACLqS,GAAM,EACN5I,GAAQ,EAEZ,OAAQxP,GACN,IAAK,SACH+F,EAAKsS,KACLD,EAAME,KACN9I,EAAQ,SACR,MACF,IAAK,cACHzJ,EAAKwS,KACLH,EAAMI,KACNhJ,EAAQ,cACR,MACF,IAAK,QACHzJ,EAAK0S,KACLL,EAAMM,KACNlJ,EAAQ,QACR,MACF,IAAK,SACHzJ,EAAK4S,KACLP,EAAMQ,KACNpJ,EAAQ,SACR,MACF,IAAK,UACHzJ,EAAK8S,KACLT,EAAMU,KACNtJ,EAAQ,UACR,MACF,IAAK,YACHzJ,EAAKgT,KACLX,EAAMY,KACNxJ,EAAQ,YACR,MACF,IAAK,cACHzJ,EAAKkT,KACLb,EAAMc,KACN1J,EAAQ,cACR,MACF,QACE,OAAO,EAGX5H,MAAM7B,GAAItG,KAAK,SAACoI,GAAD,OAAcA,EAAS/G,SAAQrB,KAAK,SAACqB,GAClD4G,EAAK1D,SAAS,CACZhE,GAAIA,EACJc,KAAMA,EACNsX,IAAKA,EACL5I,MAAOA,iDAKMyD,GACb7S,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,QAAUd,EAAUxG,MAAMtN,OAAO4U,OAC3D3T,KAAK+Y,YAAY/Y,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,mDAK3C3T,KAAK+Y,YAAY/Y,KAAK0D,MAAM9D,qCAK5B,OAAII,KAAK0D,MAAMhD,MAKZV,KAAK0D,MAAMsU,MACZgB,EAAS,CACPrS,MAAO,OACPmJ,OAAQ,QACRmJ,gBAAiB,OAASjZ,KAAK0D,MAAMsU,IAAK,IAC1CkB,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,YAKtBvV,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKW,MAAQsU,IAIbnV,EAAAC,EAAAC,cAACmQ,GAAD,CAAS3F,QAASvO,KAAK0D,MAAM0L,MAAOxP,GAAII,KAAK0D,MAAM9D,GAAIc,KAAK,iBAE5DmD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,2CACbP,EAAAC,EAAAC,cAACsV,GAAAvV,EAAD,CAAekE,OAAQhI,KAAK0D,MAAMhD,KAAMuH,YAAY,QAzBnDpE,EAAAC,EAAAC,cAAC4D,EAAD,MAET,IAAIqR,SAlF+B1T,4CCUxBgU,eAhCb,SAAAA,EAAYpW,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAsZ,IACjB1W,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAoY,GAAAhW,KAAAtD,KAAMkD,KACDQ,MAAQ,CACX6V,IAAM/I,KAAK+G,SAASC,SAAS,IAAIC,OAAO,EAAG,IAH5B7U,mFAQQ,OAAtB5C,KAAKkD,MAAMpD,QACF,IAAI0Z,KAAO,SAAYxZ,KAAK0D,MAAM6V,KAC1CE,YAAYzZ,KAAKkD,MAAMpD,OAAQ,aAAeE,KAAK0D,MAAM6V,sCAK7D,IAAIzJ,GAAS,EAIb,OAHyB,OAAtB9P,KAAKkD,MAAMpD,SACZgQ,EAAS,IAAM9P,KAAKkD,MAAMpD,OAAO2C,OAAS,EAAI,IAG9CoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKtK,GAAG,aAAcsG,KAAKkD,MAAMpD,QACjC+D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKtK,GAAK,aAAesG,KAAK0D,MAAM6V,OAEpCzJ,GAAUjM,EAAAC,EAAAC,cAAA,UAAQ4C,MAAM,MAAMmJ,OAASA,EAASpW,GAAK,SAAUsG,KAAK0D,MAAM6V,cA3BtDjU,sCCsBToU,eAEnB,SAAAA,EAAYxW,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA0Z,IACjB9W,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAwY,GAAApW,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXiW,QAAU,QAEZ/W,EAAKgX,cAAgBhX,EAAKgX,cAAcpW,KAAnBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KALJA,+EAUjB5C,KAAK4D,SAAS,CACZ+V,QAAgC,SAAvB3Z,KAAK0D,MAAMiW,QAAqB,SAAW,0CAKtD,IAAME,EAtCV,SAAsBhP,EAAKjF,GAAoB,IAAZkU,EAAYzJ,UAAA5N,OAAA,QAAA6N,IAAAD,UAAA,GAAAA,UAAA,GAAJ,IAEzC,IAAKxF,GAAOA,EAAIpI,QAAUmD,EACxB,MAAO,CAACiF,GAAK,GAEf,IAAMkP,EAAOlP,EAAI4M,OAAO,EAAG7R,GAE3B,GAAImU,EAAKtC,OAAOsC,EAAKtX,OAAS,KAAOqX,EACnC,MAAO,CAACC,GAAM,GAGhB,IAAMC,EAAQD,EAAO,GAAKlP,EAAI1K,QAAQ4Z,EAAM,IAAI7E,MAAM4E,GAAO,GACvDG,EAAOpP,EAAI1K,QAAQ6Z,EAAQ,GAAKF,EAAO,IAC7C,MAAO,CACLE,EAAQF,EACRG,IAASD,GAAgBC,GAuBPC,CAAaC,KAAMna,KAAKkD,MAAMxC,MAAO,IAAKV,KAAKkD,MAAMkX,WACvE,OAAKP,EAAU,GAKbhW,EAAAC,EAAAC,cAAA,YAAQ8V,EAAU,GAChBhW,EAAAC,EAAAC,cAAA,QAAMW,MAAO,CAAEiV,QAAS3Z,KAAK0D,MAAMiW,UAAaE,EAAU,IAClC,SAAvB7Z,KAAK0D,MAAMiW,QAAqB,SAAW,GAC5C9V,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,OAAOyB,KAAK,KAAKtB,UAAU,OAAOI,QAAUxE,KAAK4Z,eACrC,SAAvB5Z,KAAK0D,MAAMiW,QAAqB,IAAM,MARpCE,EAAU,UApBkBvU,aCW1B+U,oLA3BX,IAAMzZ,EAAMZ,KAAKkD,MAAMtC,IACjBwO,EAAQpP,KAAKkD,MAAMkM,MACzB,IAAKxO,GAAe,KAARA,EACV,OAAO,KAET,IAAIwD,EAAY,GAOhB,OANGpE,KAAKkD,MAAMyL,QACZvK,EAAU5B,KAAK,UAEdxC,KAAKkD,MAAM0L,OACZxK,EAAU5B,KAAK,SAGfqB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKI,UAAW,gCAA0C,OAARxD,EAAe,GAAK,YACpEiD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAG,IAAIvM,GAAG,KACb9B,EAAAC,EAAAC,cAAA,SAAOK,UAAU,oBAAoBgL,IAEvCvL,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,OAAKK,UAAYA,EAAU9G,KAAK,MACf,iBAAV8R,EAA8BvL,EAAAC,EAAAC,cAACuW,GAAD,CAAiBxa,OAAQc,IAAWiD,EAAAC,EAAAC,cAACwW,GAAD,CAAa7Z,KAAME,EAAKwZ,UAAWpa,KAAKkD,MAAMyL,OAAS,SAAW,gBAtB5HrJ,iBCIJkV,oLAIjB,OACE3W,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAEbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAYH,EAAAC,EAAAC,cAAA,UAAM/D,KAAKkD,MAAMrJ,KAAK4gB,SAASC,WAC3C7W,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAEEhE,KAAKkD,MAAMrJ,KAAKA,KAAKuD,IAAK,SAACiD,EAAGsa,GAC5B,OACE9W,EAAAC,EAAAC,cAAA,QAAM8D,IAAK8S,EAAIvW,UAAU,SArBvBwW,EAsBWva,EAAEua,OAAOha,IAtBZia,EAsBiBxa,EAAEwa,MAAMja,IArB7Cga,EACM/W,EAAAC,EAAAC,cAAA,KAAGqB,KAAM,iEAAmEwV,EAAQzV,OAAO,SAASK,IAAI,uBAAuBqV,GAEhIA,GAmBSxa,EAAEya,QAAQla,IAAO,KAAOP,EAAEya,QAAQla,IAAM,IAAO,GAC/CP,EAAE0a,OAAOna,IAAO,IAAMP,EAAE0a,OAAOna,IAAM,IAAO,IAxBhE,IAAkBga,EAAQC,cAQgBvV,aCNrB0V,eAEnB,SAAAA,EAAY9X,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAgb,IACjBpY,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA8Z,GAAA1X,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXoD,OAAO,GAGTlE,EAAKW,OAASX,EAAKW,OAAOC,KAAZtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KANGA,gFAQFvC,GACf,OACEwD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK1D,EAAE4a,QAAQra,KACxCiD,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK1D,EAAE6a,KAAKta,KACrCiD,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK1D,EAAE8a,YAAYva,KAC5CiD,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK1D,EAAEiI,KAAK1H,KACrCiD,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK1D,EAAE+a,WAAWxa,KAC3CiD,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,gCAAwB1D,EAAE3G,GAAGkH,sCAKzDP,GACDA,EAAE3G,IACJsG,KAAK4D,SAAS,CACZjK,MAAO0G,EAAEmU,SAAS5T,IAClBya,KAAMrb,KAAKsb,iBAAiBjb,KAKhCL,KAAK4D,SAAS,CACZkD,OAAQ9G,KAAK0D,MAAMoD,yCAMd,IAAAQ,EAAAtH,KACP,OACE6D,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAEbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAYH,EAAAC,EAAAC,cAAA,UAAM/D,KAAKkD,MAAMrJ,KAAK4gB,SAASC,WAC3C7W,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,UAEE/D,KAAKkD,MAAMrJ,KAAKA,KAAKuD,IAAK,SAACiD,EAAGsa,GAC5B,OACE9W,EAAAC,EAAAC,cAAA,MAAI8D,IAAK8S,GACP9W,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQU,MAAO,CAACmE,OAAQ,YAAaC,QAAS,GAAI7E,MAAM,OAAOO,QAAU,kBAAM8C,EAAK/D,OAAOlD,KACxFA,EAAEmU,SAAS5T,KAEZP,EAAEkb,UAAU3a,IAAM,KAAOP,EAAEkb,UAAU3a,IAAM,GAC3CP,EAAEmb,GAAG5a,IAAM,KAAOP,EAAEmb,GAAG5a,IAAM,SAS3CiD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOL,OAAQ3D,KAAK0D,MAAMoD,MAAOvD,OAAQvD,KAAKuD,QAC5CM,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAaT,OAAQvD,KAAKuD,QAAUvD,KAAK0D,MAAM/J,OAC/CkK,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAahE,KAAK0D,MAAM2X,eAlEY/V,aCDxCmW,eAEJ,SAAAA,EAAYvY,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAyb,IACjB7Y,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAua,GAAAnY,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXiW,QAAU,QAEZ/W,EAAKgX,cAAgBhX,EAAKgX,cAAcpW,KAAnBtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KALJA,+EAUjB5C,KAAK4D,SAAS,CACZ+V,QAAgC,SAAvB3Z,KAAK0D,MAAMiW,QAAqB,SAAW,0CAKtD,OACE9V,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,QAAMW,MAAO,CAAEiV,QAAS3Z,KAAK0D,MAAMiW,SAAWvV,UAAU,gCAAiCpE,KAAKkD,MAAMxC,MACpGmD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,OAAOyB,KAAK,KAAKtB,UAAU,OAAOI,QAAUxE,KAAK4Z,eACrC,SAAvB5Z,KAAK0D,MAAMiW,QAAqB9V,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,SAAY,aAtBpDQ,aA6BnBoW,oLAGF,IAAMC,EAAM3b,KAAKkD,MAAMrJ,KAAK4I,OAC5B,OAAQoB,EAAAC,EAAAC,cAAA,WACL/D,KAAKkD,MAAMrJ,KAAKuD,IAAK,SAACiD,EAAGsa,GACxB,OAAO9W,EAAAC,EAAAC,cAAA,QAAMK,UAAW,aAAeuX,IAAQhB,EAAG,EAAI,GAAK,gCAAiC9S,IAAK8S,GAC/F9W,EAAAC,EAAAC,cAAA,QAAMK,UAAY/D,EAAEub,SAAShb,IAAMP,EAAEub,SAAShb,IAAIqK,cAAgB,GAAKtR,MAAO0G,EAAEwb,MAAMjb,KAClFP,EAAEqC,QAAQ9B,IAAM,KAElBP,EAAEyb,cAAclb,IAAMiD,EAAAC,EAAAC,cAAA,QAAMK,UAAU,mBAAhB,IAAoC/D,EAAEyb,cAAclb,IAApD,KAAmE,GACzFP,EAAEwb,MAAMjb,IAAMiD,EAAAC,EAAAC,cAACgY,GAAD,CAAYrb,KAAOL,EAAEwb,MAAMjb,MAAW,cAXzC0E,aAkBF0W,sLAERhF,GACT,IAAIiF,EAAM,GASV,OAPAjF,EAAK5V,QAAS,SAACf,EAAGsa,GACXsB,EAAI5b,EAAEub,SAAShb,OAClBqb,EAAI5b,EAAEub,SAAShb,KAAO,IAExBqb,EAAI5b,EAAEub,SAAShb,KAAK4B,KAAKnC,KAGpBa,OAAOqT,KAAK0H,GAAK7e,IAAI,SAAC8e,EAAGtU,GAC9B,OAAO/D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKI,UAAW,+BAAiCyD,IAAKD,GAC3D/D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAG,IAAIvM,GAAG,KACb9B,EAAAC,EAAAC,cAAA,SAAOK,UAAU,oBAAoB8X,IAEvCrY,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACoY,GAAD,CAAUtiB,KAAMoiB,EAAIC,2CAS5B,OACErY,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAYH,EAAAC,EAAAC,cAAA,UAAM/D,KAAKkD,MAAMrJ,KAAK4gB,SAASC,WAC3C7W,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIhE,KAAKoc,WAAWpc,KAAKkD,MAAMrJ,KAAKA,gBAjCFyL,uBChDtC+W,GAAI,CACRC,wCAA0D,CAAClc,GAAI,KAAMmH,GAAG,MACxEgV,2CAA0D,CAACnc,GAAI,KAAMmH,GAAG,MACxEiV,wCAA0D,CAACpc,GAAI,KAAMmH,GAAG,MACxEkV,sDAA0D,CAACrc,GAAI,KAAMmH,GAAG,MACxEmV,2CAA0D,CAACtc,GAAI,KAAMmH,GAAG,MACxEoV,uDAA0D,CAACvc,GAAI,KAAMmH,GAAG,MACxEqV,wCAA0D,CAACxc,GAAI,KAAMmH,GAAG,MACxEsV,qDAA0D,CAACzc,GAAI,KAAMmH,GAAG,KACxEuV,sCAA0D,CAAC1c,GAAI,IAAMmH,GAAG,KACxEwV,qCAA0D,CAAC3c,GAAI,IAAMmH,GAAG,KACxEyV,mCAA0D,CAAC5c,GAAI,IAAMmH,GAAG,IACxE0V,0CAA0D,CAAC7c,GAAI,IAAMmH,EAAE,KACvE2V,uCAA0D,CAAC9c,GAAI,GAAMmH,EAAE,KACvE4V,iCAA0D,CAAC/c,EAAG,IAAOmH,EAAE,KACvE6V,oCAA0D,CAAChd,EAAG,IAAOmH,EAAE,KACvE8V,sCAA0D,CAACjd,EAAG,IAAOmH,EAAE,MACvE+V,4CAA0D,CAACld,EAAG,KAAOmH,EAAE,MACvEgW,2CAA0D,CAACnd,EAAG,KAAOmH,EAAE,MACvEiW,qCAA0D,CAACpd,EAAG,KAAOmH,EAAE,OAGnEsN,GAAU,CACd4I,OAAQ,CACN9D,SAAS,GAEX+D,OAAQ,CACNC,MAAO,CAAC,CACNC,SAAS,IAEXC,MAAO,CAAC,CACNC,MAAM,CACJC,SAAU,IACVC,IAAK,UAuBQC,oLAKjB,IAAKje,KAAKkD,MAAMgb,YAAcle,KAAKkD,MAAMgb,WAAWzb,OAAS,EAC3D,OAAO,KAGT,IAAI5I,EAAO,CACTskB,OAAQ,GACRC,SAAU,CACR,CACEzZ,gBAAiB,OACjB0Z,qBAAsB,OACtBxkB,KAAM,IAER,CACE8K,gBAAiB,UACjB2Z,YAAa,UACbrY,YAAa,EACboY,qBAAsB,UACtBE,iBAAkB,UAClB1kB,KAAM,MAsDZ,OAjDAmG,KAAKkD,MAAMgb,WAAWrkB,KAAKuH,QAAQ,SAAAmG,GACjC1N,EAAKskB,OAAO3b,KAAK+E,EAAEiX,QAAQ5d,IAAIT,QAAQ,iBAAkB,KACrDkc,GAAE9U,EAAEiX,QAAQ5d,OAEVyb,GAAE9U,EAAEiX,QAAQ5d,KAAK2G,EAAI,GACvB1N,EAAKukB,SAAS,GAAGvkB,KAAK2I,KAAK6Z,GAAE9U,EAAEiX,QAAQ5d,KAAK2G,GAC5C1N,EAAKukB,SAAS,GAAGvkB,KAAK2I,KAAK6Z,GAAE9U,EAAEiX,QAAQ5d,KAAKR,IACnCic,GAAE9U,EAAEiX,QAAQ5d,KAAK2G,EAAI,GAAK8U,GAAE9U,EAAEiX,QAAQ5d,KAAKR,EAAI,IAExDvG,EAAKukB,SAAS,GAAGvkB,KAAK2I,KAAK6Z,GAAE9U,EAAEiX,QAAQ5d,KAAKR,GAC5CvG,EAAKukB,SAAS,GAAGvkB,KAAK2I,KAAK6Z,GAAE9U,EAAEiX,QAAQ5d,KAAK2G,GAC5C1N,EAAKukB,SAAS,GAAGvkB,KAAK2I,KAAK,GAC3B3I,EAAKukB,SAAS,GAAGvkB,KAAK2I,KAAK,GAC3B3I,EAAKskB,OAAO3b,KAAK+E,EAAEiX,QAAQ5d,IAAIT,QAAQ,iBAAkB,SAoCxD0D,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACpBP,EAAAC,EAAAC,cAAA,mCACAF,EAAAC,EAAAC,cAAC0a,GAAA,EAAD,CAAe5kB,KAAMA,EAAMgb,QAASA,aA/EJvP,aCCvBoZ,oLA9CJ,IAAA9b,EAAA5C,KAEP,OAAIA,KAAKkD,MAAMrJ,KAAKA,KAAK4I,OAAS,EACzB,KAG6B,oBAAnCzC,KAAKkD,MAAMrJ,KAAK4gB,SAASkE,MACnB9a,EAAAC,EAAAC,cAAC6a,GAAD,CAAc/kB,KAAOmG,KAAKkD,MAAMrJ,OAEH,wBAAnCmG,KAAKkD,MAAMrJ,KAAK4gB,SAASkE,MACnB9a,EAAAC,EAAAC,cAAC8a,GAAD,CAAkBhlB,KAAOmG,KAAKkD,MAAMrJ,OAEP,sBAAnCmG,KAAKkD,MAAMrJ,KAAK4gB,SAASkE,MACnB9a,EAAAC,EAAAC,cAAC+a,GAAD,CAAgBjlB,KAAOmG,KAAKkD,MAAMrJ,OAIzCgK,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAEbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAYH,EAAAC,EAAAC,cAAA,UAAM/D,KAAKkD,MAAMrJ,KAAK4gB,SAASC,WAEP,wBAAnC1a,KAAKkD,MAAMrJ,KAAK4gB,SAASkE,OAAmC9a,EAAAC,EAAAC,cAAA,OAAKK,UAAU,OAAMP,EAAAC,EAAAC,cAACgb,GAAD,CAAUb,WAAale,KAAKkD,MAAMrJ,QAGlHmG,KAAKkD,MAAMrJ,KAAKA,KAAKuD,IAAK,SAACiD,EAAGsa,GAC5B,OAAQ9W,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAU6D,IAAK8S,EAAIvW,UAAU,2BACjClD,OAAOqT,KAAKlU,GAAGjD,IAAK,SAACsE,EAAGsd,GACtB,OAAItQ,GAAIG,OAAOyD,QAAQ1P,EAAKM,MAAMrJ,KAAK4gB,SAASwE,YAAc,IAAMvd,IAAM,EACjE,KAELrB,EAAEqB,GAAG0N,MACAvL,EAAAC,EAAAC,cAACmb,GAAD,CAAYte,IAAMP,EAAEqB,GAAGyd,UAAY9e,EAAEqB,GAAGyd,UAAY9e,EAAEqB,GAAGd,IAAMwO,MAAQ/O,EAAEqB,GAAG0N,MAAQvH,IAAKmX,IAEzF,OAGZnb,EAAAC,EAAAC,cAAA,uBAvCIuB,aCJA8Z,oLAGjB,IAAMC,EAAMrf,KAAKkD,MAAMmc,IACnBC,EAAa,GAEjB,OACEzb,EAAAC,EAAAC,cAAA,WAEI7C,OAAO+H,OAAOoW,EAAIE,MAAMniB,IAAK,SAACwK,EAAGpG,GAC/B,OAAIkN,GAAIG,OAAOyD,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EAC1D,KAEK,UAAXV,EAAEU,MACHgX,EAAW9c,KAAK,uBAEdqB,EAAAC,EAAAC,cAAA,OAAK8D,IAAKrG,GACRqC,EAAAC,EAAAC,cAACmb,GAAD,CACIvQ,OAAUD,GAAIC,OAAO2D,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EACzEsG,MAASF,GAAIE,MAAM0D,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EACvE8G,MAAQxH,EAAEwH,MACVxO,IAAMgH,EAAEuX,UAAYvX,EAAEuX,UAAYvX,EAAEhH,MAEtCiD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAK6D,IAAKrG,EAAG4C,UAAU,2BACrBP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACyb,GAAD,CAAQ3lB,KAAMwlB,EAAII,QAAJ,0BAMnB5b,EAAAC,EAAAC,cAACmb,GAAD,CACHvQ,OAAUD,GAAIC,OAAO2D,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EACzEsG,MAASF,GAAIE,MAAM0D,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EACvE8G,MAAQxH,EAAEwH,MACVxO,IAAMgH,EAAEuX,UAAYvX,EAAEuX,UAAYvX,EAAEhH,IACpCiH,IAAKrG,MAIXN,OAAOqT,KAAK8K,EAAII,SAASriB,IAAK,SAAC4M,EAAGxI,GAChC,OAAG8d,EAAWpU,SAASlB,GACd,KAEDnG,EAAAC,EAAAC,cAACyb,GAAD,CAAQ3X,IAAKrG,EAAG3H,KAAMwlB,EAAII,QAAQzV,eA5CjB1E,aCChB8Z,0LAEJC,GAEb,OAAQA,EAAI5E,SAASwE,aACnB,IAAK,cACH,OAAQpb,EAAAC,EAAAC,cAAC2b,GAAD,CAAiBL,IAAMA,IACjC,QACE,OACExb,EAAAC,EAAAC,cAAA,WAEI7C,OAAO+H,OAAOoW,EAAIE,MAAMniB,IAAK,SAACwK,EAAGpG,GAC/B,OAAIkN,GAAIG,OAAOyD,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EAC1D,KAEFzE,EAAAC,EAAAC,cAACmb,GAAD,CACHvQ,OAAUD,GAAIC,OAAO2D,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EACzEsG,MAASF,GAAIE,MAAM0D,QAAQ+M,EAAI5E,SAASwE,YAAc,IAAMrX,EAAEU,OAAS,EACvE8G,MAAQxH,EAAEwH,MACVxO,IAAMgH,EAAEuX,UAAYvX,EAAEuX,UAAYvX,EAAEhH,IACpCiH,IAAKrG,MAIXN,OAAOqT,KAAK8K,EAAII,SAASriB,IAAK,SAAC4M,EAAGxI,GAChC,OAAQqC,EAAAC,EAAAC,cAACyb,GAAD,CAAQ3X,IAAKrG,EAAG3H,KAAMwlB,EAAII,QAAQzV,0CAStD,OAAKhK,KAAKkD,MAAMmc,IAKdxb,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACXpE,KAAK2f,eAAe3f,KAAKkD,MAAMmc,MAL5Bxb,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAAUP,EAAAC,EAAAC,cAAC4D,EAAD,cAnCDrC,aCkEtBsa,oLAnEJjM,EAAOpC,GAYd,MAVU,CACR,IACA,SACA,IAJiBoC,EAAMxT,QAAQ,UAAW,IAM1C,IACA,UACA,MAAQxB,OAAO5E,KAAK,iBAAmB4Z,EAAQ,UAAYpC,IAGlDjU,KAAK,wCAGNuiB,GAAM,IAAAjd,EAAA5C,KAEf,OAAOkB,OAAOC,QAAQ0e,GAAOziB,IAC5B,SAAAiE,EAAauG,GAAM,IAAAtG,EAAAJ,OAAAK,EAAA,EAAAL,CAAAG,EAAA,GAAjBzB,EAAiB0B,EAAA,GAAbwe,EAAaxe,EAAA,GACjB,OAAIwe,EAAKnE,IAAM,EACN,KAEF9X,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAe6D,IAAKD,EAAGtD,IAAKC,IAAMF,GAAKzB,EAAKmd,SAASngB,EAAIkgB,EAAKnd,QACnEkB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,6BADjB,IACgDgb,EAAKnE,IAAM,oBAAsBmE,EAAKnE,IAAM,EAAI,IAAK,IAAM,OAASmE,EAAKpF,oDAMtHsF,GAAU,IAAA1Y,EAAAtH,KACxB,QAAyB,qBAAdggB,GAA6BA,EAAUvd,OAAS,IAIpDvB,OAAOC,QAAQ6e,GAAW5iB,IAC/B,SAAAgF,EAAYwF,GAAM,IAAAvF,EAAAnB,OAAAK,EAAA,EAAAL,CAAAkB,EAAA,GAAhBxC,EAAgByC,EAAA,GAAZ4d,EAAY5d,EAAA,GAChB,QAAI4d,EAAItE,IAAM,IAIP9X,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAe6D,IAAKD,EAAGtD,IAAKC,IAAMF,GAAKiD,EAAKyY,SAASngB,EAAIqgB,EAAItd,QAClEkB,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,6BADjB,IACgDmb,EAAItE,IAAM,oBAAsBsE,EAAItE,IAAM,EAAI,IAAK,IAAM,OAASsE,EAAIvF,6CAOjI,OAAM1a,KAAKkD,MAAM2c,QAAU7f,KAAKkD,MAAM8c,WAAehgB,KAAKkD,MAAM2c,MAAMpd,OAAS,GAAKzC,KAAKkD,MAAM8c,UAAUvd,OAAS,EACzG,KAGPoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,SADxB,UAGAjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIhE,KAAKkgB,YAAYlgB,KAAKkD,MAAM2c,OAC5B7f,KAAKmgB,gBAAgBngB,KAAKkD,MAAM8c,qBA7DpB1a,aC4CX8a,oLA1CJzM,EAAOja,GASd,MAPU,CACR,IAFiBia,EAAMxT,QAAQ,UAAW,IAI1C,IACAzG,GAGS4D,KAAK,qCAGT,IAAAsF,EAAA5C,KACD6f,EAAQ7f,KAAKkD,MAAM2c,OAAS,GAElC,MAAqB,qBAAVA,GAAyBA,EAAMpd,OAAS,EAC1C,KAIPoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,SADxB,2BAGAjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAEI6b,EAAMziB,IACJ,SAAC8e,EAAGtU,GACF,OAAO/D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAe6D,IAAKD,EAAGtD,IAAKC,IAAMF,GAAKzB,EAAKmd,SAAS7D,EAAE+C,YAAa/C,EAAEmE,SAC3Exc,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,6BADjB,KACkDoX,EAAExB,SADpD,KACkEwB,EAAEoE,UAAYpE,EAAEoE,UAAYpE,EAAEmE,oBAhCjG/a,aCFHib,oLAEjB,OAAKvgB,KAAKkD,MAAMxC,KAGRmD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUI,UAAU,iBAAiBM,MAAO,CAAE8b,SAAU,QAASC,UAAW,WAAYzgB,KAAKkD,MAAMxC,MAFlG,YAHwB4E,aCEhBob,eAEnB,SAAAA,EAAYxd,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA0gB,IACjB9d,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAwf,GAAApd,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXoD,OAAO,GAGTlE,EAAKW,OAASX,EAAKW,OAAOC,KAAZtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KANGA,wEAUjB5C,KAAK4D,SAAS,CACZkD,OAAQ9G,KAAK0D,MAAMoD,yCAQrB,OACEjD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAS2c,KAAG,EACRha,MAAM,OACNd,IAAK7F,KAAKkD,MAAM0d,KAChBpc,QAASxE,KAAKuD,SAChBM,EAAAC,EAAAC,cAAC8c,GAAD,CAASngB,KAAMV,KAAKkD,MAAM4d,eAG9Bjd,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOL,OAAQ3D,KAAK0D,MAAMoD,MAAOvD,OAAQvD,KAAKuD,OAAQa,UAAWpE,KAAKkD,MAAMkB,UAAWsB,KAAK,MAC1F7B,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKW,MAAQ,CAAEiC,MAAO,QAClBd,IAAK7F,KAAKkD,MAAM0d,KAChB7a,IAAM/F,KAAKkD,MAAM4d,gBAGzBjd,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAaH,EAAAC,EAAAC,cAAC8c,GAAD,CAASngB,KAAMV,KAAKkD,MAAM4d,wBAvCPxb,aCDrByb,eACnB,SAAAA,EAAY7d,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA+gB,IACjBne,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA6f,GAAAzd,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXsd,OAAO,EACPC,WAAY,oBAEdre,EAAKW,OAASX,EAAKW,OAAOC,KAAZtC,OAAAuC,EAAA,EAAAvC,QAAAuC,EAAA,EAAAvC,CAAA0B,KANGA,wEAUjB5C,KAAK4D,SAAS,CACZod,OAAQhhB,KAAK0D,MAAMsd,MACnBC,WAAuC,qBAA1BjhB,KAAK0D,MAAMud,WAAoC,OAAS,+CAIjE,IAAA3Z,EAAAtH,KACN,OAAKA,KAAKkD,MAAMge,OAASlhB,KAAKkD,MAAMge,MAAMze,OAAS,EAC1C,KAGPoB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAAEiV,QAAS3Z,KAAK0D,MAAMsd,MAAQ,QAAU,SAElDhhB,KAAKkD,MAAMge,MAAM9jB,IAAK,SAACsE,EAAGhI,GACxB,OAAOmK,EAAAC,EAAAC,cAACod,GAAD,CAActZ,IAAKnO,EACxBknB,KAAMtZ,EAAKpE,MAAMxE,QAAQyB,QAAQ,QAAS,cAAgB,SAAWuB,EAAEhI,GAAK,IAAMgI,EAAE0f,IAAKN,YAAapf,EAAEof,iBAI9Gjd,EAAAC,EAAAC,cAAA,OAAKK,UAAU,oBACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQQ,QAASxE,KAAKuD,OAAQU,MAAM,QAASjE,KAAK0D,MAAMud,qBAhC1B3b,aCCnB+b,oLAEV,IAAAze,EAAA5C,KACHkhB,EAAQlhB,KAAKkD,MAAMge,OAAS,GAQ1BI,GAPNJ,EAAQA,EAAM9jB,IAAK,SAAAsE,GACjB,QAAI,CAAC,MAAO,MAAO,MAAO,MAAO,QAAQwJ,SAASxJ,EAAE0f,IAAInW,gBAC/CvJ,IAIR0L,OAAO,SAAA7F,GAAO,OAAOA,KACCga,MAAM,EAAE,GAC3BC,EAAaN,EAAMK,MAAM,GAE/B,OAAGD,EAAW7e,OAAS,EACd,KAKPoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAA,6BAEEud,EAAWlkB,IAAK,SAACsE,EAAGhI,GAClB,OAAOmK,EAAAC,EAAAC,cAACod,GAAD,CAActZ,IAAKnO,EACxBknB,KAAMhe,EAAKM,MAAMxE,QAAQyB,QAAQ,QAAS,cAAgB,SAAWuB,EAAEhI,GAAK,IAAMgI,EAAE0f,IAAKN,YAAapf,EAAEof,gBAG9Gjd,EAAAC,EAAAC,cAAC0d,GAAD,CAAYP,MAAOM,EAAY9iB,QAASsB,KAAKkD,MAAMxE,kBA5BxB4G,uBCsBpBoc,oLAtBX,GAAI1hB,KAAKkD,MAAMye,KAAKlf,OAAS,EAC3B,OAAO,KAET,IAAMmL,EAAWgU,KAAK9V,MAAM9L,KAAKkD,MAAMye,KAAK,GAAGE,SAASC,YAAYC,UAEpE,OACEle,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAAEoL,OAAQ,QAASnJ,MAAO,SACpC9C,EAAAC,EAAAC,cAAC0J,EAAA,EAAD,CAAKrJ,UAAU,wBAAwB4d,OAASpU,EAAWqU,KAAM,GAAIvU,aAAa,GAChF7J,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CAAWjU,IAAI,0DAEboG,KAAKkD,MAAMye,KAAKvkB,IAAK,SAACmK,EAAGK,GACzB,IAAMsa,EAAQN,KAAK9V,MAAMvE,EAAEsa,SAASC,YAAYC,UAChD,OAAQle,EAAAC,EAAAC,cAACoe,GAAA,EAAD,CAAQvU,SAAWsU,EAAQra,IAAMD,eAf/BtC,aCED8c,oLAGjB,MAAuB,gBAAlBpiB,KAAKkD,MAAMtD,KAAyBI,KAAKkD,MAAMrJ,KAAK+G,KAAOZ,KAAKkD,MAAMrJ,KAAK+G,IAAI6B,OAAS,EACpF,KAEFoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACLH,EAAAC,EAAAC,cAAA,KAAGqB,KAAM,8DAAgEzJ,mBAAmBqE,KAAKkD,MAAMrJ,KAAK+G,KAAMuE,OAAO,SAASK,IAAI,uBACpI3B,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,sBADxB,4DAP8BQ,aCAf+c,oLAGjB,MAAuB,gBAAlBriB,KAAKkD,MAAMtD,KAAyBI,KAAKkD,MAAMrJ,KAAK+G,KAAOZ,KAAKkD,MAAMrJ,KAAK+G,IAAI6B,OAAS,EACpF,KAEFoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACLH,EAAAC,EAAAC,cAAA,KAAGqB,KAAM,qCAAuCpF,KAAKkD,MAAMrJ,KAAK+G,IAAMuE,OAAO,SAASK,IAAI,uBACxF3B,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,sBADxB,+BAP0BQ,aCAXgd,oLAGjB,MAAuB,WAAlBtiB,KAAKkD,MAAMtD,KAAoBI,KAAKkD,MAAMrJ,KAAK+G,KAAOZ,KAAKkD,MAAMrJ,KAAK+G,IAAI6B,OAAS,EAC/E,KAEFoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACLH,EAAAC,EAAAC,cAAA,KAAGqB,KAAM,sCAAwCpF,KAAKkD,MAAMrJ,KAAK+G,IAAMuE,OAAO,SAASK,IAAI,uBACzF3B,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,sBADxB,gCAPgCQ,aCAjBid,oLAGjB,MAAuB,gBAAlBviB,KAAKkD,MAAMtD,KAAyBI,KAAKkD,MAAMrJ,KAAK+G,KAAOZ,KAAKkD,MAAMrJ,KAAK+G,IAAI6B,OAAS,EACpF,KAEFoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACLH,EAAAC,EAAAC,cAAA,KAAGqB,KAAM,oDAAsDpF,KAAKkD,MAAMrJ,KAAK+G,IAAMuE,OAAO,SAASK,IAAI,uBACvG3B,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,sBADxB,6CAP4BQ,aCAbkd,oLAGjB,MAAuB,WAAlBxiB,KAAKkD,MAAMtD,KAAoBI,KAAKkD,MAAMrJ,KAAK+G,KAAOZ,KAAKkD,MAAMrJ,KAAK+G,IAAI6B,OAAS,EAC/E,KAEFoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACLH,EAAAC,EAAAC,cAAA,KAAGqB,KAAM,oCAAsCpF,KAAKkD,MAAMrJ,KAAK+G,IAAMuE,OAAO,SAASK,IAAI,uBACvF3B,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,sBADxB,qBAPgCQ,aCAjBmd,oLAGjB,MAAuB,cAAlBziB,KAAKkD,MAAMtD,KAAuBI,KAAKkD,MAAMrJ,KAAK+G,KAAOZ,KAAKkD,MAAMrJ,KAAK+G,IAAI6B,OAAS,EAClF,KAEFoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACLH,EAAAC,EAAAC,cAAA,KAAGqB,KAAI,mFAAAzE,OAAqFX,KAAKkD,MAAMrJ,KAAK+G,IAArG,QAAiHuE,OAAO,SAASK,IAAI,uBAC1I3B,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,sBADxB,0CAPuCQ,aCOxBod,oLAGjB,OAAM1iB,KAAKkD,MAAMmc,KAAOrf,KAAKkD,MAAMmc,IAAI5c,OAAS,EACvC,KAEFoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QAEpBP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAM,CAAC,MAAO,aADjC,mBAGAjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAC4e,GAAD,CAAU9oB,KAAMmG,KAAKkD,MAAMmc,IAAIuD,KAAOhjB,GAAII,KAAKkD,MAAMtD,KACrDiE,EAAAC,EAAAC,cAAC8e,GAAD,CAAUhpB,KAAMmG,KAAKkD,MAAMmc,IAAIyD,GAAOljB,GAAII,KAAKkD,MAAMtD,KACrDiE,EAAAC,EAAAC,cAACgf,GAAD,CAAUlpB,KAAMmG,KAAKkD,MAAMmc,IAAI2D,KAAOpjB,GAAII,KAAKkD,MAAMtD,KAErDiE,EAAAC,EAAAC,cAACkf,GAAD,CAAUppB,KAAMmG,KAAKkD,MAAMmc,IAAIyD,GAAOljB,GAAII,KAAKkD,MAAMtD,KACrDiE,EAAAC,EAAAC,cAACmf,GAAD,CAAUrpB,KAAMmG,KAAKkD,MAAMmc,IAAI8D,SAAUvjB,GAAII,KAAKkD,MAAMtD,KACxDiE,EAAAC,EAAAC,cAACqf,GAAD,CAAiBvpB,KAAMmG,KAAKkD,MAAMmc,IAAI3lB,GAAIkG,GAAII,KAAKkD,MAAMtD,gBApB1B0F,aCItB8Z,eAEnB,SAAAA,EAAYlc,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAof,IACjBxc,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAke,GAAA9b,KAAAtD,KAAMkD,KACDQ,MAAQ,CACX2b,KAAK,EACLgE,QAAQ,GAJOzgB,gGAQcuJ,GAAU,IAAA7E,EAAAtH,KACtCmM,IAAcnM,KAAKkD,QACpBlD,KAAK4D,SAAS,CACZyb,IAAK,OAGPvgB,EAASwkB,OAAOnX,EAAUE,MAAMtN,OAAO4U,MAAOxH,EAAUE,MAAMtN,OAAOrF,GAAI,SAAC2G,GACxEiH,EAAK1D,SAAS,CACZyb,IAAKhf,mDAMM,IAAAqH,EAAA1H,KACjBlB,EAASwkB,OAAOtjB,KAAKkD,MAAMmJ,MAAMtN,OAAO4U,MAAO3T,KAAKkD,MAAMmJ,MAAMtN,OAAOrF,GAAI,SAAC2G,GAC1EqH,EAAK9D,SAAS,CACZyb,IAAKhf,6CAKIgf,GAAK,IAAAkE,EAAAvjB,KAElB,MAAiB,UAAbqf,EAAIve,KACE+C,EAAAC,EAAAC,cAAA,OAAKK,UAAU,mBAAoBib,EAAI3e,OAGzC2e,EAAI5E,SAASwE,YAKbI,EAAIE,KAAK9c,OAAS,EAElBoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACmQ,GAAD,CAAStU,GAAKyf,EAAI5E,SAASwE,YAAc1Q,QAAS8Q,EAAI5E,SAASC,SAAUha,KAAK,gBAC5EmD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,UAAU,QACdP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,MAAIK,UAAU,eAAd,gBAA2Cib,EAAI5E,SAASwE,YAAxD,IAAwEjf,KAAKkD,MAAMmJ,MAAMtN,OAAOrF,GAAhG,mBAOVmK,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aAEbP,EAAAC,EAAAC,cAACmQ,GAAD,CAAStU,GAAKyf,EAAI5E,SAASwE,YAAc1Q,QAAS8Q,EAAI5E,SAASC,SAAUha,KAAK,gBAE9EmD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKI,UAAU,QACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAG,KACNrO,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAA,mBACUsb,EAAI5E,SAASwE,YADvB,IACuCI,EAAIE,KAAK7lB,GAAGkH,KAEjDiD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iDACbP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,SADxB,mCACmEua,EAAI5E,SAASwE,YADhF,IACgGI,EAAIE,KAAK7lB,GAAGkH,KAE5GiD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyf,GAAA,gBAAD,CACE9iB,KAAO,kCAAoC2e,EAAI5E,SAASwE,YAAc,IAAMI,EAAIE,KAAK7lB,GAAGkH,IACxF6iB,OAAQ,WAAQF,EAAK3f,SAAS,CAACyf,QAAQ,IAAQ1kB,OAAO+kB,WAAW,WAAMH,EAAK3f,SAAS,CAACyf,QAAQ,KAAY,OAE1Gxf,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAK,KAAKzB,MAAQjE,KAAK0D,MAAM2f,OAAS,UAAW,aACvDxf,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,UADxB,IACmCjB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,sBAC9CpE,KAAK0D,MAAM2f,OAAS,UAAY,0BAO/Cxf,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAC4f,GAAD,CAAMtE,IAAMA,OAIlBxb,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKkO,GAAG,KACNrO,EAAAC,EAAAC,cAAC6f,GAAD,CAASjC,KAAOtC,EAAIwE,UACpBhgB,EAAAC,EAAAC,cAACgb,GAAD,CAAUb,WAAamB,EAAII,QAAQqE,sBACnCjgB,EAAAC,EAAAC,cAACggB,GAAD,CAAO7C,MAAQ7B,EAAI6B,MAAQxiB,QAAUI,EAASuG,eAC9CxB,EAAAC,EAAAC,cAACigB,GAAD,CAAanE,MAAQR,EAAIQ,MAAQG,UAAYX,EAAIW,YACjDnc,EAAAC,EAAAC,cAACkgB,GAAD,CAAWpE,MAAQR,EAAI6E,cACvBrgB,EAAAC,EAAAC,cAACogB,GAAD,CAAe9E,IAAMA,EAAIE,KAAO3f,GAAKyf,EAAI5E,SAASwE,mDAS9D,OAAKjf,KAAK0D,MAAM2b,IAKdxb,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACXpE,KAAK2f,eAAe3f,KAAK0D,MAAM2b,MAL5Bxb,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAAUP,EAAAC,EAAAC,cAAC4D,EAAD,cA1GDrC,aCZhB8e,qLAETvqB,GACR,IAAIwG,EAAI,CACN8d,OAAQ,GACRC,SAAU,CAAC,CACThP,MAAO,mBACPzK,gBAAiB,sBACjB2Z,YAAa,oBACbrY,YAAa,EACboY,qBAAsB,oBACtBE,iBAAkB,sBAClB1kB,KAAM,MAcV,OAVAA,EAAKuH,QAAQ,SAAAiV,GACXhW,EAAE8d,OAAO3b,KAAK6T,EAAIgO,aAClBnjB,OAAOqT,KAAK8B,GAAKjV,QAAQ,SAAAI,GACb,gBAANA,IACFnB,EAAE+d,SAAS,GAAGvkB,KAAK2I,KAAK6T,EAAI7U,IAC5BnB,EAAE+d,SAAS,GAAGhP,MAAQ5N,OAKrBnB,mCAIP,GAAIL,KAAKkD,MAAMohB,QACb,OAAOzgB,EAAAC,EAAAC,cAAA,KAAGK,UAAU,4BAAb,oBAET,IAAKpE,KAAKkD,MAAMrJ,KACd,OAAO,KAGT,IAAMA,EAAOmG,KAAKukB,UAAUvkB,KAAKkD,MAAMrJ,MACvC,OACEgK,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAA,UAAM/D,KAAKkD,MAAMoF,MACfzE,EAAAC,EAAAC,cAAC0a,GAAA,EAAD,CAAK5kB,KAAOA,EAAQ8M,MAAO,IAC3BmJ,OAAQ,IACR+E,QAAS,CACP2P,qBAAqB,aA5CMlf,aCGlBmf,eAEnB,SAAAA,EAAYvhB,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAykB,IACjB7hB,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAujB,GAAAnhB,KAAAtD,KAAMkD,KACDQ,MAAQ,CACX4E,MAAM,EACNzO,MAAM,EACNyqB,SAAS,GALM1hB,yEASTlJ,GAAG,IAAA4N,EAAAtH,KACXA,KAAK4D,SAAS,CAAE0gB,SAAS,IACzBxlB,EAAS4lB,SAAShrB,EAAI,SAAA2G,GACpBiH,EAAK1D,SAAS,CAAE0E,KAAMjI,EAAEiI,OACxBhB,EAAK1D,SAAS,CAAE/J,KAAMwG,EAAExG,OACxByN,EAAK1D,SAAS,CAAE0gB,SAAS,uCAKrB,IAAA5c,EAAA1H,KACN,OAAKA,KAAKkD,MAAMyhB,OAGe,UAA3B3kB,KAAKkD,MAAMyhB,OAAO7jB,KAElB+C,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBAAf,wEAIFP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAC6gB,GAAD,CAAWtc,KAAMtI,KAAK0D,MAAM4E,KAAMzO,KAAMmG,KAAK0D,MAAM7J,KAAMyqB,QAAStkB,KAAK0D,MAAM4gB,UAC7EzgB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIhE,KAAKkD,MAAMyhB,OAAOvnB,IAAK,SAACwE,EAAGgG,GAC3B,OACE/D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE6D,IAAKD,EACLtD,IAAKugB,IACLrgB,QAAU,kBAAMkD,EAAKod,UAAUljB,EAAElI,KAAM0K,UAAU,OAEjDH,MAAM,aACJrC,EAAE0G,YArBXzE,EAAAC,EAAAC,cAAA,KAAGK,UAAU,4BAAb,gCAvB0BkB,aCAlByf,eAEnB,SAAAA,EAAY7hB,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAA+kB,IACjBniB,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA6jB,GAAAzhB,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXshB,WAAW,GAHIpiB,iFAODiQ,EAAWkB,GAAU,IAAAzM,EAAAtH,KACrClB,EAAS4lB,SAAS,MAAO,SAAArkB,GACvBiH,EAAK1D,SAAS,CAAEohB,UAAW3kB,uCAM7B,OACEwD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,kBACbP,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAiBC,KAAK,cAA1B,qBACAjB,EAAAC,EAAAC,cAACkhB,GAAD,CAAWN,OAAQ3kB,KAAK0D,MAAMshB,oBApBF1f,2CCEf4f,eAEnB,SAAAA,EAAYhiB,GAAO,IAAAN,EAAA,OAAA1B,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAklB,IACjBtiB,EAAA1B,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAAgkB,GAAA5hB,KAAAtD,KAAMkD,KACDQ,MAAQ,CACXhD,MAAM,GAHSkC,oFAME,IAAA0E,EAAAtH,KACnBwH,MAAM2d,MAAM9lB,KAAK,SAACoI,GAAD,OAAcA,EAAS/G,SAAQrB,KAAK,SAACqB,GACpD4G,EAAK1D,SAAS,CAAElD,KAAMA,4CAKxB,OAAKV,KAAK0D,MAAMhD,KAIZmD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,gBACbP,EAAAC,EAAAC,cAACsV,GAAAvV,EAAD,CAAekE,OAAQhI,KAAK0D,MAAMhD,KAAMuH,YAAY,KAJhDpE,EAAAC,EAAAC,cAAC4D,EAAD,uCAWV,OACE9D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBACbP,EAAAC,EAAAC,cAAA,gGAGJF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACXpE,KAAKolB,wBApCe3e,IAAMnB,WCiBxC+f,IAAQC,IAAIC,IAAKC,IAAKC,IAAoBC,IAAOC,IAAOC,IAAyBC,IAAUC,IAAUC,IAAWC,IAAQC,SA8BzGC,oLAzBX,OACEriB,EAAAC,EAAAC,cAACoiB,EAAA,EAAD,CAAeC,SAAS,KACtBviB,EAAAC,EAAAC,cAACsiB,EAAA,EAAD,KACExiB,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOpf,KAAK,uBAAuBqf,UAAW/c,KAC9C3F,EAAAC,EAAAC,cAACyiB,EAAD,KACE3iB,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,IAAIqf,UAAWvf,IACjCnD,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,yEAAyEqf,UAAWG,KACtG7iB,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,6EAA6Eqf,UAAWnH,KAE1Gvb,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,sFAAsFqf,UAAW1S,KACnHhQ,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,oFAAoFqf,UAAWzO,KACjHjU,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,oFAAoFqf,UAAWI,KACjH9iB,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,wFAAwFqf,UAAWK,KACrH/iB,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,gFAAgFqf,UAAW9P,KAE7G5S,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,eAAeqf,UAAWxB,KAC5ClhB,EAAAC,EAAAC,cAACuiB,EAAA,EAAD,CAAOG,OAAK,EAACvf,KAAK,QAAQqf,UAAWrB,eAlB/B5f,aCnBEuhB,QACW,cAA7BloB,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASwN,MACvB,2DCVNya,IAASC,OAAOljB,EAAAC,EAAAC,cAACijB,GAAD,MAASC,SAASC,eAAe,SDyG3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMhoB,KAAK,SAAAioB,GACjCA,EAAaC","file":"static/js/main.a2c121ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/erc.9fb24811.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sapienza.8672e003.jpg\";","module.exports = __webpack_public_path__ + \"static/media/paths-logo.d0a2b412.png\";","module.exports = __webpack_public_path__ + \"static/media/IntroMd.92d4b11a.md\";","module.exports = __webpack_public_path__ + \"static/media/MissionStatementMd.853ccd40.md\";","module.exports = __webpack_public_path__ + \"static/media/lod.d9b96c9b.md\";","module.exports = __webpack_public_path__ + \"static/media/Ripple-1.7s-200px.7466db60.svg\";","module.exports = __webpack_public_path__ + \"static/media/places.5d84ca70.md\";","module.exports = __webpack_public_path__ + \"static/media/places.1485b780.jpg\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.4b875aa0.md\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.ef53f386.jpg\";","module.exports = __webpack_public_path__ + \"static/media/works.b7c993b7.md\";","module.exports = __webpack_public_path__ + \"static/media/works.7aa6593a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/titles.24cbbfac.md\";","module.exports = __webpack_public_path__ + \"static/media/titles.2b8757e2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/authors.9b8c6b7b.md\";","module.exports = __webpack_public_path__ + \"static/media/authors.d6df50d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/colophons.96843ce5.md\";","module.exports = __webpack_public_path__ + \"static/media/colophons.1df56f78.jpg\";","module.exports = __webpack_public_path__ + \"static/media/collections.63bdac97.md\";","module.exports = __webpack_public_path__ + \"static/media/collections.7a50aeed.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Cite.fcc0bbf6.md\";","/*jshint esversion: 6 */\n\nexport default {\n  places: {\n    episcopal_sees: {\n      id: \"episcopal_sees\",\n      title: \"Episcopal sees\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`episcopalsee`=1\")\n      }\n    },\n    has_monasteries: {\n      id: \"has_monasteries\",\n      title: \"Site has one or more monasteries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`hasmonastery` = 1\")\n      }\n    },\n    churches: {\n      id: \"churches\",\n      title: \"Churches\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'church'\")\n      }\n    },\n    cemeteries: {\n      id: \"cemeteries\",\n      title: \"Catacombs, cemeteries tombs or necropoleis\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'catacomb, cemetery, necropolis' OR `typology` = 'tomb'\")\n      }\n    },\n    forts: {\n      id: \"forts\",\n      title: \"Forts or towers\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'fort, tower'\")\n      }\n    },\n    hermitages: {\n      id: \"hermitages\",\n      title: \"Hermitage units\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'hermitage unit(s)'\")\n      }\n    },\n    mines: {\n      id: \"mines\",\n      title: \"Mines or quarries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'mine, quarry'\")\n      }\n    },\n    monasteries: {\n      id: \"monasteries\",\n      title: \"Monasteries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'monastery'\")\n      }\n    },\n    settlements: {\n      id: \"settlements\",\n      title: \"Settlement\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'settlement'\")\n      }\n    },\n    shrines: {\n      id: \"shrines\",\n      title: \"Shrines\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'shrine'\")\n      }\n    },\n  },\n  authors: {\n    bishops: {\n      id: \"bishops\",\n      title: \"Authors-(arch)bishops\",\n      url: 'authors?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `title` LIKE '%bishop' \")\n      }\n    }\n  },\n  manuscripts: {\n    ms_has_bindings: {\n      id: \"ms_has_bindings\",\n      title: \"Manuscripts with bookbindings\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bindings`='1'\")\n      }\n    },\n    horizontal_rolls : {\n      id: \"horizontal_rolls\",\n      title: \"Horizontal rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'horizontal roll'\")\n      }\n    },\n    vertical_rolls : {\n      id: \"vertical_rolls\",\n      title: \"Vertical rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'vertical roll'\")\n      }\n    },\n    minor_dialects : {\n      id: \"minor_dialects\",\n      title: \"“Minor” dialects\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` NOT LIKE '%F;%' AND `dialect` NOT LIKE '%S;%' AND `dialect` NOT LIKE '%B;%' AND `dialect` NOT LIKE '%F' AND `dialect` NOT LIKE '%S' AND `dialect` NOT LIKE '%B'\")\n      }\n    },\n    // ms_with_date: {\n    //   id: \"ms_with_date\",\n    //   title: \"Dated manuscripts\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"(`chronofrom`!='' AND `chronofrom` IS NOT NULL) OR (`chronoto`!='' AND `chronoto` IS NOT NULL)\")\n    //   }\n    // },\n    ms_third_c: {\n      id: \"ms_third_c\",\n      title: \"Manuscripts up to the 3rd Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` < 301\")\n      }\n    },\n    ms_forth_c: {\n      id: \"ms_forth_c\",\n      title: \"Manuscripts of the 4th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 299 AND `chronofrom` < 400\")\n      }\n    },\n    ms_fifth_c: {\n      id: \"ms_fifth_c\",\n      title: \"Manuscripts of the 5th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 399 AND `chronofrom` < 500\")\n      }\n    },\n    ms_sixth_c: {\n      id: \"ms_sixth_c\",\n      title: \"Manuscripts of the 6th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 499 AND `chronofrom` < 600\")\n      }\n    },\n    ms_seventh_c: {\n      id: \"ms_seventh_c\",\n      title: \"Manuscripts of the 7th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 599 AND `chronofrom` < 700\")\n      }\n    },\n    // ms_eighth_c: {\n    //   id: \"ms_eighth_c\",\n    //   title: \"Manuscripts of the 8th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 699  AND `chronofrom` < 800\")\n    //   }\n    // },\n    // ms_ninth_c: {\n    //   id: \"ms_ninth_c\",\n    //   title: \"Manuscripts of the 9th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 799 AND `chronofrom` < 900\")\n    //   }\n    // },\n    // ms_tenth_c: {\n    //   id: \"ms_tenth_c\",\n    //   title: \"Manuscripts of the 10th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 899 AND `chronofrom` < 1000\")\n    //   }\n    // },\n    // ms_eleventh_c: {\n    //   id: \"ms_eleventh_c\",\n    //   title: \"Manuscripts of the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 999 AND `chronofrom` < 1100\")\n    //   }\n    // },\n    // ms_post_eleventh_c: {\n    //   id: \"ms_post_eleventh_c\",\n    //   title: \"Manuscripts after the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 1099\")\n    //   }\n    // }\n  },\n  works: {\n    early_translations_sahidic: {\n      id: \"early_translations_sahidic\",\n      title: \"Early translations of biblical works into Sahidic (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)'\")\n      }\n    },\n    early_translations_bohairic: {\n      id: \"early_translations_bohairic\",\n      title: \"Early translations of biblical works into Bohairic (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Early translations of biblical works into Bohairic (4th cent.)'\")\n      }\n    },\n    early_translations_other: {\n      id: \"early_translations_other\",\n      title: \"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)'\")\n      }\n    },\n    early_translations_apocryphal: {\n      id: \"early_translations_apocryphal\",\n      title: \"Early translations of apocryphal works – first phase (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\" `litperiod` = 'Early translations of apocryphal works – first phase (4th cent.)'\")))\n      }\n    },\n    translations_gnostic: {\n      id: \"translations_gnostic\",\n      title: \"Translation and (eventual) re-elaboration of a “Gnostic” corpus (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a “Gnostic” corpus (3rd-4th cent.)' \")))\n      }\n    },\n    translations_manichaean: {\n      id: \"translations_manichaean\",\n      title: \"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)' \")))\n      }\n    },\n    translations_patristic: {\n      id: \"translations_patristic\",\n      title: \"Early translation of patristic works – first phase (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early translation of patristic works – first phase (3th-5th cent.)' \")))\n      }\n    },\n    pachomius: {\n      id: \"pachomius\",\n      title: \"Pachomius and the early Pachomian milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Pachomius and the early Pachomian milieu (4th-5th cent.)' \")))\n      }\n    },\n    shenoute: {\n      id: \"shenoute\",\n      title: \"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)' \")))\n      }\n    },\n    standard_translations: {\n      id: \"standard_translations\",\n      title: \"“Standard” translations of biblical works into Sahidic (5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = '“Standard” translations of biblical works into Sahidic (5th cent.)' \")))\n      }\n    },\n    translations_apocryphal_second: {\n      id: \"translations_apocryphal_second\",\n      title: \"Translations of apocryphal texts – second phase (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translations of apocryphal texts – second phase (4th-5th cent.)' \")))\n      }\n    },\n    translations_hagiographical: {\n      id: \"translations_hagiographical\",\n      title: \"Early translations of hagiographical works (4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early translations of hagiographical works (4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_homilies: {\n      id: \"classsical_translations_homilies\",\n      title: \"“Classical” translations - homilies (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = '“Classical” translations - homilies (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_historiae: {\n      id: \"classsical_translations_historiae\",\n      title: \"“Classical” translations – historiae monachorum (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = '“Classical” translations – historiae monachorum (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_acts: {\n      id: \"classsical_translations_acts\",\n      title: \"“Classical” translations – acts of councils and Canones (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = '“Classical” translations – acts of councils and Canones (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_monastic: {\n      id: \"classsical_translations_monastic\",\n      title: \"“Classical” translations – monastic works (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = '“Classical” translations – monastic works (end of 4th-6th cent.)' \")))\n      }\n    },\n    post_chalcedonian: {\n      id: \"post_chalcedonian\",\n      title: \"Post-Chalcedonian opposition literature: the “plerophories” and other works (5th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Post-Chalcedonian opposition literature: the “plerophories” and other works (5th-6th cent.)' \")))\n      }\n    },\n    historiographic: {\n      id: \"historiographic\",\n      title: \"Historiographic Production (6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Historiographic Production (6th cent.)' \")))\n      }\n    },\n    orig_lit_formation: {\n      id: \"orig_lit_formation\",\n      title: \"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the earlier hagiographic cycles (6 cent.)' \")))\n      }\n    },\n    orig_lit_damian_hag: {\n      id: \"orig_lit_damian_hag\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies' \")))\n      }\n    },\n    orig_lit_damian_hom: {\n      id: \"orig_lit_damian_hom\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies' \")))\n      }\n    },\n    poetry: {\n      id: \"poetry\",\n      title: \"Poetic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Poetic production (7th-8th cent.)' \")))\n      }\n    },\n    orig_lit_hom: {\n      id: \"orig_lit_hom\",\n      title: \"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Homilies with apocryphal insertions (6th -8th cent.)' \")))\n      }\n    },\n    original_lit_early_islamic: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Literary production of the early Islamic period (7th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Literary production of the early Islamic period (7th cent.)' \")))\n      }\n    },\n    standard_translations_in_bohairic: {\n      id: \"standard_translations_in_bohairic\",\n      title: \"“Standard” translations of biblical works into Bohairic (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = '“Standard” translations of biblical works into Bohairic (7th-8th cent.)' \")))\n      }\n    },\n    original_lit_later_hag: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)' \")))\n      }\n    },\n    synaxarial: {\n      id: \"synaxarial\",\n      title: \"Synaxarial arrangement (9th-10th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Synaxarial arrangement (9th-10th cent.)' \")))\n      }\n    },\n    late_liturgical: {\n      id: \"late_liturgical\",\n      title: \"Late liturgical production (10th-14th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Late liturgical production (10th-14th cent.)' \")))\n      }\n    },\n  },\n  map: {\n    discovery_places: {\n      id: 'discovery_places',\n      title: 'Manuscript discovery places',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'discovery' \")\n      }\n    },\n    storage_places: {\n      id: 'storage_places',\n      title: 'Manuscript storage places',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n\n        \"q_encoded\": btoa(\" mp.type = 'storage' \")\n      }\n    },\n    production_places: {\n      id: 'production_places',\n      title: 'Manuscript production places',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'production' \")\n      }\n    },\n    all_ms_places: {\n      id: 'all_ms_places',\n      title: 'All places connected to manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" 1 \")\n      }\n    },\n    bishoprics: {\n      id: 'bishoprics',\n      title: 'Bishoprics',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[paths__places.id]\": \"Id\",\n        \"fields[paths__places.name]\": \"Name\",\n        \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n        \"fields[paths__places.typology]\": \"Site typology\",\n        \"q_encoded\": btoa( '`paths__places`.`episcopalsee`=1 LIMIT 0, 100')\n      }\n    },\n    multi_stratified: {\n      id: 'multi_stratified',\n      title: 'Multi stratified sites',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \"JOIN `paths__places` ON `paths__geodata`.`table_link` = 'paths__places' AND `paths__geodata`.`id_link` = `paths__places`.`id` \" +\n        \"JOIN (SELECT `id_link`, count(id) as tot from `paths__m_placephase` GROUP BY `id_link` ORDER BY `tot` DESC LIMIT 0,10) as t ON `t`.`id_link` = `paths__geodata`.`id_link` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[paths__places.id]\": \"Id\",\n        \"fields[paths__places.name]\": \"Name\",\n        \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n        \"fields[paths__places.typology]\": \"Site typology\",\n        \"q_encoded\": btoa( '1 ORDER BY `t`.`tot` DESC')\n      }\n    }\n  }\n};\n","import axios from 'axios';\nimport SavedQueries from '../SavedQueries';\n\n\nlet baseUrl = 'https://db-dev.bradypus.net/api/paths/';\n\nif (window.location.hostname === 'localhost'){\n  baseUrl = 'http://db.localhost/api/paths/';\n}\n\nexport default class Database {\n\n  static getData(url, params, callback) {\n\n    url = baseUrl + url;\n\n    axios({\n      method: 'post',\n      url: url,\n      params: params,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      callback(res.data);\n    })\n    .catch( res => {\n      if(res instanceof Error) {\n        console.log(res.message);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  static getBaseUrl(){\n    return baseUrl;\n  }\n\n  static getUniqueVal(tb, fld, string, cb) {\n    this.getData('../v2/paths/' + tb, {\n      verb: 'getUniqueVal',\n      tb: tb.replace('paths__', ''),\n      fld: fld,\n      s: string\n    }, d => { cb(d); }, true);\n\n  }\n\n  static getSaved(grp, q, page, cb) {\n    if (typeof SavedQueries[grp][q] === 'undefined') {\n      cb({\n        status: 'error',\n        text: `No saved query found for id: ${grp}.${q}`\n      });\n      return;\n    } else {\n      SavedQueries[grp][q].data.page = page;\n      this.getData(SavedQueries[grp][q].url, SavedQueries[grp][q].data, d => {\n        cb(d, SavedQueries[grp][q].title);\n      });\n    }\n  }\n\n  static getSimple(tb, fld, val, strict, page, cb){\n    const data = {\n      verb: 'search',\n      type: 'advanced',\n      page: page,\n      'adv[a0][fld]': fld,\n      'adv[a0][operator]': strict ? '=' : 'LIKE',\n      'adv[a0][value]': val\n    };\n    this.getData(tb, data, d => { cb(d); }, true);\n  }\n\n  /**\n   * Executes an advanced query on the database\n   * @param  {String}   tb   Table to be queried, no prefix\n   * @param  {Object}   data Object of query data: {a:{f:'fieldname', v:'value', o: 'operator'}, a2:{f:'fieldname', v:'value', o: 'operator', c: 'connector'}}\n   * @param  {Integer}   page Page number\n   * @param  {Function} cb   Callback function\n   */\n  static getAdv(tb, data, page, cb) {\n    let d = {\n      verb: 'search',\n      type: 'advanced',\n      page: page\n    };\n    Object.entries(data).forEach(([k, v]) => {\n      d[`adv[${k}][fld]`] = v.f;\n      d[`adv[${k}][value]`] = v.v;\n      d[`adv[${k}][operator]`] = v.o;\n      d[`adv[${k}][connector]`] = v.c;\n    });\n\n    this.getData(tb, d, d => { cb(d); }, true);\n  }\n\n  static getStr(tb, string, page, cb) {\n    this.getData(tb, {\n      verb: 'search',\n      type: 'fast',\n      string: string,\n      page: page\n    }, d => { cb(d, 'Search [' + string + '] in ' + d.head.table_label); }, true);\n  }\n\n  static getByEncodedSql(tb, sql, page, cb) {\n      this.getData(tb, {\n        verb: 'search',\n        type: 'encoded',\n        'q_encoded': sql,\n        page: page\n      }, d => { cb(d); }, true);\n  }\n\n  static getAll(tb, page, cb) {\n    this.getData(tb, {\n      verb : 'search',\n      type: 'all',\n      page: page\n    }, d => { cb(d); });\n  }\n\n  static getOne(tb, id, cb) {\n    this.getData('../v2/paths', {\n      tb: tb,\n      verb : 'read',\n      id : id\n    }, d => { cb(d); });\n  }\n\n  static inspect(tb, cb) {\n    this.getData('../v2/paths' , {\n      tb: tb,\n      'verb':'inspect'\n    }, d => { cb(d); });\n  }\n\n  static getChart(id, cb) {\n    this.getData('../v2/paths/' + id, {\n      id: id,\n      'verb':'getChart'\n    }, d => { cb(d); });\n  }\n\n  static simplifyGeojson(gj) {\n    let newgj = {\n      type: \"FeatureCollection\",\n      features: [ ]\n    };\n    let currentId = false;\n\n    Object.entries(gj.features).forEach( ([key, value]) => {\n      if (!currentId || currentId !== value.properties.id){\n        newgj.features.push(value);\n        currentId = value.properties.id;\n      }\n      if (currentId === value.properties.id){\n        newgj.features[newgj.features.length-1].properties.toponym += '|'+value.properties.toponym;\n      }\n    });\n    return newgj;\n  }\n\n  static getPlaces(where, cb) {\n    let data = {\n      \"join\": \"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\"\n      + \" JOIN paths__m_toponyms ON paths__m_toponyms.table_link = 'paths__places' AND paths__m_toponyms.id_link = paths__places.id\",\n      \"fields[paths__geodata.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[paths__m_toponyms.toponym]\": \"Toponyms\",\n      \"q_encoded\": btoa( ( where ? where.replace(/`(.*)`/gi, '`paths__places`.`$1`') : \" 1 LIMIT 0, 5000\" ))\n    };\n\n    this.getData(\n      'geodata?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb( this.simplifyGeojson(d) ) }\n    );\n  }\n\n  static getMsPlaces(ms_where, cb) {\n    const data = {\n      \"join\": \" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\" +\n              \" JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` \",\n      \"fields[paths__geodata.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[paths__m_msplaces.type]\": \"Place type\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa(\" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE \" + ms_where + \" )\")\n    };\n    this.getData(\n      'geodata?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb(d) }\n    );\n  }\n\n}\n","import React, { Component } from 'react';\nimport { NavLink, Navbar, Nav, NavItem, NavbarBrand, NavbarToggler, DropdownMenu, DropdownToggle, DropdownItem, Collapse, UncontrolledDropdown } from 'reactstrap';\nimport { Link, NavLink as RRNavLink } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\n\nclass FixedNavbar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false\n    };\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\nrender() {\n  // borderBottom: '1px solid #f4dcde'\n\n    return (\n          <div>\n            <Navbar color=\"dark\" dark expand=\"md\" className=\"fixed-top\">\n              <NavbarBrand to=\"/\" tag={Link}>PAThs</NavbarBrand>\n              <NavbarToggler onClick={this.toggle} />\n              <Collapse isOpen={this.state.isOpen} navbar>\n                <Nav navbar>\n                  <NavItem>\n                    <NavLink style={{ backgroundColor: '#cc545a', color: '#fff'}} to=\"/map\" tag={RRNavLink}>\n                      <FontAwesomeIcon icon=\"map\" /> Atlas\n                    </NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/places\" tag={RRNavLink}>Places</NavLink>\n                  </NavItem>\n\n                  <NavItem>\n                    <NavLink to=\"/manuscripts\" tag={RRNavLink}>Manuscripts</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/works\" tag={RRNavLink}>Works</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/authors\" tag={RRNavLink}>Authors</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/titles\" tag={RRNavLink}>Titles</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/colophons\" tag={RRNavLink}>Colophons</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/collections\" tag={RRNavLink}>Collections</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/cite\" tag={RRNavLink}>How to cite “PAThs”</NavLink>\n                  </NavItem>\n                </Nav>\n\n                <Nav className=\"ml-auto\" navbar>\n\n                  <UncontrolledDropdown nav inNavbar>\n                    <DropdownToggle nav caret>\n                      <FontAwesomeIcon icon=\"plus-circle\" /> Get more\n                    </DropdownToggle>\n                    <DropdownMenu right>\n                      <DropdownItem to=\"/charts\" tag={RRNavLink}>\n                          <FontAwesomeIcon icon=\"chart-bar\" /> Charts\n                      </DropdownItem>\n                      <DropdownItem target=\"_blank\" href={ Database.getBaseUrl() + \"places?verb=pelagios-void\"}>\n                          <FontAwesomeIcon icon=\"share-alt\" /> LOD: Pelagios VoID\n                      </DropdownItem>\n                      <DropdownItem target=\"_blank\" href={ Database.getBaseUrl() + \"places?verb=search&type=encoded&q_encoded=MSBMSU1JVCAwLCA1MDA=&fullRecords=true&format=turtle\"}>\n                          <FontAwesomeIcon icon=\"share-alt\" /> LOD: Places\n                      </DropdownItem>\n                    </DropdownMenu>\n                  </UncontrolledDropdown>\n                </Nav>\n              </Collapse>\n            </Navbar>\n          </div>\n    );\n  }\n}\n\nexport default FixedNavbar;\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport packageJson from '../../../package.json';\n\nimport Erc from './img/erc.jpg';\nimport Sapienza from './img/sapienza.jpg';\n\nexport default class Footer extends Component {\n\nrender() {\n\n    return (\n      <footer className=\"mt-5 bg-dark text-white p-3\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <p>Tracking Papyrus and Parchment Paths<br />\n              <span  className=\"lead\" style={{ color: '#ffab00'}}>An Archaeological Atlas of Coptic Literature</span><br />\n              <small>Literary Texts in their Geographical Context:<br />\n              Production, Copying, Usage, Dissemination and Preservation</small></p>\n            </div>\n            <div className=\"col text-right\">\n              <p>An <a href=\"https://erc.europa.eu/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"European Research Council\">ERC</a> funded project hosted at the <a href=\"https://www.uniroma1.it\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Sapienza University of Rome\">Sapienza University of Rome</a></p>\n              <p>Principal Investigator <a href=\"http://www.lettere.uniroma1.it/users/paola-buzi\" title=\"Paola Buzi\" target=\"_blank\" rel=\"noopener noreferrer\">Paola Buzi</a> [<a href=\"mailto:paola.buzi@uniroma1.it\" title=\"Email to Paola Buzi\">paola.buzi(at)uniroma1.it</a>]</p>\n              <p>\n                <a href=\"http://paths.uniroma1.it/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"PAThs’ web site\">\n                  paths.uniroma1.it\n                </a>\n              </p>\n            </div>\n          </div>\n\n          <Row className=\"my-3\">\n            <Col xs={{ size: 6 }} md={{size: 3, offset: 3}}><img src={Sapienza} alt=\"Sapienza Università di Roma\" className=\"img-fluid\" /></Col>\n            <Col xs={{ size: 6 }} md={{size: 3}}><img src={Erc} alt=\"European Research Council\" className=\"img-fluid\" /></Col>\n          </Row>\n\n          <div className=\"text-center\">\n            <p className=\"\">\n              Copyright © PAThs team, Sapienza Università di Roma.<br />\n              <small>\n                <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/4.0/\">\n                  Use, sharing and remixing permitted under terms of the<br />\n                  Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License<br />\n                  <img alt=\"Creative Commons License\" style={{borderWidth:0}}\n                        src=\"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\" />\n                </a>\n              </small>\n            </p>\n\n            <p>Version { packageJson.version }</p>\n\n          </div>\n\n        </div>\n      </footer>\n    );\n  }\n}\n","import React from \"react\";\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport './MainTemplate.css';\n\nexport default class MainTemplate extends React.Component{\n\n  render(){\n    return (\n      <div>\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n            { this.props.children }\n          </main>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Ripple from './Ripple-1.7s-200px.svg';\n\n\n\nexport default class Loading extends Component {\n\n  render() {\n    const style = {\n      width: this.props.width ? this.props.width : '100px'\n    };\n    return (\n      <span>\n        <img src={Ripple} style={style} alt=\"Loading...\"/>\n        Loading...\n      </span>\n    );\n  }\n}\n","import React from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nexport default class Disclaimer extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: true,\n    }\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render(){\n    return (\n      <Modal isOpen={this.state.modal} toggle={this.toggle.bind(this)} className={this.props.className}>\n        <ModalHeader>Disclaimer</ModalHeader>\n        <ModalBody>\n          <p>This is an early development version of the PAThs Archaeological Atlas of Coptic Literature.\n          As such, many features might non be yet available or work as expected.\n          We are working hard to enhance both the user experience and\n          the data quality and your help in this process is highly appreciated.</p>\n          <p>Please, feel free to report any malfunction, breakdown or issue you might encounter\n          during your work session, by writing a detailed email at  <a href=\"mailto:paola.buzi@uniroma1.it\">paola.buzi@uniroma1.it</a>.</p>\n        <p>Our datasets are growing on a daily basis, and will continue to grow in the next years.\n          If you cannot find any item that, on the basis of our mission statement, should be present in our database,\n          or if you find any inaccuracies or errors in the descriptive protocol or in the linking system,\n          please report them by providing a thorough description at <a href=\"mailto:paola.buzi@uniroma1.it\">paola.buzi@uniroma1.it</a>.\n          </p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" block onClick={this.toggle.bind(this)}>I do understand</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown/with-html';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nimport imgPathsLogo from './paths-logo.png';\n\nimport intro from './IntroMd.md';\nimport missionstatement from './MissionStatementMd.md';\nimport lod from './lod.md';\nimport Loading from '../Loading/Loading';\nimport Disclaimer from './Disclaimer';\n\n\nexport default class Home extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      text: {},\n      titles: [\n        {\n          id    : 'intro',\n          title : \"Introduction\",\n          path  : intro\n        },\n        {\n          id    : 'missionstatement',\n          title : \"Mission Statement\",\n          path  : missionstatement\n        },\n        {\n          id    : 'lod',\n          title : \"Linked Open Data\",\n          path  : lod\n        }\n      ]\n    }\n  }\n  componentWillMount() {\n    this.state.titles.map( e => {\n      fetch(e.path).then((response) => response.text()).then((text) => {\n        const o = this.state.text;\n        o[e.id] = text;\n        this.setState({ text: o });\n      });\n      return true;\n    });\n\n  }\n\n  showContentAndToc(){\n    if (this.state.text === {} ){\n      return (<Loading />);\n    } else {\n      return (\n        <div>\n          <div className=\"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow\">\n            <h4>Table of contents</h4>\n            <ul className=\"p-0 m-0\">\n              {this.state.titles.map( (k, i) =>{\n                return (\n                  <li key={i} style={{ listStyle: 'none' }}>\n                    <a href={ '#' + k.id }>{ k.title }</a>\n                  </li>\n                );\n\n              })}\n            </ul>\n          </div>\n          { this.state.titles.map( (k, i) =>{\n            return (\n              <div key={i} className=\"text-justify\">\n                <h1 id={ k.id } className=\"mt-5\">{ k.title }</h1>\n                <ReactMarkdown source={this.state.text[k.id]} escapeHtml={false} />\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n      <div>\n        <Disclaimer />\n        <div className=\"jumbotron\">\n          <div className=\"container text-center\">\n            <img className=\"img-fluid shadow-lg\" src={ imgPathsLogo } alt=\"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation\" />\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"my-5 px-5\">\n            { this.showContentAndToc() }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Badge } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n\n    if (!this.props.places || !this.props.places.features) {\n      return null;\n    }\n\n    return (\n      <div className=\"mt-3\">\n        <h5>Found { this.props.places.features.length } places</h5>\n        <ol>\n          {\n            this.props.places.features.map( (e, i)=>{\n              return <li key={i} className=\"border-bottom border-info mb-3 pb-1\">\n                <strong>{ e.properties.name }</strong>\n                <br /><small><span className=\"coptic\">{e.properties.copticname}</span></small>\n                {\n                  ['greekname', 'egyptianname'].map( (ee, ii)=>{\n                    if (e[ee]){\n                      return (<div key={ii}><small>{e.properties[ee]}</small></div>);\n                    } else {\n                      return null;\n                    }\n                  } )\n                }\n\n                {\n                  e.properties['count(mp.id_link)'] ?  <div className=\"text-right\"><Badge color=\"secondary\">{ e.properties['count(mp.id_link)'] } manuscripts related</Badge></div>  : null\n                }\n\n                <div><small><FontAwesomeIcon icon=\"id-badge\" /> <Link to={ '/places/' + e.properties.id }>paths.places.{e.properties.id}</Link></small></div>\n              </li>\n            } )\n          }\n        </ol>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nexport default class UrlFilterButton extends Component {\n\nrender() {\n\n    if (this.props.urlFilter) {\n      return (\n        <div>\n          <Link to=\"/map\" className=\"btn btn-warning btn-block mt-1 mb-3\">\n            <FontAwesomeIcon icon=\"filter\" /> Filter active. Click to disable\n          </Link>\n        </div>\n\n      );\n    } else {\n      return null;\n    }\n\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class TabLegend extends Component {\n\n  render() {\n\n    return (\n      <div>\n\n        <h5>Marker symbols</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(255, 0, 0, .9)'}}></span>\n            Discovery\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(0, 0, 255, .9)'}}></span>\n            Production\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(0, 255, 0, .9)'}}></span>\n            Storage\n          </li>\n        </ul>\n\n        <hr />\n        <h5>Basemaps</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://pelagios.org/maps/greco-roman/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Pelagios</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://dare.ht.lu.se/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Digital Atlas of Ancient World (DARE)</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://awmc.unc.edu/wordpress/\" target=\"_blank\" rel=\"noopener noreferrer\">Ancient World Mapping Center</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"https://www.openstreetmap.org\" target=\"_blank\" rel=\"noopener noreferrer\">Open Street Map</a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class TabSavedQueries extends Component {\n\n  render() {\n    return (\n      <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n        { Object.values(SavedQueries.map).map( (e, i) => {\n          return <li key={i}  className=\"mb-3\">\n            <Link to={ '/map/saved/' + e.id }>\n              <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n            </Link>\n          </li>\n        }) }\n      </ul>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { InputGroupAddon, Button } from 'reactstrap';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n    if (!this.props.show){\n      return null;\n    }\n    return (\n      <InputGroupAddon addonType=\"append\">\n        <Button color=\"danger\" onClick = { this.props.onClick }>\n          <span aria-hidden=\"true\">&times;</span>\n        </Button>\n      </InputGroupAddon>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, LayersControl, GeoJSON } from 'react-leaflet';\nimport { InputGroup, InputGroupAddon, Input } from 'reactstrap';\nimport qs from 'qs';\nimport hash from 'object-hash';\nimport { Sidebar, Tab } from 'react-leaflet-sidebarv2';\nimport L from 'leaflet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { GoogleLayer } from 'react-leaflet-google';\n\n\nimport Header from \"../mainLayout/Header\"\nimport ListPlaces from './ListPlaces';\nimport UrlFilterButton from './UrlFilterButton';\nimport TabLegend from './TabLegend';\nimport TabSavedQueries from './TabSavedQueries';\nimport ClearButton from './ClearButton';\n\nimport Database from '../Services/Database/Database';\n\nimport './PathsMap.css';\n\nconst { BaseLayer } = LayersControl\n\nconst googleKey = \"AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o\";\nexport default class PathsMap extends Component {\n\n  constructor(props) {\n\n    super(props);\n    this.state = {\n      places: null,\n      shownPlaces: null,\n      urlFilter: false,\n      sidebarCollapsed: false,\n      selected: 'home',\n      manualFilter: ''\n    };\n    this.placesLayerRef = React.createRef();\n    this.mapRef = React.createRef();\n  }\n\n  onSidebarClose() {\n    this.setState({\n      sidebarCollapsed: true\n    });\n  }\n\n  onSidebarOpen(id) {\n    this.setState({\n      sidebarCollapsed: false,\n      selected: id,\n    })\n  }\n\n\n  pointToLayer(t, i) {\n    return new L.CircleMarker(i, {\n      radius: 5,\n      weight: 1,\n      color: \"#000\",\n      opacity: 0.9,\n      fillColor: (t.properties.type === 'discovery' ? '#ff0000' : t.properties.type === 'storage' ? '#00ff00' : '#0000ff'),\n      fillOpacity: 0.5\n    })\n  }\n\n  onEachFeature(feature, layer){\n    const base = window.location.pathname.replace(/\\/map(.*)/, '');\n    layer.bindPopup(\n      '<strong>' + feature.properties.name + '</strong>' +\n       (feature.properties.copticname ? '<br><span class=\"coptic\">' + feature.properties.copticname + '</span>': '') +\n       '<br>' +\n       '<a href=\"' + base + '/places/' + feature.properties.id + '\">paths/places/' + feature.properties.id +'</a>'\n    );\n  }\n\n  filterPlaces(e) {\n    const str =  e.target.value;\n    let fgj = {};\n    if (str === ''){\n      fgj = this.state.places;\n    } else {\n      fgj = {\n        \"type\": \"FeatureCollection\",\n        \"features\": []\n      };\n      for (const val of Object.values(this.state.places.features)) {\n        if (Object.values(val.properties).join('|').toLowerCase().includes(str.toLowerCase())){\n          fgj.features.push(val);\n        }\n      }\n    }\n\n    // this.placesLayerRef.current.leafletElement.clearLayers();\n    // this.placesLayerRef.current.leafletElement.addData(fgj);\n    this.setState({\n      manualFilter: str,\n      shownPlaces: fgj\n    });\n    this.fitMapToBounds();\n  }\n\n  clearFiltered(){\n    this.setState({\n      manualFilter: '',\n      shownPlaces: this.state.places\n    });\n    this.fitMapToBounds();\n  }\n\n  fitMapToBounds(){\n    let bounds = [ [19.700194, 16.570227], [35.4737, 32.869317] ];\n    if (this.placesLayerRef && this.placesLayerRef.current.props.data.features.length > 1){\n      bounds = this.placesLayerRef.current.leafletElement.getBounds();\n    }\n    this.mapRef.current.leafletElement.fitBounds(bounds);\n  }\n\n\n  fetchData(savedQ, locationSearch){\n    if (savedQ) {\n      Database.getSaved('map', savedQ, null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n          urlFilter: true\n        });\n        this.fitMapToBounds()\n      });\n    } else if (locationSearch) {\n      let qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true})\n      if (qstring.tb === 'manuscripts') {\n        Database.getMsPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else if (qstring.tb === 'places') {\n        Database.getPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else {\n        return false;\n      }\n\n    } else {\n      Database.getPlaces(null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n        });\n        this.fitMapToBounds();\n      });\n    }\n  }\n\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        places: null,\n        urlFilter: null\n      });\n      this.fetchData(nextProps.match.params.data, null);\n    }\n  }\n\n\n  componentDidMount(){\n    this.fetchData(this.props.match.params.data, this.props.location.search);\n  }\n\n\n  render() {\n    return (\n      <div className=\"maxHeight\">\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n\n          <Sidebar id=\"sidebar\" collapsed={this.state.sidebarCollapsed} selected={this.state.selected}\n                   onOpen={this.onSidebarOpen.bind(this)} onClose={this.onSidebarClose.bind(this)}\n                   closeIcon={<FontAwesomeIcon icon=\"caret-left\" />}>\n            <Tab id=\"home\" header=\"Home\" icon={<FontAwesomeIcon icon=\"home\" />}>\n\n              <div className=\"sidebarSearch\">\n                <InputGroup className=\"my-2\">\n                  <InputGroupAddon addonType=\"prepend\">\n                    Search:\n                  </InputGroupAddon>\n                  <Input type=\"search\" value={this.state.manualFilter} onChange={this.filterPlaces.bind(this)} placeholder=\"start typing to filter places...\" />\n                    <ClearButton show={this.state.manualFilter} onClick={ this.clearFiltered.bind(this) } />\n                </InputGroup>\n              </div>\n\n              <div className=\"mt-2\">\n                <UrlFilterButton urlFilter={ this.state.urlFilter } filter={ this.state.filter }/>\n                <ListPlaces places={ this.state.shownPlaces } />\n              </div>\n            </Tab>\n\n            <Tab id=\"savedQueries\" header=\"Saved queries\" icon={<FontAwesomeIcon icon=\"save\" />}>\n              <div className=\"mt-5\">\n                <TabSavedQueries />\n              </div>\n            </Tab>\n\n            <Tab id=\"legend\" header=\"Legend\" icon={<FontAwesomeIcon icon=\"info\" />} anchor=\"bottom\">\n              <div className=\"mt-5\">\n                <TabLegend />\n              </div>\n            </Tab>\n\n          </Sidebar>\n\n          <Map className=\"sidebar-map maxHeight\" zoomControl={true} ref={this.mapRef}>\n            <LayersControl position=\"topright\">\n              <BaseLayer name=\"Imperium (Pelagios)\">\n                <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"Imperium (DARE)\">\n                <TileLayer url=\"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"AWMC\" checked={true}>\n                <TileLayer url=\"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name='Google Maps Roads'>\n                 <GoogleLayer googlekey={googleKey}  maptype='ROADMAP'/>\n              </BaseLayer>\n\n              <BaseLayer name='Google Satellite'>\n               <GoogleLayer googlekey={googleKey}  maptype='SATELLITE'/>\n              </BaseLayer>\n              <BaseLayer name=\"OpenStreetMap\">\n                <TileLayer url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              { this.state.places &&\n                  <GeoJSON\n                    ref={this.placesLayerRef}\n                    key={ hash(this.state.shownPlaces) }\n                    data={this.state.shownPlaces}\n                    pointToLayer={this.pointToLayer.bind(this)}\n                    onEachFeature={this.onEachFeature.bind(this) } />\n              }\n            </LayersControl>\n\n          </Map>\n        </main>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardTitle, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Link } from 'react-router-dom';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class SavedQueriesList extends Component {\n\n  render(){\n    const tblabel = this.props.tblabel;\n    const tb = this.props.tb;\n\n    return (\n      <div>\n        <Card className=\"mt-5 mb-5\" color=\"light\">\n          <div className=\"text-right\">\n            <button type=\"button\" className=\"close mr-2 mt-2\" aria-label=\"Close\" onClick={this.props.closeFn}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n        <CardBody>\n          <CardTitle>Saved queries for {tblabel}</CardTitle>\n            <ListGroup>\n              { Object.values(SavedQueries[tb]).map( (e, i) => {\n                return <ListGroupItem key={i}  className=\"mb-3\" tag={Link} to={ `/search/${tb}/saved?q=${e.id}`} color=\"secondary\">\n                    <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n                </ListGroupItem>\n              }) }\n            </ListGroup>\n        </CardBody>\n      </Card>\n      </div>\n    );\n  }\n}\n","/*jshint esversion: 6 */\n\n\nexport default {\n    \"coptic\": [\n      \"authors.copticname\",\n      \"titles.text\",\n      \"colophons.text\"\n    ],\n    \"greek\": [\n      \"authors.greekname\"\n    ],\n    \"hidden\": [\n      \"manuscripts.creator\",\n      \"collections.creator\",\n      \"collections.cmclname\",\n      \"works.id\",\n      \"works.creator\",\n      \"works.shelfmarks\",\n      \"works.period\",\n      \"works.problems\",\n      \"titles.creator\",\n      \"colophons.creator\",\n      \"authors.id\",\n      \"authors.creator\",\n      \"authors.cmclname\",\n      \"editors.cmclname\",\n      \"places.creator\",\n      \"places.hasplans\",\n      \"places.hasphotos\",\n      \"persons.id\",\n      \"persons.creator\",\n      \"biblio.creator\",\n      \"biblio.editors\",\n      \"m_quires.id\"\n    ],\n    \"id_fld\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"name\",\n      \"persons\": \"name\"\n    },\n    \"searchDefault\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"paths__m_toponyms:toponym\",\n      \"persons\": \"name\"\n    },\n    \"preview\": {\n      \"manuscripts\":  [ \"id\", \"cmclid\", \"tm\", \"ldab\", \"bookform\", \"writingsupport\" ],\n      \"collections\":  [ \"id\", \"fullname\", \"cmclname\", \"country\", \"town\", \"institution\", \"name\", \"notes\" ],\n      \"works\":        [ \"id\", \"cmcl\", \"title\", \"cpg\" ],\n      \"titles\":       [ \"cc\", \"type\", \"workcc\", \"msid\" ],\n      \"colophons\":    [ \"id\", \"msid\", \"dialect\", \"chronofrom\", \"chronoto\", \"datingcriteria\" ],\n      \"authors\":      [ \"name\", \"title\", \"copticname\", \"greekname\", \"cmclname\" ],\n      \"places\":       [ \"id\", \"name\", \"tm\", \"pleiades\", \"region\", \"area\", \"episcopalsee\" ],\n      \"persons\":      [ \"id\", \"name\", \"type\", \"profession\", \"patronymic\" ]\n    },\n    \"label\": {\n      \"manuscripts\": \"Manuscripts\",\n      \"collections\": \"Collections\",\n      \"works\": \"Works\",\n      \"titles\": \"Titles\",\n      \"colophons\": \"Colophons\",\n      \"authors\": \"Authors\",\n      \"places\": \"Places\",\n      \"persons\": \"Persons attested in colophons\"\n    },\n\n    \"fld_whitelist\": [\n        \"paths__places:id\",\n        \"paths__places:name\",\n        \"paths__places:tm\",\n        \"paths__places:pleiades\",\n        \"paths__places:region\",\n        \"paths__places:area\",\n        \"paths__places:meris\",\n        \"paths__places:nomos\",\n        \"paths__places:province\",\n        \"paths__places:episcopalsee\",\n        \"paths__places:typology\",\n        \"paths__places:description\",\n        \"paths__places:hasmonastery\",\n        \"paths__places:isnomoscapital\",\n        \"paths__m_toponyms:toponym\",\n        \"paths__m_placephase:fperiod\",\n        \"paths__m_placephase:ftypology\",\n\n        \"paths__works:id\",\n        \"paths__works:cmcl\",\n        \"paths__works:title\",\n        \"paths__works:cpg\",\n        \"paths__works:cant\",\n        \"paths__works:cavt\",\n        \"paths__works:bho\",\n        \"paths__works:bhg\",\n        \"paths__works:bhl\",\n        \"paths__works:cae\",\n        \"paths__works:litperiod\",\n        \"paths__m_wkauthors:type\",\n        \"paths__m_wkauthors:author\",\n\n        \"paths__authors:id\",\n        \"paths__authors:name\",\n        \"paths__authors:copticname\",\n        \"paths__authors:greekname\",\n        \"paths__authors:viaf\",\n        \"paths__authors:title\",\n\n        \"paths__titles:id\",\n        \"paths__titles:cc\",\n        \"paths__titles:workcc\",\n        \"paths__titles:msid\",\n        \"paths__titles:type\",\n\n        \"paths__colophons:id\",\n        \"paths__colophons:msid\",\n        \"paths__colophons:chronofrom\",\n        \"paths__colophons:chronoto\",\n        \"paths__colophons:dialect\",\n        \"paths__colophons:greektext\",\n        \"paths__colophons:writingaxis\",\n        \"paths__colophons:cryptography\",\n        \"paths__colophons:minusculecopitc\",\n        \"paths__colophons:minusculegreek\",\n        \"paths__colophons:text\",\n        \"paths__colophons:translation\",\n\n        \"paths__collections:id\",\n        \"paths__collections:fullname\",\n        \"paths__collections:country\",\n        \"paths__collections:town\",\n        \"paths__collections:institution\",\n        \"paths__collections:name\",\n\n        \"paths__manuscripts:id\",\n        \"paths__manuscripts:cmclid\",\n        \"paths__manuscripts:tm\",\n        \"paths__manuscripts:ldab\",\n        \"paths__manuscripts:lcbm\",\n        \"paths__manuscripts:alias\",\n        \"paths__manuscripts:issinglefrag\",\n        \"paths__manuscripts:dialect\",\n        \"paths__manuscripts:chronofrom\",\n        \"paths__manuscripts:chronoto\",\n        \"paths__manuscripts:datingsource\",\n        \"paths__manuscripts:bookform\",\n        \"paths__manuscripts:writingsupport\",\n        \"paths__manuscripts:leaftotextant\",\n        \"paths__manuscripts:quiresextant\",\n        \"paths__manuscripts:columns\",\n        \"paths__manuscripts:linespercolumn\",\n        \"paths__manuscripts:charsperline\",\n        \"paths__manuscripts:quiresig\",\n        \"paths__manuscripts:quiretype\",\n        \"paths__manuscripts:quireposition\",\n        \"paths__manuscripts:pagination\",\n        \"paths__manuscripts:pagtype\",\n        \"paths__manuscripts:pagposition\",\n        \"paths__manuscripts:foliation\",\n        \"paths__manuscripts:foltype\",\n        \"paths__manuscripts:folposition\",\n        \"paths__manuscripts:handstot\",\n        \"paths__manuscripts:lectionalsigns\",\n        \"paths__manuscripts:structuralsigns\",\n        \"paths__manuscripts:abbreviations\",\n        \"paths__manuscripts:ruling\",\n        \"paths__manuscripts:rulingtype\",\n        \"paths__manuscripts:rulingtool\",\n        \"paths__manuscripts:pricking\",\n        \"paths__manuscripts:leaftabs\",\n        \"paths__manuscripts:kolleseis\",\n        \"paths__manuscripts:bindings\",\n        \"paths__manuscripts:sewings\",\n        \"paths__manuscripts:sewingtype\",\n        \"paths__manuscripts:covers\",\n        \"paths__manuscripts:palimpsest\",\n        \"paths__manuscripts:decortype\",\n        \"paths__manuscripts:decorsubj\",\n        \"paths__m_shelfmarks:collection\",\n        \"paths__m_shelfmarks:shelfmark\",\n        \"paths__m_msplaces:type\",\n        \"paths__m_msplaces:place\",\n        \"paths__m_hands:handno\",\n        \"paths__m_hands:modulartypology\",\n        \"paths__m_hands:writingaxis\",\n        \"paths__m_hands:thickandthin\",\n      ]\n};\n","import React, { Component } from 'react';\nimport { Jumbotron, Navbar, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueriesList from './SavedQueriesList';\nimport SavedQueries from '../Services/SavedQueries';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nclass SubHead extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSaved: false\n    };\n  }\n\n  toggleSaved(e){\n    e.preventDefault();\n    this.setState({\n      showSaved: !this.state.showSaved\n    });\n  }\n\n  render(){\n    const tblabel = this.props.tblabel ? this.props.tblabel : Cfg.label[this.props.tb];\n    const tb = this.props.tb;\n    const text = this.props.text ? <span className=\"subText\">{this.props.text}</span> : false;\n\n    let menuItems = [\n      {\n        to: '/search/' + tb + '/all',\n        icon: 'list-ul',\n        text: 'Show all'\n      },\n      {\n        to: '/search/' + tb ,\n        icon: 'search',\n        text: 'Search'\n      },\n      {\n        to: '/search/' + tb + '/adv',\n        icon: 'search-plus',\n        text: 'Advanced search'\n      }\n    ];\n\n    return (\n      <div>\n        <Jumbotron className=\"p-4\">\n\n        <div className=\"container\">\n          <h2>{text}</h2>\n          <Navbar color=\"light\" light expand=\"xs\" className=\"ml-auto\">\n            <NavbarBrand>\n              <h3><small>{ tblabel }</small></h3>\n            </NavbarBrand>\n            <Nav className=\"ml-auto\" navbar>\n              {\n                menuItems.map( (e, k) => {\n                  return (\n                    <NavItem key={k}>\n                      <NavLink to={e.to} tag={Link}>\n                        <FontAwesomeIcon icon={e.icon} /> <span className=\"d-none d-md-inline\">{e.text}</span>\n                      </NavLink>\n                    </NavItem>\n                  );\n                })\n              }\n              { SavedQueries[tb] && (<NavItem><NavLink onClick={this.toggleSaved.bind(this)} to=\"#\" tag={Link}><FontAwesomeIcon icon=\"save\" /><span className=\"d-none d-md-inline\"> Saved queries</span></NavLink></NavItem>)}\n            </Nav>\n          </Navbar>\n\n          {this.state.showSaved && <SavedQueriesList  tb={tb} tblabel={tblabel} closeFn={this.toggleSaved.bind(this)}/>}\n        </div>\n      </Jumbotron>\n      </div>\n    );\n  }\n}\n\nexport default SubHead;\n","import React, { Component } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass SqlModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <span>\n        <Button color=\"danger\" size=\"sm\" onClick={this.toggle}><FontAwesomeIcon icon=\"code\" /></Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Executed SQL</ModalHeader>\n          <ModalBody>\n            <pre style={{ height: '200px', whiteSpace: 'pre-wrap' }}>{this.props.sql}</pre>  \n          </ModalBody>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default SqlModal;\n","import React, { Component } from 'react';\nimport qs from 'qs';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport SqlModal from '../SqlModal/SqlModal';\n\n\nfunction build_object(path, queryString, tot_rows, curr_page = 1)\n{\n\n  const rpp = 30;\n\n  let tot_pages = Math.ceil(tot_rows / rpp);\n  let result = [];\n\n  curr_page = parseInt(curr_page, 10);\n\n  let qString = qs.parse(queryString, {ignoreQueryPrefix: true});\n\n  if (curr_page - 2 > 0 ) {\n    qString.page = 1;\n    result.push({\n      to :  path + '?' + qs.stringify(qString),\n      text : 1\n    });\n  }\n\n  if (curr_page - 3 > 0 ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n\n  // -1 page\n  if (curr_page - 1 > 0 ) {\n    qString.page = (curr_page - 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  // current page\n  qString.page = curr_page;\n  result.push({\n    to : path + '?' + qs.stringify(qString),\n    active : true,\n    text : curr_page\n  });\n\n  // +1 page\n  if (curr_page + 1 < tot_pages ) {\n    qString.page = (curr_page + 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n    // +3 page\n  if (curr_page + 2 < tot_pages ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n  if (curr_page !== tot_pages ) {\n    qString.page = (tot_pages);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  return result;\n}\n\nclass PaginateResult extends Component {\n\n  render() {\n\n    const result = build_object(\n      this.props.path,\n      this.props.search,\n      this.props.totalRows,\n      this.props.page\n    );\n\n    return (\n      <Pagination>\n        <PaginationItem>\n          <PaginationLink>Pages: </PaginationLink>\n        </PaginationItem>\n        { result.map( (r, i) => {\n          const props = {\n            disabled: r.disabled,\n            active: r.active\n          };\n         return <PaginationItem {...props} key={i}>\n           <PaginationLink tag={Link} to= { r.to }>\n              { r.text }\n           </PaginationLink>\n         </PaginationItem>\n        }) }\n\n      </Pagination>\n    );\n\n  }\n}\nclass PaginateResultSummary extends Component {\n\n  render() {\n\n    const curr_page =  this.props.page ? this.props.page : 1;\n    const start_at = curr_page * 30 - 30 + 1;\n    const up_to = (curr_page * 30) < this.props.totalRows ? curr_page * 30 : this.props.totalRows;\n\n    return (\n      <div className=\"mb-3\">\n        Showing records <span className=\"badge badge-primary\">\n        { start_at } –  { up_to } </span> of <span className=\"badge badge-success\">\n        { this.props.totalRows }</span> records found\n        &nbsp;<SqlModal sql={this.props.query}/>\n      </div>\n    );\n\n  }\n}\n\nexport {PaginateResult, PaginateResultSummary};\n","import React, { Component } from 'react';\nimport { Row, Col, Table, Card, CardBody, CardHeader, ButtonGroup, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nclass ItemPreviewWrapper extends Component {\n\n  render() {\n    return (\n      <Row>{ this.props.children }</Row>\n    );\n  }\n}\n\nclass ItemPreview extends Component {\n\n  render() {\n\n    const el = this.props.record;\n    const flds = this.props.fields;\n    const tb = this.props.tb;\n\n    const preview_flds = this.props.previewFlds;\n    const id_field = this.props.idField;\n\n    return (\n      <Col sm=\"4\">\n      \t<Card className=\"mt-3\" outline color=\"dark\">\n          <CardHeader tag=\"h4\">{ el[id_field] }</CardHeader>\n          <CardBody id={ el.id }>\n\n            <Table hover size=\"sm\">\n              <tbody>\n                {\n                  preview_flds.map( (e, k) => {\n                    return <tr key={k}>\n                      <th>{ flds[e] }</th>\n                      <td>{ el[e] }</td>\n                    </tr>\n                  } )\n                }\n              </tbody>\n            </Table>\n\n            <div className=\"clearfix\">\n              <div className=\"btn-group float-right\" role=\"group\">\n                <ButtonGroup>\n                  <Button size=\"sm\" color=\"info\" tag={Link} to={ '/' + [tb, el.id].join('/') }>\n                    <FontAwesomeIcon icon=\"eye\" /> View\n                  </Button>\n                </ButtonGroup>\n              </div>\n            </div>\n\n          </CardBody>\n    \t  </Card>\n      </Col>\n    );\n  }\n}\n\nexport {ItemPreview, ItemPreviewWrapper};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass OpenInMap extends Component {\n\nrender() {\n\n  const tb = this.props.tb;\n\n  if (['manuscripts', 'places'].indexOf(tb) < 0){\n    return null;\n  }\n  return (\n    <div className=\"float-right mt-2\">\n      <Link to={'/map?tb=' + tb + '&where=' + encodeURI(this.props.where) } className=\"btn btn-warning\">\n        <FontAwesomeIcon icon=\"map-marker-alt\" /> View on Map\n      </Link>\n    </div>\n  );\n  }\n}\n\nexport default OpenInMap;\n","import React, { Component } from 'react';\nimport { Alert } from 'reactstrap';\nimport qs from 'qs';\nimport {withRouter} from 'react-router';\n\nimport Database from '../Services/Database/Database';\nimport {PaginateResult, PaginateResultSummary} from '../PaginateResult/PaginateResult';\nimport { ItemPreview, ItemPreviewWrapper } from './ItemPreview';\nimport OpenInMap from '../Manuscripts/OpenInMap';\nimport Loading from '../Loading/Loading';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\n\nclass Results extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: false\n    };\n  }\n\n  _fetchData(){\n    switch (this.props.type) {\n      case 'simple':\n        Database.getSimple(this.props.tb, this.props.fld, this.props.val, this.props.strict, this.props.page, d => {\n          this.setState({\n            result: d\n          });\n        });\n        break;\n\n        case 'adv':\n          Database.getAdv(this.props.tb, this.props.data, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'all':\n          Database.getAll(this.props.tb, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'saved':\n          Database.getSaved(this.props.tb, this.props.query, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'encoded':\n          Database.getByEncodedSql(this.props.tb, this.props.q, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        default:\n          console.log(`Unknown verb ${this.props.type}`);\n          return null;\n    }\n\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.page !== prevProps.page\n      || this.props.fld !== prevProps.fld\n      || this.props.val !== prevProps.val\n      || this.props.strict !== prevProps.strict\n      || this.props.query !== prevProps.query\n    ) {\n      this._fetchData();\n    }\n  }\n\n  componentDidMount(){\n    this._fetchData();\n  }\n\n  render() {\n    if (!this.state.result) {\n      return <div className=\"container\"><Loading /></div>;\n    }\n\n    if(this.state.result.type === 'error') {\n      return (\n        <div>\n          <div className=\"container\">\n            <Alert color=\"danger\" className=\"mt-5\">\n                <h4 className=\"alert-heading\">We are so sorry!</h4>\n                <p>Something went terribly wrong. Please report this error to <a href=\"https://github.com/paths-erc/atlas/issues\">our public repository</a> in order to get it fixes as soon as possible.</p>\n            </Alert>\n            <div>\n              <p>Please file the current URL:</p>\n\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ window.location.href }</Alert>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ decodeURIComponent(window.location.href) }</Alert>\n              <p>and the following error message</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.text}\n                </pre>\n              </Alert>\n              <p>Full error trace</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.trace}\n                </pre>\n              </Alert>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    if(this.state.result.head.total_rows === 0) {\n      return (\n        <div>\n\n            <div className=\"container\">\n              <Alert color=\"warning\" className=\"mt-5\">\n                  <h4 className=\"alert-heading\">Ooops!</h4>\n                  No result found. Please reformulate the query.\n              </Alert>\n            </div>\n        </div>\n      )\n    }\n\n    return (\n    \t<div>\n\n        <div className=\"container\">\n\n          <div className=\"clearfix\">\n\n            <OpenInMap\n                tb={this.state.result.head.stripped_table}\n                where={this.state.result.head.query_where}\n                type={this.props.match.params.type}\n                search={ qs.parse(this.props.location.search, {ignoreQueryPrefix: true}) }\n                />\n\n            <PaginateResultSummary\n              totalRows={this.state.result.head.total_rows}\n              page={this.state.result.head.page}\n              query={this.state.result.head.query_arrived}\n              />\n\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n\n\n          <ItemPreviewWrapper>\n          {\n             this.state.result.records.map( (e, i) => {\n              return <ItemPreview\n                  idField = { Cfg.id_fld[this.props.match.params.table] }\n                  previewFlds = { Cfg.preview[this.props.match.params.table] }\n                  tb={this.props.match.params.table}\n                  record={e}\n                  fields={this.state.result.head.fields}\n                  key={i} />\n            })\n          }\n          </ItemPreviewWrapper>\n\n          <div className=\"pt-3\">\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n        </div>\n\n\t\t  </div>\n    );\n  }\n}\nexport default withRouter(Results);\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport SavedQueries from '../Services/SavedQueries';\n\n\n\n\nexport default class SearchSaved extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      saved: qstring.q,\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const old_qstring = qs.parse(prevProps.location.search, {ignoreQueryPrefix: true});\n    const new_qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    if(old_qstring.page !== new_qstring.page){\n      this.setState({\n        page: new_qstring.page\n      });\n    }\n    if(old_qstring.q !== new_qstring.q){\n      this.setState({\n        saved: new_qstring.q\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text={SavedQueries[this.props.match.params.table][this.state.saved].title} />\n      \t<Results\n            tb={this.props.match.params.table}\n            query={this.state.saved}\n            type=\"saved\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Select from 'react-select';\n\nimport Database from '../Services/Database/Database';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nexport default class FldSelect extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fields: false,\n      fld: false\n    };\n  }\n\n  _setState(fldList, selected, parse){\n    if (parse){\n      fldList = Object.keys(fldList).map(key => {\n        if (Cfg.fld_whitelist.indexOf(key) > -1) {\n          return { value: fldList[key].fullname, label: fldList[key].label };\n        } else {\n          return false;\n        }\n      }).filter(e => { return e; });\n    }\n    let selObj;\n    if (selected){\n      selObj= fldList.filter( e => {\n        return e.value === selected;\n      })[0];\n    } else {\n      if (Cfg.searchDefault[this.props.tb]){\n        const v = Cfg.searchDefault[this.props.tb].includes('paths') ? Cfg.searchDefault[this.props.tb] : `paths__${this.props.tb}:${Cfg.searchDefault[this.props.tb]}`;\n\n        selObj = fldList.filter( e => {\n          return e.value === v;\n        })[0];\n      } else {\n        selObj = fldList[0];\n      }\n      this.props.onChange(selObj);\n    }\n\n    this.setState({\n      fields: fldList,\n      fld: selObj\n    });\n  }\n\n\n  componentDidMount(){\n    if (!this.props.fields){\n      Database.inspect(this.props.tb, data => {\n        this._setState(data.fields, this.props.fld, true);\n      });\n    } else {\n      this._setState(this.props.fields, this.props.fld);\n    }\n\n  }\n\n  render() {\n    if (!this.state.fields){\n      return null;\n    }\n\n    return (\n        <Select\n          defaultValue={ this.state.fld }\n          options={ this.state.fields }\n          onChange={ this.props.onChange }\n          />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\n\nimport Database from '../Services/Database/Database';\n\n\n\nexport default class ValueInput extends Component {\n\n  constructor(props) {\n    super();\n\n    this.state = {\n      isLoading: false,\n      multiple: false,\n      options: []\n    }\n  }\n\n  _handleSearch = (string) => {\n    this.setState({isLoading: true});\n    const [tb, fld] = this.props.fld.split(':');\n    Database.getUniqueVal(tb, fld, string, d => {\n      this.setState({\n        options : d,\n        isLoading: false\n      })\n    });\n  }\n\n  render() {\n    if(!this.state.options){\n      return null;\n    }\n\n    return (\n      <div>\n        <AsyncTypeahead\n          {...this.state}\n          minLength={1}\n          placeholder=\"Add a value\"\n          onSearch={this._handleSearch}\n          onInputChange={this.props.onChange}\n          onChange={this.props.onChange}\n          defaultInputValue={this.props.val ? this.props.val : ''}\n          />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport { FormGroup, Input, Button, Col, Label } from 'reactstrap';\n\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\n\n\n\nexport default class CustomSearchForm extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fld: props.fld,\n      val: props.val,\n      strict: props.strict === true\n    }\n\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this._changeField = this._changeField.bind(this);\n    this._changeVal = this._changeVal.bind(this);\n    this._changeStrict = this._changeStrict.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props){\n      this.setState({\n        fld: this.props.fld,\n        val: this.props.val,\n        strict: this.props.strict ? true : false\n      });\n    }\n  }\n\n  _changeField(v){\n    this.setState({\n      fld: v.constructor === Object && v.value ? v.value : v\n    });\n  }\n  _changeVal(v){\n    this.setState({\n      val: v.constructor === Array ? v[0] : v\n    });\n  }\n  _changeStrict(e){\n    this.setState({\n      strict: e.target.checked\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (!this.state.val){\n      alert('Insert a value to continue');\n      return;\n    }\n    this.props.onSubmit(this.state.fld, this.state.val, this.state.strict);\n  }\n\n  render() {\n    return (\n      <div className=\"my-5\">\n        <form onSubmit={this.handleSubmit} className=\"form\">\n\n          <FormGroup row>\n\n            <Col sm={4}>\n              <FldSelect\n                  tb={ this.props.tb }\n                  fld={this.state.fld}\n                  onChange={ this._changeField }\n                  />\n            </Col>\n\n            <Col sm={5}>\n              <ValueInput\n                fld={ this.state.fld }\n                val={this.state.val}\n                onChange={this._changeVal}\n               />\n            </Col>\n\n            <Col sm={1}>\n              <Label check>\n                <Input\n                    name=\"strict\"\n                    type=\"checkbox\"\n                    checked={this.state.strict }\n                    onChange={this._changeStrict}\n                  /> Strict\n              </Label>\n            </Col>\n\n            <Col sm={2}> <Button type=\"submit\" color=\"success\" block>Search!</Button> </Col>\n          </FormGroup>\n\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport CustomSearchForm from './CustomSearchForm';\nimport Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      fld: qstring.f,\n      val: qstring.v,\n      strict: (qstring.s && qstring.s !== 'false' && qstring.s !== 'undefined'),\n      page: qstring.page\n    };\n\n    this._onFormSubmit = this._onFormSubmit.bind(this);\n  }\n\n  _onFormSubmit(fld, val, strict){\n    const s = \"f=\" + encodeURIComponent(fld) +\n                  (strict ? \"&s=1\" : '')+\n                  \"&v=\" + encodeURIComponent(val);\n\n    this.setState({\n      fld: fld,\n      val: val,\n      strict: strict\n    });\n\n    this.props.history.push(`/search/${this.props.match.params.table}?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Simple search' />\n\n      \t<div className=\"mt-3 p-1 container\">\n          <CustomSearchForm\n              tb={ this.props.match.params.table }\n              onSubmit={this._onFormSubmit}\n              fld={this.state.fld}\n              val={this.state.val}\n              strict={this.state.strict}\n             />\n          <hr />\n  \t\t  </div>\n\n        { this.state.fld && this.state.val && <Results\n            tb={this.props.match.params.table}\n            type=\"simple\"\n            fld={this.state.fld}\n            val={this.state.val}\n            strict={this.state.strict}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class OperatorSelect extends Component {\n\n  render() {\n\n    const operators = [\n      {\n        'k': 'LIKE',\n        'v': 'Contains'\n      },\n      {\n        'k': '=',\n        'v': 'Is exactly'},\n      {\n        'k': 'NOT LIKE',\n        'v': 'Does not contain'},\n      {\n        'k': 'starts_with',\n        'v': 'Starts with'},\n      {\n        'k': 'ends_with',\n        'v': 'Ends with'},\n      {\n        'k': 'is_empty',\n        'v': 'Is empty'},\n      {\n        'k': 'is_not_empty',\n        'v': 'Is not empty'},\n      {\n        'k': '>',\n        'v': 'Is bigger than'},\n      {\n        'k': '<',\n        'v': 'Is smaller than'}\n    ];\n\n    return (\n      <div>\n        <Input type=\"select\" placeholder=\"select\" {...this.props}>\n          {operators.map( (f, i) => {\n            return (<option key={i} value={f.k}>{ f.v }</option>);\n          } ) }\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class ConnectorSelect extends Component {\n\n  render() {\n\n    return (\n      <div>\n        <Input type=\"select\" {...this.props}>\n          <option value=\"AND\">AND</option>\n          <option value=\"OR\">OR</option>\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col, Button } from 'reactstrap';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\nimport OperatorSelect from './OperatorSelect';\nimport ConnectorSelect from './ConnectorSelect';\nimport Database from '../Services/Database/Database';\nimport Cfg from '../Services/Cfg/Cfg';\nimport Loading from '../Loading/Loading';\n\n\n\nexport default class AdvSearchForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n\n    let rows;\n    let show = false;\n\n    if(Object.getOwnPropertyNames(qstring).length === 0){\n      rows = {\n        'a': {\n          f: '',\n          o: 'LIKE',\n          v: ''\n        }\n      };\n    } else {\n      rows = qstring;\n      show = true;\n    }\n\n    this.state = {\n      rows: rows,\n      showResults: show,\n      page: false,\n      fields: false\n    };\n\n    this._changeOperator = this._changeOperator.bind(this);\n    this._changeConnector = this._changeConnector.bind(this);\n    this._addRow = this._addRow.bind(this);\n    this._removeRow = this._removeRow.bind(this);\n\n  }\n\n\n  _removeRow(e){\n    let rows = this.state.rows;\n    const delKey = e.target.name;\n    delete rows[delKey];\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _addRow(){\n    let rows = this.state.rows;\n    const uid = 'a' + Math.random().toString(36).substr(2, 9);\n    rows[uid] = { f: '', o: 'LIKE', v: '', c: 'AND'}\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeField(index, val){\n    let rows = this.state.rows;\n    rows[index].f = val.constructor === Object && val.value ? val.value : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeVal(index, val){\n    let rows = this.state.rows;\n    rows[index].v = val.constructor === Array ? val[0] : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeOperator(e){\n    let rows = this.state.rows;\n    rows[e.target.name].o = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeConnector(e){\n    let rows = this.state.rows;\n    rows[e.target.name].c = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n    this.setState({\n      showResults: true\n    });\n    const s = qs.stringify(this.state.rows)\n    this.props.history.push(`/search/${this.props.match.params.table}/adv?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  componentDidMount(){\n    Database.inspect(this.props.match.params.table, data => {\n      let fldList = data.fields;\n      fldList = Object.keys(data.fields).map(key => {\n        if (Cfg.fld_whitelist.includes(key)){\n          return { value: fldList[key].fullname, label: fldList[key].label };\n        } else {\n          return false;\n        }\n      }).filter(e => { return e; });\n      this.setState({\n        fields: fldList\n      });\n    });\n  }\n\n\n  render() {\n    if (!this.state.fields){\n      return <Loading />;\n    }\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Advanced search' />\n\n        <div className=\"mt-3 p-1 container\">\n          <form onSubmit={this._handleSubmit.bind(this)} className=\"form\">\n            {\n              Object.entries(this.state.rows).map((e, i)=>{\n                const k = e[0];\n                const v = e[1];\n\n                return <div key={i} className=\"my-3\">\n                  <Row>\n                    <Col xs={1}>\n                      { i > 0 && <ConnectorSelect\n                          defaultValue={v.c}\n                          onChange={this._changeConnector}\n                          name={k}\n                        />}\n                    </Col>\n                    <Col xs={4}>\n                      <FldSelect\n                        fields={this.state.fields}\n                        tb={ this.props.match.params.table }\n                        fld={v.f}\n                        onChange={ this._changeField.bind(this, k) }\n                        />\n                    </Col>\n                    <Col xs={2}>\n                      <OperatorSelect\n                        defaultValue={v.o}\n                        name={k}\n                        onChange={ this._changeOperator }\n                        />\n                    </Col>\n                    <Col xs={3}>\n                      <ValueInput\n                        fld={ v.f }\n                        val={v.v}\n                        onChange={this._changeVal.bind(this, k)}\n                        />\n                    </Col>\n\n                    <Col xs={1}>\n                      { i+1 === Object.keys(this.state.rows).length && <Button type=\"button\" color=\"info\" block onClick={ this._addRow }>+</Button>}\n                    </Col>\n                    <Col xs={1}>\n                      { i > 0 && <Button type=\"button\" color=\"danger\" block name={k} onClick={ this._removeRow }>-</Button>}\n                    </Col>\n                  </Row>\n                </div>\n              })\n            }\n\n            <Button type=\"submit\" color=\"success\" block>Search!</Button>\n          </form>\n          <hr />\n        </div>\n\n        { this.state.showResults && <Results\n            tb={this.props.match.params.table}\n            type=\"adv\"\n            data={this.state.rows}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\n  import Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n\n  render() {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Custom query' />\n        <Results\n            tb={this.props.match.params.table}\n            type=\"encoded\"\n            q={qstring.q}\n            page={qstring.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\n\n\n\nexport default class SearchAll extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='View all' />\n\n      \t<Results\n            tb={this.props.match.params.table}\n            type=\"all\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","/* jshint esversion: 6 */\nimport React, { Component } from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nimport SubHead from '../SubHead/SubHead';\nimport Loading from '../Loading/Loading';\n\nimport PlacesMd from './places/places.md';\nimport PlacesImg from './places/places.jpg';\n\nimport ManuscriptsMd from './manuscripts/manuscripts.md';\nimport ManuscriptsImg from './manuscripts/manuscripts.jpg';\n\nimport WorksMd from './works/works.md';\nimport WorksImg from './works/works.jpg';\n\nimport TitlesMd from './titles/titles.md';\nimport TitlesImg from './titles/titles.jpg';\n\nimport AuthorsMd from './authors/authors.md';\nimport AuthorsImg from './authors/authors.jpg';\n\nimport ColophonsMd from './colophons/colophons.md';\nimport ColophonsImg from './colophons/colophons.jpg';\n\nimport CollectionsMd from './collections/collections.md';\nimport CollectionsImg from './collections/collections.jpg';\n\nexport default class PlacePage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tb: props.match.params.table,\n      label: false,\n      text: false,\n      img: false\n    };\n  }\n\n  _updateData(tb){\n    let md = false;\n    let img = false;\n    let label = false;\n\n    switch (tb) {\n      case 'places':\n        md = PlacesMd;\n        img = PlacesImg;\n        label = 'Places';\n        break;\n      case 'manuscripts':\n        md = ManuscriptsMd;\n        img = ManuscriptsImg;\n        label = 'Manuscripts';\n        break;\n      case 'works':\n        md = WorksMd;\n        img = WorksImg;\n        label = 'Works';\n        break;\n      case 'titles':\n        md = TitlesMd;\n        img = TitlesImg;\n        label = 'Titles';\n        break;\n      case 'authors':\n        md = AuthorsMd;\n        img = AuthorsImg;\n        label = 'Authors';\n        break;\n      case 'colophons':\n        md = ColophonsMd;\n        img = ColophonsImg;\n        label = 'Colophons';\n        break;\n      case 'collections':\n        md = CollectionsMd;\n        img = CollectionsImg;\n        label = 'Collections';\n        break;\n      default:\n        return false;\n    }\n\n    fetch(md).then((response) => response.text()).then((text) => {\n      this.setState({\n        tb: tb,\n        text: text,\n        img: img,\n        label: label\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.table !== prevProps.match.params.table) {\n      this._updateData(this.props.match.params.table);\n    }\n  }\n\n  componentDidMount() {\n    this._updateData(this.state.tb);\n  }\n\n\n  render() {\n    if(!this.state.text){\n      return <Loading />\n    }\n    let styles;\n\n    if(this.state.img){\n      styles = {\n        width: '100%',\n        height: '300px',\n        backgroundImage: 'url(' + this.state.img +')',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: '50% 50%'\n      };\n    }\n\n    return (\n      <div>\n        <div style={ styles }>\n\n        </div>\n\n        <SubHead tblabel={this.state.label} tb={this.state.tb} text=\"Introduction\" />\n\n        <div className=\"container\">\n          <div className=\"my-3 px-md-5 double-column text-justify\">\n            <ReactMarkdown source={this.state.text} escapeHtml={false} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport Matrix from 'quirematrix';\n\nclass QuireMatrixView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid : Math.random().toString(36).substr(2, 5)\n    };\n  }\n\n  componentDidMount(){\n    if(this.props.string !== null){\n      const m = new Matrix('canvas'  + this.state.uid);\n      m.parseString(this.props.string, 'secondHalf' + this.state.uid);\n    }\n  }\n\n  render() {\n    let height = false;\n    if(this.props.string !== null){\n      height = 100 + this.props.string.length / 3 * 20;\n    }\n    return (\n      <div className=\"mt-2 mb-4\">\n        <Row>\n          <Col id=\"firstHalf\">{ this.props.string }</Col>\n          <Col id={ 'secondHalf' + this.state.uid }></Col>\n        </Row>\n        { height && <canvas width=\"400\" height={ height } id={ 'canvas'+ this.state.uid }></canvas> }\n      </div>\n    );\n  }\n}\n\n\nexport default QuireMatrixView;\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport nl2br from 'react-nl2br';\n\n\n\nfunction relaxedSplit(str, offset, until = '.'){\n\n  if (!str || str.length <= offset){\n    return [str, false];\n  }\n  const str1 = str.substr(0, offset);\n\n  if (str1.substr(str1.length - 1) === until){\n    return [str1, false];\n  }\n\n  const start = str1 + '' + str.replace(str1, '').split(until)[0];\n  const cont = str.replace(start + '' + until, '');\n  return [\n    start + until,\n    cont === start ? false : cont\n  ];\n}\n\n\nexport default class PreviewText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n    const textParts = relaxedSplit(nl2br(this.props.text), 200, this.props.separator);\n    if (!textParts[1]){\n      return textParts[0];\n    }\n\n    return (\n      <span>{ textParts[0] }\n        <span style={{ display: this.state.display }}>{ textParts[1] }</span>\n        {this.state.display === 'none' ? '\\u2026' : ''}\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? '+' : '-'}\n        </Button>\n      </span>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport QuireMatrixView from './QuireMatrixView';\nimport PreviewText from './PreviewText';\n\n\n\nclass RecordCell extends Component {\n\n  render() {\n    const val = this.props.val;\n    const label = this.props.label;\n    if (!val || val === '') {\n      return null;\n    }\n    let className = [];\n    if(this.props.coptic){\n      className.push('coptic');\n    }\n    if(this.props.greek){\n      className.push('greek');\n    }\n    return (\n      <Row className={\"border-bottom mt-2 mb-2 pb-1\" + (val !== null ? '' : ' d-none') }>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{label}</label>\n        </Col>\n        <Col>\n          <div className={ className.join(' ') }>\n            {  ( label === 'Quire layout' ) ? (<QuireMatrixView string={val} />) : <PreviewText text={val} separator={this.props.coptic ? '\\u2027' : '.'} /> }\n          </div>\n        </Col>\n\t    </Row>\n    );\n  }\n}\n\nexport default RecordCell;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nfunction showLink(zotero, short){\n  if (zotero){\n    return (<a href={'https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/' + zotero} target=\"_blank\" rel=\"noopener noreferrer\">{short}</a>)\n  } else {\n    return short;\n  }\n}\n\nexport default class PluginBiblio extends Component {\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (\n                <span key={di} className=\"mr-3\">\n                  { showLink(d.zotero.val, d.short.val) }\n                  { d.details.val ? (', ' + d.details.val + ';') : ''}\n                  { d.images.val ? (' ' + d.images.val + ';') : ''}\n                </span>\n              )\n            })\n          }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\n\n\nexport default class PluginShelfmarks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n  getHtmlModalBody(d){\n    return (\n      <dl>\n        <dt>Country:        </dt><dd>{d.country.val}</dd>\n        <dt>Town:           </dt><dd>{d.town.val}</dd>\n        <dt>Institution:    </dt><dd>{d.institution.val}</dd>\n        <dt>Collection name:</dt><dd>{d.name.val}</dd>\n        <dt>CMCL full name: </dt><dd>{d.fullsegnat.val}</dd>\n        <dt>URN:            </dt><dd><code>paths.shelfmarks.{d.id.val}</code></dd>\n      </dl>\n    );\n  }\n\n  toggle(d) {\n    if (d.id){\n      this.setState({\n        title: d.fullname.val,\n        body: this.getHtmlModalBody(d)\n      });\n    } else {\n\n    }\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            <ul>\n            {\n              this.props.data.data.map( (d, di) =>{\n                return (\n                  <li key={di}>\n                    <Button style={{margin: '0 0 4px 0', padding: 0}} color=\"link\" onClick={ () => this.toggle(d) }>\n                      {d.fullname.val}\n                    </Button>\n                    { d.shelfmark.val ? ', ' + d.shelfmark.val : ''}\n                    { d.pp.val ? ', ' + d.pp.val : ''}\n                  </li>\n                )\n              })\n            }\n          </ul>\n          </CardBody>\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>{ this.state.title }</ModalHeader>\n          <ModalBody>{ this.state.body }</ModalBody>\n        </Modal>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass ToggleText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n    return (\n      <span>\n        <span style={{ display: this.state.display }} className=\"ml-3 bg-light text-muted p-2\">{ this.props.text }</span>\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? <FontAwesomeIcon icon=\"info\" /> : '<'}\n        </Button>\n      </span>\n    )\n  }\n}\n\nclass TopoCell extends Component{\n\n  render(){\n    const tot = this.props.data.length;\n    return (<div>\n      {this.props.data.map( (d, di) =>{\n        return <span className={'mr-2 pr-2' + (tot === di+1 ? '' : ' border-right border-warning')} key={di}>\n          <span className={ d.language.val ? d.language.val.toLowerCase() : '' } title={d.notes.val}>\n            { d.toponym.val }{'\\u0020'}\n          </span>\n          { d.transcription.val ? <span className=\"text-muted ml-2\">[{d.transcription.val}]</span> : ''}\n          { d.notes.val ? <ToggleText text={ d.notes.val } /> : ''}\n        </span>\n      })}\n    </div>);\n  }\n};\n\nexport default class PluginToponyms extends Component {\n\n  parseNames(rows){\n    let obj = {};\n\n    rows.forEach( (d, di) =>{\n      if (!obj[d.language.val]){\n        obj[d.language.val] = []\n      }\n      obj[d.language.val].push(d);\n    });\n\n    return Object.keys(obj).map((l, i) => {\n      return <Row className={\"border-bottom mt-2 mb-2 pb-1\" } key={i}>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{l}</label>\n        </Col>\n        <Col>\n          <div>\n            <TopoCell data={obj[l]} />\n          </div>\n        </Col>\n\t    </Row>\n    });\n  }\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            { this.parseNames(this.props.data.data) }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {HorizontalBar} from 'react-chartjs-2';\n\nconst m = {\n  'Predynastic Egypt (4500 BC - 2950 BC)':                  {s: -4500, e:-2950},\n  'Early Dynastic Egypt (2950 BC - 2670 BC)':               {s: -2950, e:-2760},\n  'Old Kingdom Egypt (2670 BC - 2168 BC)':                  {s: -2760, e:-2168},\n  'First Intermediate Period Egypt (2168 BC - 2010 BC)':    {s: -2168, e:-2010},\n  'Middle Kingdom Egypt (2010 BC - 1640 BC)':               {s: -2010, e:-1640},\n  'Second Intermediate Period Egypt (1640 BC - 1548 BC)':   {s: -1640, e:-1548},\n  'New Kingdom Egypt (1548 BC - 1086 BC)':                  {s: -1548, e:-1086},\n  'Third Intermediate Period Egypt (1086 BC - 664 BC)':     {s: -1086, e:-664},\n  'Late Period Egypt (664 BC - 332 BC)':                    {s: -664,  e:-332},\n  'Macedonian Egypt (332 BC - 304 BC)':                     {s: -332,  e:-304},\n  'Ptolemaic Egypt (304 BC - 30 BC)':                       {s: -304,  e:-30},\n  'Ptolemaic-Roman Egypt (304 BC - AD 640)':                {s: -306,  e:640},\n  'Roman, early Empire (30 BC - AD 300)':                   {s: -30,   e:300},\n  'Late Antique (AD 300 - AD 640)':                         {s: 300,   e:640},\n  'Early Byzantine (AD 650 - AD 850)':                      {s: 650,   e:850},\n  'Middle Byzantine (AD 850 - AD 1200)':                    {s: 850,   e:1200},\n  'Late Byzantine Period (AD 1200 - AD 1450)':              {s: 1200,  e:1450},\n  'Early Ottoman Empire (AD 1453 - AD 1683)':               {s: 1453,  e:1683},\n  'Ottoman Empire (AD 1513 - AD 1918)':                     {s: 1513,  e:1918}\n};\n\nconst options = {\n  legend: {\n    display: false\n  },\n  scales: {\n    yAxes: [{\n      stacked: true\n    }],\n    xAxes: [{\n      ticks:{\n        stepSize: 100,\n        max: 1918\n      }\n    }]\n  }\n};\n\n// let used_cols = [];\n//\n// function getRandomColor() {\n//   let letters = '0123456789ABCDEF';\n//   let color = '#';\n//   for (var i = 0; i < 6; i++) {\n//     color += letters[Math.floor(Math.random() * 16)];\n//   }\n//   if (used_cols.indexOf(color) > -1){\n//     color = getRandomColor();\n//   } else {\n//     used_cols.push(color);\n//     return color;\n//   }\n// }\n\n\nexport default class Timeline extends Component {\n\n\n\n  render() {\n    if (!this.props.placephase || this.props.placephase.length < 1) {\n      return null;\n    }\n\n    let data = {\n      labels: [],\n      datasets: [\n        {\n          backgroundColor: '#fff',\n          hoverBackgroundColor: '#fff',\n          data: []\n        },\n        {\n          backgroundColor: '#B5353C',\n          borderColor: '#B5353C',\n          borderWidth: 1,\n          hoverBackgroundColor: '#B5353C',\n          hoverBorderColor: '#B5353C',\n          data: []\n        }\n      ]\n    };\n\n    this.props.placephase.data.forEach(e => {\n      data.labels.push(e.fperiod.val.replace(/\\s*\\([^)]+\\)/gi, ''));\n      if (m[e.fperiod.val]){\n        // end BCE => white: e; red: s\n        if (m[e.fperiod.val].e < 0){\n          data.datasets[0].data.push(m[e.fperiod.val].e);\n          data.datasets[1].data.push(m[e.fperiod.val].s);\n        } else if (m[e.fperiod.val].e > 0 && m[e.fperiod.val].s < 0){\n        // end CE, start BCE => white:\n          data.datasets[1].data.push(m[e.fperiod.val].s);\n          data.datasets[1].data.push(m[e.fperiod.val].e);\n          data.datasets[0].data.push(0);\n          data.datasets[0].data.push(0);\n          data.labels.push(e.fperiod.val.replace(/\\s*\\([^)]+\\)/gi, ''));\n        }\n      }\n    });\n\n    // const dataT = {\n    //   \"labels\":[\n    //     \"\"\n    //   ],\n    //   \"datasets\":[\n    //     {\n    //       \"backgroundColor\":\"#fff\",\n    //       \"borderColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#fff\",\n    //       \"data\":[0]\n    //     },\n    //     {\n    //       \"backgroundColor\":\"#ff00ff\",\n    //       \"borderColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#ff00ff\",\n    //       \"data\":[-2550]\n    //     },\n    //     {\n    //       \"backgroundColor\":\"#ff0000\",\n    //       \"borderColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#ff0000\",\n    //       \"data\":[-3550]\n    //     },\n    //     {\n    //       \"backgroundColor\":\"#B5353C\",\n    //       \"hoverBackgroundColor\":\"#B5353C\",\n    //       \"data\":[-4500]\n    //     }\n    //     ]}\n\n\n    return <div className=\"mt-5\">\n      <h5>Other phases overview</h5>\n      <HorizontalBar data={data} options={options} />\n    </div>\n  }\n}\n\n// export default MiniMap;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nimport Cfg from '../Services/Cfg/Cfg';\nimport RecordCell from './RecordCell';\nimport PluginBiblio from './PluginBiblio';\nimport PluginShelfmarks from './PluginShelfmarks';\nimport PluginToponyms from './PluginToponyms';\nimport Timeline from './Timeline';\n\n\n\nclass Plugin extends Component {\n\n  render() {\n\n    if (this.props.data.data.length < 1) {\n      return null;\n    }\n\n    if(this.props.data.metadata.tb_id === 'paths__m_biblio'){\n      return <PluginBiblio data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_shelfmarks'){\n      return <PluginShelfmarks data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_toponyms'){\n      return <PluginToponyms data={ this.props.data } />\n    }\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n\n          {this.props.data.metadata.tb_id === 'paths__m_placephase' && <div className=\"p-1\"><Timeline placephase={ this.props.data } /></div>}\n\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (<CardBody key={di} className=\"border border-info mb-2\">{\n                  Object.keys(d).map( (f, fi) => {\n                    if (Cfg.hidden.indexOf(this.props.data.metadata.tb_stripped + '.' + f) > -1){\n                      return null;\n                    }\n                    if (d[f].label){\n                      return <RecordCell val={ d[f].val_label ? d[f].val_label : d[f].val } label={ d[f].label } key={fi} />\n                    } else {\n                      return null;\n                    }\n                  })\n                }<hr /></CardBody>)\n            } )\n          }\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default Plugin;\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport Cfg from '../../Services/Cfg/Cfg';\nimport RecordCell from '../RecordCell';\nimport Plugin from '../Plugin';\n\n\nexport default class ViewOne extends Component {\n\n  render() {\n    const rec = this.props.rec;\n    let loaded_plg = [];\n\n    return (\n      <div>\n        {\n          Object.values(rec.core).map( (i, k) => {\n            if (Cfg.hidden.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1){\n              return null;\n            }\n            if(i.name === 'alias'){\n              loaded_plg.push('paths__m_shelfmarks');\n              return (\n                <div key={k}>\n                  <RecordCell\n                      coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                      greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                      label={ i.label }\n                      val={ i.val_label ? i.val_label : i.val }\n                      />\n                    <Row key={k} className=\"border-bottom mb-2 pb-2\">\n                      <Col>\n                        <Plugin data={rec.plugins['paths__m_shelfmarks']} />\n                      </Col>\n                    </Row>\n                  </div>\n              )\n            }\n            return <RecordCell\n                coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                label={ i.label }\n                val={ i.val_label ? i.val_label : i.val }\n                key={k} />\n          })\n        }\n        {\n          Object.keys(rec.plugins).map( (t, k) => {\n            if(loaded_plg.includes(t)){\n              return null;\n            }\n            return  <Plugin key={k} data={rec.plugins[t]} />\n          })\n        }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport Cfg from '../../Services/Cfg/Cfg';\nimport RecordCell from '../RecordCell';\nimport Plugin from '../Plugin';\nimport Loading from '../../Loading/Loading';\nimport ManuscriptsBody from './ManuscriptsBody';\n\n\nexport default class ViewOne extends Component {\n\n  renderTemplate(rec) {\n\n    switch (rec.metadata.tb_stripped) {\n      case 'manuscripts':\n        return (<ManuscriptsBody rec={ rec } /> )\n      default:\n        return(\n          <div>\n            {\n              Object.values(rec.core).map( (i, k) => {\n                if (Cfg.hidden.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1){\n                  return null;\n                }\n                return <RecordCell\n                    coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    label={ i.label }\n                    val={ i.val_label ? i.val_label : i.val }\n                    key={k} />\n              })\n            }\n            {\n              Object.keys(rec.plugins).map( (t, k) => {\n                return  <Plugin key={k} data={rec.plugins[t]} />\n              })\n            }\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.props.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.props.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass RecordLinks extends Component {\n\n  makeHref(table, query){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      'search',\n      '/',\n      strippedTb,\n      '/',\n      'encoded',\n      '?q=' + window.btoa('SELECT * FROM ' + table + ' WHERE ' + query)\n    ];\n\n    return url.join('');\n  }\n\n  renderLinks(links){\n\n     return Object.entries(links).map(\n      ([tb, info], i) => {\n        if (info.tot < 1) {\n          return null;\n        }\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, info.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {info.tot + ' referenced item' + (info.tot > 1 ? 's': '') + ' in ' + info.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  renderBackLinks(backlinks){\n    if (typeof backlinks === 'undefined' || backlinks.length < 1){\n      return false;\n    }\n\n    return Object.entries(backlinks).map(\n      ([tb, arr], i) => {\n        if (arr.tot < 1){\n          return false;\n        }\n\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, arr.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {arr.tot + ' referenced item' + (arr.tot > 1 ? 's': '') + ' in ' + arr.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  render() {\n    if( (!this.props.links && !this.props.backlinks) || (this.props.links.length < 1 && this.props.backlinks.length < 1) ){\n      return null;\n    }\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            { this.renderLinks(this.props.links) }\n            { this.renderBackLinks(this.props.backlinks) }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default RecordLinks;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass UserLinks extends Component {\n\n  makeHref(table, id){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      strippedTb,\n      '/',\n      id\n    ];\n\n    return url.join('');\n  }\n\n  render() {\n    const links = this.props.links || [];\n\n    if (typeof links === 'undefined' || links.length < 1) {\n      return null;\n    }\n\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Manually entered links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            {\n              links.map(\n                (l, i) => {\n                  return <ListGroupItem key={i} tag={Link} to={ this.makeHref(l.tb_stripped, l.ref_id) }>\n                    <FontAwesomeIcon icon=\"external-link-square-alt\" />  { l.tb_label } #{ l.ref_label ? l.ref_label : l.ref_id }\n                  </ListGroupItem>\n                }\n              )\n            }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default UserLinks;\n","import React, { Component } from 'react';\n\nimport { CardBody } from 'reactstrap';\n\nexport default class Caption extends Component {\n  render(){\n    if (!this.props.text){\n      return null;\n    }\n    return (<CardBody className=\"text-secondary\" style={{ fontSize: '.9rem', fontStyle: 'italic'}}>{this.props.text}</CardBody>);\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardImg, Modal, ModalFooter, ModalBody } from 'reactstrap';\n\nimport Caption from './Caption';\n\n\nexport default class PreviewModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <div>\n        <Card className=\"mt-1\">\n          <CardImg top\n              width=\"100%\"\n              src={this.props.file}\n              onClick={this.toggle} />\n            <Caption text={this.props.description} />\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className} size=\"lg\">\n          <ModalBody>\n            <div>\n              <img style={ { width: \"100%\" } }\n                  src={this.props.file}\n                  alt={ this.props.description } />\n            </div>\n          </ModalBody>\n          <ModalFooter><Caption text={this.props.description} /></ModalFooter>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\n\nimport PreviewModal from './PreviewModal';\n\nexport default class MoreImages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: false,\n      buttonText: 'Show more images'\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      shown: !this.state.shown,\n      buttonText : this.state.buttonText === 'Show more images' ? 'Hide' : 'Show more'\n    });\n  }\n\n  render(){\n    if (!this.props.files || this.props.files.length < 1){\n      return null;\n    }\n    return (\n      <div>\n        <div style={{ display: this.state.shown ? 'block' : 'none' }}>\n        {\n          this.props.files.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        </div>\n        <div className=\"text-center mt-2\" >\n          <Button onClick={this.toggle} color=\"info\">{ this.state.buttonText}</Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport MoreImages from './MoreImages';\nimport PreviewModal from './PreviewModal';\n\n\nexport default class Files extends Component {\n\n  render() {\n    let files = this.props.files || [];\n    files = files.map( f => {\n      if (['jpg', 'png', 'gif', 'tif', 'tiff'].includes(f.ext.toLowerCase())){\n        return f;\n      } else {\n        return false;\n      }\n    }).filter(e => { return e; });\n    const firstFiles = files.slice(0,3);\n    const otherFiles = files.slice(3);\n\n    if(firstFiles.length < 1){\n      return null;\n    }\n\n    return (\n\n      <div className=\"mt-3\">\n        <h5>Attached images</h5>\n        {\n          firstFiles.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        <MoreImages files={otherFiles} baseUrl={this.props.baseUrl} />\n      </div>\n\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, Marker } from 'react-leaflet';\n\nclass MiniMap extends Component {\n\n  render() {\n    if (this.props.geom.length < 1) {\n      return null;\n    }\n    const position = JSON.parse(this.props.geom[0].geojson).coordinates.reverse();\n\n    return (\n      <div style={{ height: '300px', width: '100%' }}>\n        <Map className=\"sidebar-map maxHeight\" center={ position } zoom={11} zoomControl={true}>\n          <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n\n          { this.props.geom.map( (e, i) => {\n            const coord = JSON.parse(e.geojson).coordinates.reverse();\n            return (<Marker position={ coord } key={ i } />)\n          } ) }\n\n        </Map>\n      </div>\n\n    );\n  }\n}\n\nexport default MiniMap;\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class CoptOT extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=\" + encodeURIComponent(this.props.data.val)} target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> The Digital Edition of the Coptic Old Testament\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TM extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/text/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Trismegistos texts\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TmPlaces extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/place/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Trismegistos places\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Ldab extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/ldab/text.php?quick=\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Leuven Database of Ancient books\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Pleiades extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://pleiades.stoa.org/places/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Pleiades\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class CopticColophons extends Component {\n\n  render() {\n    if ( this.props.tb !== 'colophons' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={`https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.${this.props.data.val}.xml` } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> View marked-up text on GitHub\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport CoptOT from './ExternalLinks/CoptOT';\nimport TM from './ExternalLinks/TM';\nimport TmPlaces from './ExternalLinks/TmPlaces';\nimport Ldab from './ExternalLinks/Ldab';\nimport Pleiades from './ExternalLinks/Pleiades';\nimport CopticColophons from './ExternalLinks/CopticColophons';\n\n\nexport default class ExternalLinks extends Component {\n\n  render() {\n    if ( !this.props.rec || this.props.rec.length < 1 ) {\n      return null;\n    }\n    return <div className=\"mt-3\">\n\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon={['fab', 'hubspot']} /> External links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            <CoptOT   data={this.props.rec.lcbm}  tb={this.props.tb}/>\n            <TM       data={this.props.rec.tm}    tb={this.props.tb} />\n            <Ldab     data={this.props.rec.ldab}  tb={this.props.tb} />\n\n            <TmPlaces data={this.props.rec.tm}    tb={this.props.tb} />\n            <Pleiades data={this.props.rec.pleiades} tb={this.props.tb} />\n            <CopticColophons data={this.props.rec.id} tb={this.props.tb} />\n\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport Database from '../Services/Database/Database';\nimport SubHead from '../SubHead/SubHead';\nimport Body from './Bodies/Body';\nimport RecordLinks from './RecordLinks';\nimport UserLinks from './UserLinks';\nimport Files from '../ViewFiles/Files';\nimport MiniMap from './MiniMap';\nimport Loading from '../Loading/Loading';\nimport ExternalLinks from './ExternalLinks';\nimport Timeline from './Timeline';\n\nexport default class ViewOne extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rec: false,\n      copied: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        rec: null\n      });\n\n      Database.getOne(nextProps.match.params.table, nextProps.match.params.id, (d) =>{\n        this.setState({\n          rec: d\n        });\n      });\n    }\n  }\n\n  componentDidMount(){\n    Database.getOne(this.props.match.params.table, this.props.match.params.id, (d) =>{\n      this.setState({\n        rec: d\n      });\n    });\n  }\n\n  renderTemplate(rec) {\n\n    if (rec.type === 'error'){\n      return (<pre className=\"text-danger p-5\">{ rec.text }</pre>)\n    }\n\n    switch (rec.metadata.tb_stripped) {\n      // case 'titles':\n      //   return (<ViewOneTitle record={ rec } />);\n      default:\n        // No record found!\n        if (rec.core.length < 1){\n          return (\n            <div className=\"container\">\n              <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n                <Card className=\"mt-2\">\n                  <CardHeader>\n                    <h3 className=\"text-danger\">Record paths.{ rec.metadata.tb_stripped }.{ this.props.match.params.id }  not found!</h3>\n                  </CardHeader>\n                </Card>\n            </div>\n          )\n        }\n        return(\n          <div className=\"container\">\n\n            <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n\n            <Row className=\"mt-2\">\n              <Col sm=\"8\">\n                <Card>\n                  <CardHeader>\n                    <h3>\n                      paths.{ rec.metadata.tb_stripped }.{ rec.core.id.val }\n                    </h3>\n                      <div className=\"text-secondary d-flex justify-content-between\">\n                        <div>\n                          <FontAwesomeIcon icon=\"link\" /> http://paths.uniroma1.it/atlas/{ rec.metadata.tb_stripped }/{ rec.core.id.val }\n                        </div>\n                        <div>\n                          <CopyToClipboard\n                            text={ 'http://paths.uniroma1.it/atlas/' + rec.metadata.tb_stripped + '/' + rec.core.id.val }\n                            onCopy={() => { this.setState({copied: true}); window.setTimeout(()=>{ this.setState({copied: false}); }, 2000); } }\n                            >\n                            <Button size=\"sm\" color={ this.state.copied ? 'primary': 'secondary'}>\n                              <FontAwesomeIcon icon=\"clone\" /> <span className=\"d-none d-sm-inline\">\n                                {this.state.copied ? 'Copied!' : 'Copy to clipboard'}\n                              </span>\n                            </Button>\n                          </CopyToClipboard>\n                        </div>\n                      </div>\n                  </CardHeader>\n                  <CardBody>\n                    <Body rec={ rec } />\n                  </CardBody>\n                </Card>\n              </Col>\n              <Col sm=\"4\">\n                <MiniMap geom={ rec.geodata } />\n                <Timeline placephase={ rec.plugins.paths__m_placephase } />\n                <Files files={ rec.files } baseUrl={ Database.getBaseUrl() } />\n                <RecordLinks links={ rec.links } backlinks={ rec.backlinks } />\n                <UserLinks links={ rec.manualLinks } />\n                <ExternalLinks rec={ rec.core } tb={ rec.metadata.tb_stripped } />\n              </Col>\n            </Row>\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.state.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.state.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Bar} from 'react-chartjs-2';\n\n\nexport default class ChartView extends Component {\n\n  parseData(data){\n    let d = {\n      labels: [],\n      datasets: [{\n        label: 'My First dataset',\n        backgroundColor: 'rgba(195,31,42,0.8)',\n        borderColor: 'rgba(195,31,42,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(195,31,42,1)',\n        hoverBorderColor: 'rgba(195,31,42,0.8)',\n        data: []\n      }]\n    }\n\n    data.forEach(row => {\n      d.labels.push(row.series_name)\n      Object.keys(row).forEach(k =>{\n        if (k !== 'series_name'){\n          d.datasets[0].data.push(row[k]);\n          d.datasets[0].label = k;\n        }\n      });\n    });\n\n    return d;\n  }\n\n  render(){\n    if (this.props.loading){\n      return <p className=\"lead my-5 text-secondary\">Loading chart...</p>;\n    }\n    if (!this.props.data){\n      return null;\n    }\n\n    const data = this.parseData(this.props.data);\n    return (\n      <div className=\"my-5\">\n        <h2>{ this.props.name }</h2>\n          <Bar data={ data }  width={100}\n          height={350}\n          options={{\n            maintainAspectRatio: false\n          }}/>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, Card, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport Database from '../Services/Database/Database';\nimport ChartView from './ChartView';\n\n\nexport default class ChartList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: false,\n      data: false,\n      loading: false\n    };\n  }\n\n  loadChart(id){\n    this.setState({ loading: true });\n    Database.getChart(id, d => {\n      this.setState({ name: d.name });\n      this.setState({ data: d.data });\n      this.setState({ loading: false });\n    });\n\n  }\n\n  render(){\n    if (!this.props.charts){\n      return <p className=\"lead my-5 text-secondary\">Loading chart list...</p>;\n    }\n    if (this.props.charts.type === 'error'){\n      return (\n        <div className=\"text-danger mt-5 px-5\">Sorry! There was an error getting list of chart from the database...</div>\n      );\n    }\n    return (\n      <div className=\"mt-5\">\n        <ChartView name={this.state.name} data={this.state.data} loading={this.state.loading}/>\n        <Card>\n          <CardBody>\n            <ListGroup>\n              { this.props.charts.map( (c, i) => {\n                return (\n                  <ListGroupItem\n                    key={i}\n                    tag={Button}\n                    onClick={ () => this.loadChart(c.id) } className=\"mb-3\"\n\n                    color=\"secondary\">\n                    { c.name }\n                  </ListGroupItem>\n                );\n              } ) }\n            </ListGroup>\n          </CardBody>\n        </Card>\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\nimport ChartList from './ChartList';\n\n\nexport default class Charts extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartList: false\n    };\n  }\n\n  componentDidMount(prevProps, prevState){\n    Database.getChart('all', d => {\n      this.setState({ chartList: d });\n    });\n  }\n\n\n  render(){\n    return (\n      <div className=\"container mt-5\">\n        <h1><FontAwesomeIcon icon=\"chart-bar\" /> Available charts</h1>\n        <ChartList charts={this.state.chartList} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport './Cite.css';\n\n\nimport cite from './Cite.md';\nimport Loading from '../Loading/Loading';\n\n\nexport default class Cite extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      text: false\n    }\n  }\n  componentWillMount() {\n    fetch(cite).then((response) => response.text()).then((text) => {\n      this.setState({ text: text });\n    });\n  }\n\n  showContent(){\n    if (!this.state.text){\n      return (<Loading />);\n    } else {\n      return (\n        <div className=\"text-justify\">\n          <ReactMarkdown source={this.state.text} escapeHtml={false} />\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n      <div>\n        <div className=\"jumbotron\">\n          <div className=\"container text-center\">\n            <h1>How to cite the “PAThs” project as a whole and single database records</h1>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"my-5 px-5\">\n            { this.showContent() }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faIdBadge, faLink, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\n\nimport MainTemplate from './components/mainLayout/MainTemplate';\nimport Home from './components/Home/Home';\nimport PathsMap from './components/PathsMap/PathsMap';\n\nimport SearchSaved from './components/Search/SearchSaved';\nimport SearchSimple from './components/Search/SearchSimple';\nimport SearchAdv from './components/Search/SearchAdv';\nimport SearchEncoded from './components/Search/SearchEncoded';\nimport SearchAll from './components/Search/SearchAll';\n\nimport Intro from './components/Intro/Intro';\n\nimport ViewOne from './components/Record/ViewOne';\nimport Charts from './components/Charts/Charts';\nimport Cite from './components/Cite/Cite';\n\n\nlibrary.add(fas, fab, faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faGithub, faIdBadge, faLink, faMapMarkerAlt);\n\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter basename=\"/\">\n        <Switch>\n          <Route path='/map/:action?/:data?' component={PathsMap}/>\n          <MainTemplate>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={Intro} />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)/:id' component={ViewOne} />\n\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/saved' component={SearchSaved} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/all' component={SearchAll} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/adv' component={SearchAdv} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/encoded' component={SearchEncoded} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={SearchSimple} />\n\n            <Route exact path='/charts/:id?' component={Charts} />\n            <Route exact path='/cite' component={Cite} />\n\n          </MainTemplate>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\nunregister();\n"],"sourceRoot":""}