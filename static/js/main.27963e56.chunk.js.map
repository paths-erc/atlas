{"version":3,"sources":["components/mainLayout/img/erc.jpg","components/mainLayout/img/sapienza.jpg","components/Home/paths-logo.png","components/Home/IntroMd.md","components/Home/MissionStatementMd.md","components/Home/lod.md","components/Loading/Ripple-1.7s-200px.svg","components/Intro/places/places.md","components/Intro/places/places.jpg","components/Intro/manuscripts/manuscripts.md","components/Intro/manuscripts/manuscripts.jpg","components/Intro/works/works.md","components/Intro/works/works.jpg","components/Intro/titles/titles.md","components/Intro/titles/titles.jpg","components/Intro/authors/authors.md","components/Intro/authors/authors.jpg","components/Intro/colophons/colophons.md","components/Intro/colophons/colophons.jpg","components/Intro/collections/collections.md","components/Intro/collections/collections.jpg","components/Cite/Cite.md","components/Services/SavedQueries.js","components/Services/Database/Database.jsx","components/mainLayout/Header.jsx","components/mainLayout/Footer.jsx","components/mainLayout/MainTemplate.jsx","components/Loading/Loading.jsx","components/Home/Disclaimer.jsx","components/Home/Home.jsx","components/PathsMap/ListPlaces.jsx","components/PathsMap/UrlFilterButton.jsx","components/PathsMap/TabLegend.jsx","components/PathsMap/TabSavedQueries.jsx","components/PathsMap/ClearButton.jsx","components/PathsMap/PathsMap.jsx","components/SubHead/SavedQueriesList.jsx","components/Services/Cfg/Cfg.js","components/SubHead/SubHead.jsx","components/SqlModal/SqlModal.jsx","components/PaginateResult/PaginateResult.jsx","components/Search/ItemPreview.jsx","components/Manuscripts/OpenInMap.jsx","components/Search/Results.jsx","components/Search/SearchSaved.jsx","components/Search/FldSelect.jsx","components/Search/ValueInput.jsx","components/Search/CustomSearchForm.jsx","components/Search/SearchSimple.jsx","components/Search/OperatorSelect.jsx","components/Search/ConnectorSelect.jsx","components/Search/SearchAdv.jsx","components/Search/SearchEncoded.jsx","components/Search/SearchAll.jsx","components/Intro/Intro.jsx","components/Record/QuireMatrixView.jsx","components/Record/PreviewText.jsx","components/Record/RecordCell.jsx","components/Record/PluginBiblio.jsx","components/Record/PluginShelfmarks.jsx","components/Record/PluginToponyms.jsx","components/Record/Plugin.jsx","components/Record/Bodies/ManuscriptsBody.jsx","components/Record/Bodies/Body.jsx","components/Record/RecordLinks.jsx","components/Record/UserLinks.jsx","components/ViewFiles/Caption.jsx","components/ViewFiles/PreviewModal.jsx","components/ViewFiles/MoreImages.jsx","components/ViewFiles/Files.jsx","components/Record/MiniMap.jsx","components/Record/ExternalLinks/CoptOT.jsx","components/Record/ExternalLinks/TM.jsx","components/Record/ExternalLinks/TmPlaces.jsx","components/Record/ExternalLinks/Ldab.jsx","components/Record/ExternalLinks/Pleiades.jsx","components/Record/ExternalLinks/CopticColophons.jsx","components/Record/ExternalLinks.jsx","components/Record/ViewOne.jsx","components/Charts/ChartView.jsx","components/Charts/ChartList.jsx","components/Charts/Charts.jsx","components/Cite/Cite.jsx","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","SavedQueries","places","episcopal_sees","id","title","url","data","q_encoded","btoa","has_monasteries","churches","cemeteries","hermitages","mines","monasteries","settlements","titles","final","section_headings","authors","bishops","manuscripts","ms_has_bindings","horizontal_rolls","vertical_rolls","minor_dialects","miniature_codices","square_codices","oblong_codices","ms_third_c","ms_forth_c","ms_fifth_c","ms_sixth_c","ms_seventh_c","works","early_translations_sahidic","early_translations_bohairic","early_translations_other","early_translations_apocryphal","unescape","encodeURIComponent","translations_gnostic","translations_manichaean","translations_patristic","pachomius","shenoute","standard_translations","translations_apocryphal_second","translations_hagiographical","classsical_translations_homilies","classsical_translations_historiae","classsical_translations_acts","classsical_translations_monastic","post_chalcedonian","historiographic","orig_lit_formation","orig_lit_damian_hag","orig_lit_damian_hom","poetry","orig_lit_hom","original_lit_early_islamic","standard_translations_in_bohairic","original_lit_later_hag","synaxarial","late_liturgical","map","discovery_places","join","fields[paths__geodata.geometry]","fields[p.id]","fields[p.name]","fields[p.pleiades]","fields[p.typology]","fields[mp.type]","fields[count(mp.id_link)]","group","limit_start","limit_end","storage_places","production_places","all_ms_places","bishoprics","fields[paths__places.id]","fields[paths__places.name]","fields[paths__places.pleiades]","fields[paths__places.typology]","baseUrl","window","location","hostname","Database","params","callback","axios","method","headers","Content-Type","then","res","catch","Error","console","log","message","tb","fld","string","cb","this","getData","verb","replace","s","d","grp","q","page","status","text","concat","val","strict","type","adv[a0][fld]","adv[a0][operator]","adv[a0][value]","Object","entries","forEach","_ref","_ref2","slicedToArray","k","v","f","o","c","head","table_label","sql","gj","newgj","features","currentId","_ref3","_ref4","value","properties","push","length","toponym","where","fields[g.geometry]","fields[GROUP_CONCAT(t.toponym)]","ms_where","fields[paths__m_msplaces.type]","FixedNavbar","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggle","bind","assertThisInitialized","state","isOpen","setState","react_default","a","createElement","reactstrap_es","color","dark","expand","className","to","tag","Link","onClick","navbar","style","backgroundColor","RRNavLink","react_fontawesome_index_es","icon","nav","inNavbar","caret","right","target","href","getBaseUrl","Component","Footer","rel","xs","size","md","offset","src","Sapienza","alt","Erc","borderWidth","packageJson","version","MainTemplate","Header","role","children","Footer_Footer","React","Loading","width","Ripple","Disclaimer","modal","block","Home","path","intro","missionstatement","lod","_this2","e","fetch","response","_this3","Loading_Loading","i","key","listStyle","with_html_default","source","escapeHtml","Disclaimer_Disclaimer","imgPathsLogo","showContentAndToc","ListPlaces","name","copticname","ee","ii","UrlFilterButton","urlFilter","TabLegend","margin","padding","background","TabSavedQueries","values","show","addonType","aria-hidden","BaseLayer","LayersControl","googleKey","PathsMap","shownPlaces","sidebarCollapsed","selected","manualFilter","placesLayerRef","createRef","mapRef","t","L","CircleMarker","radius","weight","opacity","fillColor","fillOpacity","feature","layer","base","pathname","bindPopup","on","openPopup","str","fgj","_arr","_i","toLowerCase","includes","fitMapToBounds","bounds","current","leafletElement","getBounds","_northEast","lat","_southWest","lng","pad","fitBounds","savedQ","locationSearch","getSaved","qstring","qs","parse","search","ignoreQueryPrefix","getMsPlaces","getPlaces","nextProps","fetchData","match","textAlign","zIndex","marginTop","react_leaflet_sidebarv2_lib","collapsed","onOpen","onSidebarOpen","onClose","onSidebarClose","closeIcon","header","onChange","filterPlaces","placeholder","ClearButton_ListPlaces","clearFiltered","UrlFilterButton_UrlFilterButton","filter","ListPlaces_ListPlaces","TabSavedQueries_TabSavedQueries","anchor","TabLegend_TabLegend","position","top","Map","zoomControl","ref","TileLayer","checked","react_leaflet_google","googlekey","maptype","GeoJSON","hash","pointToLayer","onEachFeature","SavedQueriesList","tblabel","aria-label","closeFn","Cfg","coptic","greek","hidden","id_fld","collections","colophons","persons","searchDefault","preview","label","fld_whitelist","SubHead","showSaved","preventDefault","menuItems","light","toggleSaved","SavedQueriesList_SavedQueriesList","SqlModal","height","whiteSpace","PaginateResult","result","queryString","tot_rows","curr_page","arguments","undefined","tot_pages","Math","ceil","parseInt","qString","stringify","disabled","active","build_object","totalRows","r","assign","PaginateResultSummary","start_at","up_to","components_SqlModal_SqlModal","query","ItemPreviewWrapper","ItemPreview","el","record","flds","fields","preview_flds","previewFlds","id_field","idField","sm","outline","hover","OpenInMap","indexOf","encodeURI","Results","getSimple","getAdv","getAll","getByEncodedSql","prevProps","_fetchData","decodeURIComponent","trace","total_rows","Manuscripts_OpenInMap","stripped_table","query_where","PaginateResult_PaginateResultSummary","query_arrived","PaginateResult_PaginateResult","ItemPreview_ItemPreviewWrapper","records","ItemPreview_ItemPreview","table","withRouter","SearchSaved","saved","prevState","old_qstring","new_qstring","components_SubHead_SubHead","Search_Results","FldSelect","fldList","selObj","inspect","_setState","react_select_esm","defaultValue","options","ValueInput","_handleSearch","isLoading","_this$props$fld$split","split","_this$props$fld$split2","getUniqueVal","multiple","react_bootstrap_typeahead_lib","minLength","onSearch","onInputChange","defaultInputValue","CustomSearchForm","handleSubmit","_changeField","_changeVal","_changeStrict","constructor","Array","event","onSubmit","alert","row","FldSelect_FldSelect","ValueInput_ValueInput","check","SearchSimple","_onFormSubmit","history","CustomSearchForm_CustomSearchForm","OperatorSelect","ConnectorSelect","AdvSearchForm","rows","getOwnPropertyNames","showResults","_changeOperator","_changeConnector","_addRow","_removeRow","random","toString","substr","index","_handleSubmit","ConnectorSelect_ConnectorSelect","OperatorSelect_OperatorSelect","keys","SearchAll","PlacePage","img","PlacesMd","PlacesImg","ManuscriptsMd","ManuscriptsImg","WorksMd","WorksImg","TitlesMd","TitlesImg","AuthorsMd","AuthorsImg","ColophonsMd","ColophonsImg","CollectionsMd","CollectionsImg","_updateData","styles","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","react_markdown_default","QuireMatrixView","uid","Matrix","parseString","PreviewText","display","toggleDisplay","textParts","until","str1","start","cont","relaxedSplit","nl2br","separator","RecordCell","Record_QuireMatrixView","PreviewText_PreviewText","PluginBiblio","metadata","tb_label","di","zotero","short","details","images","PluginShelfmarks","country","town","institution","fullsegnat","fullname","body","getHtmlModalBody","shelfmark","pp","ToggleText","TopoCell","tot","language","notes","transcription","PluginToponyms_ToggleText","PluginToponyms","obj","l","PluginToponyms_TopoCell","parseNames","Plugin","tb_id","PluginBiblio_PluginBiblio","PluginShelfmarks_PluginShelfmarks","PluginToponyms_PluginToponyms","fi","tb_stripped","Record_RecordCell","val_label","ViewOne","rec","loaded_plg","core","plugins","Record_Plugin","ManuscriptsBody_ViewOne","renderTemplate","RecordLinks","links","info","makeHref","backlinks","arr","renderLinks","renderBackLinks","UserLinks","ref_id","ref_label","Caption","fontSize","fontStyle","PreviewModal","file","Caption_Caption","description","MoreImages","shown","buttonText","files","PreviewModal_PreviewModal","ext","Files","firstFiles","slice","otherFiles","MoreImages_MoreImages","MiniMap","geom","JSON","geojson","coordinates","reverse","center","zoom","coord","Marker","CoptOT","TM","TmPlaces","Ldab","Pleiades","CopticColophons","ExternalLinks","CoptOT_CoptOT","lcbm","TM_TM","tm","Ldab_Ldab","ldab","TmPlaces_TmPlaces","Pleiades_Pleiades","pleiades","CopticColophons_CopticColophons","copied","getOne","_this4","react_copy_to_clipboard_lib","onCopy","setTimeout","Body_ViewOne","Record_MiniMap","geodata","Files_Files","Record_RecordLinks","Record_UserLinks","manualLinks","ExternalLinks_ExternalLinks","ChartView","labels","datasets","borderColor","hoverBackgroundColor","hoverBorderColor","series_name","loading","parseData","es","maintainAspectRatio","ChartList","getChart","charts","ChartView_ChartView","Button","loadChart","Charts","chartList","ChartList_ChartList","Cite","cite","showContent","library","add","fas","fab","faArrowCircleRight","faBug","faEye","faExternalLinkSquareAlt","faFilter","faGithub","faIdBadge","faLink","faMapMarkerAlt","App","BrowserRouter","basename","Switch","Route","component","MainTemplate_MainTemplate","exact","Intro","SearchAdv","SearchEncoded","Boolean","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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,UAAa,YACbnV,QAAW,UACXlB,OAAU,SACVsW,QAAW,iCAGbI,cAAiB,CACb,mBACA,qBACA,mBACA,yBACA,uBACA,qBACA,sBACA,sBACA,yBACA,6BACA,yBACA,4BACA,6BACA,+BACA,4BACA,8BACA,gCAEA,kBACA,oBACA,qBACA,mBACA,oBACA,oBACA,mBACA,mBACA,mBACA,mBACA,yBACA,0BACA,4BAEA,oBACA,sBACA,4BACA,2BACA,sBACA,uBAEA,mBACA,mBACA,uBACA,qBACA,qBAEA,sBACA,wBACA,8BACA,4BACA,2BACA,6BACA,+BACA,gCACA,mCACA,kCACA,wBACA,+BAEA,wBACA,8BACA,6BACA,0BACA,iCACA,0BAEA,wBACA,iCACA,gCACA,4BACA,wBACA,0BACA,0BACA,2BACA,8BACA,oCACA,kCACA,6BACA,gCACA,8BACA,0BACA,yBACA,kCACA,mCACA,kCACA,6BACA,oCACA,kCACA,8BACA,+BACA,mCACA,gCACA,6BACA,iCACA,+BACA,6BACA,iCACA,8BACA,oCACA,qCACA,mCACA,4BACA,gCACA,gCACA,8BACA,8BACA,+BACA,8BACA,6BACA,gCACA,4BACA,gCACA,+BACA,+BACA,wBACA,iCACA,6BACA,gCC9GOC,eAvEb,SAAAA,EAAY/M,GAAO,IAAAC,EAAA,OAAAhC,OAAAiC,EAAA,EAAAjC,CAAAlB,KAAAgQ,IACjB9M,EAAAhC,OAAAkC,EAAA,EAAAlC,CAAAlB,KAAAkB,OAAAmC,EAAA,EAAAnC,CAAA8O,GAAA1M,KAAAtD,KAAMiD,KACDS,MAAQ,CACXuM,WAAW,GAHI/M,2EAOPoE,GACVA,EAAE4I,iBACFlQ,KAAK4D,SAAS,CACZqM,WAAYjQ,KAAK0D,MAAMuM,6CAKzB,IAAMhB,EAAUjP,KAAKiD,MAAMgM,QAAUjP,KAAKiD,MAAMgM,QAAUG,GAAIU,MAAM9P,KAAKiD,MAAMrD,IACzEA,EAAKI,KAAKiD,MAAMrD,GAChBc,IAAOV,KAAKiD,MAAMvC,MAAOmD,EAAAC,EAAAC,cAAA,QAAMK,UAAU,WAAWpE,KAAKiD,MAAMvC,MAEj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","file":"static/js/main.27963e56.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/erc.9fb24811.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sapienza.8672e003.jpg\";","module.exports = __webpack_public_path__ + \"static/media/paths-logo.d0a2b412.png\";","module.exports = __webpack_public_path__ + \"static/media/IntroMd.5a487125.md\";","module.exports = __webpack_public_path__ + \"static/media/MissionStatementMd.853ccd40.md\";","module.exports = __webpack_public_path__ + \"static/media/lod.d9b96c9b.md\";","module.exports = __webpack_public_path__ + \"static/media/Ripple-1.7s-200px.7466db60.svg\";","module.exports = __webpack_public_path__ + \"static/media/places.bd43ff14.md\";","module.exports = __webpack_public_path__ + \"static/media/places.1485b780.jpg\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.6be40095.md\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.ef53f386.jpg\";","module.exports = __webpack_public_path__ + \"static/media/works.b7c993b7.md\";","module.exports = __webpack_public_path__ + \"static/media/works.7aa6593a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/titles.24cbbfac.md\";","module.exports = __webpack_public_path__ + \"static/media/titles.2b8757e2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/authors.98ad4682.md\";","module.exports = __webpack_public_path__ + \"static/media/authors.d6df50d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/colophons.96843ce5.md\";","module.exports = __webpack_public_path__ + \"static/media/colophons.1df56f78.jpg\";","module.exports = __webpack_public_path__ + \"static/media/collections.63bdac97.md\";","module.exports = __webpack_public_path__ + \"static/media/collections.7a50aeed.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Cite.399ad154.md\";","/*jshint esversion: 6 */\n\nexport default {\n  places: {\n    episcopal_sees: {\n      id: \"episcopal_sees\",\n      title: \"Episcopal sees\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`episcopalsee`=1\")\n      }\n    },\n    has_monasteries: {\n      id: \"has_monasteries\",\n      title: \"Sites with one or many monasteries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`hasmonastery` = 1\")\n      }\n    },\n    churches: {\n      id: \"churches\",\n      title: \"Churches\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'church'\")\n      }\n    },\n    cemeteries: {\n      id: \"cemeteries\",\n      title: \"Catacombs, cemeteries tombs or necropoleis\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'catacomb, cemetery, necropolis' OR `typology` = 'tomb'\")\n      }\n    },\n    // forts: {\n    //   id: \"forts\",\n    //   title: \"Forts or towers\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`typology` = 'fort, tower'\")\n    //   }\n    // },\n    hermitages: {\n      id: \"hermitages\",\n      title: \"Hermitage units (mainly referred to the area of Western Thebes)\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'hermitage unit(s)'\")\n      }\n    },\n    mines: {\n      id: \"mines\",\n      title: \"Mines or quarries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'mine, quarry'\")\n      }\n    },\n    monasteries: {\n      id: \"monasteries\",\n      title: \"Monasteries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'monastery'\")\n      }\n    },\n    settlements: {\n      id: \"settlements\",\n      title: \"Settlement\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'settlement'\")\n      }\n    },\n    // shrines: {\n    //   id: \"shrines\",\n    //   title: \"Shrines\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`typology` = 'shrine'\")\n    //   }\n    // },\n  },\n  titles: {\n    final: {\n      id: \"final\",\n      title: \"Final titles\",\n      url: \"titles?verb=search&type=encoded\",\n      data: {\n        q_encoded: btoa(\" `type` = 'final'\")\n      }\n    },\n    section_headings: {\n      id: \"section_headings\",\n      title: \"Section headings\",\n      url: \"titles?verb=search&type=encoded\",\n      data: {\n        q_encoded: btoa(\" `type` = 'section heading'\")\n      }\n    }\n  },\n  authors: {\n    bishops: {\n      id: \"bishops\",\n      title: \"Authors-(arch)bishops\",\n      url: 'authors?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `title` LIKE '%bishop' \")\n      }\n    }\n  },\n  manuscripts: {\n    ms_has_bindings: {\n      id: \"ms_has_bindings\",\n      title: \"Manuscripts with bookbindings\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bindings`='1'\")\n      }\n    },\n    horizontal_rolls : {\n      id: \"horizontal_rolls\",\n      title: \"Horizontal rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'horizontal roll'\")\n      }\n    },\n    vertical_rolls : {\n      id: \"vertical_rolls\",\n      title: \"Vertical rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'vertical roll'\")\n      }\n    },\n    minor_dialects : {\n      id: \"minor_dialects\",\n      title: \"Minor dialects\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` NOT LIKE '%F;%' AND `dialect` NOT LIKE '%S;%' AND `dialect` NOT LIKE '%B;%' AND `dialect` NOT LIKE '%F' AND `dialect` NOT LIKE '%S' AND `dialect` NOT LIKE '%B'\")\n      }\n    },\n    miniature_codices : {\n      id: \"miniature_codices\",\n      title: \"Miniature codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`leafw`<101 AND `leafw`>0 AND `bookform` = 'codex'\")\n      }\n    },\n    square_codices : {\n      id: \"square_codices\",\n      title: \"Square format codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform`='codex' AND `prophw`>.84 AND `prophw`<1.16\")\n      }\n    },\n    oblong_codices : {\n      id: \"oblong_codices\",\n      title: \"Oblong format codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform`='codex' AND `prophw`>1.84\")\n      }\n    },\n    // ms_with_date: {\n    //   id: \"ms_with_date\",\n    //   title: \"Dated manuscripts\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"(`chronofrom`!='' AND `chronofrom` IS NOT NULL) OR (`chronoto`!='' AND `chronoto` IS NOT NULL)\")\n    //   }\n    // },\n    ms_third_c: {\n      id: \"ms_third_c\",\n      title: \"Manuscripts up to the 3rd Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` < 301\")\n      }\n    },\n    ms_forth_c: {\n      id: \"ms_forth_c\",\n      title: \"Manuscripts of the 4th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 299 AND `chronofrom` < 400\")\n      }\n    },\n    ms_fifth_c: {\n      id: \"ms_fifth_c\",\n      title: \"Manuscripts of the 5th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 399 AND `chronofrom` < 500\")\n      }\n    },\n    ms_sixth_c: {\n      id: \"ms_sixth_c\",\n      title: \"Manuscripts of the 6th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 499 AND `chronofrom` < 600\")\n      }\n    },\n    ms_seventh_c: {\n      id: \"ms_seventh_c\",\n      title: \"Manuscripts of the 7th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 599 AND `chronofrom` < 700\")\n      }\n    },\n    // ms_eighth_c: {\n    //   id: \"ms_eighth_c\",\n    //   title: \"Manuscripts of the 8th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 699  AND `chronofrom` < 800\")\n    //   }\n    // },\n    // ms_ninth_c: {\n    //   id: \"ms_ninth_c\",\n    //   title: \"Manuscripts of the 9th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 799 AND `chronofrom` < 900\")\n    //   }\n    // },\n    // ms_tenth_c: {\n    //   id: \"ms_tenth_c\",\n    //   title: \"Manuscripts of the 10th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 899 AND `chronofrom` < 1000\")\n    //   }\n    // },\n    // ms_eleventh_c: {\n    //   id: \"ms_eleventh_c\",\n    //   title: \"Manuscripts of the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 999 AND `chronofrom` < 1100\")\n    //   }\n    // },\n    // ms_post_eleventh_c: {\n    //   id: \"ms_post_eleventh_c\",\n    //   title: \"Manuscripts after the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 1099\")\n    //   }\n    // }\n  },\n  works: {\n    early_translations_sahidic: {\n      id: \"early_translations_sahidic\",\n      title: \"Early translations of biblical works into Sahidic (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)'\")\n      }\n    },\n    early_translations_bohairic: {\n      id: \"early_translations_bohairic\",\n      title: \"Early translations of biblical works into Bohairic (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Early translations of biblical works into Bohairic (4th cent.)'\")\n      }\n    },\n    early_translations_other: {\n      id: \"early_translations_other\",\n      title: \"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)'\")\n      }\n    },\n    early_translations_apocryphal: {\n      id: \"early_translations_apocryphal\",\n      title: \"Early translations of apocryphal works  first phase (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\" `litperiod` = 'Early translations of apocryphal works  first phase (4th cent.)'\")))\n      }\n    },\n    translations_gnostic: {\n      id: \"translations_gnostic\",\n      title: \"Translation and (eventual) re-elaboration of a Gnostic corpus (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a Gnostic corpus (3rd-4th cent.)' \")))\n      }\n    },\n    translations_manichaean: {\n      id: \"translations_manichaean\",\n      title: \"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)' \")))\n      }\n    },\n    translations_patristic: {\n      id: \"translations_patristic\",\n      title: \"Early translation of patristic works  first phase (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early translation of patristic works  first phase (3th-5th cent.)' \")))\n      }\n    },\n    pachomius: {\n      id: \"pachomius\",\n      title: \"Pachomius and the early Pachomian milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Pachomius and the early Pachomian milieu (4th-5th cent.)' \")))\n      }\n    },\n    shenoute: {\n      id: \"shenoute\",\n      title: \"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)' \")))\n      }\n    },\n    standard_translations: {\n      id: \"standard_translations\",\n      title: \"Standard translations of biblical works into Sahidic (5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Standard translations of biblical works into Sahidic (5th cent.)' \")))\n      }\n    },\n    translations_apocryphal_second: {\n      id: \"translations_apocryphal_second\",\n      title: \"Translations of apocryphal texts  second phase (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translations of apocryphal texts  second phase (4th-5th cent.)' \")))\n      }\n    },\n    translations_hagiographical: {\n      id: \"translations_hagiographical\",\n      title: \"Early translations of hagiographical works (4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early translations of hagiographical works (4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_homilies: {\n      id: \"classsical_translations_homilies\",\n      title: \"Classical translations - homilies (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations - homilies (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_historiae: {\n      id: \"classsical_translations_historiae\",\n      title: \"Classical translations  historiae monachorum (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  historiae monachorum (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_acts: {\n      id: \"classsical_translations_acts\",\n      title: \"Classical translations  acts of councils and Canones (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  acts of councils and Canones (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_monastic: {\n      id: \"classsical_translations_monastic\",\n      title: \"Classical translations  monastic works (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  monastic works (end of 4th-6th cent.)' \")))\n      }\n    },\n    post_chalcedonian: {\n      id: \"post_chalcedonian\",\n      title: \"Post-Chalcedonian opposition literature: the plerophories and other works (5th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Post-Chalcedonian opposition literature: the plerophories and other works (5th-6th cent.)' \")))\n      }\n    },\n    historiographic: {\n      id: \"historiographic\",\n      title: \"Historiographic Production (6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Historiographic Production (6th cent.)' \")))\n      }\n    },\n    orig_lit_formation: {\n      id: \"orig_lit_formation\",\n      title: \"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the earlier hagiographic cycles (6 cent.)' \")))\n      }\n    },\n    orig_lit_damian_hag: {\n      id: \"orig_lit_damian_hag\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies' \")))\n      }\n    },\n    orig_lit_damian_hom: {\n      id: \"orig_lit_damian_hom\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies' \")))\n      }\n    },\n    poetry: {\n      id: \"poetry\",\n      title: \"Poetic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Poetic production (7th-8th cent.)' \")))\n      }\n    },\n    orig_lit_hom: {\n      id: \"orig_lit_hom\",\n      title: \"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Homilies with apocryphal insertions (6th -8th cent.)' \")))\n      }\n    },\n    original_lit_early_islamic: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Literary production of the early Islamic period (7th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Literary production of the early Islamic period (7th cent.)' \")))\n      }\n    },\n    standard_translations_in_bohairic: {\n      id: \"standard_translations_in_bohairic\",\n      title: \"Standard translations of biblical works into Bohairic (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Standard translations of biblical works into Bohairic (7th-8th cent.)' \")))\n      }\n    },\n    original_lit_later_hag: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)' \")))\n      }\n    },\n    synaxarial: {\n      id: \"synaxarial\",\n      title: \"Synaxarial arrangement (9th-10th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Synaxarial arrangement (9th-10th cent.)' \")))\n      }\n    },\n    late_liturgical: {\n      id: \"late_liturgical\",\n      title: \"Late liturgical production (10th-14th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Late liturgical production (10th-14th cent.)' \")))\n      }\n    },\n  },\n  map: {\n    discovery_places: {\n      id: 'discovery_places',\n      title: 'Discovery places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'discovery' \")\n      }\n    },\n    storage_places: {\n      id: 'storage_places',\n      title: 'Storage places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n\n        \"q_encoded\": btoa(\" mp.type = 'storage' \")\n      }\n    },\n    production_places: {\n      id: 'production_places',\n      title: 'Production places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'production' \")\n      }\n    },\n    all_ms_places: {\n      id: 'all_ms_places',\n      title: 'All places connected to manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" 1 \")\n      }\n    },\n    bishoprics: {\n      id: 'bishoprics',\n      title: 'Bishoprics',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[paths__places.id]\": \"Id\",\n        \"fields[paths__places.name]\": \"Name\",\n        \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n        \"fields[paths__places.typology]\": \"Site typology\",\n        \"q_encoded\": btoa( '`paths__places`.`episcopalsee`=1 LIMIT 0, 100')\n      }\n    },\n    // multi_stratified: {\n    //   id: 'multi_stratified',\n    //   title: 'Multi stratified sites',\n    //   url: 'geodata?verb=search&geojson=true&type=encoded',\n    //   data: {\n    //     \"join\": \"JOIN `paths__places` ON `paths__geodata`.`table_link` = 'paths__places' AND `paths__geodata`.`id_link` = `paths__places`.`id` \" +\n    //     \"JOIN (SELECT `id_link`, count(id) as tot from `paths__m_placephase` GROUP BY `id_link` ORDER BY `tot` DESC LIMIT 0,10) as t ON `t`.`id_link` = `paths__geodata`.`id_link` \",\n    //     \"fields[paths__geodata.geometry]\": \"Geometry\",\n    //     \"fields[paths__places.id]\": \"Id\",\n    //     \"fields[paths__places.name]\": \"Name\",\n    //     \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n    //     \"fields[paths__places.typology]\": \"Site typology\",\n    //     \"q_encoded\": btoa( '1 ORDER BY `t`.`tot` DESC')\n    //   }\n    // }\n  }\n};\n","import axios from 'axios';\nimport SavedQueries from '../SavedQueries';\n\n\nlet baseUrl = 'https://db-dev.bradypus.net/api/paths/';\n\nif (window.location.hostname === 'localhost'){\n  baseUrl = 'http://db.localhost/api/paths/';\n}\n\nexport default class Database {\n\n  static getData(url, params, callback) {\n\n    url = baseUrl + url;\n\n    axios({\n      method: 'post',\n      url: url,\n      params: params,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      callback(res.data);\n    })\n    .catch( res => {\n      if(res instanceof Error) {\n        console.log(res.message);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  static getBaseUrl(){\n    return baseUrl;\n  }\n\n  static getUniqueVal(tb, fld, string, cb) {\n    this.getData('../v2/paths/' + tb, {\n      verb: 'getUniqueVal',\n      tb: tb.replace('paths__', ''),\n      fld: fld,\n      s: string\n    }, d => { cb(d); }, true);\n\n  }\n\n  static getSaved(grp, q, page, cb) {\n    if (typeof SavedQueries[grp][q] === 'undefined') {\n      cb({\n        status: 'error',\n        text: `No saved query found for id: ${grp}.${q}`\n      });\n      return;\n    } else {\n      SavedQueries[grp][q].data.page = page;\n      this.getData(SavedQueries[grp][q].url, SavedQueries[grp][q].data, d => {\n        cb(d, SavedQueries[grp][q].title);\n      });\n    }\n  }\n\n  static getSimple(tb, fld, val, strict, page, cb){\n    const data = {\n      verb: 'search',\n      type: 'advanced',\n      page: page,\n      'adv[a0][fld]': fld,\n      'adv[a0][operator]': strict ? '=' : 'LIKE',\n      'adv[a0][value]': val\n    };\n    this.getData(tb, data, d => { cb(d); }, true);\n  }\n\n  /**\n   * Executes an advanced query on the database\n   * @param  {String}   tb   Table to be queried, no prefix\n   * @param  {Object}   data Object of query data: {a:{f:'fieldname', v:'value', o: 'operator'}, a2:{f:'fieldname', v:'value', o: 'operator', c: 'connector'}}\n   * @param  {Integer}   page Page number\n   * @param  {Function} cb   Callback function\n   */\n  static getAdv(tb, data, page, cb) {\n    let d = {\n      verb: 'search',\n      type: 'advanced',\n      page: page\n    };\n    Object.entries(data).forEach(([k, v]) => {\n      d[`adv[${k}][fld]`] = v.f;\n      d[`adv[${k}][value]`] = v.v;\n      d[`adv[${k}][operator]`] = v.o;\n      d[`adv[${k}][connector]`] = v.c;\n    });\n\n    this.getData(tb, d, d => { cb(d); }, true);\n  }\n\n  static getStr(tb, string, page, cb) {\n    this.getData(tb, {\n      verb: 'search',\n      type: 'fast',\n      string: string,\n      page: page\n    }, d => { cb(d, 'Search [' + string + '] in ' + d.head.table_label); }, true);\n  }\n\n  static getByEncodedSql(tb, sql, page, cb) {\n      this.getData(tb, {\n        verb: 'search',\n        type: 'encoded',\n        'q_encoded': sql,\n        page: page\n      }, d => { cb(d); }, true);\n  }\n\n  static getAll(tb, page, cb) {\n    this.getData(tb, {\n      verb : 'search',\n      type: 'all',\n      page: page\n    }, d => { cb(d); });\n  }\n\n  static getOne(tb, id, cb) {\n    this.getData('../v2/paths', {\n      tb: tb,\n      verb : 'read',\n      id : id\n    }, d => { cb(d); });\n  }\n\n  static inspect(tb, cb) {\n    this.getData('../v2/paths' , {\n      tb: tb,\n      'verb':'inspect'\n    }, d => { cb(d); });\n  }\n\n  static getChart(id, cb) {\n    this.getData('../v2/paths/' + id, {\n      id: id,\n      'verb':'getChart'\n    }, d => { cb(d); });\n  }\n\n  static simplifyGeojson(gj) {\n    let newgj = {\n      type: \"FeatureCollection\",\n      features: [ ]\n    };\n    let currentId = false;\n\n    Object.entries(gj.features).forEach( ([key, value]) => {\n      if (!currentId || currentId !== value.properties.id){\n        newgj.features.push(value);\n        currentId = value.properties.id;\n      }\n      if (currentId === value.properties.id){\n        newgj.features[newgj.features.length-1].properties.toponym += '|'+value.properties.toponym;\n      }\n    });\n    return newgj;\n  }\n\n  static getPlaces(where, cb) {\n    let data = {\n      \"join\": \"JOIN paths__geodata as g ON g.table_link = 'paths__places' AND g.id_link = paths__places.id \"\n      + \" JOIN paths__m_toponyms as t ON t.table_link = 'paths__places' AND t.id_link = paths__places.id\",\n      \"fields[g.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[GROUP_CONCAT(t.toponym)]\": \"Toponyms\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa( ( where ? where.replace(/`(.*)`/gi, '`paths__places`.`$1`') : \" 1\" ))\n    };\n\n    this.getData(\n      'places?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb( d ) }\n    );\n  }\n\n  static getMsPlaces(ms_where, cb) {\n    const data = {\n      \"join\": \" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\" +\n              \" JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` \",\n      \"fields[paths__geodata.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[paths__m_msplaces.type]\": \"Place type\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa(\" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE \" + ms_where + \" )\")\n    };\n    this.getData(\n      'geodata?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb(d) }\n    );\n  }\n\n}\n","import React, { Component } from 'react';\nimport { NavLink, Navbar, Nav, NavItem, NavbarBrand, NavbarToggler, DropdownMenu, DropdownToggle, DropdownItem, Collapse, UncontrolledDropdown } from 'reactstrap';\nimport { Link, NavLink as RRNavLink } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\n\nclass FixedNavbar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false\n    };\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\nrender() {\n  // borderBottom: '1px solid #f4dcde'\n\n    return (\n          <div>\n            <Navbar color=\"dark\" dark expand=\"md\" className=\"fixed-top\">\n              <NavbarBrand to=\"/\" tag={Link}>PAThs</NavbarBrand>\n              <NavbarToggler onClick={this.toggle} />\n              <Collapse isOpen={this.state.isOpen} navbar>\n                <Nav navbar>\n                  <NavItem>\n                    <NavLink style={{ backgroundColor: '#cc545a', color: '#fff'}} to=\"/map\" tag={RRNavLink}>\n                      <FontAwesomeIcon icon=\"map\" /> Atlas\n                    </NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/places\" tag={RRNavLink}>Places</NavLink>\n                  </NavItem>\n\n                  <NavItem>\n                    <NavLink to=\"/manuscripts\" tag={RRNavLink}>Manuscripts</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/works\" tag={RRNavLink}>Works</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/authors\" tag={RRNavLink}>Authors</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/titles\" tag={RRNavLink}>Titles</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/colophons\" tag={RRNavLink}>Colophons</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/collections\" tag={RRNavLink}>Collections</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/cite\" tag={RRNavLink}>How to cite PAThs</NavLink>\n                  </NavItem>\n                </Nav>\n\n                <Nav className=\"ml-auto\" navbar>\n\n                  <UncontrolledDropdown nav inNavbar>\n                    <DropdownToggle nav caret>\n                      <FontAwesomeIcon icon=\"plus-circle\" /> Get more\n                    </DropdownToggle>\n                    <DropdownMenu right>\n                      <DropdownItem to=\"/charts\" tag={RRNavLink}>\n                          <FontAwesomeIcon icon=\"chart-bar\" /> Charts\n                      </DropdownItem>\n                      <DropdownItem target=\"_blank\" href={ Database.getBaseUrl() + \"places?verb=pelagios-void\"}>\n                          <FontAwesomeIcon icon=\"share-alt\" /> LOD: Pelagios VoID\n                      </DropdownItem>\n                      <DropdownItem target=\"_blank\" href={ Database.getBaseUrl() + \"places?verb=search&type=encoded&q_encoded=MSBMSU1JVCAwLCA1MDA=&fullRecords=true&format=turtle\"}>\n                          <FontAwesomeIcon icon=\"share-alt\" /> LOD: Places\n                      </DropdownItem>\n                    </DropdownMenu>\n                  </UncontrolledDropdown>\n                </Nav>\n              </Collapse>\n            </Navbar>\n          </div>\n    );\n  }\n}\n\nexport default FixedNavbar;\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport packageJson from '../../../package.json';\n\nimport Erc from './img/erc.jpg';\nimport Sapienza from './img/sapienza.jpg';\n\nexport default class Footer extends Component {\n\nrender() {\n\n    return (\n      <footer className=\"mt-5 bg-dark text-white p-3\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <p>Tracking Papyrus and Parchment Paths<br />\n              <span  className=\"lead\" style={{ color: '#ffab00'}}>An Archaeological Atlas of Coptic Literature</span><br />\n              <small>Literary Texts in their Geographical Context:<br />\n              Production, Copying, Usage, Dissemination and Preservation</small></p>\n            </div>\n            <div className=\"col text-right\">\n              <p>An <a href=\"https://erc.europa.eu/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"European Research Council\">ERC</a> funded project hosted at the <a href=\"https://www.uniroma1.it\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Sapienza University of Rome\">Sapienza University of Rome</a></p>\n              <p>Principal Investigator <a href=\"http://www.lettere.uniroma1.it/users/paola-buzi\" title=\"Paola Buzi\" target=\"_blank\" rel=\"noopener noreferrer\">Paola Buzi</a> [<a href=\"mailto:paola.buzi@uniroma1.it\" title=\"Email to Paola Buzi\">paola.buzi(at)uniroma1.it</a>]</p>\n              <p>\n                <a href=\"http://paths.uniroma1.it/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"PAThs web site\">\n                  paths.uniroma1.it\n                </a>\n              </p>\n            </div>\n          </div>\n\n          <Row className=\"my-3\">\n            <Col xs={{ size: 6 }} md={{size: 3, offset: 3}}><img src={Sapienza} alt=\"Sapienza Universit di Roma\" className=\"img-fluid\" /></Col>\n            <Col xs={{ size: 6 }} md={{size: 3}}><img src={Erc} alt=\"European Research Council\" className=\"img-fluid\" /></Col>\n          </Row>\n\n          <div className=\"text-center\">\n            <p className=\"\">\n              Copyright  PAThs team, Sapienza Universit di Roma.<br />\n              <small>\n                <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/4.0/\">\n                  Use, sharing and remixing permitted under terms of the<br />\n                  Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License<br />\n                  <img alt=\"Creative Commons License\" style={{borderWidth:0}}\n                        src=\"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\" />\n                </a>\n              </small>\n            </p>\n\n            <p>Version { packageJson.version }</p>\n\n          </div>\n\n        </div>\n      </footer>\n    );\n  }\n}\n","import React from \"react\";\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport './MainTemplate.css';\n\nexport default class MainTemplate extends React.Component{\n\n  render(){\n    return (\n      <div>\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n            { this.props.children }\n          </main>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Ripple from './Ripple-1.7s-200px.svg';\n\n\n\nexport default class Loading extends Component {\n\n  render() {\n    const style = {\n      width: this.props.width ? this.props.width : '100px'\n    };\n    return (\n      <span>\n        <img src={Ripple} style={style} alt=\"Loading...\"/>\n        {\n          this.props.children !== '' ? this.props.children : <span>Loading...</span>\n        }\n      </span>\n    );\n  }\n}\n","import React from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nexport default class Disclaimer extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: true,\n    }\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render(){\n    return (\n      <Modal isOpen={this.state.modal} toggle={this.toggle.bind(this)} className={this.props.className}>\n        <ModalHeader>Disclaimer</ModalHeader>\n        <ModalBody>\n          <p>The Archaeological Atlas of Coptic Literature is still in progress, therefore many features might not be yet available or work as expected. Our datasets are growing on a daily basis, and will continue to grow in the next years.</p>\n          <p>Please, feel free to report any malfunction, breakdown, omission, error you might encounter during your work session, by writing to <a href=\"mailto:paola.buzi@uniroma1.it\">paola.buzi@uniroma1.it</a>.</p>\n          <p><strong>The Atlas is meant to become a tool useful for the whole scholarly community, and its completeness and correctness also depends on the contribution of users.</strong></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" block onClick={this.toggle.bind(this)}>I do understand</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown/with-html';\n\nimport imgPathsLogo from './paths-logo.png';\n\nimport intro from './IntroMd.md';\nimport missionstatement from './MissionStatementMd.md';\nimport lod from './lod.md';\nimport Loading from '../Loading/Loading';\nimport Disclaimer from './Disclaimer';\n\n\nexport default class Home extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      text: {},\n      titles: [\n        {\n          id    : 'intro',\n          title : \"Introduction\",\n          path  : intro\n        },\n        {\n          id    : 'missionstatement',\n          title : \"Mission Statement\",\n          path  : missionstatement\n        },\n        {\n          id    : 'lod',\n          title : \"Linked Open Data\",\n          path  : lod\n        }\n      ]\n    }\n  }\n  componentWillMount() {\n    this.state.titles.map( e => {\n      fetch(e.path).then((response) => response.text()).then((text) => {\n        const o = this.state.text;\n        o[e.id] = text;\n        this.setState({ text: o });\n      });\n      return true;\n    });\n\n  }\n\n  showContentAndToc(){\n    if (this.state.text === {} ){\n      return (<Loading />);\n    } else {\n      return (\n        <div>\n          <div className=\"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow\">\n            <h4>Table of contents</h4>\n            <ul className=\"p-0 m-0\">\n              {this.state.titles.map( (k, i) =>{\n                return (\n                  <li key={i} style={{ listStyle: 'none' }}>\n                    <a href={ '#' + k.id }>{ k.title }</a>\n                  </li>\n                );\n\n              })}\n            </ul>\n          </div>\n          { this.state.titles.map( (k, i) =>{\n            return (\n              <div key={i} className=\"text-justify\">\n                <h1 id={ k.id } className=\"mt-5\">{ k.title }</h1>\n                <ReactMarkdown source={this.state.text[k.id]} escapeHtml={false} />\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n      <div>\n        <Disclaimer />\n        <div className=\"jumbotron\">\n          <div className=\"container text-center\">\n            <img className=\"img-fluid shadow-lg\" src={ imgPathsLogo } alt=\"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation\" />\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"my-5 px-5\">\n            { this.showContentAndToc() }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Badge } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n\n    if (!this.props.places || !this.props.places.features) {\n      return null;\n    }\n\n    return (\n      <div className=\"mt-3\">\n        <h5>Found { this.props.places.features.length } places</h5>\n        <ol>\n          {\n            this.props.places.features.map( (e, i)=>{\n              return <li key={i} className=\"border-bottom border-info mb-3 pb-1\">\n                <strong>{ e.properties.name }</strong>\n                <br /><small><span className=\"coptic\">{e.properties.copticname}</span></small>\n                {\n                  ['greekname', 'egyptianname'].map( (ee, ii)=>{\n                    if (e[ee]){\n                      return (<div key={ii}><small>{e.properties[ee]}</small></div>);\n                    } else {\n                      return null;\n                    }\n                  } )\n                }\n\n                {\n                  e.properties['count(mp.id_link)'] ?  <div className=\"text-right\"><Badge color=\"secondary\">{ e.properties['count(mp.id_link)'] } manuscripts related</Badge></div>  : null\n                }\n\n                <div><small><FontAwesomeIcon icon=\"id-badge\" /> <Link to={ '/places/' + e.properties.id }>paths.places.{e.properties.id}</Link></small></div>\n              </li>\n            } )\n          }\n        </ol>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nexport default class UrlFilterButton extends Component {\n\nrender() {\n\n    if (this.props.urlFilter) {\n      return (\n        <div>\n          <Link to=\"/map\" className=\"btn btn-warning btn-block mt-1 mb-3\">\n            <FontAwesomeIcon icon=\"filter\" /> Filter active. Click to disable\n          </Link>\n        </div>\n\n      );\n    } else {\n      return null;\n    }\n\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class TabLegend extends Component {\n\n  render() {\n\n    return (\n      <div>\n\n        <h5>Marker symbols</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(255, 0, 0, .9)'}}></span>\n            Discovery\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(0, 0, 255, .9)'}}></span>\n            Production\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: 'rgba(0, 255, 0, .9)'}}></span>\n            Storage\n          </li>\n        </ul>\n\n        <hr />\n        <h5>Basemaps</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://pelagios.org/maps/greco-roman/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Pelagios</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://dare.ht.lu.se/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Digital Atlas of Ancient World (DARE)</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://awmc.unc.edu/wordpress/\" target=\"_blank\" rel=\"noopener noreferrer\">Ancient World Mapping Center</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"https://www.openstreetmap.org\" target=\"_blank\" rel=\"noopener noreferrer\">Open Street Map</a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class TabSavedQueries extends Component {\n\n  render() {\n    return (\n      <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n        { Object.values(SavedQueries.map).map( (e, i) => {\n          return <li key={i}  className=\"mb-3\">\n            <Link to={ '/map/saved/' + e.id }>\n              <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n            </Link>\n          </li>\n        }) }\n      </ul>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { InputGroupAddon, Button } from 'reactstrap';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n    if (!this.props.show){\n      return null;\n    }\n    return (\n      <InputGroupAddon addonType=\"append\">\n        <Button color=\"danger\" onClick = { this.props.onClick }>\n          <span aria-hidden=\"true\">&times;</span>\n        </Button>\n      </InputGroupAddon>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, LayersControl, GeoJSON } from 'react-leaflet';\nimport { InputGroup, InputGroupAddon, Input } from 'reactstrap';\nimport qs from 'qs';\nimport hash from 'object-hash';\nimport { Sidebar, Tab } from 'react-leaflet-sidebarv2';\nimport L from 'leaflet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { GoogleLayer } from 'react-leaflet-google';\n\n\nimport Header from \"../mainLayout/Header\"\nimport ListPlaces from './ListPlaces';\nimport UrlFilterButton from './UrlFilterButton';\nimport TabLegend from './TabLegend';\nimport TabSavedQueries from './TabSavedQueries';\nimport ClearButton from './ClearButton';\nimport Loading from '../Loading/Loading';\n\nimport Database from '../Services/Database/Database';\n\nimport './PathsMap.css';\n\nconst { BaseLayer } = LayersControl\n\nconst googleKey = \"AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o\";\nexport default class PathsMap extends Component {\n\n  constructor(props) {\n\n    super(props);\n    this.state = {\n      places: null,\n      shownPlaces: null,\n      urlFilter: false,\n      sidebarCollapsed: false,\n      selected: 'home',\n      manualFilter: ''\n    };\n    this.placesLayerRef = React.createRef();\n    this.mapRef = React.createRef();\n  }\n\n  onSidebarClose() {\n    this.setState({\n      sidebarCollapsed: true\n    });\n  }\n\n  onSidebarOpen(id) {\n    this.setState({\n      sidebarCollapsed: false,\n      selected: id,\n    })\n  }\n\n\n  pointToLayer(t, i) {\n    return new L.CircleMarker(i, {\n      radius: 5,\n      weight: 1,\n      color: \"#000\",\n      opacity: 0.9,\n      fillColor: (t.properties.type === 'discovery' ? '#ff0000' : t.properties.type === 'storage' ? '#00ff00' : '#0000ff'),\n      fillOpacity: 0.5\n    })\n  }\n\n  onEachFeature(feature, layer){\n    const base = window.location.pathname.replace(/\\/map(.*)/, '');\n    layer.bindPopup(\n      '<strong>' + feature.properties.name + '</strong>' +\n       (feature.properties.copticname ? '<br><span class=\"coptic\">' + feature.properties.copticname + '</span>': '') +\n       '<br>' +\n       '<a href=\"' + base + '/places/' + feature.properties.id + '\">paths/places/' + feature.properties.id +'</a>'\n    );\n    layer.on('mouseover', function() { layer.openPopup(); });\n  }\n\n  filterPlaces(e) {\n    const str =  e.target.value;\n    let fgj = {};\n    if (str === ''){\n      fgj = this.state.places;\n    } else {\n      fgj = {\n        \"type\": \"FeatureCollection\",\n        \"features\": []\n      };\n      for (const val of Object.values(this.state.places.features)) {\n        if (Object.values(val.properties).join('|').toLowerCase().includes(str.toLowerCase())){\n          fgj.features.push(val);\n        }\n      }\n    }\n\n    // this.placesLayerRef.current.leafletElement.clearLayers();\n    // this.placesLayerRef.current.leafletElement.addData(fgj);\n    this.setState({\n      manualFilter: str,\n      shownPlaces: fgj\n    });\n    this.fitMapToBounds();\n  }\n\n  clearFiltered(){\n    this.setState({\n      manualFilter: '',\n      shownPlaces: this.state.places\n    });\n    this.fitMapToBounds();\n  }\n\n  fitMapToBounds(){\n    let bounds = [ [19.700194, 16.570227], [35.4737, 32.869317] ];\n    if (this.placesLayerRef && this.placesLayerRef.current.props.data.features.length > 1){\n      bounds = this.placesLayerRef.current.leafletElement.getBounds();\n\n      if(bounds._northEast.lat === bounds._southWest.lat && bounds._northEast.lng === bounds._southWest.lng){\n        bounds.pad();\n      }\n    }\n\n    this.mapRef.current.leafletElement.fitBounds(bounds);\n\n  }\n\n\n  fetchData(savedQ, locationSearch){\n    if (savedQ) {\n      Database.getSaved('map', savedQ, null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n          urlFilter: true\n        });\n        this.fitMapToBounds()\n      });\n    } else if (locationSearch) {\n      let qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true})\n      if (qstring.tb === 'manuscripts') {\n        Database.getMsPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else if (qstring.tb === 'places') {\n        if (!qstring.where.includes('LIMIT')){\n          qstring.where += ' LIMIT 0, 2000';\n        }\n        Database.getPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else {\n        return false;\n      }\n\n    } else {\n      Database.getPlaces(null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n        });\n        this.fitMapToBounds();\n      });\n    }\n  }\n\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        places: null,\n        urlFilter: null\n      });\n      this.fetchData(nextProps.match.params.data, null);\n    }\n  }\n\n\n  componentDidMount(){\n    this.fetchData(this.props.match.params.data, this.props.location.search);\n  }\n\n  showGeoJson(){\n    if (!this.state.shownPlaces){\n      return <div style={{ textAlign: 'center', zIndex: 999, marginTop: '5rem'}}>\n          <Loading>Loading map data...</Loading>\n        </div>\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"maxHeight\">\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n\n          <Sidebar id=\"sidebar\" collapsed={this.state.sidebarCollapsed} selected={this.state.selected}\n                   onOpen={this.onSidebarOpen.bind(this)} onClose={this.onSidebarClose.bind(this)}\n                   closeIcon={<FontAwesomeIcon icon=\"caret-left\" />}>\n            <Tab id=\"home\" header=\"Home\" icon={<FontAwesomeIcon icon=\"home\" />}>\n\n              <div className=\"sidebarSearch\">\n                <InputGroup className=\"my-2\">\n                  <InputGroupAddon addonType=\"prepend\">\n                    Search:\n                  </InputGroupAddon>\n                  <Input type=\"search\" value={this.state.manualFilter} onChange={this.filterPlaces.bind(this)} placeholder=\"start typing to filter places...\" />\n                    <ClearButton show={this.state.manualFilter} onClick={ this.clearFiltered.bind(this) } />\n                </InputGroup>\n              </div>\n\n              <div className=\"mt-2\">\n                <UrlFilterButton urlFilter={ this.state.urlFilter } filter={ this.state.filter }/>\n                <ListPlaces places={ this.state.shownPlaces } />\n              </div>\n            </Tab>\n\n            <Tab id=\"savedQueries\" header=\"Saved queries\" icon={<FontAwesomeIcon icon=\"save\" />}>\n              <div className=\"mt-5\">\n                <TabSavedQueries />\n              </div>\n            </Tab>\n\n            <Tab id=\"legend\" header=\"Legend\" icon={<FontAwesomeIcon icon=\"info\" />} anchor=\"bottom\">\n              <div className=\"mt-5\">\n                <TabLegend />\n              </div>\n            </Tab>\n          </Sidebar>\n\n          { !this.state.shownPlaces && <div style={{ position: 'absolute', top: '5rem', textAlign: 'center', zIndex: 999, width: '100%'}}>\n                <Loading>Loading map data...</Loading>\n              </div> }\n\n          <Map className=\"sidebar-map maxHeight\" zoomControl={true} ref={this.mapRef}>\n            <LayersControl position=\"topright\">\n              <BaseLayer name=\"Imperium (Pelagios)\">\n                <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"Imperium (DARE)\">\n                <TileLayer url=\"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"AWMC\" checked={true}>\n                <TileLayer url=\"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name='Google Maps Roads'>\n                 <GoogleLayer googlekey={googleKey}  maptype='ROADMAP'/>\n              </BaseLayer>\n\n              <BaseLayer name='Google Satellite'>\n               <GoogleLayer googlekey={googleKey}  maptype='SATELLITE'/>\n              </BaseLayer>\n              <BaseLayer name=\"OpenStreetMap\">\n                <TileLayer url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              { this.state.shownPlaces && <GeoJSON\n                ref={this.placesLayerRef}\n                key={ hash(this.state.shownPlaces) }\n                data={this.state.shownPlaces}\n                pointToLayer={this.pointToLayer.bind(this)}\n                onEachFeature={this.onEachFeature.bind(this) } /> }\n            </LayersControl>\n\n          </Map>\n        </main>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardTitle, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Link } from 'react-router-dom';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class SavedQueriesList extends Component {\n\n  render(){\n    const tblabel = this.props.tblabel;\n    const tb = this.props.tb;\n\n    return (\n      <div>\n        <Card className=\"mt-5 mb-5\" color=\"light\">\n          <div className=\"text-right\">\n            <button type=\"button\" className=\"close mr-2 mt-2\" aria-label=\"Close\" onClick={this.props.closeFn}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n        <CardBody>\n          <CardTitle>Saved queries for {tblabel}</CardTitle>\n            <ListGroup>\n              { Object.values(SavedQueries[tb]).map( (e, i) => {\n                return <ListGroupItem key={i}  className=\"mb-3\" tag={Link} to={ `/search/${tb}/saved?q=${e.id}`} color=\"secondary\">\n                    <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n                </ListGroupItem>\n              }) }\n            </ListGroup>\n        </CardBody>\n      </Card>\n      </div>\n    );\n  }\n}\n","/*jshint esversion: 6 */\n\n\nexport default {\n    \"coptic\": [\n      \"authors.copticname\",\n      \"titles.text\",\n      \"colophons.text\"\n    ],\n    \"greek\": [\n      \"authors.greekname\"\n    ],\n    \"hidden\": [\n      \"manuscripts.creator\",\n      \"collections.creator\",\n      \"collections.cmclname\",\n      \"works.id\",\n      \"works.creator\",\n      \"works.shelfmarks\",\n      \"works.period\",\n      \"works.problems\",\n      \"titles.creator\",\n      \"colophons.creator\",\n      \"authors.id\",\n      \"authors.creator\",\n      \"authors.cmclname\",\n      \"editors.cmclname\",\n      \"places.creator\",\n      \"places.hasplans\",\n      \"places.hasphotos\",\n      \"persons.id\",\n      \"persons.creator\",\n      \"biblio.creator\",\n      \"biblio.editors\",\n      \"m_quires.id\"\n    ],\n    \"id_fld\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"name\",\n      \"persons\": \"name\"\n    },\n    \"searchDefault\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"paths__m_toponyms:toponym\",\n      \"persons\": \"name\"\n    },\n    \"preview\": {\n      \"manuscripts\":  [ \"id\", \"cmclid\", \"tm\", \"ldab\", \"bookform\", \"writingsupport\" ],\n      \"collections\":  [ \"id\", \"fullname\", \"cmclname\", \"country\", \"town\", \"institution\", \"name\", \"notes\" ],\n      \"works\":        [ \"id\", \"cmcl\", \"title\", \"cpg\" ],\n      \"titles\":       [ \"cc\", \"type\", \"workcc\", \"msid\" ],\n      \"colophons\":    [ \"id\", \"msid\", \"dialect\", \"chronofrom\", \"chronoto\", \"datingcriteria\" ],\n      \"authors\":      [ \"name\", \"title\", \"copticname\", \"greekname\", \"cmclname\" ],\n      \"places\":       [ \"id\", \"name\", \"tm\", \"pleiades\", \"region\", \"area\", \"episcopalsee\" ],\n      \"persons\":      [ \"id\", \"name\", \"type\", \"profession\", \"patronymic\" ]\n    },\n    \"label\": {\n      \"manuscripts\": \"Manuscripts\",\n      \"collections\": \"Collections\",\n      \"works\": \"Works\",\n      \"titles\": \"Titles\",\n      \"colophons\": \"Colophons\",\n      \"authors\": \"Authors\",\n      \"places\": \"Places\",\n      \"persons\": \"Persons attested in colophons\"\n    },\n\n    \"fld_whitelist\": [\n        \"paths__places:id\",\n        \"paths__places:name\",\n        \"paths__places:tm\",\n        \"paths__places:pleiades\",\n        \"paths__places:region\",\n        \"paths__places:area\",\n        \"paths__places:meris\",\n        \"paths__places:nomos\",\n        \"paths__places:province\",\n        \"paths__places:episcopalsee\",\n        \"paths__places:typology\",\n        \"paths__places:description\",\n        \"paths__places:hasmonastery\",\n        \"paths__places:isnomoscapital\",\n        \"paths__m_toponyms:toponym\",\n        \"paths__m_placephase:fperiod\",\n        \"paths__m_placephase:ftypology\",\n\n        \"paths__works:id\",\n        \"paths__works:cmcl\",\n        \"paths__works:title\",\n        \"paths__works:cpg\",\n        \"paths__works:cant\",\n        \"paths__works:cavt\",\n        \"paths__works:bho\",\n        \"paths__works:bhg\",\n        \"paths__works:bhl\",\n        \"paths__works:cae\",\n        \"paths__works:litperiod\",\n        \"paths__m_wkauthors:type\",\n        \"paths__m_wkauthors:author\",\n\n        \"paths__authors:id\",\n        \"paths__authors:name\",\n        \"paths__authors:copticname\",\n        \"paths__authors:greekname\",\n        \"paths__authors:viaf\",\n        \"paths__authors:title\",\n\n        \"paths__titles:id\",\n        \"paths__titles:cc\",\n        \"paths__titles:workcc\",\n        \"paths__titles:msid\",\n        \"paths__titles:type\",\n\n        \"paths__colophons:id\",\n        \"paths__colophons:msid\",\n        \"paths__colophons:chronofrom\",\n        \"paths__colophons:chronoto\",\n        \"paths__colophons:dialect\",\n        \"paths__colophons:greektext\",\n        \"paths__colophons:writingaxis\",\n        \"paths__colophons:cryptography\",\n        \"paths__colophons:minusculecopitc\",\n        \"paths__colophons:minusculegreek\",\n        \"paths__colophons:text\",\n        \"paths__colophons:translation\",\n\n        \"paths__collections:id\",\n        \"paths__collections:fullname\",\n        \"paths__collections:country\",\n        \"paths__collections:town\",\n        \"paths__collections:institution\",\n        \"paths__collections:name\",\n\n        \"paths__manuscripts:id\",\n        \"paths__m_shelfmarks:collection\",\n        \"paths__m_shelfmarks:shelfmark\",\n        \"paths__manuscripts:cmclid\",\n        \"paths__manuscripts:tm\",\n        \"paths__manuscripts:ldab\",\n        \"paths__manuscripts:lcbm\",\n        \"paths__manuscripts:alias\",\n        \"paths__manuscripts:bookform\",\n        \"paths__manuscripts:writingsupport\",\n        \"paths__manuscripts:issinglefrag\",\n        \"paths__manuscripts:dialect\",\n        \"paths__manuscripts:chronofrom\",\n        \"paths__manuscripts:chronoto\",\n        \"paths__m_msplaces:place\",\n        \"paths__m_msplaces:type\",\n        \"paths__manuscripts:datingsource\",\n        \"paths__manuscripts:leaftotextant\",\n        \"paths__manuscripts:quiresextant\",\n        \"paths__manuscripts:columns\",\n        \"paths__manuscripts:linespercolumn\",\n        \"paths__manuscripts:charsperline\",\n        \"paths__manuscripts:quiresig\",\n        \"paths__manuscripts:quiretype\",\n        \"paths__manuscripts:quireposition\",\n        \"paths__manuscripts:pagination\",\n        \"paths__manuscripts:pagtype\",\n        \"paths__manuscripts:pagposition\",\n        \"paths__manuscripts:foliation\",\n        \"paths__manuscripts:foltype\",\n        \"paths__manuscripts:folposition\",\n        \"paths__manuscripts:handstot\",\n        \"paths__manuscripts:lectionalsigns\",\n        \"paths__manuscripts:structuralsigns\",\n        \"paths__manuscripts:abbreviations\",\n        \"paths__manuscripts:ruling\",\n        \"paths__manuscripts:rulingtype\",\n        \"paths__manuscripts:rulingtool\",\n        \"paths__manuscripts:pricking\",\n        \"paths__manuscripts:leaftabs\",\n        \"paths__manuscripts:kolleseis\",\n        \"paths__manuscripts:bindings\",\n        \"paths__manuscripts:sewings\",\n        \"paths__manuscripts:sewingtype\",\n        \"paths__manuscripts:covers\",\n        \"paths__manuscripts:palimpsest\",\n        \"paths__manuscripts:decortype\",\n        \"paths__manuscripts:decorsubj\",\n        \"paths__m_hands:handno\",\n        \"paths__m_hands:modulartypology\",\n        \"paths__m_hands:writingaxis\",\n        \"paths__m_hands:thickandthin\",\n      ]\n};\n","import React, { Component } from 'react';\nimport { Jumbotron, Navbar, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueriesList from './SavedQueriesList';\nimport SavedQueries from '../Services/SavedQueries';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nclass SubHead extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSaved: false\n    };\n  }\n\n  toggleSaved(e){\n    e.preventDefault();\n    this.setState({\n      showSaved: !this.state.showSaved\n    });\n  }\n\n  render(){\n    const tblabel = this.props.tblabel ? this.props.tblabel : Cfg.label[this.props.tb];\n    const tb = this.props.tb;\n    const text = this.props.text ? <span className=\"subText\">{this.props.text}</span> : false;\n\n    let menuItems = [\n      {\n        to: '/search/' + tb + '/all',\n        icon: 'list-ul',\n        text: 'Show all'\n      },\n      {\n        to: '/search/' + tb ,\n        icon: 'search',\n        text: 'Search'\n      },\n      {\n        to: '/search/' + tb + '/adv',\n        icon: 'search-plus',\n        text: 'Advanced search'\n      }\n    ];\n\n    return (\n      <div>\n        <Jumbotron className=\"p-4\">\n\n        <div className=\"container\">\n          <h2>{text}</h2>\n          <Navbar color=\"light\" light expand=\"xs\" className=\"ml-auto\">\n            <NavbarBrand>\n              <h3><small>{ tblabel }</small></h3>\n            </NavbarBrand>\n            <Nav className=\"ml-auto\" navbar>\n              {\n                menuItems.map( (e, k) => {\n                  return (\n                    <NavItem key={k}>\n                      <NavLink to={e.to} tag={Link}>\n                        <FontAwesomeIcon icon={e.icon} /> <span className=\"d-none d-md-inline\">{e.text}</span>\n                      </NavLink>\n                    </NavItem>\n                  );\n                })\n              }\n              { SavedQueries[tb] && (<NavItem><NavLink onClick={this.toggleSaved.bind(this)} to=\"#\" tag={Link}><FontAwesomeIcon icon=\"save\" /><span className=\"d-none d-md-inline\"> Saved queries</span></NavLink></NavItem>)}\n            </Nav>\n          </Navbar>\n\n          {this.state.showSaved && <SavedQueriesList  tb={tb} tblabel={tblabel} closeFn={this.toggleSaved.bind(this)}/>}\n        </div>\n      </Jumbotron>\n      </div>\n    );\n  }\n}\n\nexport default SubHead;\n","import React, { Component } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass SqlModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <span>\n        <Button color=\"danger\" size=\"sm\" onClick={this.toggle}><FontAwesomeIcon icon=\"code\" /></Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Executed SQL</ModalHeader>\n          <ModalBody>\n            <pre style={{ height: '200px', whiteSpace: 'pre-wrap' }}>{this.props.sql}</pre>  \n          </ModalBody>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default SqlModal;\n","import React, { Component } from 'react';\nimport qs from 'qs';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport SqlModal from '../SqlModal/SqlModal';\n\n\nfunction build_object(path, queryString, tot_rows, curr_page = 1)\n{\n\n  const rpp = 30;\n\n  let tot_pages = Math.ceil(tot_rows / rpp);\n  let result = [];\n\n  curr_page = parseInt(curr_page, 10);\n\n  let qString = qs.parse(queryString, {ignoreQueryPrefix: true});\n\n  if (curr_page - 2 > 0 ) {\n    qString.page = 1;\n    result.push({\n      to :  path + '?' + qs.stringify(qString),\n      text : 1\n    });\n  }\n\n  if (curr_page - 3 > 0 ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n\n  // -1 page\n  if (curr_page - 1 > 0 ) {\n    qString.page = (curr_page - 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  // current page\n  qString.page = curr_page;\n  result.push({\n    to : path + '?' + qs.stringify(qString),\n    active : true,\n    text : curr_page\n  });\n\n  // +1 page\n  if (curr_page + 1 < tot_pages ) {\n    qString.page = (curr_page + 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n    // +3 page\n  if (curr_page + 2 < tot_pages ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n  if (curr_page !== tot_pages ) {\n    qString.page = (tot_pages);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  return result;\n}\n\nclass PaginateResult extends Component {\n\n  render() {\n\n    const result = build_object(\n      this.props.path,\n      this.props.search,\n      this.props.totalRows,\n      this.props.page\n    );\n\n    return (\n      <Pagination>\n        <PaginationItem>\n          <PaginationLink>Pages: </PaginationLink>\n        </PaginationItem>\n        { result.map( (r, i) => {\n          const props = {\n            disabled: r.disabled,\n            active: r.active\n          };\n         return <PaginationItem {...props} key={i}>\n           <PaginationLink tag={Link} to= { r.to }>\n              { r.text }\n           </PaginationLink>\n         </PaginationItem>\n        }) }\n\n      </Pagination>\n    );\n\n  }\n}\nclass PaginateResultSummary extends Component {\n\n  render() {\n\n    const curr_page =  this.props.page ? this.props.page : 1;\n    const start_at = curr_page * 30 - 30 + 1;\n    const up_to = (curr_page * 30) < this.props.totalRows ? curr_page * 30 : this.props.totalRows;\n\n    return (\n      <div className=\"mb-3\">\n        Showing records <span className=\"badge badge-primary\">\n        { start_at }   { up_to } </span> of <span className=\"badge badge-success\">\n        { this.props.totalRows }</span> records found\n        &nbsp;<SqlModal sql={this.props.query}/>\n      </div>\n    );\n\n  }\n}\n\nexport {PaginateResult, PaginateResultSummary};\n","import React, { Component } from 'react';\nimport { Row, Col, Table, Card, CardBody, CardHeader, ButtonGroup, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nclass ItemPreviewWrapper extends Component {\n\n  render() {\n    return (\n      <Row>{ this.props.children }</Row>\n    );\n  }\n}\n\nclass ItemPreview extends Component {\n\n  render() {\n\n    const el = this.props.record;\n    const flds = this.props.fields;\n    const tb = this.props.tb;\n\n    const preview_flds = this.props.previewFlds;\n    const id_field = this.props.idField;\n\n    return (\n      <Col sm=\"4\">\n      \t<Card className=\"mt-3\" outline color=\"dark\">\n          <CardHeader tag=\"h4\">{ el[id_field] }</CardHeader>\n          <CardBody id={ el.id }>\n\n            <Table hover size=\"sm\">\n              <tbody>\n                {\n                  preview_flds.map( (e, k) => {\n                    return <tr key={k}>\n                      <th>{ flds[e] }</th>\n                      <td>{ el[e] }</td>\n                    </tr>\n                  } )\n                }\n              </tbody>\n            </Table>\n\n            <div className=\"clearfix\">\n              <div className=\"btn-group float-right\" role=\"group\">\n                <ButtonGroup>\n                  <Button size=\"sm\" color=\"info\" tag={Link} to={ '/' + [tb, el.id].join('/') }>\n                    <FontAwesomeIcon icon=\"eye\" /> View\n                  </Button>\n                </ButtonGroup>\n              </div>\n            </div>\n\n          </CardBody>\n    \t  </Card>\n      </Col>\n    );\n  }\n}\n\nexport {ItemPreview, ItemPreviewWrapper};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass OpenInMap extends Component {\n\nrender() {\n\n  const tb = this.props.tb;\n\n  if (['manuscripts', 'places'].indexOf(tb) < 0){\n    return null;\n  }\n  return (\n    <div className=\"float-right mt-2\">\n      <Link to={'/map?tb=' + tb + '&where=' + encodeURI(this.props.where) } className=\"btn btn-warning\">\n        <FontAwesomeIcon icon=\"map-marker-alt\" /> View on Map\n      </Link>\n    </div>\n  );\n  }\n}\n\nexport default OpenInMap;\n","import React, { Component } from 'react';\nimport { Alert } from 'reactstrap';\nimport qs from 'qs';\nimport {withRouter} from 'react-router';\n\nimport Database from '../Services/Database/Database';\nimport {PaginateResult, PaginateResultSummary} from '../PaginateResult/PaginateResult';\nimport { ItemPreview, ItemPreviewWrapper } from './ItemPreview';\nimport OpenInMap from '../Manuscripts/OpenInMap';\nimport Loading from '../Loading/Loading';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\n\nclass Results extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: false\n    };\n  }\n\n  _fetchData(){\n    switch (this.props.type) {\n      case 'simple':\n        Database.getSimple(this.props.tb, this.props.fld, this.props.val, this.props.strict, this.props.page, d => {\n          this.setState({\n            result: d\n          });\n        });\n        break;\n\n        case 'adv':\n          Database.getAdv(this.props.tb, this.props.data, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'all':\n          Database.getAll(this.props.tb, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'saved':\n          Database.getSaved(this.props.tb, this.props.query, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'encoded':\n          Database.getByEncodedSql(this.props.tb, this.props.q, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        default:\n          console.log(`Unknown verb ${this.props.type}`);\n          return null;\n    }\n\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.page !== prevProps.page\n      || this.props.fld !== prevProps.fld\n      || this.props.val !== prevProps.val\n      || this.props.strict !== prevProps.strict\n      || this.props.query !== prevProps.query\n    ) {\n      this._fetchData();\n    }\n  }\n\n  componentDidMount(){\n    this._fetchData();\n  }\n\n  render() {\n    if (!this.state.result) {\n      return <div className=\"container\"><Loading /></div>;\n    }\n\n    if(this.state.result.type === 'error') {\n      return (\n        <div>\n          <div className=\"container\">\n            <Alert color=\"danger\" className=\"mt-5\">\n                <h4 className=\"alert-heading\">We are so sorry!</h4>\n                <p>Something went terribly wrong. Please report this error to <a href=\"https://github.com/paths-erc/atlas/issues\">our public repository</a> in order to get it fixes as soon as possible.</p>\n            </Alert>\n            <div>\n              <p>Please file the current URL:</p>\n\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ window.location.href }</Alert>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ decodeURIComponent(window.location.href) }</Alert>\n              <p>and the following error message</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.text}\n                </pre>\n              </Alert>\n              <p>Full error trace</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.trace}\n                </pre>\n              </Alert>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    if(this.state.result.head.total_rows === 0) {\n      return (\n        <div>\n\n            <div className=\"container\">\n              <Alert color=\"warning\" className=\"mt-5\">\n                  <h4 className=\"alert-heading\">Ooops!</h4>\n                  No result found. Please reformulate the query.\n              </Alert>\n            </div>\n        </div>\n      )\n    }\n\n    return (\n    \t<div>\n\n        <div className=\"container\">\n\n          <div className=\"clearfix\">\n\n            <OpenInMap\n                tb={this.state.result.head.stripped_table}\n                where={this.state.result.head.query_where}\n                type={this.props.match.params.type}\n                search={ qs.parse(this.props.location.search, {ignoreQueryPrefix: true}) }\n                />\n\n            <PaginateResultSummary\n              totalRows={this.state.result.head.total_rows}\n              page={this.state.result.head.page}\n              query={this.state.result.head.query_arrived}\n              />\n\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n\n\n          <ItemPreviewWrapper>\n          {\n             this.state.result.records.map( (e, i) => {\n              return <ItemPreview\n                  idField = { Cfg.id_fld[this.props.match.params.table] }\n                  previewFlds = { Cfg.preview[this.props.match.params.table] }\n                  tb={this.props.match.params.table}\n                  record={e}\n                  fields={this.state.result.head.fields}\n                  key={i} />\n            })\n          }\n          </ItemPreviewWrapper>\n\n          <div className=\"pt-3\">\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n        </div>\n\n\t\t  </div>\n    );\n  }\n}\nexport default withRouter(Results);\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport SavedQueries from '../Services/SavedQueries';\n\n\n\n\nexport default class SearchSaved extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      saved: qstring.q,\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const old_qstring = qs.parse(prevProps.location.search, {ignoreQueryPrefix: true});\n    const new_qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    if(old_qstring.page !== new_qstring.page){\n      this.setState({\n        page: new_qstring.page\n      });\n    }\n    if(old_qstring.q !== new_qstring.q){\n      this.setState({\n        saved: new_qstring.q\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text={SavedQueries[this.props.match.params.table][this.state.saved].title} />\n      \t<Results\n            tb={this.props.match.params.table}\n            query={this.state.saved}\n            type=\"saved\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Select from 'react-select';\n\nimport Database from '../Services/Database/Database';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nexport default class FldSelect extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fields: false,\n      fld: false\n    };\n  }\n\n  _setState(fldList, selected){\n    fldList = Cfg.fld_whitelist.map(id => {\n      if(fldList[id]){\n        return { value: id, label: fldList[id].label };\n      } else {\n        return false;\n      }\n    }).filter( i => { return i; } );\n\n    let selObj;\n    if (selected){\n      selObj= fldList.filter( e => {\n        return e.value === selected;\n      })[0];\n    } else {\n      if (Cfg.searchDefault[this.props.tb]){\n        const v = Cfg.searchDefault[this.props.tb].includes('paths') ? Cfg.searchDefault[this.props.tb] : `paths__${this.props.tb}:${Cfg.searchDefault[this.props.tb]}`;\n\n        selObj = fldList.filter( e => {\n          return e.value === v;\n        })[0];\n      } else {\n        selObj = fldList[0];\n      }\n      this.props.onChange(selObj);\n    }\n\n    this.setState({\n      fields: fldList,\n      fld: selObj\n    });\n  }\n\n\n  componentDidMount(){\n    Database.inspect(this.props.tb, data => {\n      this._setState(data.fields, this.props.fld);\n    });\n  }\n\n  render() {\n    if (!this.state.fields){\n      return null;\n    }\n\n    return (\n        <Select\n          defaultValue={ this.state.fld }\n          options={ this.state.fields }\n          onChange={ this.props.onChange }\n          />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\n\nimport Database from '../Services/Database/Database';\n\n\n\nexport default class ValueInput extends Component {\n\n  constructor(props) {\n    super();\n\n    this.state = {\n      isLoading: false,\n      multiple: false,\n      options: []\n    }\n  }\n\n  _handleSearch = (string) => {\n    this.setState({isLoading: true});\n    const [tb, fld] = this.props.fld.split(':');\n    Database.getUniqueVal(tb, fld, string, d => {\n      this.setState({\n        options : d,\n        isLoading: false\n      })\n    });\n  }\n\n  render() {\n    if(!this.state.options){\n      return null;\n    }\n\n    return (\n      <div>\n        <AsyncTypeahead\n          {...this.state}\n          minLength={1}\n          placeholder=\"Add a value\"\n          onSearch={this._handleSearch}\n          onInputChange={this.props.onChange}\n          onChange={this.props.onChange}\n          defaultInputValue={this.props.val ? this.props.val : ''}\n          />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport { FormGroup, Input, Button, Col, Label } from 'reactstrap';\n\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\n\n\n\nexport default class CustomSearchForm extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fld: props.fld,\n      val: props.val,\n      strict: props.strict === true\n    }\n\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this._changeField = this._changeField.bind(this);\n    this._changeVal = this._changeVal.bind(this);\n    this._changeStrict = this._changeStrict.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props){\n      this.setState({\n        fld: this.props.fld,\n        val: this.props.val,\n        strict: this.props.strict ? true : false\n      });\n    }\n  }\n\n  _changeField(v){\n    this.setState({\n      fld: v.constructor === Object && v.value ? v.value : v\n    });\n  }\n  _changeVal(v){\n    this.setState({\n      val: v.constructor === Array ? v[0] : v\n    });\n  }\n  _changeStrict(e){\n    this.setState({\n      strict: e.target.checked\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (!this.state.val){\n      alert('Insert a value to continue');\n      return;\n    }\n    this.props.onSubmit(this.state.fld, this.state.val, this.state.strict);\n  }\n\n  render() {\n    return (\n      <div className=\"my-5\">\n        <form onSubmit={this.handleSubmit} className=\"form\">\n\n          <FormGroup row>\n\n            <Col sm={4}>\n              <FldSelect\n                  tb={ this.props.tb }\n                  fld={this.state.fld}\n                  onChange={ this._changeField }\n                  />\n            </Col>\n\n            <Col sm={5}>\n              <ValueInput\n                fld={ this.state.fld }\n                val={this.state.val}\n                onChange={this._changeVal}\n               />\n            </Col>\n\n            <Col sm={1}>\n              <Label check>\n                <Input\n                    name=\"strict\"\n                    type=\"checkbox\"\n                    checked={this.state.strict }\n                    onChange={this._changeStrict}\n                  /> Strict\n              </Label>\n            </Col>\n\n            <Col sm={2}> <Button type=\"submit\" color=\"success\" block>Search!</Button> </Col>\n          </FormGroup>\n\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport CustomSearchForm from './CustomSearchForm';\nimport Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      fld: qstring.f,\n      val: qstring.v,\n      strict: (qstring.s && qstring.s !== 'false' && qstring.s !== 'undefined'),\n      page: qstring.page\n    };\n\n    this._onFormSubmit = this._onFormSubmit.bind(this);\n  }\n\n  _onFormSubmit(fld, val, strict){\n    const s = \"f=\" + encodeURIComponent(fld) +\n                  (strict ? \"&s=1\" : '')+\n                  \"&v=\" + encodeURIComponent(val);\n\n    this.setState({\n      fld: fld,\n      val: val,\n      strict: strict\n    });\n\n    this.props.history.push(`/search/${this.props.match.params.table}?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Simple search' />\n\n      \t<div className=\"mt-3 p-1 container\">\n          <CustomSearchForm\n              tb={ this.props.match.params.table }\n              onSubmit={this._onFormSubmit}\n              fld={this.state.fld}\n              val={this.state.val}\n              strict={this.state.strict}\n             />\n          <hr />\n  \t\t  </div>\n\n        { this.state.fld && this.state.val && <Results\n            tb={this.props.match.params.table}\n            type=\"simple\"\n            fld={this.state.fld}\n            val={this.state.val}\n            strict={this.state.strict}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class OperatorSelect extends Component {\n\n  render() {\n\n    const operators = [\n      {\n        'k': 'LIKE',\n        'v': 'Contains'\n      },\n      {\n        'k': '=',\n        'v': 'Is exactly'},\n      {\n        'k': 'NOT LIKE',\n        'v': 'Does not contain'},\n      {\n        'k': 'starts_with',\n        'v': 'Starts with'},\n      {\n        'k': 'ends_with',\n        'v': 'Ends with'},\n      {\n        'k': 'is_empty',\n        'v': 'Is empty'},\n      {\n        'k': 'is_not_empty',\n        'v': 'Is not empty'},\n      {\n        'k': '>',\n        'v': 'Is bigger than'},\n      {\n        'k': '<',\n        'v': 'Is smaller than'}\n    ];\n\n    return (\n      <div>\n        <Input type=\"select\" placeholder=\"select\" {...this.props}>\n          {operators.map( (f, i) => {\n            return (<option key={i} value={f.k}>{ f.v }</option>);\n          } ) }\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class ConnectorSelect extends Component {\n\n  render() {\n\n    return (\n      <div>\n        <Input type=\"select\" {...this.props}>\n          <option value=\"AND\">AND</option>\n          <option value=\"OR\">OR</option>\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col, Button } from 'reactstrap';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\nimport OperatorSelect from './OperatorSelect';\nimport ConnectorSelect from './ConnectorSelect';\n\n\nexport default class AdvSearchForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n\n    let rows;\n    let show = false;\n\n    if(Object.getOwnPropertyNames(qstring).length === 0){\n      rows = {\n        'a': {\n          f: '',\n          o: 'LIKE',\n          v: ''\n        }\n      };\n    } else {\n      rows = qstring;\n      show = true;\n    }\n\n    this.state = {\n      rows: rows,\n      showResults: show,\n      page: false\n    };\n\n    this._changeOperator = this._changeOperator.bind(this);\n    this._changeConnector = this._changeConnector.bind(this);\n    this._addRow = this._addRow.bind(this);\n    this._removeRow = this._removeRow.bind(this);\n\n  }\n\n\n  _removeRow(e){\n    let rows = this.state.rows;\n    const delKey = e.target.name;\n    delete rows[delKey];\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _addRow(){\n    let rows = this.state.rows;\n    const uid = 'a' + Math.random().toString(36).substr(2, 9);\n    rows[uid] = { f: '', o: 'LIKE', v: '', c: 'AND'}\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeField(index, val){\n    let rows = this.state.rows;\n    rows[index].f = val.constructor === Object && val.value ? val.value : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeVal(index, val){\n    let rows = this.state.rows;\n    rows[index].v = val.constructor === Array ? val[0] : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeOperator(e){\n    let rows = this.state.rows;\n    rows[e.target.name].o = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeConnector(e){\n    let rows = this.state.rows;\n    rows[e.target.name].c = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n    this.setState({\n      showResults: true\n    });\n    const s = qs.stringify(this.state.rows)\n    this.props.history.push(`/search/${this.props.match.params.table}/adv?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Advanced search' />\n\n        <div className=\"mt-3 p-1 container\">\n          <form onSubmit={this._handleSubmit.bind(this)} className=\"form\">\n            {\n              Object.entries(this.state.rows).map((e, i)=>{\n                const k = e[0];\n                const v = e[1];\n\n                return <div key={i} className=\"my-3\">\n                  <Row>\n                    <Col xs={1}>\n                      { i > 0 && <ConnectorSelect\n                          defaultValue={v.c}\n                          onChange={this._changeConnector}\n                          name={k}\n                        />}\n                    </Col>\n                    <Col xs={4}>\n                      <FldSelect\n                        tb={ this.props.match.params.table }\n                        fld={v.f}\n                        onChange={ this._changeField.bind(this, k) }\n                        />\n                    </Col>\n                    <Col xs={2}>\n                      <OperatorSelect\n                        defaultValue={v.o}\n                        name={k}\n                        onChange={ this._changeOperator }\n                        />\n                    </Col>\n                    <Col xs={3}>\n                      <ValueInput\n                        fld={ v.f }\n                        val={v.v}\n                        onChange={this._changeVal.bind(this, k)}\n                        />\n                    </Col>\n\n                    <Col xs={1}>\n                      { i+1 === Object.keys(this.state.rows).length && <Button type=\"button\" color=\"info\" block onClick={ this._addRow }>+</Button>}\n                    </Col>\n                    <Col xs={1}>\n                      { i > 0 && <Button type=\"button\" color=\"danger\" block name={k} onClick={ this._removeRow }>-</Button>}\n                    </Col>\n                  </Row>\n                </div>\n              })\n            }\n\n            <Button type=\"submit\" color=\"success\" block>Search!</Button>\n          </form>\n          <hr />\n        </div>\n\n        { this.state.showResults && <Results\n            tb={this.props.match.params.table}\n            type=\"adv\"\n            data={this.state.rows}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\n  import Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n\n  render() {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Custom query' />\n        <Results\n            tb={this.props.match.params.table}\n            type=\"encoded\"\n            q={qstring.q}\n            page={qstring.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\n\n\n\nexport default class SearchAll extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='View all' />\n\n      \t<Results\n            tb={this.props.match.params.table}\n            type=\"all\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","/* jshint esversion: 6 */\nimport React, { Component } from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nimport SubHead from '../SubHead/SubHead';\nimport Loading from '../Loading/Loading';\n\nimport PlacesMd from './places/places.md';\nimport PlacesImg from './places/places.jpg';\n\nimport ManuscriptsMd from './manuscripts/manuscripts.md';\nimport ManuscriptsImg from './manuscripts/manuscripts.jpg';\n\nimport WorksMd from './works/works.md';\nimport WorksImg from './works/works.jpg';\n\nimport TitlesMd from './titles/titles.md';\nimport TitlesImg from './titles/titles.jpg';\n\nimport AuthorsMd from './authors/authors.md';\nimport AuthorsImg from './authors/authors.jpg';\n\nimport ColophonsMd from './colophons/colophons.md';\nimport ColophonsImg from './colophons/colophons.jpg';\n\nimport CollectionsMd from './collections/collections.md';\nimport CollectionsImg from './collections/collections.jpg';\n\nexport default class PlacePage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tb: props.match.params.table,\n      label: false,\n      text: false,\n      img: false\n    };\n  }\n\n  _updateData(tb){\n    let md = false;\n    let img = false;\n    let label = false;\n\n    switch (tb) {\n      case 'places':\n        md = PlacesMd;\n        img = PlacesImg;\n        label = 'Places';\n        break;\n      case 'manuscripts':\n        md = ManuscriptsMd;\n        img = ManuscriptsImg;\n        label = 'Manuscripts';\n        break;\n      case 'works':\n        md = WorksMd;\n        img = WorksImg;\n        label = 'Works';\n        break;\n      case 'titles':\n        md = TitlesMd;\n        img = TitlesImg;\n        label = 'Titles';\n        break;\n      case 'authors':\n        md = AuthorsMd;\n        img = AuthorsImg;\n        label = 'Authors';\n        break;\n      case 'colophons':\n        md = ColophonsMd;\n        img = ColophonsImg;\n        label = 'Colophons';\n        break;\n      case 'collections':\n        md = CollectionsMd;\n        img = CollectionsImg;\n        label = 'Collections';\n        break;\n      default:\n        return false;\n    }\n\n    fetch(md).then((response) => response.text()).then((text) => {\n      this.setState({\n        tb: tb,\n        text: text,\n        img: img,\n        label: label\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.table !== prevProps.match.params.table) {\n      this._updateData(this.props.match.params.table);\n    }\n  }\n\n  componentDidMount() {\n    this._updateData(this.state.tb);\n  }\n\n\n  render() {\n    if(!this.state.text){\n      return <Loading />\n    }\n    let styles;\n\n    if(this.state.img){\n      styles = {\n        width: '100%',\n        height: '300px',\n        backgroundImage: 'url(' + this.state.img +')',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: '50% 50%'\n      };\n    }\n\n    return (\n      <div>\n        <div style={ styles }>\n\n        </div>\n\n        <SubHead tblabel={this.state.label} tb={this.state.tb} text=\"Introduction\" />\n\n        <div className=\"container\">\n          <div className=\"my-3 px-md-5 double-column text-justify\">\n            <ReactMarkdown source={this.state.text} escapeHtml={false} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport Matrix from 'quirematrix';\n\nclass QuireMatrixView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid : Math.random().toString(36).substr(2, 5)\n    };\n  }\n\n  componentDidMount(){\n    if(this.props.string !== null){\n      const m = new Matrix('canvas'  + this.state.uid);\n      m.parseString(this.props.string, 'secondHalf' + this.state.uid);\n    }\n  }\n\n  render() {\n    let height = false;\n    if(this.props.string !== null){\n      height = 100 + this.props.string.length / 3 * 20;\n    }\n    return (\n      <div className=\"mt-2 mb-4\">\n        <Row>\n          <Col id=\"firstHalf\">{ this.props.string }</Col>\n          <Col id={ 'secondHalf' + this.state.uid }></Col>\n        </Row>\n        { height && <canvas width=\"400\" height={ height } id={ 'canvas'+ this.state.uid }></canvas> }\n      </div>\n    );\n  }\n}\n\n\nexport default QuireMatrixView;\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport nl2br from 'react-nl2br';\n\n\n\nfunction relaxedSplit(str, offset, until = '.'){\n\n  if (!str || str.length <= offset){\n    return [str, false];\n  }\n  const str1 = str.substr(0, offset);\n\n  if (str1.substr(str1.length - 1) === until){\n    return [str1, false];\n  }\n\n  const start = str1 + '' + str.replace(str1, '').split(until)[0];\n  const cont = str.replace(start + '' + until, '');\n  return [\n    start + until,\n    cont === start ? false : cont\n  ];\n}\n\n\nexport default class PreviewText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n    const textParts = relaxedSplit(nl2br(this.props.text), 200, this.props.separator);\n    if (!textParts[1]){\n      return textParts[0];\n    }\n\n    return (\n      <span>{ textParts[0] }\n        <span style={{ display: this.state.display }}>{ textParts[1] }</span>\n        {this.state.display === 'none' ? '\\u2026' : ''}\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? '+' : '-'}\n        </Button>\n      </span>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport QuireMatrixView from './QuireMatrixView';\nimport PreviewText from './PreviewText';\n\n\n\nclass RecordCell extends Component {\n\n  render() {\n    const val = this.props.val;\n    const label = this.props.label;\n    if (!val || val === '') {\n      return null;\n    }\n    let className = [];\n    if(this.props.coptic){\n      className.push('coptic');\n    }\n    if(this.props.greek){\n      className.push('greek');\n    }\n    return (\n      <Row className={\"border-bottom mt-2 mb-2 pb-1\" + (val !== null ? '' : ' d-none') }>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{label}</label>\n        </Col>\n        <Col>\n          <div className={ className.join(' ') }>\n            {  ( label === 'Quire layout' ) ? (<QuireMatrixView string={val} />) : <PreviewText text={val} separator={this.props.coptic ? '\\u2027' : '.'} /> }\n          </div>\n        </Col>\n\t    </Row>\n    );\n  }\n}\n\nexport default RecordCell;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nfunction showLink(zotero, short){\n  if (zotero){\n    return (<a href={'https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/' + zotero} target=\"_blank\" rel=\"noopener noreferrer\">{short}</a>)\n  } else {\n    return short;\n  }\n}\n\nexport default class PluginBiblio extends Component {\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (\n                <span key={di} className=\"mr-3\">\n                  { showLink(d.zotero.val, d.short.val) }\n                  { d.details.val ? (', ' + d.details.val) : ''}\n                  { d.images.val ? (` [${d.images.val}];`) : ';'}\n                </span>\n              )\n            })\n          }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\n\n\nexport default class PluginShelfmarks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n  getHtmlModalBody(d){\n    return (\n      <dl>\n        <dt>Country:        </dt><dd>{d.country.val}</dd>\n        <dt>Town:           </dt><dd>{d.town.val}</dd>\n        <dt>Institution:    </dt><dd>{d.institution.val}</dd>\n        <dt>Collection name:</dt><dd>{d.name.val}</dd>\n        <dt>CMCL full name: </dt><dd>{d.fullsegnat.val}</dd>\n        <dt>URN:            </dt><dd><code>paths.shelfmarks.{d.id.val}</code></dd>\n      </dl>\n    );\n  }\n\n  toggle(d) {\n    if (d.id){\n      this.setState({\n        title: d.fullname.val,\n        body: this.getHtmlModalBody(d)\n      });\n    } else {\n\n    }\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            <ul>\n            {\n              this.props.data.data.map( (d, di) =>{\n                return (\n                  <li key={di}>\n                    <Button style={{margin: '0 0 4px 0', padding: 0}} color=\"link\" onClick={ () => this.toggle(d) }>\n                      {d.fullname.val}\n                    </Button>\n                    { d.shelfmark.val ? ', ' + d.shelfmark.val : ''}\n                    { d.pp.val ? ', ' + d.pp.val : ''}\n                  </li>\n                )\n              })\n            }\n          </ul>\n          </CardBody>\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>{ this.state.title }</ModalHeader>\n          <ModalBody>{ this.state.body }</ModalBody>\n        </Modal>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass ToggleText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n    return (\n      <span>\n        <span style={{ display: this.state.display }} className=\"ml-3 bg-light text-muted p-2\">{ this.props.text }</span>\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? <FontAwesomeIcon icon=\"info\" /> : '<'}\n        </Button>\n      </span>\n    )\n  }\n}\n\nclass TopoCell extends Component{\n\n  render(){\n    const tot = this.props.data.length;\n    return (<div>\n      {this.props.data.map( (d, di) =>{\n        return <span className={'mr-2 pr-2' + (tot === di+1 ? '' : ' border-right border-warning')} key={di}>\n          <span className={ d.language.val ? d.language.val.toLowerCase() : '' } title={d.notes.val}>\n            { d.toponym.val }{'\\u0020'}\n          </span>\n          { d.transcription.val ? <span className=\"text-muted ml-2\">[{d.transcription.val}]</span> : ''}\n          { d.notes.val ? <ToggleText text={ d.notes.val } /> : ''}\n        </span>\n      })}\n    </div>);\n  }\n};\n\nexport default class PluginToponyms extends Component {\n\n  parseNames(rows){\n    let obj = {};\n\n    rows.forEach( (d, di) =>{\n      if (!obj[d.language.val]){\n        obj[d.language.val] = []\n      }\n      obj[d.language.val].push(d);\n    });\n\n    return Object.keys(obj).map((l, i) => {\n      return <Row className={\"border-bottom mt-2 mb-2 pb-1\" } key={i}>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{l}</label>\n        </Col>\n        <Col>\n          <div>\n            <TopoCell data={obj[l]} />\n          </div>\n        </Col>\n\t    </Row>\n    });\n  }\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            { this.parseNames(this.props.data.data) }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nimport Cfg from '../Services/Cfg/Cfg';\nimport RecordCell from './RecordCell';\nimport PluginBiblio from './PluginBiblio';\nimport PluginShelfmarks from './PluginShelfmarks';\nimport PluginToponyms from './PluginToponyms';\n\n\n\nclass Plugin extends Component {\n\n  render() {\n\n    if (this.props.data.data.length < 1) {\n      return null;\n    }\n\n    if(this.props.data.metadata.tb_id === 'paths__m_biblio'){\n      return <PluginBiblio data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_shelfmarks'){\n      return <PluginShelfmarks data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_toponyms'){\n      return <PluginToponyms data={ this.props.data } />\n    }\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (<CardBody key={di} className=\"border border-info mb-2\">{\n                  Object.keys(d).map( (f, fi) => {\n                    if (Cfg.hidden.indexOf(this.props.data.metadata.tb_stripped + '.' + f) > -1){\n                      return null;\n                    }\n                    if (d[f].label){\n                      return <RecordCell val={ d[f].val_label ? d[f].val_label : d[f].val } label={ d[f].label } key={fi} />\n                    } else {\n                      return null;\n                    }\n                  })\n                }<hr /></CardBody>)\n            } )\n          }\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default Plugin;\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport Cfg from '../../Services/Cfg/Cfg';\nimport RecordCell from '../RecordCell';\nimport Plugin from '../Plugin';\n\n\nexport default class ViewOne extends Component {\n\n  render() {\n    const rec = this.props.rec;\n    let loaded_plg = [];\n\n    return (\n      <div>\n        {\n          Object.values(rec.core).map( (i, k) => {\n            if (Cfg.hidden.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1){\n              return null;\n            }\n            if(i.name === 'alias'){\n              loaded_plg.push('paths__m_shelfmarks');\n              return (\n                <div key={k}>\n                  <RecordCell\n                      coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                      greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                      label={ i.label }\n                      val={ i.val_label ? i.val_label : i.val }\n                      />\n                    <Row key={k} className=\"border-bottom mb-2 pb-2\">\n                      <Col>\n                        { rec.plugins['paths__m_shelfmarks'] && <Plugin data={rec.plugins['paths__m_shelfmarks']} />}\n                      </Col>\n                    </Row>\n                  </div>\n              )\n            }\n            return <RecordCell\n                coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                label={ i.label }\n                val={ i.val_label ? i.val_label : i.val }\n                key={k} />\n          })\n        }\n        {\n          Object.keys(rec.plugins).map( (t, k) => {\n            if(loaded_plg.includes(t)){\n              return null;\n            }\n            return  <Plugin key={k} data={rec.plugins[t]} />\n          })\n        }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport Cfg from '../../Services/Cfg/Cfg';\nimport RecordCell from '../RecordCell';\nimport Plugin from '../Plugin';\nimport Loading from '../../Loading/Loading';\nimport ManuscriptsBody from './ManuscriptsBody';\n\n\nexport default class ViewOne extends Component {\n\n  renderTemplate(rec) {\n\n    switch (rec.metadata.tb_stripped) {\n      case 'manuscripts':\n        return (<ManuscriptsBody rec={ rec } /> )\n      default:\n        return(\n          <div>\n            {\n              Object.values(rec.core).map( (i, k) => {\n                if (Cfg.hidden.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1){\n                  return null;\n                }\n                return <RecordCell\n                    coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    label={ i.label }\n                    val={ i.val_label ? i.val_label : i.val }\n                    key={k} />\n              })\n            }\n            {\n              Object.keys(rec.plugins).map( (t, k) => {\n                return  <Plugin key={k} data={rec.plugins[t]} />\n              })\n            }\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.props.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.props.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass RecordLinks extends Component {\n\n  makeHref(table, query){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      'search',\n      '/',\n      strippedTb,\n      '/',\n      'encoded',\n      '?q=' + window.btoa('SELECT * FROM ' + table + ' WHERE ' + query)\n    ];\n\n    return url.join('');\n  }\n\n  renderLinks(links){\n\n     return Object.entries(links).map(\n      ([tb, info], i) => {\n        if (info.tot < 1) {\n          return null;\n        }\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, info.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {info.tot + ' referenced item' + (info.tot > 1 ? 's': '') + ' in ' + info.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  renderBackLinks(backlinks){\n    if (typeof backlinks === 'undefined' || backlinks.length < 1){\n      return false;\n    }\n\n    return Object.entries(backlinks).map(\n      ([tb, arr], i) => {\n        if (arr.tot < 1){\n          return false;\n        }\n\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, arr.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {arr.tot + ' referenced item' + (arr.tot > 1 ? 's': '') + ' in ' + arr.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  render() {\n    if( (!this.props.links && !this.props.backlinks) || (this.props.links.length < 1 && this.props.backlinks.length < 1) ){\n      return null;\n    }\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            { this.renderLinks(this.props.links) }\n            { this.renderBackLinks(this.props.backlinks) }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default RecordLinks;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass UserLinks extends Component {\n\n  makeHref(table, id){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      strippedTb,\n      '/',\n      id\n    ];\n\n    return url.join('');\n  }\n\n  render() {\n    const links = this.props.links || [];\n\n    if (typeof links === 'undefined' || links.length < 1) {\n      return null;\n    }\n\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Manually entered links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            {\n              links.map(\n                (l, i) => {\n                  return <ListGroupItem key={i} tag={Link} to={ this.makeHref(l.tb_stripped, l.ref_id) }>\n                    <FontAwesomeIcon icon=\"external-link-square-alt\" />  { l.tb_label } #{ l.ref_label ? l.ref_label : l.ref_id }\n                  </ListGroupItem>\n                }\n              )\n            }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default UserLinks;\n","import React, { Component } from 'react';\n\nimport { CardBody } from 'reactstrap';\n\nexport default class Caption extends Component {\n  render(){\n    if (!this.props.text){\n      return null;\n    }\n    return (<CardBody className=\"text-secondary\" style={{ fontSize: '.9rem', fontStyle: 'italic'}}>{this.props.text}</CardBody>);\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardImg, Modal, ModalFooter, ModalBody } from 'reactstrap';\n\nimport Caption from './Caption';\n\n\nexport default class PreviewModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <div>\n        <Card className=\"mt-1\">\n          <CardImg top\n              width=\"100%\"\n              src={this.props.file}\n              onClick={this.toggle} />\n            <Caption text={this.props.description} />\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className} size=\"lg\">\n          <ModalBody>\n            <div>\n              <img style={ { width: \"100%\" } }\n                  src={this.props.file}\n                  alt={ this.props.description } />\n            </div>\n          </ModalBody>\n          <ModalFooter><Caption text={this.props.description} /></ModalFooter>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\n\nimport PreviewModal from './PreviewModal';\n\nexport default class MoreImages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: false,\n      buttonText: 'Show more images'\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      shown: !this.state.shown,\n      buttonText : this.state.buttonText === 'Show more images' ? 'Hide' : 'Show more'\n    });\n  }\n\n  render(){\n    if (!this.props.files || this.props.files.length < 1){\n      return null;\n    }\n    return (\n      <div>\n        <div style={{ display: this.state.shown ? 'block' : 'none' }}>\n        {\n          this.props.files.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        </div>\n        <div className=\"text-center mt-2\" >\n          <Button onClick={this.toggle} color=\"info\">{ this.state.buttonText}</Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport MoreImages from './MoreImages';\nimport PreviewModal from './PreviewModal';\n\n\nexport default class Files extends Component {\n\n  render() {\n    let files = this.props.files || [];\n\n    files = files.map( f => {\n      if (['jpg', 'png', 'gif', 'tif', 'tiff', 'jpeg'].includes(f.ext.toLowerCase())){\n        return f;\n      } else {\n        return false;\n      }\n    }).filter(e => { return e; });\n    const firstFiles = files.slice(0,3);\n    const otherFiles = files.slice(3);\n\n    if(firstFiles.length < 1){\n      return null;\n    }\n\n    return (\n\n      <div className=\"mt-3\">\n        <h5>Attached images</h5>\n        {\n          firstFiles.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        <MoreImages files={otherFiles} baseUrl={this.props.baseUrl} />\n      </div>\n\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, Marker } from 'react-leaflet';\n\nclass MiniMap extends Component {\n\n  render() {\n    if (this.props.geom.length < 1) {\n      return null;\n    }\n    const position = JSON.parse(this.props.geom[0].geojson).coordinates.reverse();\n\n    return (\n      <div style={{ height: '300px', width: '100%' }}>\n        <Map className=\"sidebar-map maxHeight\" center={ position } zoom={11} zoomControl={true}>\n          <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n\n          { this.props.geom.map( (e, i) => {\n            const coord = JSON.parse(e.geojson).coordinates.reverse();\n            return (<Marker position={ coord } key={ i } />)\n          } ) }\n\n        </Map>\n      </div>\n\n    );\n  }\n}\n\nexport default MiniMap;\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class CoptOT extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=\" + encodeURIComponent(this.props.data.val)} target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> The Digital Edition of the Coptic Old Testament\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TM extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/text/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Trismegistos texts\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TmPlaces extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/place/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Trismegistos places\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Ldab extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://www.trismegistos.org/ldab/text.php?quick=\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Leuven Database of Ancient books\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Pleiades extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"https://pleiades.stoa.org/places/\" + this.props.data.val } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> Pleiades\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class CopticColophons extends Component {\n\n  render() {\n    if ( this.props.tb !== 'colophons' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={`https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.${this.props.data.val}.xml` } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> View marked-up text on GitHub\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport CoptOT from './ExternalLinks/CoptOT';\nimport TM from './ExternalLinks/TM';\nimport TmPlaces from './ExternalLinks/TmPlaces';\nimport Ldab from './ExternalLinks/Ldab';\nimport Pleiades from './ExternalLinks/Pleiades';\nimport CopticColophons from './ExternalLinks/CopticColophons';\n\n\nexport default class ExternalLinks extends Component {\n\n  render() {\n    if ( !this.props.rec || this.props.rec.length < 1 ) {\n      return null;\n    }\n    return <div className=\"mt-3\">\n\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon={['fab', 'hubspot']} /> External links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            <CoptOT   data={this.props.rec.lcbm}  tb={this.props.tb}/>\n            <TM       data={this.props.rec.tm}    tb={this.props.tb} />\n            <Ldab     data={this.props.rec.ldab}  tb={this.props.tb} />\n\n            <TmPlaces data={this.props.rec.tm}    tb={this.props.tb} />\n            <Pleiades data={this.props.rec.pleiades} tb={this.props.tb} />\n            <CopticColophons data={this.props.rec.id} tb={this.props.tb} />\n\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport Database from '../Services/Database/Database';\nimport SubHead from '../SubHead/SubHead';\nimport Body from './Bodies/Body';\nimport RecordLinks from './RecordLinks';\nimport UserLinks from './UserLinks';\nimport Files from '../ViewFiles/Files';\nimport MiniMap from './MiniMap';\nimport Loading from '../Loading/Loading';\nimport ExternalLinks from './ExternalLinks';\n\nexport default class ViewOne extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rec: false,\n      copied: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        rec: null\n      });\n\n      Database.getOne(nextProps.match.params.table, nextProps.match.params.id, (d) =>{\n        this.setState({\n          rec: d\n        });\n      });\n    }\n  }\n\n  componentDidMount(){\n    Database.getOne(this.props.match.params.table, this.props.match.params.id, (d) =>{\n      this.setState({\n        rec: d\n      });\n    });\n  }\n\n  renderTemplate(rec) {\n\n    if (rec.type === 'error'){\n      return (<pre className=\"text-danger p-5\">{ rec.text }</pre>)\n    }\n\n    switch (rec.metadata.tb_stripped) {\n      // case 'titles':\n      //   return (<ViewOneTitle record={ rec } />);\n      default:\n        // No record found!\n        if (rec.core.length < 1){\n          return (\n            <div className=\"container\">\n              <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n                <Card className=\"mt-2\">\n                  <CardHeader>\n                    <h3 className=\"text-danger\">Record paths.{ rec.metadata.tb_stripped }.{ this.props.match.params.id }  not found!</h3>\n                  </CardHeader>\n                </Card>\n            </div>\n          )\n        }\n        return(\n          <div className=\"container\">\n\n            <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n\n            <Row className=\"mt-2\">\n              <Col sm=\"8\">\n                <Card>\n                  <CardHeader>\n                    <h3>\n                      paths.{ rec.metadata.tb_stripped }.{ rec.core.id.val }\n                    </h3>\n                      <div className=\"text-secondary d-flex justify-content-between\">\n                        <div>\n                          <FontAwesomeIcon icon=\"link\" /> http://paths.uniroma1.it/atlas/{ rec.metadata.tb_stripped }/{ rec.core.id.val }\n                        </div>\n                        <div>\n                          <CopyToClipboard\n                            text={ 'http://paths.uniroma1.it/atlas/' + rec.metadata.tb_stripped + '/' + rec.core.id.val }\n                            onCopy={() => { this.setState({copied: true}); window.setTimeout(()=>{ this.setState({copied: false}); }, 2000); } }\n                            >\n                            <Button size=\"sm\" color={ this.state.copied ? 'primary': 'secondary'}>\n                              <FontAwesomeIcon icon=\"clone\" /> <span className=\"d-none d-sm-inline\">\n                                {this.state.copied ? 'Copied!' : 'Copy to clipboard'}\n                              </span>\n                            </Button>\n                          </CopyToClipboard>\n                        </div>\n                      </div>\n                  </CardHeader>\n                  <CardBody>\n                    <Body rec={ rec } />\n                  </CardBody>\n                </Card>\n              </Col>\n              <Col sm=\"4\">\n                <MiniMap geom={ rec.geodata } />\n                <Files files={ rec.files } baseUrl={ Database.getBaseUrl() } />\n                <RecordLinks links={ rec.links } backlinks={ rec.backlinks } />\n                <UserLinks links={ rec.manualLinks } />\n                <ExternalLinks rec={ rec.core } tb={ rec.metadata.tb_stripped } />\n              </Col>\n            </Row>\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.state.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.state.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Bar} from 'react-chartjs-2';\n\nimport Loading from '../Loading/Loading';\n\n\nexport default class ChartView extends Component {\n\n  parseData(data){\n    let d = {\n      labels: [],\n      datasets: [{\n        label: 'My First dataset',\n        backgroundColor: 'rgba(195,31,42,0.8)',\n        borderColor: 'rgba(195,31,42,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(195,31,42,1)',\n        hoverBorderColor: 'rgba(195,31,42,0.8)',\n        data: []\n      }]\n    }\n\n    data.forEach(row => {\n      d.labels.push(row.series_name)\n      Object.keys(row).forEach(k =>{\n        if (k !== 'series_name'){\n          d.datasets[0].data.push(row[k]);\n          d.datasets[0].label = k;\n        }\n      });\n    });\n\n    return d;\n  }\n\n  render(){\n    if (this.props.loading){\n      return <Loading>Loading chart...</Loading>;\n    }\n    if (!this.props.data){\n      return null;\n    }\n\n    const data = this.parseData(this.props.data);\n    return (\n      <div className=\"my-5\">\n        <h2>{ this.props.name }</h2>\n          <Bar data={ data }  width={100}\n          height={350}\n          options={{\n            maintainAspectRatio: false\n          }}/>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, Card, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport Database from '../Services/Database/Database';\nimport ChartView from './ChartView';\nimport Loading from '../Loading/Loading';\n\nexport default class ChartList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: false,\n      data: false,\n      loading: false\n    };\n  }\n\n  loadChart(id){\n    this.setState({ loading: true });\n    Database.getChart(id, d => {\n      this.setState({ name: d.name });\n      this.setState({ data: d.data });\n      this.setState({ loading: false });\n    });\n\n  }\n\n  render(){\n    if (!this.props.charts){\n      return <Loading>Loading chart list...</Loading>;\n    }\n    if (this.props.charts.type === 'error'){\n      return (\n        <div className=\"text-danger mt-5 px-5\">Sorry! There was an error getting list of chart from the database...</div>\n      );\n    }\n    return (\n      <div className=\"mt-5\">\n        <ChartView name={this.state.name} data={this.state.data} loading={this.state.loading}/>\n        <Card>\n          <CardBody>\n            <ListGroup>\n              { this.props.charts.map( (c, i) => {\n                return (\n                  <ListGroupItem\n                    key={i}\n                    tag={Button}\n                    onClick={ () => this.loadChart(c.id) } className=\"mb-3\"\n\n                    color=\"secondary\">\n                    { c.name }\n                  </ListGroupItem>\n                );\n              } ) }\n            </ListGroup>\n          </CardBody>\n        </Card>\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\nimport ChartList from './ChartList';\n\n\nexport default class Charts extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartList: false\n    };\n  }\n\n  componentDidMount(prevProps, prevState){\n    Database.getChart('all', d => {\n      this.setState({ chartList: d });\n    });\n  }\n\n\n  render(){\n    return (\n      <div className=\"container mt-5\">\n        <h1><FontAwesomeIcon icon=\"chart-bar\" /> Available charts</h1>\n        <ChartList charts={this.state.chartList} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport './Cite.css';\n\n\nimport cite from './Cite.md';\nimport Loading from '../Loading/Loading';\n\n\nexport default class Cite extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      text: false\n    }\n  }\n  componentWillMount() {\n    fetch(cite).then((response) => response.text()).then((text) => {\n      this.setState({ text: text });\n    });\n  }\n\n  showContent(){\n    if (!this.state.text){\n      return (<Loading />);\n    } else {\n      return (\n        <div className=\"text-justify\">\n          <ReactMarkdown source={this.state.text} escapeHtml={false} />\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n      <div>\n        <div className=\"jumbotron\">\n          <div className=\"container text-center\">\n            <h1>How to cite the PAThs project as a whole and single database records</h1>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"my-5 px-5\">\n            { this.showContent() }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faIdBadge, faLink, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\n\nimport MainTemplate from './components/mainLayout/MainTemplate';\nimport Home from './components/Home/Home';\nimport PathsMap from './components/PathsMap/PathsMap';\n\nimport SearchSaved from './components/Search/SearchSaved';\nimport SearchSimple from './components/Search/SearchSimple';\nimport SearchAdv from './components/Search/SearchAdv';\nimport SearchEncoded from './components/Search/SearchEncoded';\nimport SearchAll from './components/Search/SearchAll';\n\nimport Intro from './components/Intro/Intro';\n\nimport ViewOne from './components/Record/ViewOne';\nimport Charts from './components/Charts/Charts';\nimport Cite from './components/Cite/Cite';\n\n\nlibrary.add(fas, fab, faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faGithub, faIdBadge, faLink, faMapMarkerAlt);\n\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter basename=\"/\">\n        <Switch>\n          <Route path='/map/:action?/:data?' component={PathsMap}/>\n          <MainTemplate>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={Intro} />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)/:id' component={ViewOne} />\n\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/saved' component={SearchSaved} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/all' component={SearchAll} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/adv' component={SearchAdv} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/encoded' component={SearchEncoded} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={SearchSimple} />\n\n            <Route exact path='/charts/:id?' component={Charts} />\n            <Route exact path='/cite' component={Cite} />\n\n          </MainTemplate>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\nunregister();\n"],"sourceRoot":""}