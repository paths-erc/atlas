(this["webpackJsonppaths-atlas"]=this["webpackJsonppaths-atlas"]||[]).push([[0],{216:function(t){t.exports=JSON.parse('{"name":"paths-atlas","version":"2.1.1","description":"The Archaeological Atlas of Coptic Literature by PAThs, an ERC Advanced funded project","bugs":"https://github.com/paths-erc/atlas/issues","email":"julian.bogdani@uniroma1.it","license":"Creative Commons Attribution 4.0 International License.","author":"Julian Bogdani <julian.bogdani@uniroma1.it> (http://www.lettere.uniroma1.it/users/julian-bogdani)","private":true,"homepage":"https://atlas.paths-erc.eu","dependencies":{"@fortawesome/fontawesome-free":"^5.15.4","@fortawesome/fontawesome-svg-core":"^1.2.36","@fortawesome/free-brands-svg-icons":"^5.15.4","@fortawesome/free-solid-svg-icons":"^5.15.4","@fortawesome/react-fontawesome":"^0.1.16","axios":"^0.24.0","chart.js":"^2.9.3","detect-browser":"^5.2.1","gh-pages":"^3.2.3","leaflet":"^1.7.1","object-hash":"^2.2.0","prop-types":"^15.7.2","qs":"^6.10.1","quirematrix":"^1.2.0","react":"^17.0.1","react-bootstrap-typeahead":"^5.2.1","react-chartjs-2":"^2.11.1","react-copy-to-clipboard":"^5.0.4","react-dom":"^17.0.1","react-fontawesome":"^1.7.1","react-ga":"^3.3.0","react-leaflet":"^2.7.0","react-leaflet-fullscreen":"^1.0.1","react-leaflet-google-v2":"^5.1.3","react-leaflet-sidebarv2":"^0.6.0","react-markdown":"^5.0.3","react-nl2br":"^1.0.2","react-router-dom":"^5.2.0","react-scripts":"^4.0.1","react-scroll-up":"^1.3.5","react-select":"^3.2.0","reactstrap":"^8.10.1"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test --env=jsdom","eject":"react-scripts eject"},"browserslist":[">0.2%","not dead","not ie <= 11","not op_mini all"]}')},250:function(t,e,a){},382:function(t,e){},403:function(t,e,a){},424:function(t,e,a){},428:function(t,e,a){},525:function(t,e,a){},526:function(t,e,a){"use strict";a.r(e);var s=a(0),r=a(1),i=a.n(r),c=a(30),n=a.n(c),o=a(21),l=a(24),p=a(62),h=a(44),d=a(100),u=a(215),b=a.n(u),j=a(18),m=a(25),g=a(528),f=a(529),O=a(530),x=a(531),_=a(532),v=a(533),y=a(534);function k(t){var e=Object(r.useState)(!1),a=Object(m.a)(e,2),i=a[0],c=a[1];return Object(s.jsx)("div",{children:Object(s.jsxs)(g.a,{color:"dark",dark:!0,expand:"md",className:"fixed-top",children:[Object(s.jsx)(f.a,{to:"/",tag:o.b,children:"PAThs"}),Object(s.jsx)(O.a,{onClick:function(){c(!i)}}),Object(s.jsxs)(x.a,{isOpen:i,navbar:!0,children:[Object(s.jsxs)(_.a,{navbar:!0,children:[Object(s.jsx)(v.a,{children:Object(s.jsxs)(y.a,{style:{backgroundColor:"#cc545a",color:"#fff"},to:"/map/saved/all_ms_places",tag:o.c,children:[Object(s.jsx)(j.a,{icon:"map"})," Atlas"]})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/places",tag:o.c,children:"Places"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/manuscripts",tag:o.c,children:"Manuscripts"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/works",tag:o.c,children:"Works"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/authors",tag:o.c,children:"Authors"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/titles",tag:o.c,children:"Titles"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/colophons",tag:o.c,children:"Colophons"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/persons",tag:o.c,children:"Persons"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/collections",tag:o.c,children:"Collections"})})]}),Object(s.jsxs)(_.a,{className:"ml-auto",navbar:!0,children:[Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{href:"http://paths.uniroma1.it",children:"Website"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/cite",tag:o.c,children:"How to cite PAThs"})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(y.a,{to:"/api",tag:o.c,children:"API"})})]})]})]})})}var w=a(535),N=a(536),C=a(216),B=a.p+"static/media/erc.6935dc7b.jpg",S=a.p+"static/media/sapienza.acddf492.jpg";function G(){return Object(s.jsx)("footer",{className:"mt-5 bg-dark text-white p-3",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("p",{children:["Tracking Papyrus and Parchment Paths",Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"lead",style:{color:"#ffab00"},children:"An Archaeological Atlas of Coptic Literature"}),Object(s.jsx)("br",{}),Object(s.jsxs)("small",{children:["Literary Texts in their Geographical Context:",Object(s.jsx)("br",{}),"Production, Copying, Usage, Dissemination and Preservation"]})]})}),Object(s.jsxs)("div",{className:"col text-right",children:[Object(s.jsxs)("p",{children:["An ",Object(s.jsx)("a",{href:"https://erc.europa.eu/",target:"_blank",rel:"noopener noreferrer",title:"European Research Council",children:"ERC"})," funded project hosted at the ",Object(s.jsx)("a",{href:"https://www.uniroma1.it",target:"_blank",rel:"noopener noreferrer",title:"Sapienza University of Rome",children:"Sapienza University of Rome"})]}),Object(s.jsxs)("p",{children:["Principal Investigator ",Object(s.jsx)("a",{href:"http://www.lettere.uniroma1.it/users/paola-buzi",title:"Paola Buzi",target:"_blank",rel:"noopener noreferrer",children:"Paola Buzi"})," [",Object(s.jsx)("a",{href:"mailto:paola.buzi@uniroma1.it",title:"Email to Paola Buzi",children:"paola.buzi(at)uniroma1.it"}),"]"]}),Object(s.jsx)("p",{children:Object(s.jsx)("a",{href:"http://paths.uniroma1.it/",target:"_blank",rel:"noopener noreferrer",title:"PAThs\u2019 web site",children:"paths.uniroma1.it"})})]})]}),Object(s.jsxs)(w.a,{className:"my-3",children:[Object(s.jsx)(N.a,{xs:{size:6},md:{size:3,offset:3},children:Object(s.jsx)("img",{src:S,alt:"Sapienza Universit\xe0 di Roma",className:"img-fluid"})}),Object(s.jsx)(N.a,{xs:{size:6},md:{size:3},children:Object(s.jsx)("img",{src:B,alt:"European Research Council",className:"img-fluid"})})]}),Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsxs)("p",{className:"",children:["Copyright \xa9 PAThs team, Sapienza Universit\xe0 di Roma.",Object(s.jsx)("br",{}),Object(s.jsx)("small",{children:Object(s.jsxs)("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:["Use, sharing and remixing permitted under terms of the",Object(s.jsx)("br",{}),"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License",Object(s.jsx)("br",{}),Object(s.jsx)("img",{alt:"Creative Commons License",style:{borderWidth:0},src:"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"})]})})]}),Object(s.jsxs)("p",{children:["Version ",C.version,Object(s.jsx)("br",{}),Object(s.jsx)("a",{href:"https://github.com/paths-erc/atlas/commits/master",target:"_blank",rel:"noopener noreferrer",children:"Changelog"})]})]})]})})}a(250);function A(t){return Object(s.jsxs)("div",{children:[Object(s.jsx)(k,{location:t.location}),Object(s.jsx)("main",{role:"main",className:"maxHeight",children:t.children}),Object(s.jsx)(G,{}),Object(s.jsx)(b.a,{showUnder:160,children:Object(s.jsx)(j.a,{icon:"arrow-circle-up",size:"3x"})})]})}var J=a.p+"static/media/paths-logo.98acd17b.png",Q=a(136),P=a.n(Q),X=a(217),M=a(218),L=a.n(M),T=a.p+"static/media/Ripple-1.7s-200px.ec9bf62a.svg";function D(t){var e={width:t.width?t.width:"100px"};return Object(s.jsxs)("span",{children:[Object(s.jsx)("img",{src:T,style:e,alt:"Loading..."}),""!==t.children?t.children:Object(s.jsx)("span",{children:"Loading..."})]})}function q(t){var e=Object(r.useState)(),a=Object(m.a)(e,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(X.a)(P.a.mark((function t(e){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.text()})).then((function(t){c(t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t.path)}),[t.path]),i?Object(s.jsx)(L.a,{source:i,escapeHtml:!1}):Object(s.jsx)(D,{})}var E=a.p+"static/media/IntroMd.ed4eaa26.md",z=a.p+"static/media/Latest.9196c954.md",R=a.p+"static/media/LogoMd.0bd1fd06.md",F=a.p+"static/media/MissionStatementMd.4db2c7d3.md",I=a.p+"static/media/lod.0d10f3ba.md",H=a.p+"static/media/license.19b9a123.md";function U(){var t=[{id:"latest",title:"PAThs scientific results recently achieved",path:z,style:{color:"#42429b",fontSize:".9rem",backgroundColor:"#f7f7ff",padding:"2rem"}},{id:"intro",title:"Introduction",path:E},{id:"logo",title:"Logo",path:R},{id:"missionstatement",title:"Mission Statement",path:F},{id:"lod",title:"Linked Open Data",path:I},{id:"license",title:"Copyright and license",path:H}];return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"jumbotron",children:Object(s.jsx)("div",{className:"container text-center",children:Object(s.jsx)("img",{className:"img-fluid shadow-lg",src:J,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"my-5 px-5",children:Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow",children:[Object(s.jsx)("h4",{children:"Table of contents"}),Object(s.jsx)("ul",{className:"p-0 m-0",children:t.map((function(t,e){return Object(s.jsx)("li",{style:{listStyle:"none"},children:Object(s.jsx)("a",{href:"#"+t.id,children:t.title})},e)}))})]}),t.map((function(t,e){return Object(s.jsxs)("div",{className:"text-justify",style:t.style,children:[Object(s.jsx)("h1",{id:t.id,className:"mt-5",children:t.title}),Object(s.jsx)(q,{path:t.path})]},e)}))]})})})]})}function W(t){var e=t.compatibility,a=t.browser;return Object(s.jsx)("div",{className:"container text-center",children:Object(s.jsxs)("div",{className:"my-5 py-5",children:[Object(s.jsx)("h1",{children:"Sorry, it seems that your browser is not supported!"}),Object(s.jsxs)("p",{children:["You are running ",Object(s.jsx)("code",{children:a.name}),", version ",Object(s.jsx)("code",{children:a.version})," on ",Object(s.jsx)("code",{children:a.os}),"."]}),Object(s.jsx)("p",{children:"Please upgrade your browser or use a modern one to work with PAThs Atlas."}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:"Compatibility list"}),Object(s.jsx)("pre",{children:Object.keys(e).map((function(t,a){return Object(s.jsx)("div",{children:1e4!==e[t]?t+" >= "+e[t]:""},a)}))})]}),Object(s.jsx)("div",{className:"border-top pt-5 mt-5",children:Object(s.jsx)("img",{className:"img-fluid shadow-lg",src:J,alt:"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation"})})]})})}var V=a(9),K=a(10),Z=a(13),$=a(12),Y=a(179),tt=a(542),et=a(560),at=a(543),st=a(23),rt=a.n(st),it=a(80),ct=a(537),nt=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return this.props.places&&this.props.places.features?Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsxs)("h5",{children:["Found ",this.props.places.features.length," places"]}),Object(s.jsx)("ol",{children:this.props.places.features.map((function(t,e){return Object(s.jsxs)("li",{className:"border-bottom border-info mb-3 pb-1",children:[Object(s.jsx)("strong",{children:t.properties.name}),Object(s.jsx)("br",{}),Object(s.jsx)("small",{children:Object(s.jsx)("span",{className:"coptic",children:t.properties.copticname})}),["greekname","egyptianname"].map((function(e,a){return t[e]?Object(s.jsx)("div",{children:Object(s.jsx)("small",{children:t.properties[e]})},a):null})),t.properties.tot_ms&&"0"!==t.properties.tot_ms?Object(s.jsx)("div",{className:"text-right",children:Object(s.jsxs)(ct.a,{color:"secondary",children:[t.properties.tot_ms," manuscripts related"]})}):null,Object(s.jsx)("div",{children:Object(s.jsxs)("small",{children:[Object(s.jsx)(j.a,{icon:"id-badge"})," ",Object(s.jsxs)(o.b,{to:"/places/"+t.properties.id,children:["paths.places.",t.properties.id]})]})})]},e)}))})]}):null}}]),a}(r.Component);function ot(t){return t.urlFilter?Object(s.jsx)("div",{children:Object(s.jsxs)(o.b,{to:"/map",className:"btn btn-warning btn-block mt-1 mb-3",children:[Object(s.jsx)(j.a,{icon:"filter"})," Filter active. Click to disable"]})}):null}var lt=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsx)("h5",{children:"Map legend"}),Object(s.jsxs)("ul",{style:{listStyle:"none",margin:0,padding:0},children:[Object(s.jsxs)("li",{className:"p-1 m-1",children:[Object(s.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#f64747"}}),"Production places of manuscripts"]}),Object(s.jsxs)("li",{className:"p-1 m-1",children:[Object(s.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#d47500"}}),"Storage places of manuscripts"]}),Object(s.jsxs)("li",{className:"p-1 m-1",children:[Object(s.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#aa8f00"}}),"Discovery places of manuscripts"]}),Object(s.jsxs)("li",{className:"p-1 m-1",children:[Object(s.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#b381b3"}}),"Discovery and production places of manuscripts"]}),Object(s.jsxs)("li",{className:"p-1 m-1",children:[Object(s.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#009fd4"}}),"Storage and production places of manuscripts"]}),Object(s.jsxs)("li",{className:"p-1 m-1",children:[Object(s.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#00aa55"}}),"Discovery and storage places of manuscripts"]}),Object(s.jsxs)("li",{className:"p-1 m-1",children:[Object(s.jsx)("span",{className:"legend-item rounded-circle",style:{background:"#939393"}}),"Discovery, storage and production places of manuscripts"]})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h5",{children:"Available basemaps"}),Object(s.jsxs)("ul",{style:{listStyle:"none",margin:0,padding:0},children:[Object(s.jsx)("li",{className:"p-1 m-1",children:Object(s.jsx)("a",{href:"http://pelagios.org/maps/greco-roman/",target:"_blank",rel:"noopener noreferrer",children:"Imperium, Pelagios"})}),Object(s.jsx)("li",{className:"p-1 m-1",children:Object(s.jsx)("a",{href:"https://dh.gu.se/dare/",target:"_blank",rel:"noopener noreferrer",children:"Imperium, Digital Atlas of Ancient World (DARE)"})}),Object(s.jsx)("li",{className:"p-1 m-1",children:Object(s.jsx)("a",{href:"http://awmc.unc.edu/wordpress/",target:"_blank",rel:"noopener noreferrer",children:"Ancient World Mapping Center"})}),Object(s.jsx)("li",{className:"p-1 m-1",children:Object(s.jsx)("a",{href:"https://www.openstreetmap.org",target:"_blank",rel:"noopener noreferrer",children:"Open Street Map"})})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h5",{children:"Other vector data"}),Object(s.jsxs)("p",{children:["Other vector themes are being made available by PAThs. These data are produced by other parallel projects and reworked by PAThs or newly created by sub-projects. Data, metadata and credits are freely published at ",Object(s.jsx)("a",{href:"https://docs.paths-erc.eu/gis/vectors",target:"_blank",rel:"noopener noreferrer",children:"https://docs.paths-erc.eu/gis/vectors"})]})]})}}]),a}(r.Component),pt=function(t){return"?verb=search&shortsql=".concat(t.join("~"))},ht={places:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:pt(["@places","?id|IN|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|discovery}"]),data:{}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:pt(["@places","?id|IN|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|storage}"]),data:{}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:pt(["@places","?id|IN|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|production}"]),data:{}},episcopal_sees:{id:"episcopal_sees",title:"Episcopal sees",url:pt(["@places","?episcopalsee|=|1"]),data:{}},ms_in_graves:{id:"ms_in_graves",title:"Places where manuscrips used in funerary contexts have been found",url:pt(["@places","?id|IN|(24, 27, 28, 74, 83, 178, 274)"]),data:{}},cemeteries:{id:"cemeteries",title:"Catacombs, cemeteries tombs or necropoleis",url:pt(["@places","?typology|=|catacomb, cemetery, necropolis||or|typology|=|tomb"]),data:{}},hermitages:{id:"hermitages",title:"Hermitage units (mainly referred to the area of Western Thebes)",url:pt(["@places","?typology|=|hermitage unit(s)"]),data:{}},mines:{id:"mines",title:"Mines or quarries",url:pt(["@places","?typology|=|mine, quarry"]),data:{}},monasteries:{id:"monasteries",title:"Monasteries",url:pt(["@places","?typology|=|monastery"]),data:{}},settlements:{id:"settlements",title:"Settlement",url:pt(["@places","?typology|=|settlement"]),data:{}}},titles:{final:{id:"final",title:"Final titles",url:pt(["@titles","?type|=|final"]),data:{}},section_headings:{id:"section_headings",title:"Section headings",url:pt(["@titles","?type|=|section heading"]),data:{}}},authors:{bishops:{id:"bishops",title:"Authors-(arch)bishops",url:pt(["@authors","?title|LIKE|%bishop"]),data:{}}},manuscripts:{palimpsest_ms:{id:"palimpsest_ms",title:"Palimpsests",url:pt(["@manuscripts","?palimpsest|=|1"]),data:{}},wandering_ms:{id:"wandering_ms",title:"\u201cWandering\u201d manuscripts (for instance manufactured in a place but stored in another palace, etc.)",url:pt(["@manuscripts","[paths__manuscripts.*,{@m_msplaces~[m_msplaces.place|count_distinct~?table_link|=|paths__manuscripts||and|id_link|=|^paths__manuscripts.id}:pl_ms","?pl_ms|<|1"]),data:{}},ms_has_bindings:{id:"ms_has_bindings",title:"Manuscripts with ancient bookbindings",url:pt(["@manuscripts","?bindings|=|1"]),data:{}},detached_bindings:{id:"detached_bindings",title:"Bookbindings detached from original manuscripts",url:pt(["@manuscripts","?isbookbinding|=|1"]),data:{}},horizontal_rolls:{id:"horizontal_rolls",title:"Horizontal rolls",url:pt(["@manuscripts","?bookform|=|horizontal roll"]),data:{}},vertical_rolls:{id:"vertical_rolls",title:"Vertical rolls",url:pt(["@manuscripts","?bookform|=|vertical roll"]),data:{}},minor_dialects:{id:"minor_dialects",title:"\u201cMinor\u201d dialects",url:pt(["@manuscripts","?dialect|not like|%F;%||and|dialect|not like|%S;%||and|dialect|not like|%B;%||and|dialect|not like|%F||and|dialect|not like|%B"]),data:{}},miniature_codices:{id:"miniature_codices",title:"Miniature codices",url:pt(["@manuscripts","?bookform|=|codex||and|leafw|>|0||and|leafw|<|101"]),data:{}},square_codices:{id:"square_codices",title:"Square format codices",url:pt(["@manuscripts","?bookform|=|codex||and|prophw|>|.84||and|prophw|<|1.16"]),data:{}},oblong_codices:{id:"oblong_codices",title:"Oblong format codices",url:pt(["@manuscripts","?bookform|=|codex||and|prophw|>|.84"]),data:{}},early_bohairic:{id:"early_bohairic",title:"Early Bohairic manuscripts (up to 7th cent.)",url:pt(["@manuscripts","?dialect|like|%B%||and|chronoto|<|701"]),data:{}},fayyumic:{id:"fayyumic",title:"Fayyumic dialect manuscripts",url:pt(["@manuscripts","?dialect|like|%F%"]),data:{}},ms_third_c:{id:"ms_third_c",title:"Manuscripts up to the 3rd Century",url:pt(["@manuscripts","?chronofrom|<|301"]),data:{}},ms_forth_c:{id:"ms_forth_c",title:"Manuscripts of the 4th Century",url:pt(["@manuscripts","?chronofrom|>|299||and|chronofrom|<|400"]),data:{}},ms_fifth_c:{id:"ms_fifth_c",title:"Manuscripts of the 5th Century",url:pt(["@manuscripts","?chronofrom|>|399||and|chronofrom|<|500"]),data:{}},ms_sixth_c:{id:"ms_sixth_c",title:"Manuscripts of the 6th Century",url:pt(["@manuscripts","?chronofrom|>|499||and|chronofrom|<|600"]),data:{}},ms_seventh_c:{id:"ms_seventh_c",title:"Manuscripts of the 7th Century",url:pt(["@manuscripts","?chronofrom|>|599||and|chronofrom|<|700"]),data:{}}},works:{translations_apocryphal:{id:"translations_apocryphal",title:"Early translations of apocryphal works \u2013 first phase (4th cent.)",url:pt(["@works","?litperiod|=|Early translations of apocryphal works \u2013 first phase (4th cent.)"]),data:{}},translations_gnostic:{id:"translations_gnostic",title:"Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)",url:pt(["@works","?litperiod|=|Translation and (eventual) re-elaboration of a \u201cGnostic\u201d corpus (3rd-4th cent.)"]),data:{}},translations_manichaean:{id:"translations_manichaean",title:"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)",url:pt(["@works","?litperiod|=|Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)"]),data:{}},translations_patristic:{id:"translations_patristic",title:"Early translation of patristic works \u2013 first phase (3th-5th cent.)",url:pt(["@works","?litperiod|=|Early translation of patristic works \u2013 first phase (3th-5th cent.)"]),data:{}},pachomius:{id:"pachomius",title:"Pachomius and the early Pachomian milieu (4th-5th cent.)",url:pt(["@works","?litperiod|=|Pachomius and the early Pachomian milieu (4th-5th cent.)"]),data:{}},shenoute:{id:"shenoute",title:"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)",url:pt(["@works","?litperiod|=|Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)"]),data:{}},translations_apocryphal_second:{id:"translations_apocryphal_second",title:"Translations of apocryphal texts \u2013 second phase (4th-5th cent.)",url:pt(["@works","?litperiod|=|Translations of apocryphal texts \u2013 second phase (4th-5th cent.)"]),data:{}},translations_hagiographical:{id:"translations_hagiographical",title:"Translations of hagiographical works \u2013 first phase (4th-6th cent.)",url:pt(["@works","?litperiod|=|Translations of hagiographical works \u2013 first phase (4th-6th cent.)"]),data:{}},classsical_translations_homilies:{id:"classsical_translations_homilies",title:"\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)",url:pt(["@works","?litperiod|=|\u201cClassical\u201d translations - homilies (end of 4th-6th cent.)"]),data:{}},classsical_translations_historiae:{id:"classsical_translations_historiae",title:"\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)",url:pt(["@works","?litperiod|=|\u201cClassical\u201d translations \u2013 historiae monachorum (end of 4th-6th cent.)"]),data:{}},classical_translations_acts:{id:"classical_translations_acts",title:"\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)",url:pt(["@works","?litperiod|=|\u201cClassical\u201d translations \u2013 acts of councils and Canones (end of 4th-6th cent.)"]),data:{}},classical_translations_monastic:{id:"classical_translations_monastic",title:"\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)",url:pt(["@works","?litperiod|=|\u201cClassical\u201d translations \u2013 monastic works (end of 4th-6th cent.)"]),data:{}},post_chalcedonian:{id:"post_chalcedonian",title:"Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)",url:pt(["@works","?litperiod|=|Post-Chalcedonian opposition literature: the \u201cplerophories\u201d and other works (5th-6th cent.)"]),data:{}},historiographic:{id:"historiographic",title:"Historiographic Production (6th cent.)",url:pt(["@works","?litperiod|=|Historiographic Production (6th cent.)"]),data:{}},orig_lit_formation:{id:"orig_lit_formation",title:"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)",url:pt(["@works","?litperiod|=|Original Literature: Formation of the earlier hagiographic cycles (6 cent.)"]),data:{}},orig_lit_damian_hag:{id:"orig_lit_damian_hag",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies",url:pt(["@works","?litperiod|=|Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies"]),data:{}},orig_lit_damian_hom:{id:"orig_lit_damian_hom",title:"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies",url:pt(["@works","?litperiod|=|Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies"]),data:{}},poetry:{id:"poetry",title:"Poetic production (7th-8th cent.)",url:pt(["@works","?litperiod|=|Poetic production (7th-8th cent.)"]),data:{}},orig_lit_hom:{id:"orig_lit_hom",title:"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)",url:pt(["@works","?litperiod|=|Original Literature: Homilies with apocryphal insertions (6th -8th cent.)"]),data:{}},original_lit_early_islamic:{id:"original_lit_early_islamic",title:"Original Literature: Literary production of the early Islamic period (7th cent.)",url:pt(["@works","?litperiod|=|Original Literature: Literary production of the early Islamic period (7th cent.)"]),data:{}},original_lit_later_hag:{id:"original_lit_later_hag",title:"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)",url:pt(["@works","?litperiod|=|Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)"]),data:{}},late_liturgical:{id:"late_liturgical",title:"Late liturgical production (10th-14th cent.)",url:pt(["@works","?litperiod|=|Late liturgical production (10th-14th cent.)"]),data:{}}},colophons:{cryptography:{id:"cryptography",title:"Colophons with cryptography",url:pt(["@colophons","?cryptography|=|1"]),data:{}},greek_minuscule:{id:"greek_minuscule",title:"Colophons with Greek minuscule",url:pt(["@colophons","?minusculegreek|=|1"]),data:{}},coptic_minuscule:{id:"coptic_minuscule",title:"Colophons with Coptic minuscule",url:pt(["@colophons","?minusminusculecopitcculegreek|=|1"]),data:{}}},persons:{donors:{id:"donors",title:"Donors",url:pt(["@persons","?type|=|donor"]),data:{}},copyists:{id:"copyists",title:"Copyists",url:pt(["@persons","?type|=|copyist"]),data:{}}},map:{discovery_places:{id:"discovery_places",title:"Discovery places of Coptic literary manuscripts",url:pt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","?places.id|in|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|discovery}","-500:0"])+"&geojson=1",data:{}},storage_places:{id:"storage_places",title:"Storage places of Coptic literary manuscripts",url:pt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","?places.id|in|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|storage}","-500:0"])+"&geojson=1",data:{}},production_places:{id:"production_places",title:"Production places of Coptic literary manuscripts",url:pt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","?places.id|in|{@m_msplaces~[place~?table_link|=|paths__manuscripts||and|type|=|production}","-500:0"])+"&geojson=1",data:{}},all_ms_places:{id:"all_ms_places",title:"All places connected to manuscripts",url:pt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology,{!@m_msplaces~[id|count~?place|=|^places.id}:tot_ms","-500:0","?tot_ms|>|^0"])+"&geojson=1",data:{}},bishoprics:{id:"bishoprics",title:"Bishoprics",url:pt(["@places","[geodata.geometry,places.id,places.name,places.pleiades,places.typology","?episcopalsee|=|1","-500:0"])+"&geojson=1",data:{}}}},dt=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return Object(s.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:Object.values(ht.map).map((function(t,e){return Object(s.jsx)("li",{className:"mb-3",children:Object(s.jsxs)(o.b,{to:"/map/saved/"+t.id,children:[Object(s.jsx)(j.a,{icon:"arrow-circle-right"})," ",t.title]})},e)}))})}}]),a}(r.Component),ut=a(538);function bt(t){return t.show?Object(s.jsx)(et.a,{addonType:"append",children:Object(s.jsx)(ut.a,{color:"danger",onClick:t.onClick,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}):null}var jt=a(561),mt=a(539),gt=a(540),ft=a(541);function Ot(t){var e=Object(r.useState)(!1),a=Object(m.a)(e,2),i=a[0],c=a[1];return Object(s.jsxs)(jt.a,{isOpen:!i,toggle:function(){return c(!i)},className:t.className,children:[Object(s.jsx)(mt.a,{children:"Error"}),Object(s.jsx)(gt.a,{children:t.children}),Object(s.jsx)(ft.a,{children:Object(s.jsx)(ut.a,{color:"success",block:!0,onClick:function(){return c(!i)},children:"Close"})})]})}var xt=a(122),_t=a(182),vt=a(178),yt=a(79),kt=a(47),wt=a.n(kt),Nt=a(16),Ct=a.n(Nt),Bt=a(219),St=a.n(Bt),Gt=function(t,e){var a="#0f4880";return t.properties.type&&(t.properties.type.includes("discovery")&&t.properties.type.includes("storage")&&t.properties.type.includes("production")?a="#939393":t.properties.type.includes("discovery")&&t.properties.type.includes("storage")?a="#00aa55":t.properties.type.includes("storage")&&t.properties.type.includes("production")?a="#009fd4":t.properties.type.includes("discovery")&&t.properties.type.includes("production")?a="#b381b3":t.properties.type.includes("discovery")?a="#aa8f00":t.properties.type.includes("storage")?a="#d47500":t.properties.type.includes("production")&&(a="#f64747")),new Ct.a.CircleMarker(e,{radius:5,weight:1,color:"#fff",opacity:.9,fillColor:a,fillOpacity:1})},At=function(t,e){var a=window.location.pathname.replace(/\/map(.*)/,"");e.bindPopup("<strong>".concat(t.properties.name,"</strong>")+(t.properties.copticname?'<br /><span class="coptic">'+t.properties.copticname+"</span>":"")+(t.properties.type?'<br /><span class="text-secondary">'.concat(t.properties.type,"</span>"):"")+'<br /><a href="'.concat(a,"/places/").concat(t.properties.id,'">paths/places/').concat(t.properties.id,"</a>")),e.on("mouseover",(function(){e.openPopup()}))};function Jt(t){return Object(s.jsx)(i.a.Fragment,{children:t.shownPlaces&&Object(s.jsx)(vt.a,{onAdd:t.onAdd,data:t.shownPlaces,pointToLayer:Gt,onEachFeature:At},St()(t.shownPlaces))})}var Qt=[{name:"Holy family in Egypt",url:"https://raw.githubusercontent.com/paths-erc/docs/master/raw-data/gis/sacra-famiglia-in-egitto/sacra-famiglia-in-egitto.geojson",info:"https://docs.paths-erc.eu/gis/vectors"},{name:"Coptic monasteries with coordinates",url:"https://raw.githubusercontent.com/paths-erc/docs/master/raw-data/gis/coptic-monasteries-with-coordinates/coptic-monasteries-with-coordinates.geojson",info:"https://docs.paths-erc.eu/gis/vectors"}],Pt=["paths.places.16-Elephantine/BGQ6JNX2-186","paths.places.16-Elephantine/BGQ6JNX2-77","paths.places.19-Luxor-complex/BGQ6JNX2-68","paths.places.19-Luxor-complex/BGQ6JNX2-69","paths.places.19-Luxor-complex/BGQ6JNX2-70","paths.places.19-Luxor-complex/BGQ6JNX2-71","paths.places.20-Koptos/BGQ6JNX2-64","paths.places.21-Dendera/BGQ6JNX2-63","paths.places.24-Panopolis/BGQ6JNX2-159","paths.places.24-Panopolis/BGQ6JNX2-161","paths.places.24-Panopolis/BGQ6JNX2-160","paths.places.28-Hermopolis-Magna/BGQ6JNX2-58","paths.places.28-Hermopolis-Magna/BGQ6JNX2-59","paths.places.36-Pelusium/BGQ6JNX2-189","paths.places.36-Pelusium/BGQ6JNX2-88","paths.places.36-Pelusium/BGQ6JNX2-89","paths.places.36-Pelusium/BGQ6JNX2-90","paths.places.38-Alexandria/BGQ6JNX2-1","paths.places.53-Antinoupolis/BGQ6JNX2-52","paths.places.53-Antinoupolis/BGQ6JNX2-53","paths.places.53-Antinoupolis/BGQ6JNX2-54","paths.places.53-Antinoupolis/BGQ6JNX2-55","paths.places.58-Esna/BGQ6JNX2-169","paths.places.58-Esna/BGQ6JNX2-76","paths.places.68-Pbou/paths.places.68","paths.places.70-Hermonthis/BGQ6JNX2-74","paths.places.72-Deir-Ambra-Adra/BGQ6JNX2-177","paths.places.73-Bawit/BGQ6JNX2-142","paths.places.73-Bawit/BGQ6JNX2-143","paths.places.75-Apa-Jeremiah/BGQ6JNX2-126","paths.places.75-Apa-Jeremiah/BGQ6JNX2-127","paths.places.74-Naqlun/BGQ6JNX2-131b","paths.places.74-Naqlun/BGQ6JNX2-131a","paths.places.74-Naqlun/BGQ6JNX2-131c","paths.places.78-Kellia/BGQ6JNX2-114","paths.places.78-Kellia/BGQ6JNX2-115","paths.places.78-Kellia/BGQ6JNX2-116","paths.places.78-Kellia/BGQ6JNX2-117","paths.places.87-Medinet-Habu/BGQ6JNX2-72","paths.places.87-Medinet-Habu/BGQ6JNX2-73","paths.places.88-Petemout/BGQ6JNX2-66","paths.places.88-Petemout/BGQ6JNX2-67","paths.places.89-Ostrakine/BGQ6JNX2-92","paths.places.89-Ostrakine/BGQ6JNX2-93","paths.places.92-Deir-el-Balaiza/BGQ6JNX2-148","paths.places.96-Philae/BGQ6JNX2-78","paths.places.96-Philae/BGQ6JNX2-79","paths.places.96-Philae/BGQ6JNX2-80","paths.places.97-Deir-el-Kubaniya/BGQ6JNX2-174","paths.places.101-Tebtynis/BGQ6JNX2-47","paths.places.106-Karanis/BGQ6JNX2-191","paths.places.104-Medinet-Madi/BGQ6JNX2-39","paths.places.104-Medinet-Madi/BGQ6JNX2-40","paths.places.104-Medinet-Madi/BGQ6JNX2-41","paths.places.104-Medinet-Madi/BGQ6JNX2-42","paths.places.104-Medinet-Madi/BGQ6JNX2-43","paths.places.104-Medinet-Madi/BGQ6JNX2-44","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-150","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-151","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-152a","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-152b","paths.places.112-Monastery-of-Shenoute-at-Atripe/BGQ6JNX2-154","paths.places.113-Red-Monastery-at-Atripe/paths.places.113","paths.places.114-Kellis/BGQ6JNX2-85","paths.places.115-Bagawat/BGQ6JNX2-86","paths.places.115-Bagawat/BGQ6JNX2-87","paths.places.116-Abu-Mina/BGQ6JNX2-16","paths.places.116-Abu-Mina/BGQ6JNX2-17","paths.places.116-Abu-Mina/BGQ6JNX2-18","paths.places.116-Abu-Mina/BGQ6JNX2-19","paths.places.116-Abu-Mina/BGQ6JNX2-20","paths.places.116-Abu-Mina/BGQ6JNX2-21a1","paths.places.116-Abu-Mina/BGQ6JNX2-21a2","paths.places.116-Abu-Mina/BGQ6JNX2-21a3","paths.places.116-Abu-Mina/BGQ6JNX2-21b","paths.places.116-Abu-Mina/BGQ6JNX2-21b1","paths.places.116-Abu-Mina/BGQ6JNX2-22","paths.places.116-Abu-Mina/BGQ6JNX2-23","paths.places.116-Abu-Mina/BGQ6JNX2-24","paths.places.116-Abu-Mina/BGQ6JNX2-25","paths.places.116-Abu-Mina/BGQ6JNX2-26","paths.places.116-Abu-Mina/BGQ6JNX2-27","paths.places.116-Abu-Mina/BGQ6JNX2-28a","paths.places.116-Abu-Mina/BGQ6JNX2-28b","paths.places.116-Abu-Mina/BGQ6JNX2-30","paths.places.116-Abu-Mina/BGQ6JNX2-31","paths.places.116-Abu-Mina/BGQ6JNX2-103","paths.places.116-Abu-Mina/BGQ6JNX2-104","paths.places.116-Abu-Mina/BGQ6JNX2-105","paths.places.117-Marina-el-Alamein/BGQ6JNX2-8","paths.places.119-Dionysias/BGQ6JNX2-46","paths.places.122-Hawara/BGQ6JNX2-49","paths.places.143-Marea/BGQ6JNX2-9","paths.places.144-Babylon/BGQ6JNX2-33","paths.places.144-Babylon/BGQ6JNX2-34","paths.places.144-Babylon/BGQ6JNX2-122","paths.places.144-Babylon/BGQ6JNX2-123a","paths.places.144-Babylon/BGQ6JNX2-123b","paths.places.169-Manqabad/BGQ6JNX2-144","paths.places.169-Manqabad/BGQ6JNX2-145","paths.places.169-Manqabad/BGQ6JNX2-146","paths.places.173-Dakhleh/BGQ6JNX2-181","paths.places.176-Deir-abu-Matta/BGQ6JNX2-180","paths.places.182-Karnak/BGQ6JNX2-166","paths.places.182-Karnak/BGQ6JNX2-167","paths.places.188-Pharan/BGQ6JNX2-95","paths.places.188-Pharan/BGQ6JNX2-96a","paths.places.188-Pharan/BGQ6JNX2-96b","paths.places.188-Pharan/BGQ6JNX2-97","paths.places.188-Pharan/BGQ6JNX2-98","paths.places.188-Pharan/BGQ6JNX2-99","paths.places.188-Pharan/BGQ6JNX2-100","paths.places.205-Wadi-Natrun-Baramus/BGQ6JNX2-118","paths.places.206-Wadi-Natrun-Syrians/BGQ6JNX2-119","paths.places.208-Wadi-Natrun-Macarius/BGQ6JNX2-121","paths.places.215-Deir-Abu-Hennes/BGQ6JNX2-141","paths.places.217-Deir-al-Dik/BGQ6JNX2-51","paths.places.338-Taposiris-Magna/BGQ6JNX2-3","paths.places.338-Taposiris-Magna/BGQ6JNX2-4","paths.places.338-Taposiris-Magna/BGQ6JNX2-5","paths.places.338-Taposiris-Magna/BGQ6JNX2-185","paths.places.367-Deir-Mar-Tumas/BGQ6JNX2-158","paths.places.368-Upper-Ansina/BGQ6JNX2-137","paths.places.368-Upper-Ansina/BGQ6JNX2-138","paths.places.368-Upper-Ansina/BGQ6JNX2-139","paths.places.368-Upper-Ansina/BGQ6JNX2-56","paths.places.370-Hilwan/BGQ6JNX2-35","paths.places.370-Hilwan/BGQ6JNX2-36","paths.places.370-Hilwan/BGQ6JNX2-37","paths.places.370-Hilwan/BGQ6JNX2-38","paths.places.374-Deir-el-Matmar/BGQ6JNX2-168","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-164","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-165a","paths.places.380-Deir-Mar-Buqtur/BGQ6JNX2-165b","paths.places.415-Abu-Fana/BGQ6JNX2-134","paths.places.415-Abu-Fana/BGQ6JNX2-135","paths.places.415-Abu-Fana/BGQ6JNX2-136","paths.places.416-Deir-al-Fakhuri/BGQ6JNX2-171","paths.places.416-Deir-al-Fakhuri/BGQ6JNX2-172","paths.places.417-Abu-Shaar/BGQ6JNX2-187","paths.places.419-Ain-el-Hayz/BGQ6JNX2-83","paths.places.420-Gezira-el-Faraun/BGQ6JNX2-101","paths.places.421-Hawwariya/BGQ6JNX2-11","paths.places.421-Hawwariya/BGQ6JNX2-12","paths.places.422-Kalabasa/BGQ6JNX2-82","paths.places.423-Kom-Namrud/BGQ6JNX2-132","paths.places.423-Kom-Namrud/BGQ6JNX2-133","paths.places.424-El-Tor/BGQ6JNX2-188","paths.places.425-Tuphium/BGQ6JNX2-75"],Xt="AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o",Mt=xt.b.BaseLayer,Lt=xt.b.Overlay;function Tt(t){var e=Object(r.useState)(),a=Object(m.a)(e,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){var t=[],e=Qt.map((function(e){return t.push({name:e.name,url:e.url,info:e.info}),wt()({method:"get",url:e.url})}));wt.a.all(e).then((function(e){e.map((function(e,a){return t[a].geojson=e.data,!0})),c(t)}))}),[]),Object(s.jsxs)(xt.b,{position:"topright",children:[Object(s.jsx)(Mt,{name:"AWMC",children:Object(s.jsx)(_t.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})}),Object(s.jsx)(Mt,{name:"Imperium (DARE)",checked:"true",children:Object(s.jsx)(_t.a,{url:"https://dh.gu.se/tiles/imperium/{z}/{x}/{y}.png"})}),Object(s.jsx)(Mt,{name:"OpenStreetMap",children:Object(s.jsx)(_t.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})}),Object(s.jsx)(Mt,{name:"Google Maps",children:Object(s.jsx)(yt.GoogleLayer,{googlekey:Xt,maptype:"ROADMAP"})}),Object(s.jsx)(Mt,{name:"Google Satellite",children:Object(s.jsx)(yt.GoogleLayer,{googlekey:Xt,maptype:"SATELLITE"})}),Object(s.jsx)(Mt,{name:"Composite: A Map of Lower Egypt from Various Surveys by A. Arrowsmith (1807)",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/arrowsmith-1807/{z}/{x}/{y}.png",maxZoom:15})}),Object(s.jsx)(Mt,{name:"Carte geographique de l'Egypte et des pays environnans by Pierre Jacotin (1818, 1828)",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/jacotin-1827/{z}/{x}/{y}.png",maxZoom:15})}),Object(s.jsx)(Mt,{name:"Series 4085 - GB & USA (1941)",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/series-4085-gb-usa-1941/{z}/{x}/{y}.png",maxZoom:15})}),Object(s.jsx)(Mt,{name:"Series P502 - USA (1954)",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/series-p502-usa-1954/{z}/{x}/{y}.png",maxZoom:14})}),Object(s.jsx)(Mt,{name:"Series 1404, Great Britain War Office and Air Ministry, 1958-",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/imw-1m-1960/{z}/{x}/{y}.png",maxZoom:13})}),Object(s.jsx)(Mt,{name:"International Map of the World (1960)",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/imw-1m-1960/{z}/{x}/{y}.png",maxZoom:12})}),Object(s.jsx)(Mt,{name:"Tactical Pilotage Chart Series - World (1979)",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/tpc-500k-1979/{z}/{x}/{y}.png",maxZoom:14})}),Object(s.jsx)(Mt,{name:"Ministry of Finance, Egypt - Atlas of Egypt: Lower and Upper Egypt (1914)",children:Object(s.jsx)(_t.a,{attribution:'\xa9 <a href="https://paths.uniroma1.it/">PAThs: Archaeological Atlas of Coptic Literature</a>',url:"https://swift.cloud.garr.it/swift/v1/min-fin-1914/{z}/{x}/{y}.png",maxZoom:17})}),t.shownPlaces&&Object(s.jsx)(Jt,{shownPlaces:t.shownPlaces,onAdd:t.onAdd}),i&&i.map((function(t,e){var a="#"+(16777216+16777215*Math.random()).toString(16).substr(1,6);return Object(s.jsx)(Lt,{name:t.name,children:Object(s.jsx)(vt.a,{data:t.geojson,pointToLayer:function(t,e){return function(t,e,a){return new Ct.a.CircleMarker(e,{radius:5,weight:1,color:a||!1})}(0,e,a)},onEachFeature:function(e,a){return function(t,e,a){var s=Object.entries(t.properties).map((function(t){return!!t[1]&&"<strong>".concat(t[0],"</strong>: ").concat(t[1])}));e.bindPopup(s.filter(Boolean).join("<br>")+"<hr><strong>".concat(a.name,'</strong><br>\n    <a href="').concat(a.info,'" title="More information">').concat(a.info,"</a>\n    "))}(e,a,t)}})},e)}))]})}var Dt="https://bdus.cloud/db/";"localhost"===window.location.hostname&&(Dt="http://bdus.localhost/"),Dt+="api/paths/";var qt=function(){function t(){Object(V.a)(this,t)}return Object(K.a)(t,null,[{key:"getData",value:function(t,e,a){t=Dt+t,wt()({method:"post",url:t,params:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if(t.data.type&&"error"===t.data.type)return console.log("API error: ".concat(t.data.text)),!1;a(t.data)})).catch((function(t){t instanceof Error?console.log(t.message):console.log(t.data)}))}},{key:"getBaseUrl",value:function(){return Dt}},{key:"getUniqueVal",value:function(t,e,a,s){this.getData("./"+t,{verb:"getUniqueVal",tb:t.replace("paths__",""),fld:e,s:a},(function(t){s(t)}),!0)}},{key:"getSaved",value:function(t,e,a,s){"undefined"!==typeof ht[t][e]?(ht[t][e].data.page=a,this.getData(ht[t][e].url,ht[t][e].data,(function(a){s(a,ht[t][e].title)}))):s({status:"error",text:"No saved query found for id: ".concat(t,".").concat(e)})}},{key:"getSimple",value:function(t,e,a,s,r,i){var c={verb:"search",shortsql:"@".concat(t,"~?").concat(e.replace(":","."),"|").concat(s?"=":"LIKE","|").concat(s?a:"%".concat(a,"%")),page:r};this.getData("",c,(function(t){i(t)}),!0)}},{key:"getAdv",value:function(t,e,a,s){var r=[];Object.entries(e).forEach((function(t){var e=Object(m.a)(t,2),a=(e[0],e[1]),s=[];switch(a.o){case"LIKE":a.v="%".concat(a.v,"%");break;case"starts_with":a.o="LIKE",a.v="".concat(a.v,"%");break;case"ends_with":a.o="LIKE",a.v="%".concat(a.v);break;case"is_empty":a.o="is",a.v="^null",a.c="or",r.push("".concat(a.f.replace(":","."),"|=|^"));break;case"is_not_empty":a.o="is not",a.v="^null",a.c="or",r.push("".concat(a.f.replace(":","."),"|!=|^"))}a.c&&s.push(a.c),s.push(a.f.replace(":",".")),s.push(a.o),s.push(a.v),r.push(s.join("|"))})),this.getData("",{verb:"search",shortsql:"@".concat(t,"~?").concat(r.join("||")),page:a},(function(t){s(t)}))}},{key:"getStr",value:function(t,e,a,s){this.getData(t,{verb:"search",type:"fast",string:e,page:a},(function(t){s(t,"Search ["+e+"] in "+t.head.table_label)}),!0)}},{key:"getAll",value:function(t,e,a){this.getData("",{verb:"search",shortsql:"@".concat(t),page:e},(function(t){a(t)}))}},{key:"getOne",value:function(t,e,a){this.getData("",{tb:t,verb:"read",id:e},(function(t){a(t)}))}},{key:"inspect",value:function(t,e){this.getData("",{tb:t,verb:"inspect"},(function(t){e(t)}))}},{key:"getChart",value:function(t,e){this.getData(""+t,{id:t,verb:"getChart"},(function(t){e(t)}))}},{key:"getPlaces",value:function(t,e){var a="1";if(t){var s=t.split("?");s.shift(),a=encodeURIComponent(s.join("?"))}this.getData("?verb=search&geojson=true&shortsql="+["@places","[geodata.geometry,id,name,pleiades,typology,{@m_toponyms~[toponym|group_concat~?table_link|=|paths__places||and|id_link|=|^places.id}:toponyms","?".concat(a),"-500:0"].join("~"),{},(function(t){e(t)}))}},{key:"getMsPlaces",value:function(t,e){var a="";"@manuscripts"!==t&&(a="~?".concat(t)),this.getData("",{verb:"search",geojson:1,shortsql:["@places","]m_msplaces||paths__places.id|=|^m_msplaces.place","?m_msplaces.table_link|=|paths__manuscripts||and|m_msplaces.id_link|in|{@manuscripts~[id".concat(a,"}~*places.id,places.name,places.pleiades,places.typology,geodata.geometry")].join("~")},(function(t){return e(t)}))}}]),t}(),Et=(a(403),function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={places:null,shownPlaces:null,urlFilter:!1,sidebarCollapsed:!1,selected:"home",manualFilter:"",error:!1,mapBounds:!1,zoom:!1,geoJsonBounds:!1},s.placesLayerRef=i.a.createRef(),s.mapRef=i.a.createRef(),s}return Object(K.a)(a,[{key:"onSidebarClose",value:function(){this.setState({sidebarCollapsed:!0})}},{key:"onSidebarOpen",value:function(t){this.setState({sidebarCollapsed:!1,selected:t})}},{key:"filterPlaces",value:function(t){var e=t.target.value,a={};if(""===e)a=this.state.places;else{a={type:"FeatureCollection",features:[]};for(var s=0,r=Object.values(this.state.places.features);s<r.length;s++){var i=r[s];Object.values(i.properties).join("|").toLowerCase().includes(e.toLowerCase())&&a.features.push(i)}}this.setState({manualFilter:e,shownPlaces:a}),this.fitMapToBounds()}},{key:"clearFiltered",value:function(){this.setState({manualFilter:"",shownPlaces:this.state.places}),this.fitMapToBounds()}},{key:"fitMapToBounds",value:function(){var t=[[19.700194,16.570227],[35.4737,32.869317]];this.state.geoJsonBounds&&t._northEast&&t._southWest&&(t=this.state.geoJsonBounds)._northEast.lat===t._southWest.lat&&t._northEast.lng===t._southWest.lng&&t.pad(),this.mapRef.current.leafletElement.fitBounds(t)}},{key:"fetchData",value:function(t,e){var a=this;if(t)qt.getSaved("map",t,null,(function(t){a.setState({places:t,shownPlaces:t,urlFilter:!0}),a.fitMapToBounds()}));else if(e){var r=rt.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});if("manuscripts"===r.tb)qt.getMsPlaces(r.shortsql,(function(t){a.setState({places:t,shownPlaces:t,urlFilter:r.shortsql}),a.fitMapToBounds()}));else{if("places"!==r.tb)return!1;qt.getPlaces(r.shortsql,(function(t){a.setState({places:t,shownPlaces:t,urlFilter:r.shortsql}),a.fitMapToBounds()}))}}else qt.getPlaces(null,(function(t){t.type&&"error"===t.type?a.setState({error:Object(s.jsxs)("div",{children:["Sorry. There was an error in getting the data from database. Please report this error to ",Object(s.jsx)("a",{href:"mailto:julian.bogdani@uniroma1.it",children:"julian.bogdani@uniroma1.it"})," and be sure to copy and paste the following lines:",Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"border p-3 mt-3",children:[Object(s.jsx)("code",{children:window.location.href}),Object(s.jsx)("pre",{children:t.text})]})]})}):(a.setState({places:t,shownPlaces:t}),a.fitMapToBounds())}))}},{key:"onViewportChanged",value:function(t){var e=this.mapRef.current.leafletElement.getBounds(),a=t.zoom;this.setState({mapBounds:e,zoom:a})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t!==this.props&&(this.setState({places:null,urlFilter:null}),this.fetchData(t.match.params.data,null))}},{key:"componentDidMount",value:function(){this.fetchData(this.props.match.params.data,this.props.location.search)}},{key:"showGeoJson",value:function(){if(!this.state.shownPlaces)return Object(s.jsx)("div",{style:{textAlign:"center",zIndex:999,marginTop:"5rem"},children:Object(s.jsx)(D,{children:"Loading map data..."})})}},{key:"onAddgeoJson",value:function(t){this.setState({geoJsonBounds:t.target.getBounds()})}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"maxHeight",children:[Object(s.jsx)(k,{location:this.props.location}),Object(s.jsxs)("main",{role:"main",className:"maxHeight",children:[Object(s.jsxs)(it.Sidebar,{id:"sidebar",collapsed:this.state.sidebarCollapsed,selected:this.state.selected,onOpen:this.onSidebarOpen.bind(this),onClose:this.onSidebarClose.bind(this),closeIcon:Object(s.jsx)(j.a,{icon:"caret-left"}),children:[Object(s.jsxs)(it.Tab,{id:"home",header:"Home",icon:Object(s.jsx)(j.a,{icon:"home"}),children:[Object(s.jsx)("div",{className:"sidebarSearch",children:Object(s.jsxs)(tt.a,{className:"my-2",children:[Object(s.jsx)(et.a,{addonType:"prepend",children:"Search:"}),Object(s.jsx)(at.a,{type:"search",value:this.state.manualFilter,onChange:this.filterPlaces.bind(this),placeholder:"start typing to filter places..."}),Object(s.jsx)(bt,{show:this.state.manualFilter,onClick:this.clearFiltered.bind(this)})]})}),Object(s.jsxs)("div",{className:"mt-2",children:[Object(s.jsx)(ot,{urlFilter:this.state.urlFilter,filter:this.state.filter}),Object(s.jsx)(nt,{places:this.state.shownPlaces})]})]}),Object(s.jsx)(it.Tab,{id:"savedQueries",header:"Saved queries",icon:Object(s.jsx)(j.a,{icon:"save"}),children:Object(s.jsx)("div",{className:"mt-5",children:Object(s.jsx)(dt,{})})}),Object(s.jsx)(it.Tab,{id:"legend",header:"Legend",icon:Object(s.jsx)(j.a,{icon:"info"}),children:Object(s.jsx)("div",{className:"mt-5",children:Object(s.jsx)(lt,{})})})]}),this.state.error&&Object(s.jsx)(Ot,{children:this.state.error}),!this.state.shownPlaces&&Object(s.jsx)("div",{style:{position:"absolute",top:"5rem",textAlign:"center",zIndex:999,width:"100%"},children:Object(s.jsx)(D,{children:"Loading map data..."})}),Object(s.jsx)(Y.a,{className:"sidebar-map maxHeight",zoomControl:!0,ref:this.mapRef,onViewportChanged:this.onViewportChanged.bind(this),maxZoom:"25",children:Object(s.jsx)(Tt,{shownPlaces:this.state.shownPlaces,onAdd:this.onAddgeoJson.bind(this),mapBounds:this.state.mapBounds,zoom:this.state.zoom})})]})]})}}]),a}(r.Component)),zt=a(556),Rt=a(549),Ft=a(544),It=a(545),Ht=a(546),Ut=a(547),Wt=a(548),Vt=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this,e=this.props.tblabel,a=this.props.tb;return Object(s.jsx)("div",{children:Object(s.jsxs)(Ft.a,{className:"mt-5 mb-5",color:"light",children:[Object(s.jsx)("div",{className:"text-right",children:Object(s.jsx)("button",{type:"button",className:"close mr-2 mt-2","aria-label":"Close",onClick:this.props.closeFn,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(s.jsxs)(It.a,{children:[Object(s.jsxs)(Ht.a,{children:["Saved queries for ",e]}),Object(s.jsx)(Ut.a,{children:Object.values(ht[a]).map((function(e,r){return Object(s.jsxs)(Wt.a,{onClick:t.props.closeFn,className:"mb-3",tag:o.b,to:"/search/".concat(a,"/saved?q=").concat(e.id),color:"secondary",children:[Object(s.jsx)(j.a,{icon:"arrow-circle-right"})," ",e.title]},r)}))})]})]})})}}]),a}(r.Component),Kt={coptic:["authors.copticname","titles.text","colophons.text"],greek:["authors.greekname"],hidden:["manuscripts.creator","collections.creator","collections.cmclname","works.id","works.creator","works.shelfmarks","works.period","works.problems","titles.creator","titles.taggedtext","colophons.creator","authors.id","authors.creator","authors.cmclname","editors.cmclname","places.creator","places.hasplans","places.hasphotos","persons.id","persons.creator","biblio.creator","biblio.editors","m_quires.id","m_hands.id","m_placephase.id","m_msplaces.id"],id_fld:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"name",persons:"name"},searchDefault:{manuscripts:"id",collections:"fullname",works:"cmcl",titles:"cc",colophons:"id",authors:"name",places:"paths__m_toponyms:toponym",persons:"name"},preview:{manuscripts:["id","cmclid","tm","ldab","bookform","writingsupport"],collections:["id","fullname","cmclname","country","town","institution","name","notes"],works:["id","cmcl","title","cpg"],titles:["cc","type","workcc","msid"],colophons:["id","msid","dialect","chronofrom","chronoto","datingcriteria"],authors:["name","title","copticname","greekname","cmclname"],places:["id","name","tmgeo","pleiades","region","area","episcopalsee"],persons:["id","name","type","profession","patronymic"]},label:{manuscripts:"Manuscripts",collections:"Collections",works:"Works",titles:"Titles",colophons:"Colophons",authors:"Authors",places:"Places",persons:"Persons attested in colophons"},fld_whitelist:["paths__places:id","paths__places:name","paths__places:tmgeo","paths__places:pleiades","paths__places:region","paths__places:area","paths__places:meris","paths__places:nomos","paths__places:province","paths__places:episcopalsee","paths__places:typology","paths__places:description","paths__places:hasmonastery","paths__places:isnomoscapital","paths__places:status","paths__m_toponyms:toponym","paths__m_placephase:fperiod","paths__m_placephase:ftypology","paths__works:id","paths__works:cmcl","paths__works:title","paths__works:cpg","paths__works:cant","paths__works:cavt","paths__works:bho","paths__works:bhg","paths__works:bhl","paths__works:cae","paths__works:litperiod","paths__m_wkauthors:type","paths__m_wkauthors:author","paths__authors:id","paths__authors:name","paths__authors:copticname","paths__authors:greekname","paths__authors:viaf","paths__authors:title","paths__authors:status","paths__titles:id","paths__titles:cc","paths__titles:workcc","paths__titles:msid","paths__titles:type","paths__titles:text","paths__titles:translation","paths__colophons:id","paths__colophons:msid","paths__colophons:chronofrom","paths__colophons:chronoto","paths__colophons:dialect","paths__colophons:dialectnotes","paths__colophons:greektext","paths__colophons:writingaxis","paths__colophons:cryptography","paths__colophons:minusculecopitc","paths__colophons:minusculegreek","paths__colophons:text","paths__colophons:translation","paths__collections:id","paths__collections:fullname","paths__collections:country","paths__collections:town","paths__collections:institution","paths__collections:name","paths__manuscripts:id","paths__m_shelfmarks:collection","paths__m_shelfmarks:shelfmark","paths__manuscripts:cmclid","paths__manuscripts:tm","paths__manuscripts:ldab","paths__manuscripts:lcbm","paths__manuscripts:dbmnt","paths__manuscripts:alias","paths__manuscripts:issinglefrag","paths__manuscripts:isbookbinding","paths__manuscripts:reusedinbinding","paths__manuscripts:stratigraphy","paths__manuscripts:modernhistory","paths__manuscripts:contents","paths__manuscripts:dialect","paths__manuscripts:chronofrom","paths__manuscripts:chronoto","paths__manuscripts:datingsource","paths__manuscripts:datingcriteria","paths__manuscripts:bookform","paths__manuscripts:writingsupport","paths__m_msplaces:place","paths__m_msplaces:type","paths__m_msplaces:sourceinfo","paths__manuscripts:leaftotextant","paths__manuscripts:fragtot","paths__manuscripts:fragdim","paths__manuscripts:leaftotestimated","paths__manuscripts:quiresextant","paths__manuscripts:gennotes","paths__manuscripts:columns","paths__manuscripts:colnotes","paths__manuscripts:linespercolumn","paths__manuscripts:charsperline","paths__manuscripts:leafw","paths__manuscripts:leafh","paths__manuscripts:framew","paths__manuscripts:frameh","paths__manuscripts:intercolumnium","paths__manuscripts:marginup","paths__manuscripts:marginlow","paths__manuscripts:marginout","paths__manuscripts:marginin","paths__manuscripts:marginleft","paths__manuscripts:marginright","paths__manuscripts:heighttenlines","paths__manuscripts:prophw","paths__manuscripts:propwt","paths__manuscripts:quiresig","paths__manuscripts:quiretype","paths__manuscripts:quireposition","paths__m_quires:quirepaptype","paths__m_quires:quirepartype","paths__manuscripts:pagination","paths__manuscripts:pagtype","paths__manuscripts:pagposition","paths__manuscripts:foliation","paths__manuscripts:foltype","paths__manuscripts:folposition","paths__manuscripts:handstot","paths__manuscripts:lectionalsigns","paths__manuscripts:structuralsigns","paths__manuscripts:signsnotes","paths__manuscripts:abbreviations","paths__manuscripts:ruling","paths__manuscripts:rulingtype","paths__manuscripts:rulingtool","paths__manuscripts:pricking","paths__manuscripts:leaftabs","paths__manuscripts:kolleseis","paths__manuscripts:kolleseseisdescr","paths__manuscripts:kollno","paths__manuscripts:kolldim","paths__manuscripts:bindings","paths__manuscripts:bindformer","paths__manuscripts:boardw","paths__manuscripts:boardh","paths__manuscripts:boardt","paths__manuscripts:spinew","paths__manuscripts:sewings","paths__manuscripts:sewingtype","paths__manuscripts:sewingstationsno","paths__manuscripts:foldpattern","paths__manuscripts:boardmat","paths__manuscripts:boardfeatures","paths__manuscripts:boardattachment","paths__manuscripts:covers","paths__manuscripts:covermat","paths__manuscripts:turnins","paths__manuscripts:mitres","paths__manuscripts:foreedgeflap","paths__manuscripts:coverdecoration","paths__manuscripts:splinelining","paths__manuscripts:endbandtype","paths__manuscripts:fasteningtype","paths__manuscripts:othertiesposition","paths__manuscripts:marginalnotes","paths__manuscripts:greekminuscule","paths__manuscripts:palimpsest","paths__manuscripts:restancient","paths__manuscripts:restmodern","paths__manuscripts:pgmcol","paths__manuscripts:pgmlocation","paths__manuscripts:blktype","paths__manuscripts:blklocation","paths__manuscripts:decortype","paths__manuscripts:decorsubj","paths__manuscripts:decorationdescr","paths__manuscripts:enlargedinitials","paths__manuscripts:sourceinfo","paths__manuscripts:status","paths__m_hands:handno","paths__m_hands:modulartypology","paths__m_hands:writingaxis","paths__m_hands:thickandthin","paths__m_hands:identification","paths__m_hands:writingnotes","paths__m_biblio:short","paths__m_biblio:details","paths__persons:id","paths__persons:name","paths__persons:type","paths__persons:profession","paths__persons:patronymiccarnal","paths__persons:patronymicspirit","paths__persons:hasbrother","paths__persons:hasfather","paths__persons:placebirth","paths__persons:placeaffiliation","paths__persons:sex","paths__persons:datefrom","paths__persons:dateto"]},Zt=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={showSaved:!1},s}return Object(K.a)(a,[{key:"toggleSaved",value:function(t){this.setState({showSaved:!this.state.showSaved})}},{key:"render",value:function(){var t=this.props.tblabel?this.props.tblabel:Kt.label[this.props.tb],e=this.props.tb,a=!!this.props.text&&Object(s.jsx)("span",{className:"subText",children:this.props.text}),r=[{to:"/search/"+e+"/all",icon:"list-ul",text:"Show all"},{to:"/search/"+e,icon:"search",text:"Search"},{to:"/search/"+e+"/adv",icon:"search-plus",text:"Advanced search"}];return Object(s.jsx)("div",{children:Object(s.jsx)(Rt.a,{className:"p-4",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h2",{children:a}),Object(s.jsxs)(g.a,{color:"light",light:!0,expand:"xs",className:"ml-auto",children:[Object(s.jsx)(f.a,{children:Object(s.jsx)("h3",{children:Object(s.jsx)("small",{children:t})})}),Object(s.jsxs)(_.a,{className:"ml-auto",navbar:!0,children:[r.map((function(t,e){return Object(s.jsx)(v.a,{children:Object(s.jsxs)(y.a,{to:t.to,tag:o.b,children:[Object(s.jsx)(j.a,{icon:t.icon})," ",Object(s.jsx)("span",{className:"d-none d-md-inline",children:t.text})]})},e)})),ht[e]&&Object(s.jsx)(v.a,{children:Object(s.jsxs)(y.a,{onClick:this.toggleSaved.bind(this),style:{cursor:"pointer"},children:[Object(s.jsx)(j.a,{icon:"save"}),Object(s.jsx)("span",{className:"d-none d-md-inline",children:" Saved queries"})]})})]})]}),this.state.showSaved&&Object(s.jsx)(Vt,{tb:e,tblabel:t,closeFn:this.toggleSaved.bind(this)})]})})})}}]),a}(r.Component),$t=a(51),Yt=a(550),te=a(551),ee=a(552);function ae(t){var e=function(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=30,i=Math.ceil(a/r),c=[];s=parseInt(s,10);var n=rt.a.parse(e,{ignoreQueryPrefix:!0});return s-2>0&&(n.page=1,c.push({to:t+"?"+rt.a.stringify(n),text:1})),s-3>0&&c.push({to:"#",disabled:!0,text:"..."}),s-1>0&&(n.page=s-1,c.push({to:t+"?"+rt.a.stringify(n),text:n.page})),n.page=s,c.push({to:t+"?"+rt.a.stringify(n),active:!0,text:s}),s+1<i&&(n.page=s+1,c.push({to:t+"?"+rt.a.stringify(n),text:n.page})),s+2<i&&c.push({to:"#",disabled:!0,text:"..."}),s!==i&&(n.page=i,c.push({to:t+"?"+rt.a.stringify(n),text:n.page})),c}(t.path,t.search,t.totalRows,t.page);return Object(s.jsxs)(Yt.a,{children:[Object(s.jsx)(te.a,{children:Object(s.jsx)(ee.a,{children:"Pages: "})}),e.map((function(t,e){var a={disabled:t.disabled,active:t.active};return Object(r.createElement)(te.a,Object($t.a)(Object($t.a)({},a),{},{key:e}),Object(s.jsx)(ee.a,{tag:o.b,to:t.to,children:t.text}))}))]})}function se(t){var e=t.page?t.page:1,a=30*e-30+1,r=30*e<t.totalRows?30*e:t.totalRows;return Object(s.jsxs)("div",{className:"mb-3",children:["Showing records ",Object(s.jsxs)("span",{className:"badge badge-primary",children:[a," \u2013  ",r," "]})," of ",Object(s.jsx)("span",{className:"badge badge-success",children:t.totalRows})," records found"]})}var re=a(553),ie=a(554),ce=a(555),ne=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return Object(s.jsx)(w.a,{children:this.props.children})}}]),a}(r.Component),oe=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this.props.record,e=this.props.fields,a=this.props.tb,r=this.props.previewFlds,i=this.props.idField;return Object(s.jsx)(N.a,{sm:"4",children:Object(s.jsxs)(Ft.a,{className:"mt-3",outline:!0,color:"dark",children:[Object(s.jsx)(re.a,{tag:"h4",children:t[i]}),Object(s.jsxs)(It.a,{id:t.id,children:[Object(s.jsx)(ie.a,{hover:!0,size:"sm",children:Object(s.jsx)("tbody",{children:r.map((function(a,r){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:e[a]}),Object(s.jsx)("td",{children:t[a]})]},r)}))})}),Object(s.jsx)("div",{className:"clearfix",children:Object(s.jsx)("div",{className:"btn-group float-right",role:"group",children:Object(s.jsx)(ce.a,{children:Object(s.jsxs)(ut.a,{size:"sm",color:"info",tag:o.b,to:"/"+[a,t.id].join("/"),children:[Object(s.jsx)(j.a,{icon:"eye"})," View"]})})})})]})]})})}}]),a}(r.Component);function le(t){var e=t.tb,a=t.shortsql;return["manuscripts","places"].indexOf(e)<0?null:Object(s.jsx)("div",{className:"float-right mt-2",children:Object(s.jsxs)(o.b,{to:"/map?tb="+e+"&shortsql="+encodeURI(a),className:"btn btn-warning",children:[Object(s.jsx)(j.a,{icon:"map-marker-alt"})," View on Map"]})})}var pe=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={result:!1},s}return Object(K.a)(a,[{key:"_fetchData",value:function(){var t=this;switch(this.props.type){case"simple":qt.getSimple(this.props.tb,this.props.fld,this.props.val,this.props.strict,this.props.page,(function(e){t.setState({result:e})}));break;case"adv":qt.getAdv(this.props.tb,this.props.data,this.props.page,(function(e){t.setState({result:e})}));break;case"all":qt.getAll(this.props.tb,this.props.page,(function(e){t.setState({result:e})}));break;case"saved":qt.getSaved(this.props.tb,this.props.query,this.props.page,(function(e){t.setState({result:e})}));break;case"shortsql":qt.getData("",{verb:"search",shortsql:this.props.q,page:this.props.page},(function(e){t.setState({result:e})}));break;default:return console.log("Unknown verb ".concat(this.props.type)),null}}},{key:"componentDidUpdate",value:function(t){this.props.page===t.page&&this.props.fld===t.fld&&this.props.val===t.val&&this.props.strict===t.strict&&this.props.query===t.query||this._fetchData()}},{key:"componentDidMount",value:function(){this._fetchData()}},{key:"render",value:function(){var t=this;return this.state.result?"error"===this.state.result.type?Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)(zt.a,{color:"danger",className:"mt-5",children:[Object(s.jsx)("h4",{className:"alert-heading",children:"We are so sorry!"}),Object(s.jsxs)("p",{children:["Something went terribly wrong. Please report this error to ",Object(s.jsx)("a",{href:"https://github.com/paths-erc/atlas/issues",children:"our public repository"})," in order to get it fixes as soon as possible."]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Please file the current URL:"}),Object(s.jsx)(zt.a,{color:"info",className:"border p-3 m-2 ml-4",children:window.location.href}),Object(s.jsx)(zt.a,{color:"info",className:"border p-3 m-2 ml-4",children:decodeURIComponent(window.location.href)}),Object(s.jsx)("p",{children:"and the following error message"}),Object(s.jsx)(zt.a,{color:"info",className:"border p-3 m-2 ml-4",children:Object(s.jsx)("pre",{children:this.state.result.text})}),Object(s.jsx)("p",{children:"Full error trace"}),Object(s.jsx)(zt.a,{color:"info",className:"border p-3 m-2 ml-4",children:Object(s.jsx)("pre",{children:this.state.result.trace})})]})]})}):0===this.state.result.head.total_rows?Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)(zt.a,{color:"warning",className:"mt-5",children:[Object(s.jsx)("h4",{className:"alert-heading",children:"Ooops!"}),"No result found. Please reformulate the query."]})})}):Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"clearfix",children:[Object(s.jsx)(le,{tb:this.state.result.head.stripped_table,shortsql:this.state.result.head.shortsql}),Object(s.jsx)(se,{totalRows:this.state.result.head.total_rows,page:this.state.result.head.page,query:this.state.result.head.query_arrived}),Object(s.jsx)(ae,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})]}),Object(s.jsx)(ne,{children:this.state.result.records.map((function(e,a){return Object(s.jsx)(oe,{idField:Kt.id_fld[t.props.match.params.table],previewFlds:Kt.preview[t.props.match.params.table],tb:t.props.match.params.table,record:e,fields:t.state.result.head.fields},a)}))}),Object(s.jsx)("div",{className:"pt-3",children:Object(s.jsx)(ae,{path:this.props.location.pathname,search:this.props.location.search,totalRows:this.state.result.head.total_rows,page:this.state.result.head.page})})]})}):Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(D,{})})}}]),a}(r.Component),he=Object(l.f)(pe),de=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;Object(V.a)(this,a),s=e.call(this,t);var r=rt.a.parse(t.location.search,{ignoreQueryPrefix:!0});return s.state={saved:r.q,page:r.page},s}return Object(K.a)(a,[{key:"componentDidUpdate",value:function(t,e){var a=rt.a.parse(t.location.search,{ignoreQueryPrefix:!0}),s=rt.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});a.page!==s.page&&this.setState({page:s.page}),a.q!==s.q&&this.setState({saved:s.q})}},{key:"render",value:function(){return"undefined"===typeof ht[this.props.match.params.table][this.state.saved]?Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)(zt.a,{color:"warning",className:"mt-5",children:[Object(s.jsx)("h4",{className:"alert-heading",children:"Ooops!"}),"No saved query ",Object(s.jsx)("code",{children:this.state.saved})," found."]})}):Object(s.jsxs)("div",{children:[Object(s.jsx)(Zt,{tb:this.props.match.params.table,text:ht[this.props.match.params.table][this.state.saved].title}),Object(s.jsx)(he,{tb:this.props.match.params.table,query:this.state.saved,type:"saved",page:this.state.page})]})}}]),a}(r.Component),ue=a(26),be=a(557),je=a(558),me=a(229),ge=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this)).state={fields:!1,fld:!1},s}return Object(K.a)(a,[{key:"_setState",value:function(t,e){var a;if(t=Kt.fld_whitelist.map((function(e){return!!t[e]&&{value:e,label:t[e].label}})).filter((function(t){return t})),e)a=t.filter((function(t){return t.value===e}))[0];else{if(Kt.searchDefault[this.props.tb]){var s=Kt.searchDefault[this.props.tb].includes("paths")?Kt.searchDefault[this.props.tb]:"paths__".concat(this.props.tb,":").concat(Kt.searchDefault[this.props.tb]);a=t.filter((function(t){return t.value===s}))[0]}else a=t[0];this.props.onChange(a)}this.setState({fields:t,fld:a})}},{key:"componentDidMount",value:function(){var t=this;qt.inspect(this.props.tb,(function(e){t._setState(e.fields,t.props.fld)}))}},{key:"render",value:function(){return this.state.fields?Object(s.jsx)(me.a,{defaultValue:this.state.fld,options:this.state.fields,onChange:this.props.onChange}):null}}]),a}(r.Component),fe=a(228);function Oe(t){var e=Object(r.useState)(!1),a=Object(m.a)(e,2),i=a[0],c=a[1],n=Object(r.useState)([]),o=Object(m.a)(n,2),l=o[0],p=o[1],h=Object(r.useCallback)((function(e){c(!0);var a=t.fld.split(":"),s=Object(m.a)(a,2),r=s[0],i=s[1];qt.getUniqueVal(r,i,e,(function(t){p(t),c(!1)}))}),[t.fld]),d=t.val&&t.val.customOption?t.val.customOption.label:t.val?[t.val]:[];return Object(s.jsx)(fe.a,{id:"get-value-from-db",isLoading:i,minLength:1,options:l,multiple:!1,placeholder:"Add a value",onSearch:h,onChange:t.onChange,onInputChange:t.onChange,defaultSelected:d})}var xe=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this)).state={fld:t.fld,val:t.val,strict:!0===t.strict},s.handleSubmit=s.handleSubmit.bind(Object(ue.a)(s)),s._changeField=s._changeField.bind(Object(ue.a)(s)),s._changeVal=s._changeVal.bind(Object(ue.a)(s)),s._changeStrict=s._changeStrict.bind(Object(ue.a)(s)),s}return Object(K.a)(a,[{key:"componentDidUpdate",value:function(t){t!==this.props&&this.setState({fld:this.props.fld,val:this.props.val,strict:!!this.props.strict})}},{key:"_changeField",value:function(t){this.setState({fld:t.constructor===Object&&t.value?t.value:t})}},{key:"_changeVal",value:function(t){this.setState({val:t.constructor===Array?t[0]:t})}},{key:"_changeStrict",value:function(t){this.setState({strict:t.target.checked})}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.state.val?this.props.onSubmit(this.state.fld,this.state.val,this.state.strict):alert("Insert a value to continue")}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"my-5",children:Object(s.jsx)("form",{onSubmit:this.handleSubmit,className:"form",children:Object(s.jsxs)(be.a,{row:!0,children:[Object(s.jsx)(N.a,{sm:4,children:Object(s.jsx)(ge,{tb:this.props.tb,fld:this.state.fld,onChange:this._changeField})}),Object(s.jsx)(N.a,{sm:5,children:Object(s.jsx)(Oe,{fld:this.state.fld,val:this.state.val,onChange:this._changeVal})}),Object(s.jsx)(N.a,{sm:1,children:Object(s.jsxs)(je.a,{check:!0,children:[Object(s.jsx)(at.a,{name:"strict",type:"checkbox",checked:this.state.strict,onChange:this._changeStrict})," Strict"]})}),Object(s.jsxs)(N.a,{sm:2,children:[" ",Object(s.jsx)(ut.a,{type:"submit",color:"success",block:!0,children:"Search!"})," "]})]})})})}}]),a}(r.Component),_e=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;Object(V.a)(this,a),s=e.call(this);var r=rt.a.parse(t.location.search,{ignoreQueryPrefix:!0});return s.state={fld:r.f,val:r.v,strict:r.s&&"false"!==r.s&&"undefined"!==r.s,page:r.page},s._onFormSubmit=s._onFormSubmit.bind(Object(ue.a)(s)),s}return Object(K.a)(a,[{key:"_onFormSubmit",value:function(t,e,a){var s="f=".concat(encodeURIComponent(t)).concat(a?"&s=1":"","&v=").concat(encodeURIComponent(e));this.setState({fld:t,val:e,strict:a}),this.props.history.push("/search/".concat(this.props.match.params.table,"?").concat(s))}},{key:"componentDidUpdate",value:function(t,e){var a=rt.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(Zt,{tb:this.props.match.params.table,text:"Simple search"}),Object(s.jsxs)("div",{className:"mt-3 p-1 container",children:[Object(s.jsx)(xe,{tb:this.props.match.params.table,onSubmit:this._onFormSubmit,fld:this.state.fld,val:this.state.val,strict:this.state.strict}),Object(s.jsx)("hr",{})]}),this.state.fld&&this.state.val&&Object(s.jsx)(he,{tb:this.props.match.params.table,type:"simple",fld:this.state.fld,val:this.state.val,strict:this.state.strict,page:this.state.page})]})}}]),a}(r.Component),ve=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)(at.a,Object($t.a)(Object($t.a)({type:"select",placeholder:"select"},this.props),{},{children:[{k:"LIKE",v:"Contains"},{k:"=",v:"Is exactly"},{k:"NOT LIKE",v:"Does not contain"},{k:"starts_with",v:"Starts with"},{k:"ends_with",v:"Ends with"},{k:"is_empty",v:"Is empty"},{k:"is_not_empty",v:"Is not empty"},{k:">",v:"Is bigger than"},{k:"<",v:"Is smaller than"}].map((function(t,e){return Object(s.jsx)("option",{value:t.k,children:t.v},e)}))}))})}}]),a}(r.Component);function ye(t){return Object(s.jsx)("div",{children:Object(s.jsxs)(at.a,Object($t.a)(Object($t.a)({type:"select"},t),{},{children:[Object(s.jsx)("option",{value:"AND",children:"AND"}),Object(s.jsx)("option",{value:"OR",children:"OR"})]}))})}var ke=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;Object(V.a)(this,a),s=e.call(this,t);var r,i=rt.a.parse(t.location.search,{ignoreQueryPrefix:!0}),c=!1;return 0===Object.getOwnPropertyNames(i).length?r={a:{f:"",o:"LIKE",v:""}}:(r=i,c=!0),s.state={rows:r,showResults:c,page:!1},s._changeOperator=s._changeOperator.bind(Object(ue.a)(s)),s._changeConnector=s._changeConnector.bind(Object(ue.a)(s)),s._addRow=s._addRow.bind(Object(ue.a)(s)),s._removeRow=s._removeRow.bind(Object(ue.a)(s)),s}return Object(K.a)(a,[{key:"_removeRow",value:function(t){var e=this.state.rows;delete e[t.target.name],this.setState({rows:e,showResults:!1})}},{key:"_addRow",value:function(){var t=this.state.rows;t["a"+Math.random().toString(36).substr(2,9)]={f:"",o:"LIKE",v:"",c:"AND"},this.setState({rows:t,showResults:!1})}},{key:"_changeField",value:function(t,e){var a=this.state.rows;a[t].f=e.constructor===Object&&e.value?e.value:e,this.setState({rows:a,showResults:!1})}},{key:"_changeVal",value:function(t,e){var a=this.state.rows;a[t].v=e.constructor===Array?e[0]:e,this.setState({rows:a,showResults:!1})}},{key:"_changeOperator",value:function(t){var e=this.state.rows;e[t.target.name].o=t.target.value,this.setState({rows:e,showResults:!1})}},{key:"_changeConnector",value:function(t){var e=this.state.rows;e[t.target.name].c=t.target.value,this.setState({rows:e,showResults:!1})}},{key:"_handleSubmit",value:function(t){t.preventDefault(),this.setState({showResults:!0});var e=rt.a.stringify(this.state.rows);this.props.history.push("/search/".concat(this.props.match.params.table,"/adv?").concat(e))}},{key:"componentDidUpdate",value:function(t,e){var a=rt.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)(Zt,{tb:this.props.match.params.table,text:"Advanced search"}),Object(s.jsxs)("div",{className:"mt-3 p-1 container",children:[Object(s.jsxs)("form",{onSubmit:this._handleSubmit.bind(this),className:"form",children:[Object.entries(this.state.rows).map((function(e,a){var r=e[0],i=e[1];return Object(s.jsx)("div",{className:"my-3",children:Object(s.jsxs)(w.a,{children:[Object(s.jsx)(N.a,{xs:1,children:a>0&&Object(s.jsx)(ye,{defaultValue:i.c,onChange:t._changeConnector,name:r})}),Object(s.jsx)(N.a,{xs:4,children:Object(s.jsx)(ge,{tb:t.props.match.params.table,fld:i.f,onChange:t._changeField.bind(t,r)})}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(ve,{defaultValue:i.o,name:r,onChange:t._changeOperator})}),Object(s.jsx)(N.a,{xs:3,children:Object(s.jsx)(Oe,{fld:i.f,val:i.v,onChange:t._changeVal.bind(t,r)})}),Object(s.jsx)(N.a,{xs:1,children:a+1===Object.keys(t.state.rows).length&&Object(s.jsx)(ut.a,{type:"button",color:"info",block:!0,onClick:t._addRow,children:"+"})}),Object(s.jsx)(N.a,{xs:1,children:a>0&&Object(s.jsx)(ut.a,{type:"button",color:"danger",block:!0,name:r,onClick:t._removeRow,children:"-"})})]})},a)})),Object(s.jsx)(ut.a,{type:"submit",color:"success",block:!0,children:"Search!"})]}),Object(s.jsx)("hr",{})]}),this.state.showResults&&Object(s.jsx)(he,{tb:this.props.match.params.table,type:"adv",data:this.state.rows,page:this.state.page})]})}}]),a}(r.Component),we=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=rt.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});return Object(s.jsxs)("div",{children:[Object(s.jsx)(Zt,{tb:this.props.match.params.table,text:"Custom query"}),Object(s.jsx)(he,{tb:this.props.match.params.table,type:"shortsql",q:t.q,page:t.page})]})}}]),a}(r.Component),Ne=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;Object(V.a)(this,a),s=e.call(this,t);var r=rt.a.parse(t.location.search,{ignoreQueryPrefix:!0});return s.state={page:r.page},s}return Object(K.a)(a,[{key:"componentDidUpdate",value:function(t,e){var a=rt.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});this.state.page!==a.page&&this.setState({page:a.page})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(Zt,{tb:this.props.match.params.table,text:"View all"}),Object(s.jsx)(he,{tb:this.props.match.params.table,type:"all",page:this.state.page})]})}}]),a}(r.Component),Ce=a.p+"static/media/places.2f644bcf.md",Be=a.p+"static/media/places.52b49a3a.jpg",Se=a.p+"static/media/manuscripts.8f62d77a.md",Ge=a.p+"static/media/manuscripts.a1357b19.jpg",Ae=a.p+"static/media/works.1287edb2.md",Je=a.p+"static/media/works-without-clavis.ae6b2fca.md",Qe=a.p+"static/media/works.c6227c93.jpg",Pe=a.p+"static/media/titles.f28094cc.md",Xe=a.p+"static/media/titles.950ffc96.jpg",Me=a.p+"static/media/authors.00655ea7.md",Le=a.p+"static/media/authors.71b42f83.jpg",Te=a.p+"static/media/colophons.92373147.md",De=a.p+"static/media/colophons.7e23657b.jpg",qe=a.p+"static/media/persons.13c81941.md",Ee=a.p+"static/media/persons.3f31b3fa.jpg",ze=a.p+"static/media/collections.c3d31f1d.md",Re=a.p+"static/media/collections.a80c397a.jpg";a(424);function Fe(t){var e=t.match.params.table,a={places:{label:"Places",img:Be,data:[{title:!1,mdPath:Ce}]},manuscripts:{label:"Manuscripts",img:Ge,data:[{title:!1,mdPath:Se}]},works:{label:"Works",img:Qe,data:[{title:!1,mdPath:Ae},{title:"Literary works currently without a Clavis Coptica entry",mdPath:Je}]},titles:{label:"Titles",img:Xe,data:[{title:!1,mdPath:Pe}]},authors:{label:"Authors",img:Le,data:[{title:!1,mdPath:Me}]},colophons:{label:"Colophons",img:De,data:[{title:!1,mdPath:Te}]},persons:{label:"Persons",img:Ee,data:[{title:!1,mdPath:qe}]},collections:{label:"Collections",img:Re,data:[{title:!1,mdPath:ze}]}};if(!a.hasOwnProperty(e))return Object(s.jsxs)("div",{className:"container m-5 p-5 text-center text-danger",children:["Error: invalid table name",Object(s.jsx)("code",{children:e})]});var r=a[e],i={};return r.img&&(i={width:"100%",height:"300px",backgroundImage:"url("+r.img+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:i}),Object(s.jsx)(Zt,{tblabel:r.label,tb:e,text:"Introduction"}),Object(s.jsx)("div",{className:"container",children:r.data.map((function(t,e){return Object(s.jsxs)("div",{className:"intro-level-".concat(e," mt-5 border-top pt-5"),children:[t.title&&Object(s.jsx)("h1",{children:t.title}),Object(s.jsx)("div",{className:"my-3 px-md-5 double-column text-justify",children:Object(s.jsx)(q,{path:t.mdPath})})]},e)}))})]})}var Ie=a(222),He=a(223),Ue=a.n(He),We=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={uid:Math.random().toString(36).substr(2,5)},s}return Object(K.a)(a,[{key:"componentDidMount",value:function(){null!==this.props.string&&new Ue.a("canvas"+this.state.uid).parseString(this.props.string,"secondHalf"+this.state.uid)}},{key:"render",value:function(){var t=!1;return null!==this.props.string&&(t=100+this.props.string.length/3*20),Object(s.jsxs)("div",{className:"mt-2 mb-4",children:[Object(s.jsxs)(w.a,{children:[Object(s.jsx)(N.a,{id:"firstHalf",children:this.props.string}),Object(s.jsx)(N.a,{id:"secondHalf"+this.state.uid})]}),t&&Object(s.jsx)("canvas",{width:"400",height:t,id:"canvas"+this.state.uid})]})}}]),a}(r.Component),Ve=a(224),Ke=a.n(Ve);function Ze(t){return t.replace(/@([a-z]+)\.([a-z0-9/]+)(\[([^\]]+)\])?/gi,(function(t,e,a,s,r,i,c){return'<a href="/'.concat(e,"/").concat(a,'">\n        ').concat(s&&r?r:"paths.".concat(e,".").concat(a),"\n      </a>")}))}var $e=function(t){return Ke()(t).map((function(t,e){return"string"===typeof t?Object(s.jsx)("span",{className:"internal-link",dangerouslySetInnerHTML:{__html:Ze(t)}},e):t}))};function Ye(t){var e=t.text,a=t.separator,i=t.fld,c=Object(r.useState)("none"),n=Object(m.a)(c,2),o=n[0],l=n[1],p=e.split(",").map((function(t,e){var a=function(t,e){var a={tm:"https://www.trismegistos.org/text/".concat(e.trim()),tmgeo:"https://www.trismegistos.org/place/".concat(e.trim()),pleiades:"https://pleiades.stoa.org/places/".concat(e.trim()),ldab:"https://www.trismegistos.org/ldab/text.php?quick=".concat(e.trim()),coptot:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=".concat(encodeURIComponent(e.trim())),colophons:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(e.trim(),".xml"),dbmnt:"http://www.dbmnt.uw.edu.pl/".concat(e.trim())};return void 0!==typeof a[t]&&a[t]}(i,t);return!!a&&Object(s.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:[t,";"]},e)})).filter((function(t){return t}));if(p.length>0)return p;var h=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!t||t.length<=e)return[t,!1];var s=t.substr(0,e);if(s.substr(s.length-1)===a)return[s,!1];var r=s+""+t.replace(s,"").split(a)[0],i=t.replace(r+""+a,"");return[r+a,i!==r&&i]}(e,200,a);return h[1]?Object(s.jsxs)("span",{children:[$e(h[0]),Object(s.jsx)("span",{style:{display:o},children:$e(h[1])}),"none"===o?"\u2026":"",Object(s.jsx)(ut.a,{color:"info",size:"sm",className:"ml-3",onClick:function(){l("none"===o?"inline":"none")},children:"none"===o?"+":"-"})]}):$e(h[0])}a(428);function ta(t){var e=t.colophon,a=Object(r.useState)(),i=Object(m.a)(a,2),c=i[0],n=i[1];return Object(r.useEffect)((function(){wt.a.get("https://raw.githubusercontent.com/paths-erc/coptic-texts/master/colophons/paths.colophons.".concat(e,".xml")).then((function(t){var e=function(t){var e=t.match(/<body>([\s\S]*)<\/body>/i)[1];return(e=(e=(e=(e=e.replace(/\s{2,}/gim," ").replace(/\|/gim,"\n")).replace(/\([0-9]{1,2}\)/gim,"")).replace(/<\/?\b(?:roleName|p|date|gap|org|quote|rs)\b[^>]*>/gim,"")).replace(/^\s+|\s+$/g,"")).replace(/<\s*(?:place|pers)Name[^>]*ref="([^"]+)"[^>]*>(.*?)<\s*\/\s*(?:place|pers)Name>/gi,(function(t,e,a){var s=e.split(".");return s[1]&&s[2]?'<a href="/'.concat(s[1],"/").concat(s[2],'">').concat(a,"</a>"):a}))}(t.data);n(e)})).catch((function(t){n("Error in getting marked text of colophon #".concat(e)),console.log(t)}))}),[e]),c?Object(s.jsx)("div",{children:Object(s.jsx)("ol",{className:"colophons",children:c.split("\n").map((function(t,e){return Object(s.jsx)("li",{dangerouslySetInnerHTML:{__html:t.trim()}},e)}))})}):Object(s.jsxs)(D,{children:["Loading the marked text of the colophon #",e]})}function ea(t){var e=t.val,a=t.label,r=t.coptic,i=t.greek,c=t.name,n=t.colophonId;if(!e||""===e)return null;var o=[];return r&&o.push("coptic"),i&&o.push("greek"),Object(s.jsxs)(w.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==e?"":" d-none"),children:[Object(s.jsx)(N.a,{sm:"4",md:"3",children:Object(s.jsx)("label",{className:"font-weight-bold",children:a})}),Object(s.jsx)(N.a,{children:Object(s.jsx)("div",{className:o.join(" "),children:"Quire layout"===a?Object(s.jsx)(We,{string:e}):n?Object(s.jsx)(ta,{colophon:n}):Object(s.jsx)(Ye,{text:e,fld:c,separator:r?"\u2027":"."})})})]})}var aa=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this.props.data.data,e=this.props.data.metadata;return Object(s.jsx)("div",{className:"plugins",children:Object(s.jsxs)(Ft.a,{className:"mt-2",children:[Object(s.jsx)(re.a,{children:Object(s.jsx)("h5",{children:e.tb_label})}),Object(s.jsx)(It.a,{children:Object.values(t).map((function(t,e){return Object(s.jsxs)("span",{className:"mr-3",children:[(a=t.zotero.val,r=t.short.val_label,a?Object(s.jsx)("a",{href:"https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/"+a,target:"_blank",rel:"noopener noreferrer",children:r}):r),t.details.val?", "+t.details.val:"",t.images.val?" [".concat(t.images.val,"];"):";"]},e);var a,r}))})]})})}}]),a}(r.Component),sa=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={modal:!1},s.toggle=s.toggle.bind(Object(ue.a)(s)),s}return Object(K.a)(a,[{key:"getHtmlModalBody",value:function(t){return Object(s.jsxs)("dl",{children:[Object(s.jsx)("dt",{children:"Country:        "}),Object(s.jsx)("dd",{children:t.country.val}),Object(s.jsx)("dt",{children:"Town:           "}),Object(s.jsx)("dd",{children:t.town.val}),Object(s.jsx)("dt",{children:"Institution:    "}),Object(s.jsx)("dd",{children:t.institution.val}),Object(s.jsx)("dt",{children:"Collection name:"}),Object(s.jsx)("dd",{children:t.name.val}),Object(s.jsx)("dt",{children:"CMCL full name: "}),Object(s.jsx)("dd",{children:t.fullsegnat.val}),Object(s.jsx)("dt",{children:"URN:            "}),Object(s.jsx)("dd",{children:Object(s.jsxs)("code",{children:["paths.shelfmarks.",t.id.val]})})]})}},{key:"toggle",value:function(t){t.id&&this.setState({title:t.fullname.val,body:this.getHtmlModalBody(t)}),this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{className:"plugins",children:[Object(s.jsxs)(Ft.a,{className:"mt-2",children:[Object(s.jsx)(re.a,{children:Object(s.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object(s.jsx)(It.a,{children:Object(s.jsx)("ul",{children:Object.values(this.props.data.data).map((function(e,a){return Object(s.jsxs)("li",{children:[Object(s.jsx)(ut.a,{style:{margin:"0 0 4px 0",padding:0},color:"link",onClick:function(){return t.toggle(e)},children:e.fullname.val}),e.shelfmark.val?", "+e.shelfmark.val:"",e.pp.val?", "+e.pp.val:""]},a)}))})})]}),Object(s.jsxs)(jt.a,{isOpen:this.state.modal,toggle:this.toggle,children:[Object(s.jsx)(mt.a,{toggle:this.toggle,children:this.state.title}),Object(s.jsx)(gt.a,{children:this.state.body})]})]})}}]),a}(r.Component),ra=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={display:"none"},s.toggleDisplay=s.toggleDisplay.bind(Object(ue.a)(s)),s}return Object(K.a)(a,[{key:"toggleDisplay",value:function(){this.setState({display:"none"===this.state.display?"inline":"none"})}},{key:"render",value:function(){return Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{style:{display:this.state.display},className:"ml-3 bg-light text-muted p-2",children:this.props.text}),Object(s.jsx)(ut.a,{color:"info",size:"sm",className:"ml-3",onClick:this.toggleDisplay,children:"none"===this.state.display?Object(s.jsx)(j.a,{icon:"info"}):"<"})]})}}]),a}(r.Component),ia=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this.props.data.length;return Object(s.jsx)("div",{children:this.props.data.map((function(e,a){return Object(s.jsxs)("span",{className:"mr-2 pr-2"+(t===a+1?"":" border-right border-warning"),children:[Object(s.jsxs)("span",{className:e.language.val?e.language.val.toLowerCase():"",title:e.notes.val,children:[e.toponym.val," "]}),e.transcription.val?Object(s.jsxs)("span",{className:"text-muted ml-2",children:["[",e.transcription.val,"]"]}):"",e.notes.val?Object(s.jsx)(ra,{text:e.notes.val}):""]},a)}))})}}]),a}(r.Component),ca=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"parseNames",value:function(t){var e={};return t.forEach((function(t,a){e[t.language.val]||(e[t.language.val]=[]),e[t.language.val].push(t)})),Object.keys(e).map((function(t,a){return Object(s.jsxs)(w.a,{className:"border-bottom mt-2 mb-2 pb-1",children:[Object(s.jsx)(N.a,{sm:"4",md:"3",children:Object(s.jsx)("label",{className:"font-weight-bold",children:t})}),Object(s.jsx)(N.a,{children:Object(s.jsx)("div",{children:Object(s.jsx)(ia,{data:e[t]})})})]},a)}))}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"plugins",children:Object(s.jsxs)(Ft.a,{className:"mt-2",children:[Object(s.jsx)(re.a,{children:Object(s.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object(s.jsx)(It.a,{children:this.parseNames(this.props.data.data)})]})})}}]),a}(r.Component),na=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this;return this.props.data.data.length<1?null:"paths__m_biblio"===this.props.data.metadata.tb_id?Object(s.jsx)(aa,{data:this.props.data}):"paths__m_shelfmarks"===this.props.data.metadata.tb_id?Object(s.jsx)(sa,{data:this.props.data}):"paths__m_toponyms"===this.props.data.metadata.tb_id?Object(s.jsx)(ca,{data:this.props.data}):Object(s.jsx)("div",{className:"plugins",children:Object(s.jsxs)(Ft.a,{className:"mt-2",children:[Object(s.jsx)(re.a,{children:Object(s.jsx)("h5",{children:this.props.data.metadata.tb_label})}),Object.values(this.props.data.data).map((function(e,a){return Object(s.jsxs)(It.a,{className:"border border-info mb-2",children:[Object.keys(e).map((function(a,r){return Kt.hidden.indexOf(t.props.data.metadata.tb_stripped+"."+a)>-1||"sort"===a||"table_link"===a||"id_link"===a?null:e[a].label?Object(s.jsx)(ea,{coptic:Kt.coptic.indexOf(t.props.data.metadata.tb_stripped+"."+a)>-1,greek:Kt.greek.indexOf(t.props.data.metadata.tb_stripped+"."+a)>-1,val:e[a].val_label?e[a].val_label:e[a].val,label:e[a].label},r):null})),Object(s.jsx)("hr",{})]},a)}))]})})}}]),a}(r.Component);function oa(t){var e=t.data.val_label?t.data.val_label:t.data.val,a=t.data.label,r=t.data.name,i=t.data.coptic,c=t.data.greek;if(!e||""===e)return null;var n=[];return i&&n.push("coptic"),c&&n.push("greek"),Object(s.jsxs)(w.a,{className:"border-bottom mt-2 mb-2 pb-1"+(null!==e?"":" d-none"),children:[Object(s.jsx)(N.a,{sm:"4",md:"3",children:Object(s.jsx)("label",{className:"font-weight-bold",children:a})}),Object(s.jsx)(N.a,{children:Object(s.jsx)("div",{className:n.join(" "),children:"Quire layout"===a?Object(s.jsx)(We,{string:e}):Object(s.jsx)(Ye,{text:e,fld:r,separator:i?"\u2027":"."})})})]})}var la=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this.props.fields,e=this.props.legend,a=!1;return t.forEach((function(t){"undefined"!==typeof t.val&&t.val&&""!==t.val&&(a=!0)})),!!a&&Object(s.jsxs)("fieldset",{className:"p-3 border border-warning mt-3",children:[e&&Object(s.jsx)("legend",{className:"border border-warning shadow-sm text-muted px-3 py-1",style:{fontSize:"1.1rem",fontWeight:"bold"},children:e}),t.map((function(t,e){return Object(s.jsx)(oa,{data:t},e)}))]})}}]),a}(r.Component),pa=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this.props.rec;return Object(s.jsxs)("div",{children:[Object(s.jsx)(la,{legend:"Manuscript identifiers",fields:[t.core.id,t.core.cmclid,t.core.tm,t.core.ldab,t.core.lcbm,t.core.dbmnt,t.core.alias,t.core.issinglefrag,t.core.reusedinbinding,t.core.stratigraphy,t.core.modernhistory,t.core.contents]}),t.plugins.paths__m_shelfmarks&&Object(s.jsx)(na,{data:t.plugins.paths__m_shelfmarks}),Object(s.jsx)(la,{legend:"Dialects",fields:[t.core.dialect,t.core.dialectnotes]}),Object(s.jsx)(la,{legend:"Dating",fields:[t.core.datingsource,t.core.chronofrom,t.core.chronoto,t.core.datingcriteria]}),t.plugins.paths__m_msplaces&&Object(s.jsx)(na,{data:t.plugins.paths__m_msplaces}),Object(s.jsx)(la,{legend:"Book form",fields:[t.core.bookform,t.core.writingsupport]}),Object(s.jsx)(la,{legend:"General description",fields:[t.core.leaftotextant,t.core.fragtot,t.core.fragdim,t.core.leaftotestimated,t.core.quiresextant,t.core.gennotes]}),Object(s.jsx)(la,{legend:"Page description",fields:[t.core.columns,t.core.colnotes,t.core.linespercolumn,t.core.charsperline,t.core.alignment,t.core.alignmentnotes]}),Object(s.jsx)(la,{legend:"Dimensions (mm) and proportions",fields:[t.core.leafw,t.core.leafh,t.core.framew,t.core.frameh,t.core.intercolumnium,t.core.marginup,t.core.marginlow,t.core.marginin,t.core.marginout,t.core.marginleft,t.core.marginright,t.core.heighttenlines,t.core.prophw,t.core.propwt,t.core.dimnotes]}),t.plugins.paths__m_quires&&Object(s.jsx)(na,{data:t.plugins.paths__m_quires}),Object(s.jsx)(la,{fields:[t.core.quirenotes]}),Object(s.jsx)(la,{legend:"Quire signature",fields:[t.core.quirenotes,t.core.quiresig,t.core.quiretype,t.core.quireposition,t.core.quirenrnotes]}),Object(s.jsx)(la,{legend:"Pagination",fields:[t.core.pagination,t.core.pagtype,t.core.pagposition,t.core.pagnote]}),Object(s.jsx)(la,{legend:"Foliation (ancient and modern)",fields:[t.core.foliation,t.core.foltype,t.core.folposition,t.core.folnotes]}),Object(s.jsx)(oa,{data:t.core.handstot}),t.plugins.paths__m_hands&&Object(s.jsx)(na,{data:t.plugins.paths__m_hands}),Object(s.jsx)(la,{legend:"Diacritical signs",fields:[t.core.lectionalsigns,t.core.structuralsigns,t.core.signsnotes]}),Object(s.jsx)(la,{legend:"Abbreviations",fields:[t.core.abbreviations,t.core.abbrnotes]}),Object(s.jsx)(la,{legend:"Ruling and pricking",fields:[t.core.ruling,t.core.rulingtype,t.core.rulingtool,t.core.pricking,t.core.rulingnotes]}),Object(s.jsx)(la,{legend:"",fields:[t.core.leaftabs,t.core.leaftabsnotes]}),Object(s.jsx)(la,{legend:"Manufacture of the rolls",fields:[t.core.kolleseis,t.core.kolleseseisdescr,t.core.tracesnotes,t.core.kollno,t.core.kolldim]}),Object(s.jsx)(la,{legend:"Binding",fields:[t.core.bindings,t.core.bindformer,t.core.boardw,t.core.boardh,t.core.boardt,t.core.spinew,t.core.boarddimnotes,t.core.sewings,t.core.sewingtype,t.core.sewingstationsno,t.core.foldpattern,t.core.sewingnotes,t.core.boardmat,t.core.boardfeatures,t.core.boardattachment,t.core.boardnotes,t.core.covers,t.core.covermat,t.core.turnins,t.core.mitres,t.core.foreedgeflap,t.core.coverdecoration,t.core.covernotes,t.core.splinelining,t.core.endbandtype,t.core.endbandnotes,t.core.fasteningtype,t.core.fasteningnotes,t.core.othertiesposition,t.core.othertiesnotes]}),Object(s.jsx)(la,{legend:"Coloured pigments",fields:[t.core.pgmcol,t.core.pgmlocation,t.core.pgmnotes]}),Object(s.jsx)(la,{legend:"Black inks",fields:[t.core.blktype,t.core.blklocation,t.core.blknotes]}),Object(s.jsx)(la,{legend:"Additional information",fields:[t.core.marginalnotes,t.core.greekminuscule,t.core.greekminusculenotes,t.core.palimpsest,t.core.palimpsestnotes,t.core.decortype,t.core.decorsubj,t.core.decorationdescr,t.core.enlargedinitials,t.core.restancient,t.core.restmodern]}),t.plugins.paths__m_biblio&&Object(s.jsx)(na,{data:t.plugins.paths__m_biblio}),Object(s.jsx)(la,{legend:"Metadata",fields:[t.core.sourceinfo,t.core.editors,t.core.status,t.core.lastmodified]})]})}}]),a}(r.Component),ha=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"renderTemplate",value:function(t){switch(t.metadata.tb_stripped){case"manuscripts":return Object(s.jsx)(pa,{rec:t});default:return Object(s.jsxs)("div",{children:[Object.values(t.core).map((function(e,a){return Kt.hidden.indexOf(t.metadata.tb_stripped+"."+e.name)>-1?null:Object(s.jsx)(ea,{coptic:Kt.coptic.indexOf(t.metadata.tb_stripped+"."+e.name)>-1,greek:Kt.greek.indexOf(t.metadata.tb_stripped+"."+e.name)>-1,label:e.label,name:e.name,val:e.val_label?e.val_label:e.val,colophonId:"colophons"===t.metadata.tb_stripped&&"text"===e.name&&t.core.id.val},a)})),Object.keys(t.plugins).map((function(e,a){return Object(s.jsx)(na,{data:t.plugins[e]},a)}))]})}}},{key:"render",value:function(){return this.props.rec?Object(s.jsx)("div",{className:"mb-5",children:this.renderTemplate(this.props.rec)}):Object(s.jsx)("div",{className:"m-5 p-5",children:Object(s.jsx)(D,{})})}}]),a}(r.Component),da=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"makeHref",value:function(t,e){return["/","search","/",t.replace("paths__",""),"/","shortsql","?q=@".concat(t,"~?").concat(e)].join("")}},{key:"renderLinks",value:function(t){var e=this;return Object.entries(t).map((function(t,a){var r=Object(m.a)(t,2),i=r[0],c=r[1];return c.tot<1?null:Object(s.jsxs)(Wt.a,{tag:o.b,to:e.makeHref(i,c.where),children:[Object(s.jsx)(j.a,{icon:"external-link-square-alt"})," ",c.tot+" referenced item"+(c.tot>1?"s":"")+" in "+c.tb_label]},a)}))}},{key:"renderBackLinks",value:function(t){var e=this;return!("undefined"===typeof t||t.length<1)&&Object.entries(t).map((function(t,a){var r=Object(m.a)(t,2),i=r[0],c=r[1];return!(c.tot<1)&&Object(s.jsxs)(Wt.a,{tag:o.b,to:e.makeHref(i,c.where),children:[Object(s.jsx)(j.a,{icon:"external-link-square-alt"})," ",c.tot+" referenced item"+(c.tot>1?"s":"")+" in "+c.tb_label]},a)}))}},{key:"render",value:function(){return!this.props.links&&!this.props.backlinks||this.props.links.length<1&&this.props.backlinks.length<1?null:Object(s.jsxs)(Ft.a,{className:"mt-2",children:[Object(s.jsxs)(re.a,{children:[Object(s.jsx)(j.a,{icon:"link"})," Links"]}),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ut.a,{children:[this.renderLinks(this.props.links),this.renderBackLinks(this.props.backlinks)]})})]})}}]),a}(r.Component),ua=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"makeHref",value:function(t,e){return["/",t.replace("paths__",""),"/",e].join("")}},{key:"render",value:function(){var t=this,e=this.props.links||[];return"undefined"===typeof e||e.length<1?null:Object(s.jsxs)(Ft.a,{className:"mt-2",children:[Object(s.jsxs)(re.a,{children:[Object(s.jsx)(j.a,{icon:"link"})," Manually entered links"]}),Object(s.jsx)(It.a,{children:Object(s.jsx)(Ut.a,{children:Object.values(e).map((function(e,a){return Object(s.jsxs)(Wt.a,{tag:o.b,to:t.makeHref(e.tb_stripped,e.ref_id),children:[Object(s.jsx)(j.a,{icon:"external-link-square-alt"}),"  ",e.tb_label," #",e.ref_label?e.ref_label:e.ref_id]},a)}))})})]})}}]),a}(r.Component),ba=a(559),ja=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return this.props.text?Object(s.jsx)(It.a,{className:"text-secondary",style:{fontSize:".9rem",fontStyle:"italic"},children:this.props.text}):null}}]),a}(r.Component),ma=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={modal:!1},s.toggle=s.toggle.bind(Object(ue.a)(s)),s}return Object(K.a)(a,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)(Ft.a,{className:"mt-1",children:[Object(s.jsx)(ba.a,{top:!0,width:"100%",src:this.props.file,onClick:this.toggle}),Object(s.jsx)(ja,{text:this.props.description})]}),Object(s.jsxs)(jt.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,size:"lg",children:[Object(s.jsx)(gt.a,{children:Object(s.jsx)("div",{children:Object(s.jsx)("img",{style:{width:"100%"},src:this.props.file,alt:this.props.description})})}),Object(s.jsx)(ft.a,{children:Object(s.jsx)(ja,{text:this.props.description})})]})]})}}]),a}(r.Component),ga=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={shown:!1,buttonText:"Show more images"},s.toggle=s.toggle.bind(Object(ue.a)(s)),s}return Object(K.a)(a,[{key:"toggle",value:function(){this.setState({shown:!this.state.shown,buttonText:"Show more images"===this.state.buttonText?"Hide":"Show more"})}},{key:"render",value:function(){var t=this;return!this.props.files||this.props.files.length<1?null:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{display:this.state.shown?"block":"none"},children:this.props.files.map((function(e,a){return Object(s.jsx)(ma,{file:t.props.baseUrl.replace("/api/","/projects/")+"files/"+e.id+"."+e.ext,description:e.description},a)}))}),Object(s.jsx)("div",{className:"text-center mt-2",children:Object(s.jsx)(ut.a,{onClick:this.toggle,color:"info",children:this.state.buttonText})})]})}}]),a}(r.Component),fa=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var t=this,e=Object.values(this.props.files)||[],a=(e=e.map((function(t){return!!["jpg","png","gif","tif","tiff","jpeg"].includes(t.ext.toLowerCase())&&t})).filter((function(t){return t}))).slice(0,3),r=e.slice(3);return a.length<1?null:Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsx)("h5",{children:"Attached images"}),a.map((function(e,a){return Object(s.jsx)(ma,{file:t.props.baseUrl.replace("/api/","/projects/")+"files/"+e.id+"."+e.ext,description:e.description},a)})),Object(s.jsx)(ga,{files:r,baseUrl:this.props.baseUrl})]})}}]),a}(r.Component),Oa=a(180),xa=a(181),_a=function(t){var e,a=t.properties,s={weight:2,fillOpacity:.2};switch(a.reconstr?(s.dashArray="4 4",e=.4):e=.8,!0){case a.phase<-1:s.color="rgba(150, 150, 150, "+e+")",s.fillColor="rgba(150, 150, 150, .4)";break;case-1===a.phase:s.color="rgba(61, 90, 128, "+e+")",s.fillColor="rgba(61, 90, 128, .4)";break;case 1===a.phase:s.color="rgba(247, 110, 1, "+e+")",s.fillColor="rgba(247, 110, 1, .4)";break;case 2===a.phase:s.color="rgba(194, 0, 251, "+e+")",s.fillColor="rgba(194, 0, 251, .4)";break;case 3===a.phase:s.color="rgba(56, 134, 89, "+e+")",s.fillColor="rgba(56, 134, 89, .4)";break;case a.phase>3:s.color="rgba(80, 47, 76, "+e+")",s.fillColor="rgba(56, 134, 89, .4)";break;default:s.color="rgba(31, 120, 180, "+e+")",s.fillColor="rgba(31, 120, 180, .4)"}return a.part&&a.part.indexOf("u")>-1?(s.fill=!1,s.color="rgba(0, 0, 0, .2)"):a.part&&a.part.indexOf("l")>-1?(s.fillColor="rgba(0, 0, 0, .1)",s.color="rgba(0, 0, 0, .2)"):a.part&&a.part.indexOf("d")>-1&&(s.fillColor="rgba(171, 221, 164, .8)",s.color="rgba(171, 221, 164, 1)"),s},va=function(t,e){e.bindPopup('<a href="https://atlas.paths-erc.eu/places/'.concat(t.properties.place,'">paths.places.').concat(t.properties.place,"</a>\n  <br />").concat(t.properties.subplace,'\n  <br />Vectorized from: <a href="https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/').concat(t.properties.source,'" target="_blank">PAThs Zotero ').concat(t.properties.source," ").concat(t.properties.subsource,"</a>\n  <br />Phase: ").concat(t.properties.phase))};function ya(t){var e=t.bounds,a=t.zoom,c=t.siteId,n=Object(r.useState)(),o=Object(m.a)(n,2),l=o[0],p=o[1];return Object(r.useEffect)((function(){var t=Pt.map((function(t){return!!t.startsWith("paths.places.".concat(c,"-"))&&wt()({method:"get",url:"https://xyz.paths-erc.eu/geojson/".concat(t,".geojson")})})).filter(Boolean),e=[];wt.a.all(t).then((function(t){e=t.map((function(t){return t.data})),p(e)}))}),[e,a,c]),l?Object(s.jsx)(i.a.Fragment,{children:l.map((function(t,e){return Object(s.jsx)(vt.a,{data:t,style:_a,onEachFeature:va},e)}))}):null}a(429);var ka=a(225),wa=a.n(ka),Na=xt.b.BaseLayer;function Ca(t){var e=!!t.geom&&Object.values(t.geom),a=t.id;if(!e||e.length<1)return null;var r=JSON.parse(e[0].geojson).coordinates.reverse();return Object(s.jsx)("div",{style:{height:"300px",width:"100%"},className:"mb-5",children:Object(s.jsxs)(Y.a,{className:"sidebar-map maxHeight",center:r,zoom:15,zoomControl:!0,children:[Object(s.jsx)(wa.a,{position:"topleft"}),Object(s.jsxs)(xt.b,{position:"topright",children:[Object(s.jsx)(Na,{name:"AWMC",children:Object(s.jsx)(_t.a,{url:"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png"})}),Object(s.jsx)(Na,{name:"Imperium (DARE)",children:Object(s.jsx)(_t.a,{url:"https://dh.gu.se/tiles/imperium/{z}/{x}/{y}.png"})}),Object(s.jsx)(Na,{name:"OpenStreetMap",children:Object(s.jsx)(_t.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"})}),Object(s.jsx)(Na,{name:"Google Satellite",checked:"true",children:Object(s.jsx)(yt.GoogleLayer,{googlekey:Xt,maptype:"SATELLITE"})}),Object(s.jsx)(ya,{siteId:a}),e.map((function(t,e){var a=JSON.parse(t.geojson).coordinates.reverse();return Object(s.jsx)(Oa.a,{position:a,children:Object(s.jsxs)(xa.a,{children:["Latitude: ",a[0],Object(s.jsx)("br",{}),"Longitude: ",a[1],Object(s.jsx)("br",{}),"CRS: ",Object(s.jsx)("a",{href:"https://epsg.io/4326",target:"_blank",rel:"noopener noreferrer",children:"WGS84 [EPSG:4326]"})]})},e)}))]})]})})}function Ba(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(s.jsx)(Wt.a,{children:Object(s.jsxs)("a",{href:"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum="+encodeURIComponent(t.data.val),target:"_blank",rel:"noopener noreferrer",children:[Object(s.jsx)(j.a,{icon:"external-link-alt"})," The Digital Edition of the Coptic Old Testament"]})})}function Sa(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(s.jsx)("div",{children:t.data.val.split(",").map((function(t,e){return Object(s.jsx)(Wt.a,{children:Object(s.jsxs)("a",{href:"https://www.trismegistos.org/text/"+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(s.jsx)(j.a,{icon:"external-link-alt"})," TM ",t]})},e)}))})}function Ga(t){return"places"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(s.jsx)("div",{children:t.data.val.split(",").map((function(t,e){return Object(s.jsx)(Wt.a,{children:Object(s.jsxs)("a",{href:"https://www.trismegistos.org/place/"+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(s.jsx)(j.a,{icon:"external-link-alt"})," TM Geo ",t]})},e)}))})}function Aa(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(s.jsx)("div",{children:t.data.val.split(",").map((function(t,e){return Object(s.jsx)(Wt.a,{children:Object(s.jsxs)("a",{href:"https://www.trismegistos.org/ldab/text.php?quick="+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(s.jsx)(j.a,{icon:"external-link-alt"})," LDAB ",t]})},e)}))})}function Ja(t){return"places"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(s.jsx)("div",{children:t.data.val.split(",").map((function(t,e){return Object(s.jsx)(Wt.a,{children:Object(s.jsxs)("a",{href:"https://pleiades.stoa.org/places/"+t.trim(),target:"_blank",rel:"noopener noreferrer",children:[Object(s.jsx)(j.a,{icon:"external-link-alt"})," Pleiades ",t]})},e)}))})}function Qa(t){return"colophons"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(s.jsx)(Wt.a,{children:Object(s.jsxs)("a",{href:"https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.".concat(t.data.val,".xml"),target:"_blank",rel:"noopener noreferrer",children:[Object(s.jsx)(j.a,{icon:"external-link-alt"})," View marked-up text on GitHub"]})})}function Pa(t){return"manuscripts"!==t.tb||!t.data.val||t.data.val.length<1?null:Object(s.jsx)("div",{children:t.data.val.split(",").map((function(t,e){return Object(s.jsx)(Wt.a,{children:Object(s.jsxs)("a",{href:"http://www.dbmnt.uw.edu.pl/".concat(t.trim()),target:"_blank",rel:"noopener noreferrer",children:[Object(s.jsx)(j.a,{icon:"external-link-alt"})," DBMNT ",t]})},e)}))})}var Xa=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return!this.props.rec||this.props.rec.length<1?null:Object(s.jsx)("div",{className:"mt-3",children:Object(s.jsxs)(Ft.a,{className:"mt-2",children:[Object(s.jsxs)(re.a,{children:[Object(s.jsx)(j.a,{icon:["fab","hubspot"]})," External links"]}),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ut.a,{children:[Object(s.jsx)(Ba,{data:this.props.rec.lcbm,tb:this.props.tb}),Object(s.jsx)(Sa,{data:this.props.rec.tm,tb:this.props.tb}),Object(s.jsx)(Aa,{data:this.props.rec.ldab,tb:this.props.tb}),Object(s.jsx)(Pa,{data:this.props.rec.dbmnt,tb:this.props.tb}),Object(s.jsx)(Ga,{data:this.props.rec.tmgeo,tb:this.props.tb}),Object(s.jsx)(Ja,{data:this.props.rec.pleiades,tb:this.props.tb}),Object(s.jsx)(Qa,{data:this.props.rec.id,tb:this.props.tb})]})})]})})}}]),a}(r.Component),Ma=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={rec:!1,copied:!1},s}return Object(K.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this;t!==this.props&&(this.setState({rec:null}),qt.getOne(t.match.params.table,t.match.params.id,(function(t){e.setState({rec:t})})))}},{key:"componentDidMount",value:function(){var t=this;qt.getOne(this.props.match.params.table,this.props.match.params.id,(function(e){t.setState({rec:e})}))}},{key:"renderTemplate",value:function(t){var e=this;return"error"===t.type?Object(s.jsx)("pre",{className:"text-danger p-5",children:t.text}):(t.metadata.tb_stripped,t.core.length<1?Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(Zt,{tb:t.metadata.tb_stripped,tblabel:t.metadata.tb_label,text:"View record"}),Object(s.jsx)(Ft.a,{className:"mt-2",children:Object(s.jsx)(re.a,{children:Object(s.jsxs)("h3",{className:"text-danger",children:["Record paths.",t.metadata.tb_stripped,".",this.props.match.params.id,"  not found!"]})})})]}):Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(Zt,{tb:t.metadata.tb_stripped,tblabel:t.metadata.tb_label,text:"View record"}),Object(s.jsxs)(w.a,{className:"mt-2",children:[Object(s.jsx)(N.a,{sm:"8",children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsxs)(re.a,{children:[Object(s.jsxs)("h3",{children:["paths.",t.metadata.tb_stripped,".",t.core.id.val]}),Object(s.jsxs)("div",{className:"text-secondary d-flex justify-content-between",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(j.a,{icon:"link"})," http://paths.uniroma1.it/atlas/",t.metadata.tb_stripped,"/",t.core.id.val]}),Object(s.jsx)("div",{children:Object(s.jsx)(Ie.CopyToClipboard,{text:"http://paths.uniroma1.it/atlas/"+t.metadata.tb_stripped+"/"+t.core.id.val,onCopy:function(){e.setState({copied:!0}),window.setTimeout((function(){e.setState({copied:!1})}),2e3)},children:Object(s.jsxs)(ut.a,{size:"sm",color:this.state.copied?"primary":"secondary",children:[Object(s.jsx)(j.a,{icon:"clone"})," ",Object(s.jsx)("span",{className:"d-none d-sm-inline",children:this.state.copied?"Copied!":"Copy to clipboard"})]})})})]})]}),Object(s.jsxs)(It.a,{children:[Object(s.jsx)(Ca,{geom:t.geodata,id:t.core.id.val}),Object(s.jsx)(ha,{rec:t})]})]})}),Object(s.jsxs)(N.a,{sm:"4",children:[Object(s.jsx)(fa,{files:t.files,baseUrl:qt.getBaseUrl()}),Object(s.jsx)(da,{links:t.links,backlinks:t.backlinks}),Object(s.jsx)(ua,{links:t.manualLinks}),Object(s.jsx)(Xa,{rec:t.core,tb:t.metadata.tb_stripped})]})]})]}))}},{key:"render",value:function(){return this.state.rec?Object(s.jsx)("div",{className:"mb-5",children:this.renderTemplate(this.state.rec)}):Object(s.jsx)("div",{className:"m-5 p-5",children:Object(s.jsx)(D,{})})}}]),a}(r.Component),La=a(226),Ta=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(){return Object(V.a)(this,a),e.apply(this,arguments)}return Object(K.a)(a,[{key:"parseData",value:function(t){var e={labels:[],datasets:[{label:"My First dataset",backgroundColor:"rgba(195,31,42,0.8)",borderColor:"rgba(195,31,42,1)",borderWidth:1,hoverBackgroundColor:"rgba(195,31,42,1)",hoverBorderColor:"rgba(195,31,42,0.8)",data:[]}]};return t.forEach((function(t){e.labels.push(t.series_name),Object.keys(t).forEach((function(a){"series_name"!==a&&(e.datasets[0].data.push(t[a]),e.datasets[0].label=a)}))})),e}},{key:"render",value:function(){if(this.props.loading)return Object(s.jsx)(D,{children:"Loading chart..."});if(!this.props.data)return null;var t=this.parseData(this.props.data);return Object(s.jsxs)("div",{className:"my-5",children:[Object(s.jsx)("h2",{children:this.props.name}),Object(s.jsx)(La.Bar,{data:t,width:100,height:350,options:{maintainAspectRatio:!1}})]})}}]),a}(r.Component),Da=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={name:!1,data:!1,loading:!1},s}return Object(K.a)(a,[{key:"loadChart",value:function(t){var e=this;this.setState({loading:!0}),qt.getChart(t,(function(t){e.setState({name:t.name}),e.setState({data:t.data}),e.setState({loading:!1})}))}},{key:"render",value:function(){var t=this;return this.props.charts?"error"===this.props.charts.type?Object(s.jsx)("div",{className:"text-danger mt-5 px-5",children:"Sorry! There was an error getting list of chart from the database..."}):Object(s.jsxs)("div",{className:"mt-5",children:[Object(s.jsx)(Ta,{name:this.state.name,data:this.state.data,loading:this.state.loading}),Object(s.jsx)(Ft.a,{children:Object(s.jsx)(It.a,{children:Object(s.jsx)(Ut.a,{children:this.props.charts.map((function(e,a){return Object(s.jsx)(Wt.a,{tag:ut.a,onClick:function(){return t.loadChart(e.id)},className:"mb-3",color:"secondary",children:e.name},a)}))})})})]}):Object(s.jsx)(D,{children:"Loading chart list..."})}}]),a}(r.Component),qa=function(t){Object(Z.a)(a,t);var e=Object($.a)(a);function a(t){var s;return Object(V.a)(this,a),(s=e.call(this,t)).state={chartList:!1},s}return Object(K.a)(a,[{key:"componentDidMount",value:function(t,e){var a=this;qt.getChart("all",(function(t){a.setState({chartList:t})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container mt-5",children:[Object(s.jsxs)("h1",{children:[Object(s.jsx)(j.a,{icon:"chart-bar"})," Available charts"]}),Object(s.jsx)(Da,{charts:this.state.chartList})]})}}]),a}(r.Component),Ea=(a(525),a.p+"static/media/Cite.a0d89a54.md");function za(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"jumbotron",children:Object(s.jsx)("div",{className:"container text-center",children:Object(s.jsx)("h1",{children:"How to cite the \u201cPAThs\u201d project as a whole and the single database records"})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"my-5 px-5 cite",children:Object(s.jsx)(q,{path:Ea})})})]})}var Ra=a.p+"static/media/Api.8f01dbe1.md";function Fa(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"jumbotron",children:Object(s.jsx)("div",{className:"container text-center",children:Object(s.jsx)("h1",{children:"PAThs API & Data export"})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"my-5 px-5",children:Object(s.jsx)(q,{path:Ra})})})]})}var Ia=a(139),Ha=a(227),Ua=Object(Ha.a)();window.location.href.match(/atlas\.paths-erc\.eu/g)&&(Ia.a.initialize("UA-10461068-45"),Ia.a.pageview(window.location.pathname+window.location.search));var Wa={ie:1e4,"opera-mini":1e4,bb10:1e4,edge:14,firefox:39,chrome:42,safari:11,opera:29,android:67},Va=!1;if(Ua){var Ka=Ua.name,Za=Ua.version.split(".")[0];Object.keys(Wa).indexOf(Ka)>-1&&Za<Wa[Ka]&&(Va=!0)}function $a(){return Va?Object(s.jsx)(W,{browser:Ua,compatibility:Wa}):Object(s.jsx)(o.a,{basename:"/",children:Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{path:"/map/:action?/:data?",component:Et}),Object(s.jsxs)(A,{children:[Object(s.jsx)(l.a,{exact:!0,path:"/",component:U}),Object(s.jsx)(l.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:Fe}),Object(s.jsx)(l.a,{exact:!0,path:"/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/:id",component:Ma}),Object(s.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/saved",component:de}),Object(s.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/all",component:Ne}),Object(s.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/adv",component:ke}),Object(s.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)/shortsql",component:we}),Object(s.jsx)(l.a,{exact:!0,path:"/search/:table(places|titles|works|manuscripts|authors|colophons|persons|collections)",component:_e}),Object(s.jsx)(l.a,{exact:!0,path:"/charts/:id?",component:qa}),Object(s.jsx)(l.a,{exact:!0,path:"/cite",component:za}),Object(s.jsx)(l.a,{exact:!0,path:"/api",component:Fa})]})]})})}p.b.add(h.i,d.b,h.a,h.b,h.d,h.c,h.e,d.a,h.f,h.g,h.h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(Object(s.jsx)($a,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[526,1,2]]]);
//# sourceMappingURL=main.da16e5e8.chunk.js.map