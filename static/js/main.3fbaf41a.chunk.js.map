{"version":3,"sources":["components/mainLayout/img/erc.jpg","components/mainLayout/img/sapienza.jpg","components/Loading/Ripple-1.7s-200px.svg","components/Home/IntroMd.md","components/Home/LogoMd.md","components/Home/MissionStatementMd.md","components/Home/lod.md","components/Home/license.md","components/Intro/places/places.md","components/Intro/places/places.jpg","components/Intro/manuscripts/manuscripts.md","components/Intro/manuscripts/manuscripts.jpg","components/Intro/works/works.md","components/Intro/works/works-without-clavis.md","components/Intro/works/works.jpg","components/Intro/titles/titles.md","components/Intro/titles/titles.jpg","components/Intro/authors/authors.md","components/Intro/authors/authors.jpg","components/Intro/colophons/colophons.md","components/Intro/colophons/colophons.jpg","components/Intro/collections/collections.md","components/Intro/collections/collections.jpg","components/Cite/Cite.md","components/Api/Api.md","components/mainLayout/Header.jsx","components/mainLayout/Footer.jsx","components/mainLayout/MainTemplate.jsx","components/Loading/Loading.jsx","components/ReactMarkdownPath/ReactMarkdownPath.jsx","components/Home/Disclaimer.jsx","components/Home/Home.jsx","components/Home/BrowserNotSupported.jsx","components/PathsMap/ListPlaces.jsx","components/PathsMap/UrlFilterButton.jsx","components/PathsMap/TabLegend.jsx","components/Services/SavedQueries.js","components/PathsMap/TabSavedQueries.jsx","components/PathsMap/ClearButton.jsx","components/ShowError/ShowError.jsx","components/Services/Database/Database.jsx","components/PathsMap/PathsMap.jsx","components/SubHead/SavedQueriesList.jsx","components/Services/Cfg/Cfg.js","components/SubHead/SubHead.jsx","components/SqlModal/SqlModal.jsx","components/PaginateResult/PaginateResult.jsx","components/Search/ItemPreview.jsx","components/Manuscripts/OpenInMap.jsx","components/Search/Results.jsx","components/Search/SearchSaved.jsx","components/Search/FldSelect.jsx","components/Search/ValueInput.jsx","components/Search/CustomSearchForm.jsx","components/Search/SearchSimple.jsx","components/Search/OperatorSelect.jsx","components/Search/ConnectorSelect.jsx","components/Search/SearchAdv.jsx","components/Search/SearchEncoded.jsx","components/Search/SearchAll.jsx","components/Intro/Intro.jsx","components/Record/QuireMatrixView.jsx","components/Record/PreviewText.jsx","components/Utils/internalLinks.jsx","components/Utils/relaxedSplit.jsx","components/Record/RecordCell.jsx","components/Record/PluginBiblio.jsx","components/Record/PluginShelfmarks.jsx","components/Record/PluginToponyms.jsx","components/Record/Plugin.jsx","components/Record/RecordCellDb.jsx","components/Record/Bodies/FieldSet.jsx","components/Record/Bodies/ManuscriptsBody.jsx","components/Record/Bodies/Body.jsx","components/Record/RecordLinks.jsx","components/Record/UserLinks.jsx","components/ViewFiles/Caption.jsx","components/ViewFiles/PreviewModal.jsx","components/ViewFiles/MoreImages.jsx","components/ViewFiles/Files.jsx","components/Record/MiniMap.jsx","components/Record/ExternalLinks/CoptOT.jsx","components/Record/ExternalLinks/TM.jsx","components/Record/ExternalLinks/TmPlaces.jsx","components/Record/ExternalLinks/Ldab.jsx","components/Record/ExternalLinks/Pleiades.jsx","components/Record/ExternalLinks/CopticColophons.jsx","components/Record/ExternalLinks.jsx","components/Record/ViewOne.jsx","components/Charts/ChartView.jsx","components/Charts/ChartList.jsx","components/Charts/Charts.jsx","components/Cite/Cite.jsx","components/Api/Api.jsx","App.js","registerServiceWorker.js","index.js","components/Home/paths-logo.png"],"names":["module","exports","__webpack_require__","p","FixedNavbar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggle","bind","assertThisInitialized","state","isOpen","setState","react_default","a","createElement","Navbar","color","dark","expand","className","NavbarBrand","to","tag","Link","NavbarToggler","onClick","Collapse","navbar","Nav","NavItem","NavLink","style","backgroundColor","RRNavLink","react_fontawesome_index_es","icon","href","Component","Footer","target","rel","title","Row","Col","xs","size","md","offset","src","Sapienza","alt","Erc","borderWidth","packageJson","version","MainTemplate","Header","location","role","children","Footer_Footer","React","Loading","width","Ripple","ReactMarkdownPath","_useState","useState","_useState2","slicedToArray","mdText","setMdtext","useEffect","_getMd","asyncToGenerator","regenerator_default","mark","_callee","path","wrap","_context","prev","next","fetch","then","response","text","stop","apply","arguments","_x","getMd","with_html_default","source","escapeHtml","Loading_Loading","Disclaimer","modal","Modal","ModalHeader","ModalBody","ModalFooter","Button","block","Home","titles","id","intro","logo","missionstatement","lod","license","Disclaimer_Disclaimer","imgPathsLogo","map","k","i","key","listStyle","BrowserNotSupported","browser","name","os","keys","compatibility","ListPlaces","places","features","length","e","properties","copticname","ee","ii","Badge","react_router_dom","UrlFilterButton","urlFilter","TabLegend","margin","padding","background","SavedQueries","discovery_places","url","data","join","group","limit_start","limit_end","q_encoded","btoa","storage_places","production_places","episcopal_sees","has_monasteries","churches","cemeteries","hermitages","mines","monasteries","settlements","final","section_headings","authors","bishops","manuscripts","palimpsest_ms","wandering_ms","ms_has_bindings","detached_bindings","horizontal_rolls","vertical_rolls","minor_dialects","miniature_codices","square_codices","oblong_codices","early_bohairic","fayyumic","ms_third_c","ms_forth_c","ms_fifth_c","ms_sixth_c","ms_seventh_c","works","translations_biblical_sahidic","translations_biblical_bohairic","early_translations_other","translations_apocryphal","unescape","encodeURIComponent","translations_gnostic","translations_manichaean","translations_patristic","pachomius","shenoute","standard_translations","translations_apocryphal_second","translations_hagiographical","classsical_translations_homilies","classsical_translations_historiae","classsical_translations_acts","classsical_translations_monastic","post_chalcedonian","historiographic","orig_lit_formation","orig_lit_damian_hag","orig_lit_damian_hom","poetry","orig_lit_hom","original_lit_early_islamic","standard_translations_in_bohairic","original_lit_later_hag","synaxarial","late_liturgical","colophons","cryptography","greek_minuscule","coptic_minuscule","fields[paths__geodata.geometry]","fields[p.id]","fields[p.name]","fields[p.pleiades]","fields[p.typology]","fields[mp.type]","fields[count(mp.id_link)]","all_ms_places","fields[GROUP_CONCAT(DISTINCT mp.type) as type]","bishoprics","fields[paths__places.id]","fields[paths__places.name]","fields[paths__places.pleiades]","fields[paths__places.typology]","TabSavedQueries","values","show","InputGroupAddon","addonType","aria-hidden","ShowError","toggleModal","baseUrl","window","hostname","Database","params","callback","axios","method","headers","Content-Type","res","type","console","log","catch","Error","message","tb","fld","string","cb","getData","verb","replace","s","d","grp","q","page","status","concat","val","strict","adv[a0][fld]","adv[a0][operator]","adv[a0][value]","entries","forEach","_ref","_ref2","v","f","o","c","head","table_label","sql","gj","newgj","currentId","_ref3","_ref4","value","push","toponym","where","fields[g.geometry]","fields[GROUP_CONCAT(t.toponym)]","ms_where","fields[paths__m_msplaces.type]","BaseLayer","LayersControl","googleKey","PathsMap","shownPlaces","sidebarCollapsed","selected","manualFilter","error","placesLayerRef","createRef","mapRef","t","col","includes","L","CircleMarker","radius","weight","opacity","fillColor","fillOpacity","feature","layer","base","pathname","bindPopup","on","openPopup","str","fgj","_i","_Object$values","toLowerCase","fitMapToBounds","bounds","current","leafletElement","getBounds","_northEast","lat","_southWest","lng","pad","fitBounds","savedQ","locationSearch","_this2","getSaved","qstring","qs","parse","search","ignoreQueryPrefix","getMsPlaces","getPlaces","nextProps","fetchData","match","textAlign","zIndex","marginTop","react_leaflet_sidebarv2_lib","collapsed","onOpen","onSidebarOpen","onClose","onSidebarClose","closeIcon","header","InputGroup","Input","onChange","filterPlaces","placeholder","ClearButton_ListPlaces","clearFiltered","UrlFilterButton_UrlFilterButton","filter","ListPlaces_ListPlaces","TabSavedQueries_TabSavedQueries","TabLegend_TabLegend","position","top","Map","zoomControl","ref","TileLayer","checked","react_leaflet_google","googlekey","maptype","WMSTileLayer","layers","GeoJSON","hash","pointToLayer","onEachFeature","SavedQueriesList","tblabel","Card","aria-label","closeFn","CardBody","CardTitle","ListGroup","ListGroupItem","Cfg","coptic","greek","hidden","id_fld","collections","persons","searchDefault","preview","label","fld_whitelist","SubHead","showSaved","menuItems","Jumbotron","light","toggleSaved","cursor","SavedQueriesList_SavedQueriesList","SqlModal","height","whiteSpace","PaginateResult","result","queryString","tot_rows","curr_page","undefined","tot_pages","Math","ceil","parseInt","qString","stringify","disabled","active","build_object","totalRows","Pagination","PaginationItem","PaginationLink","r","assign","PaginateResultSummary","start_at","up_to","components_SqlModal_SqlModal","query","ItemPreviewWrapper","ItemPreview","el","record","flds","fields","preview_flds","previewFlds","id_field","idField","sm","outline","CardHeader","Table","hover","ButtonGroup","OpenInMap","indexOf","encodeURI","Results","getSimple","getAdv","getAll","getByEncodedSql","prevProps","_fetchData","_this3","Alert","decodeURIComponent","trace","total_rows","Manuscripts_OpenInMap","stripped_table","query_where","PaginateResult_PaginateResultSummary","query_arrived","PaginateResult_PaginateResult","ItemPreview_ItemPreviewWrapper","records","ItemPreview_ItemPreview","table","withRouter","SearchSaved","saved","prevState","old_qstring","new_qstring","components_SubHead_SubHead","Search_Results","FldSelect","fldList","selObj","inspect","_setState","react_select_browser_esm","defaultValue","options","ValueInput","_handleSearch","isLoading","_this$props$fld$split","split","_this$props$fld$split2","getUniqueVal","multiple","react_bootstrap_typeahead_lib","minLength","onSearch","onInputChange","defaultInputValue","CustomSearchForm","handleSubmit","_changeField","_changeVal","_changeStrict","constructor","Array","event","preventDefault","onSubmit","alert","FormGroup","row","FldSelect_FldSelect","ValueInput_ValueInput","Label","check","SearchSimple","_onFormSubmit","history","CustomSearchForm_CustomSearchForm","OperatorSelect","ConnectorSelect","AdvSearchForm","rows","getOwnPropertyNames","showResults","_changeOperator","_changeConnector","_addRow","_removeRow","random","toString","substr","index","_handleSubmit","ConnectorSelect_ConnectorSelect","OperatorSelect_OperatorSelect","SearchAll","Intro","dataMap","img","PlacesImg","mdPath","PlacesMd","ManuscriptsImg","ManuscriptsMd","WorksImg","WorksMd","WorksWithoutClavisMd","TitlesImg","TitlesMd","AuthorsImg","AuthorsMd","ColophonsImg","ColophonsMd","CollectionsImg","CollectionsMd","hasOwnProperty","styles","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","QuireMatrixView","uid","Matrix","parseString","parseText","nl2br","dangerouslySetInnerHTML","__html","p1","p2","p3","p4","PreviewText","display","toggleDisplay","textParts","until","str1","start","cont","relaxedSplit","separator","RecordCell","Record_QuireMatrixView","PreviewText_PreviewText","PluginBiblio","metadata","tb_label","di","zotero","short","details","images","PluginShelfmarks","country","town","institution","fullsegnat","fullname","body","getHtmlModalBody","shelfmark","pp","ToggleText","TopoCell","tot","language","notes","transcription","PluginToponyms_ToggleText","PluginToponyms","obj","l","PluginToponyms_TopoCell","parseNames","Plugin","tb_id","PluginBiblio_PluginBiblio","PluginShelfmarks_PluginShelfmarks","PluginToponyms_PluginToponyms","fi","tb_stripped","Record_RecordCell","val_label","RecordCellDb","FieldSet","legend","fontSize","fontWeight","RecordCellDb_RecordCellDb","ManuscriptBody","rec","FieldSet_FieldSet","core","cmclid","tm","ldab","lcbm","alias","issinglefrag","stratigraphy","modernhistory","contents","plugins","Record_Plugin","dialect","dialectnotes","datingsource","chronofrom","chronoto","datingcriteria","bookform","writingsupport","leaftotextant","fragtot","fragdim","leaftotestimated","quiresextant","gennotes","columns","colnotes","linespercolumn","charsperline","alignment","alignmentnotes","leafw","leafh","framew","frameh","intercolumnium","marginup","marginlow","marginin","marginout","marginleft","marginright","heighttenlines","prophw","propwt","dimnotes","quirenotes","quiresig","quiretype","quireposition","quirenrnotes","pagination","pagtype","pagposition","pagnote","foliation","foltype","folposition","folnotes","handstot","lectionalsigns","structuralsigns","signsnotes","abbreviations","abbrnotes","ruling","rulingtype","rulingtool","pricking","rulingnotes","leaftabs","leaftabsnotes","kolleseis","kolleseseisdescr","tracesnotes","kollno","kolldim","bindings","covers","coversnotes","sewings","sewingtype","holesno","holesarrangement","holesnotes","pgmcol","pgmlocation","pgmnotes","blktype","blklocation","blknotes","marginalnotes","greekminuscule","greekminusculenotes","palimpsest","palimpsestnotes","decortype","decorsubj","decorationdescr","enlargedinitials","restancient","restmodern","sourceinfo","editors","ViewOne","ManuscriptsBody_ManuscriptBody","renderTemplate","RecordLinks","links","info","makeHref","backlinks","arr","renderLinks","renderBackLinks","UserLinks","ref_id","ref_label","Caption","fontStyle","PreviewModal","CardImg","file","Caption_Caption","description","MoreImages","shown","buttonText","files","PreviewModal_PreviewModal","ext","Files","firstFiles","slice","otherFiles","MoreImages_MoreImages","MiniMap","geom","JSON","geojson","coordinates","reverse","center","zoom","coord","Marker","CoptOT","TM","trim","TmPlaces","Ldab","Pleiades","CopticColophons","ExternalLinks","CoptOT_CoptOT","TM_TM","Ldab_Ldab","TmPlaces_TmPlaces","Pleiades_Pleiades","pleiades","CopticColophons_CopticColophons","copied","getOne","_this4","react_copy_to_clipboard_lib","onCopy","setTimeout","Body_ViewOne","Record_MiniMap","geodata","Files_Files","getBaseUrl","Record_RecordLinks","Record_UserLinks","manualLinks","ExternalLinks_ExternalLinks","ChartView","labels","datasets","borderColor","hoverBackgroundColor","hoverBorderColor","series_name","loading","parseData","es","maintainAspectRatio","ChartList","getChart","charts","ChartView_ChartView","loadChart","Charts","chartList","ChartList_ChartList","Cite","cite","Api","api","detect","ReactGA","initialize","pageview","ie","opera-mini","bb10","edge","firefox","chrome","safari","opera","android","notSupported","bName","bVersion","library","add","fas","fab","faArrowCircleRight","faBug","faEye","faExternalLinkSquareAlt","faFilter","faGithub","faIdBadge","faLink","faMapMarkerAlt","App","BrowserNotSupported_BrowserNotSupported","basename","react_router","component","MainTemplate_MainTemplate","exact","SearchAdv","SearchEncoded","Boolean","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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Q,KAAM,WAAY,SAAU,OAAQ,gBACpEgS,QAAgB,CAAE,KAAM,OAAQ,OAAQ,aAAc,eAExDG,MAAS,CACP3P,YAAe,cACfuP,YAAe,cACfrO,MAAS,QACT/E,OAAU,SACV8G,UAAa,YACbnD,QAAW,UACXtC,OAAU,SACVgS,QAAW,iCAGbI,cAAiB,CACb,mBACA,qBACA,mBACA,yBACA,uBACA,qBACA,sBACA,sBACA,yBACA,6BACA,yBACA,4BACA,6BACA,+BACA,4BACA,8BACA,gCAEA,kBACA,oBACA,qBACA,mBACA,oBACA,oBACA,mBACA,mBACA,mBACA,mBACA,yBACA,0BACA,4BAEA,oBACA,sBACA,4BACA,2BACA,sBACA,uBAEA,mBACA,mBACA,uBACA,qBACA,qBACA,qBACA,4BAEA,sBACA,wBACA,8BACA,4BACA,2BACA,6BACA,+BACA,gCACA,mCACA,kCACA,wBACA,+BAEA,wBACA,8BACA,6BACA,0BACA,iCACA,0BAEA,wBACA,iCACA,gCACA,4BACA,wBACA,0BACA,0BACA,2BACA,8BACA,oCACA,kCACA,mCACA,6BACA,gCACA,8BACA,0BACA,yBACA,kCACA,mCACA,kCACA,6BACA,oCACA,kCACA,8BACA,+BACA,mCACA,gCACA,6BACA,iCACA,+BACA,6BACA,iCACA,8BACA,oCACA,qCACA,mCACA,4BACA,gCACA,gCACA,8BACA,8BACA,+BACA,8BACA,6BACA,gCACA,4BACA,gCACA,+BACA,+BACA,wBACA,iCACA,6BACA,8BAEA,wBACA,4BCtHOC,eAtEb,SAAAA,EAAYra,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAia,IACjBpa,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAma,GAAA9Z,KAAAH,KAAMJ,KACDW,MAAQ,CACX2Z,WAAW,GAHIra,2EAOPkI,GACV/H,KAAKS,SAAS,CACZyZ,WAAYla,KAAKO,MAAM2Z,6CAKzB,IAAMpB,EAAU9Y,KAAKJ,MAAMkZ,QAAU9Y,KAAKJ,MAAMkZ,QAAUQ,GAAIS,MAAM/Z,KAAKJ,MAAMoQ,IACzEA,EAAKhQ,KAAKJ,MAAMoQ,GAChB5K,IAAOpF,KAAKJ,MAAMwF,MAAO1E,EAAAC,EAAAC,cAAA,QAAMK,UAAU,WAAWjB,KAAKJ,MAAMwF,MAEjE+U,EAAY,CACd,CACEhZ,GAAI,WAAa6O,EAAK,OACtB/N,KAAM,UACNmD,KAAM,YAER,CACEjE,GAAI,WAAa6O,EACjB/N,KAAM,SACNmD,KAAM,UAER,CACEjE,GAAI,WAAa6O,EAAK,OACtB/N,KAAM,cACNmD,KAAM,oBAIV,OACE1E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwZ,GAAA,EAAD,CAAWnZ,UAAU,OAErBP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,UAAKwE,GACL1E,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,MAAM,QAAQuZ,OAAK,EAACrZ,OAAO,KAAKC,UAAU,WAChDP,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACER,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,aAASkY,KAEfpY,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAKT,UAAU,UAAUQ,QAAM,GAE3B0Y,EAAUnT,IAAK,SAACe,EAAGd,GACjB,OACEvG,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAASwF,IAAKF,GACZvG,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAST,GAAI4G,EAAE5G,GAAIC,IAAKC,KACtBX,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAM8F,EAAE9F,OAD3B,IACoCvB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,sBAAsB8G,EAAE3C,UAMlFwD,GAAaoH,IAAQtP,EAAAC,EAAAC,cAACe,EAAA,EAAD,KAASjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAASL,QAASvB,KAAKsa,YAAYja,KAAKL,MAAO6B,MAAO,CAAC0Y,OAAQ,YAAY7Z,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,SAASvB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,sBAAhB,sBAI7IjB,KAAKO,MAAM2Z,WAAaxZ,EAAAC,EAAAC,cAAC4Z,GAAD,CAAmBxK,GAAIA,EAAI8I,QAASA,EAASG,QAASjZ,KAAKsa,YAAYja,KAAKL,kBAhEzFmC,2CC4BPsY,eAjCb,SAAAA,EAAY7a,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAya,IACjB5a,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2a,GAAAta,KAAAH,KAAMJ,KACDW,MAAQ,CACXwF,OAAO,GAGTlG,EAAKO,OAASP,EAAKO,OAAOC,KAAZP,OAAAQ,EAAA,EAAAR,CAAAD,IANGA,wEAUjBG,KAAKS,SAAS,CACZsF,OAAQ/F,KAAKO,MAAMwF,yCAQrB,OACErF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQtF,MAAM,SAAS6B,KAAK,KAAKpB,QAASvB,KAAKI,QAAQM,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,UAC7EvB,EAAAC,EAAAC,cAACoF,GAAA,EAAD,CAAOxF,OAAQR,KAAKO,MAAMwF,MAAO3F,OAAQJ,KAAKI,OAAQa,UAAWjB,KAAKJ,MAAMqB,WAC1EP,EAAAC,EAAAC,cAACqF,GAAA,EAAD,CAAa7F,OAAQJ,KAAKI,QAA1B,gBACAM,EAAAC,EAAAC,cAACsF,GAAA,EAAD,KACExF,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAE6Y,OAAQ,QAASC,WAAY,aAAe3a,KAAKJ,MAAMiS,eA3B1D1P,iBC+EjByY,oLAIF,IAAMC,EA/EV,SAAsBjW,EAAMkW,EAAaC,GACzC,IADmDC,EACnDzV,UAAAuC,OAAA,QAAAmT,IAAA1V,UAAA,GAAAA,UAAA,GAD+D,EAKzD2V,EAAYC,KAAKC,KAAKL,EAFd,IAGRF,EAAS,GAEbG,EAAYK,SAASL,EAAW,IAEhC,IAAIM,EAAUzF,KAAGC,MAAMgF,EAAa,CAAC9E,mBAAmB,IA8DxD,OA5DIgF,EAAY,EAAI,IAClBM,EAAQ3K,KAAO,EACfkK,EAAOzI,KAAK,CACVjR,GAAMyD,EAAO,IAAMiR,KAAG0F,UAAUD,GAChClW,KAAO,KAIP4V,EAAY,EAAI,GAClBH,EAAOzI,KAAK,CACVjR,GAAK,IACLqa,UAAW,EACXpW,KAAO,QAMP4V,EAAY,EAAI,IAClBM,EAAQ3K,KAAQqK,EAAY,EAC5BH,EAAOzI,KAAK,CACVjR,GAAKyD,EAAO,IAAMiR,KAAG0F,UAAUD,GAC/BlW,KAAOkW,EAAQ3K,QAKnB2K,EAAQ3K,KAAOqK,EACfH,EAAOzI,KAAK,CACVjR,GAAKyD,EAAO,IAAMiR,KAAG0F,UAAUD,GAC/BG,QAAS,EACTrW,KAAO4V,IAILA,EAAY,EAAIE,IAClBI,EAAQ3K,KAAQqK,EAAY,EAC5BH,EAAOzI,KAAK,CACVjR,GAAKyD,EAAO,IAAMiR,KAAG0F,UAAUD,GAC/BlW,KAAOkW,EAAQ3K,QAKfqK,EAAY,EAAIE,GAClBL,EAAOzI,KAAK,CACVjR,GAAK,IACLqa,UAAW,EACXpW,KAAO,QAIP4V,IAAcE,IAChBI,EAAQ3K,KAAQuK,EAChBL,EAAOzI,KAAK,CACVjR,GAAKyD,EAAO,IAAMiR,KAAG0F,UAAUD,GAC/BlW,KAAOkW,EAAQ3K,QAIZkK,EAOUa,CACb1b,KAAKJ,MAAMgF,KACX5E,KAAKJ,MAAMmW,OACX/V,KAAKJ,MAAM+b,UACX3b,KAAKJ,MAAM+Q,MAGb,OACEjQ,EAAAC,EAAAC,cAACgb,GAAA,EAAD,KACElb,EAAAC,EAAAC,cAACib,GAAA,EAAD,KACEnb,EAAAC,EAAAC,cAACkb,GAAA,EAAD,iBAEAjB,EAAO7T,IAAK,SAAC+U,EAAG7U,GAChB,IAAMtH,EAAQ,CACZ4b,SAAUO,EAAEP,SACZC,OAAQM,EAAEN,QAEb,OAAO/a,EAAAC,EAAAC,cAACib,GAAA,EAAD/b,OAAAkc,OAAA,GAAoBpc,EAApB,CAA2BuH,IAAKD,IACrCxG,EAAAC,EAAAC,cAACkb,GAAA,EAAD,CAAgB1a,IAAKC,IAAMF,GAAM4a,EAAE5a,IAC9B4a,EAAE3W,iBAvBWjD,aAiCvB8Z,oLAIF,IAAMjB,EAAahb,KAAKJ,MAAM+Q,KAAO3Q,KAAKJ,MAAM+Q,KAAO,EACjDuL,EAAuB,GAAZlB,EAAiB,GAAK,EACjCmB,EAAqB,GAAZnB,EAAkBhb,KAAKJ,MAAM+b,UAAwB,GAAZX,EAAiBhb,KAAKJ,MAAM+b,UAEpF,OACEjb,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QAAf,mBACkBP,EAAAC,EAAAC,cAAA,QAAMK,UAAU,uBAC9Bib,EADc,YACEC,EADF,KADlB,OAEuCzb,EAAAC,EAAAC,cAAA,QAAMK,UAAU,uBACnDjB,KAAKJ,MAAM+b,WAHf,sBAIQjb,EAAAC,EAAAC,cAACwb,GAAD,CAAUvK,IAAK7R,KAAKJ,MAAMyc,gBAbJla,2CC/G9Bma,oLAGF,OACE5b,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KAAOxC,KAAKJ,MAAM6D,iBAJStB,aAS3Boa,oLAIF,IAAMC,EAAKxc,KAAKJ,MAAM6c,OAChBC,EAAO1c,KAAKJ,MAAM+c,OAClB3M,EAAKhQ,KAAKJ,MAAMoQ,GAEhB4M,EAAe5c,KAAKJ,MAAMid,YAC1BC,EAAW9c,KAAKJ,MAAMmd,QAE5B,OACErc,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAG,KACPtc,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,OAAOgc,SAAO,EAACnc,MAAM,QAClCJ,EAAAC,EAAAC,cAACsc,GAAA,EAAD,CAAY9b,IAAI,MAAOob,EAAGM,IAC1Bpc,EAAAC,EAAAC,cAACsY,GAAA,EAAD,CAAU1S,GAAKgW,EAAGhW,IAEhB9F,EAAAC,EAAAC,cAACuc,GAAA,EAAD,CAAOC,OAAK,EAACza,KAAK,MAChBjC,EAAAC,EAAAC,cAAA,aAEIgc,EAAa5V,IAAK,SAACe,EAAGd,GACpB,OAAOvG,EAAAC,EAAAC,cAAA,MAAIuG,IAAKF,GACdvG,EAAAC,EAAAC,cAAA,UAAM8b,EAAK3U,IACXrH,EAAAC,EAAAC,cAAA,UAAM4b,EAAGzU,SAOnBrH,EAAAC,EAAAC,cAAA,OAAKK,UAAU,YACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,wBAAwBuC,KAAK,SAC1C9C,EAAAC,EAAAC,cAACyc,GAAA,EAAD,KACE3c,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQzD,KAAK,KAAK7B,MAAM,OAAOM,IAAKC,IAAMF,GAAK,IAAM,CAAC6O,EAAIwM,EAAGhW,IAAIwC,KAAK,MACpEtI,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,QADxB,sBAjCQE,aCSXmb,oLAfb,IAAMtN,EAAKhQ,KAAKJ,MAAMoQ,GAEtB,MAAI,CAAC,cAAe,UAAUuN,QAAQvN,GAAM,EACnC,KAGPtP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,oBACbP,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAMlH,GAAI,WAAa6O,EAAK,UAAYwN,UAAUxd,KAAKJ,MAAM0S,OAASrR,UAAU,mBAC9EP,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,mBADxB,wBAXkBE,aCUlBsb,eAEJ,SAAAA,EAAY7d,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyd,IACjB5d,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2d,GAAAtd,KAAAH,KAAMJ,KACDW,MAAQ,CACXsa,QAAQ,GAHOhb,4EAOP,IAAA6V,EAAA1V,KACV,OAAQA,KAAKJ,MAAM8P,MACjB,IAAK,SACHR,GAASwO,UAAU1d,KAAKJ,MAAMoQ,GAAIhQ,KAAKJ,MAAMqQ,IAAKjQ,KAAKJ,MAAMkR,IAAK9Q,KAAKJ,MAAMmR,OAAQ/Q,KAAKJ,MAAM+Q,KAAM,SAAAH,GACpGkF,EAAKjV,SAAS,CACZoa,OAAQrK,MAGZ,MAEA,IAAK,MACHtB,GAASyO,OAAO3d,KAAKJ,MAAMoQ,GAAIhQ,KAAKJ,MAAMmJ,KAAM/I,KAAKJ,MAAM+Q,KAAM,SAAAH,GAC/DkF,EAAKjV,SAAS,CACZoa,OAAQrK,MAGZ,MAEF,IAAK,MACHtB,GAAS0O,OAAO5d,KAAKJ,MAAMoQ,GAAIhQ,KAAKJ,MAAM+Q,KAAM,SAAAH,GAC9CkF,EAAKjV,SAAS,CACZoa,OAAQrK,MAGZ,MAEF,IAAK,QACHtB,GAASyG,SAAS3V,KAAKJ,MAAMoQ,GAAIhQ,KAAKJ,MAAMyc,MAAOrc,KAAKJ,MAAM+Q,KAAM,SAAAH,GAClEkF,EAAKjV,SAAS,CACZoa,OAAQrK,MAGZ,MAEF,IAAK,UACHtB,GAAS2O,gBAAgB7d,KAAKJ,MAAMoQ,GAAIhQ,KAAKJ,MAAM8Q,EAAG1Q,KAAKJ,MAAM+Q,KAAM,SAAAH,GACrEkF,EAAKjV,SAAS,CACZoa,OAAQrK,MAGZ,MAEF,QAEE,OADAb,QAAQC,IAAR,gBAAAiB,OAA4B7Q,KAAKJ,MAAM8P,OAChC,iDAMIoO,GAEf9d,KAAKJ,MAAM+Q,OAASmN,EAAUnN,MAC3B3Q,KAAKJ,MAAMqQ,MAAQ6N,EAAU7N,KAC7BjQ,KAAKJ,MAAMkR,MAAQgN,EAAUhN,KAC7B9Q,KAAKJ,MAAMmR,SAAW+M,EAAU/M,QAChC/Q,KAAKJ,MAAMyc,QAAUyB,EAAUzB,OAElCrc,KAAK+d,yDAKP/d,KAAK+d,8CAGE,IAAAC,EAAAhe,KACP,OAAKA,KAAKO,MAAMsa,OAIc,UAA3B7a,KAAKO,MAAMsa,OAAOnL,KAEjBhP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACqd,GAAA,EAAD,CAAOnd,MAAM,SAASG,UAAU,QAC5BP,EAAAC,EAAAC,cAAA,MAAIK,UAAU,iBAAd,oBACAP,EAAAC,EAAAC,cAAA,uEAA8DF,EAAAC,EAAAC,cAAA,KAAGsB,KAAK,6CAAR,yBAA9D,mDAEJxB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,yCAEAF,EAAAC,EAAAC,cAACqd,GAAA,EAAD,CAAOnd,MAAM,OAAOG,UAAU,uBAAwB+N,OAAOzL,SAASrB,MACtExB,EAAAC,EAAAC,cAACqd,GAAA,EAAD,CAAOnd,MAAM,OAAOG,UAAU,uBAAwBid,mBAAmBlP,OAAOzL,SAASrB,OACzFxB,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAACqd,GAAA,EAAD,CAAOnd,MAAM,OAAOG,UAAU,uBAC5BP,EAAAC,EAAAC,cAAA,WACCZ,KAAKO,MAAMsa,OAAOzV,OAGrB1E,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACqd,GAAA,EAAD,CAAOnd,MAAM,OAAOG,UAAU,uBAC5BP,EAAAC,EAAAC,cAAA,WACCZ,KAAKO,MAAMsa,OAAOsD,WASU,IAAtCne,KAAKO,MAAMsa,OAAOlJ,KAAKyM,WAEtB1d,EAAAC,EAAAC,cAAA,WAEIF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACqd,GAAA,EAAD,CAAOnd,MAAM,UAAUG,UAAU,QAC7BP,EAAAC,EAAAC,cAAA,MAAIK,UAAU,iBAAd,UADJ,oDAUTP,EAAAC,EAAAC,cAAA,WAEGF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aAEbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,YAEbP,EAAAC,EAAAC,cAACyd,GAAD,CACIrO,GAAIhQ,KAAKO,MAAMsa,OAAOlJ,KAAK2M,eAC3BhM,MAAOtS,KAAKO,MAAMsa,OAAOlJ,KAAK4M,YAC9B7O,KAAM1P,KAAKJ,MAAMyW,MAAMlH,OAAOO,KAC9BqG,OAASF,KAAGC,MAAM9V,KAAKJ,MAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,MAGtEtV,EAAAC,EAAAC,cAAC4d,GAAD,CACE7C,UAAW3b,KAAKO,MAAMsa,OAAOlJ,KAAKyM,WAClCzN,KAAM3Q,KAAKO,MAAMsa,OAAOlJ,KAAKhB,KAC7B0L,MAAOrc,KAAKO,MAAMsa,OAAOlJ,KAAK8M,gBAGhC/d,EAAAC,EAAAC,cAAC8d,GAAD,CACI9Z,KAAM5E,KAAKJ,MAAM2D,SAAS6Q,SAC1B2B,OAAS/V,KAAKJ,MAAM2D,SAASwS,OAC7B4F,UAAW3b,KAAKO,MAAMsa,OAAOlJ,KAAKyM,WAClCzN,KAAM3Q,KAAKO,MAAMsa,OAAOlJ,KAAKhB,QAMnCjQ,EAAAC,EAAAC,cAAC+d,GAAD,KAEG3e,KAAKO,MAAMsa,OAAO+D,QAAQ5X,IAAK,SAACe,EAAGb,GAClC,OAAOxG,EAAAC,EAAAC,cAACie,GAAD,CACH9B,QAAYzD,GAAII,OAAOsE,EAAKpe,MAAMyW,MAAMlH,OAAO2P,OAC/CjC,YAAgBvD,GAAIQ,QAAQkE,EAAKpe,MAAMyW,MAAMlH,OAAO2P,OACpD9O,GAAIgO,EAAKpe,MAAMyW,MAAMlH,OAAO2P,MAC5BrC,OAAQ1U,EACR4U,OAAQqB,EAAKzd,MAAMsa,OAAOlJ,KAAKgL,OAC/BxV,IAAKD,OAKbxG,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAC8d,GAAD,CACI9Z,KAAM5E,KAAKJ,MAAM2D,SAAS6Q,SAC1B2B,OAAS/V,KAAKJ,MAAM2D,SAASwS,OAC7B4F,UAAW3b,KAAKO,MAAMsa,OAAOlJ,KAAKyM,WAClCzN,KAAM3Q,KAAKO,MAAMsa,OAAOlJ,KAAKhB,UAjGhCjQ,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aAAYP,EAAAC,EAAAC,cAACiF,EAAD,cA7ElB1D,aAwLP4c,eAAWtB,IC3LLuB,eAEnB,SAAAA,EAAYpf,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgf,GACjBnf,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkf,GAAA7e,KAAAH,KAAMJ,IAEN,IAAMgW,EAAUC,KAAGC,MAAMlW,EAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IAHnD,OAIjBnW,EAAKU,MAAQ,CACX0e,MAAOrJ,EAAQlF,EACfC,KAAMiF,EAAQjF,MANC9Q,kFAUAie,EAAWoB,GAC5B,IAAMC,EAActJ,KAAGC,MAAMgI,EAAUva,SAASwS,OAAQ,CAACC,mBAAmB,IACtEoJ,EAAcvJ,KAAGC,MAAM9V,KAAKJ,MAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IAE1EmJ,EAAYxO,OAASyO,EAAYzO,MAClC3Q,KAAKS,SAAS,CACZkQ,KAAMyO,EAAYzO,OAGnBwO,EAAYzO,IAAM0O,EAAY1O,GAC/B1Q,KAAKS,SAAS,CACZwe,MAAOG,EAAY1O,qCAMvB,MAA6E,qBAAlE9H,GAAa5I,KAAKJ,MAAMyW,MAAMlH,OAAO2P,OAAO9e,KAAKO,MAAM0e,OAE9Dve,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACqd,GAAA,EAAD,CAAOnd,MAAM,UAAUG,UAAU,QAC7BP,EAAAC,EAAAC,cAAA,MAAIK,UAAU,iBAAd,UADJ,kBAEmBP,EAAAC,EAAAC,cAAA,YAAOZ,KAAKO,MAAM0e,OAFrC,YAQJve,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACye,GAAD,CAASrP,GAAKhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAAQ1Z,KAAMwD,GAAa5I,KAAKJ,MAAMyW,MAAMlH,OAAO2P,OAAO9e,KAAKO,MAAM0e,OAAO1c,QACnH7B,EAAAC,EAAAC,cAAC0e,GAAD,CACKtP,GAAIhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAC5BzC,MAAOrc,KAAKO,MAAM0e,MAClBvP,KAAK,QACLiB,KAAM3Q,KAAKO,MAAMoQ,eA9CYxO,2CCJpBod,eAEnB,SAAAA,EAAY3f,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuf,IACjB1f,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyf,GAAApf,KAAAH,QACKO,MAAQ,CACXoc,QAAQ,EACR1M,KAAK,GAJUpQ,yEAQT2f,EAASvM,GASjB,IAAIwM,EACJ,GATAD,EAAUlG,GAAIU,cAAchT,IAAI,SAAAR,GAC9B,QAAGgZ,EAAQhZ,IACF,CAAE2L,MAAO3L,EAAIuT,MAAOyF,EAAQhZ,GAAIuT,SAIxCtC,OAAQ,SAAAvQ,GAAO,OAAOA,IAGrB+L,EACFwM,EAAQD,EAAQ/H,OAAQ,SAAA1P,GACtB,OAAOA,EAAEoK,QAAUc,IAClB,OACE,CACL,GAAIqG,GAAIO,cAAc7Z,KAAKJ,MAAMoQ,IAAI,CACnC,IAAMuB,EAAI+H,GAAIO,cAAc7Z,KAAKJ,MAAMoQ,IAAIyD,SAAS,SAAW6F,GAAIO,cAAc7Z,KAAKJ,MAAMoQ,IAAlF,UAAAa,OAAkG7Q,KAAKJ,MAAMoQ,GAA7G,KAAAa,OAAmHyI,GAAIO,cAAc7Z,KAAKJ,MAAMoQ,KAE1JyP,EAASD,EAAQ/H,OAAQ,SAAA1P,GACvB,OAAOA,EAAEoK,QAAUZ,IAClB,QAEHkO,EAASD,EAAQ,GAEnBxf,KAAKJ,MAAMuX,SAASsI,GAGtBzf,KAAKS,SAAS,CACZkc,OAAQ6C,EACRvP,IAAKwP,gDAKU,IAAA/J,EAAA1V,KACjBkP,GAASwQ,QAAQ1f,KAAKJ,MAAMoQ,GAAI,SAAAjH,GAC9B2M,EAAKiK,UAAU5W,EAAK4T,OAAQjH,EAAK9V,MAAMqQ,wCAKzC,OAAKjQ,KAAKO,MAAMoc,OAKZjc,EAAAC,EAAAC,cAACgf,GAAA,EAAD,CACEC,aAAe7f,KAAKO,MAAM0P,IAC1B6P,QAAU9f,KAAKO,MAAMoc,OACrBxF,SAAWnX,KAAKJ,MAAMuX,WAPnB,YApD0BhV,uBCAlB4d,eAEnB,SAAAA,EAAYngB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+f,IACjBlgB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAigB,GAAA5f,KAAAH,QASFggB,cAAgB,SAAC9P,GACfrQ,EAAKY,SAAS,CAACwf,WAAW,IADA,IAAAC,EAERrgB,EAAKD,MAAMqQ,IAAIkQ,MAAM,KAFbC,EAAAtgB,OAAAqE,EAAA,EAAArE,CAAAogB,EAAA,GAEnBlQ,EAFmBoQ,EAAA,GAEfnQ,EAFemQ,EAAA,GAG1BlR,GAASmR,aAAarQ,EAAIC,EAAKC,EAAQ,SAAAM,GACrC3Q,EAAKY,SAAS,CACZqf,QAAUtP,EACVyP,WAAW,OAbfpgB,EAAKU,MAAQ,CACX0f,WAAW,EACXK,UAAU,EACVR,QAAS,IANMjgB,wEAsBjB,OAAIG,KAAKO,MAAMuf,QAKbpf,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC2f,GAAA,eAADzgB,OAAAkc,OAAA,GACMhc,KAAKO,MADX,CAEEigB,UAAW,EACXnJ,YAAY,cACZoJ,SAAUzgB,KAAKggB,cACfU,cAAe1gB,KAAKJ,MAAMuX,SAC1BA,SAAUnX,KAAKJ,MAAMuX,SACrBwJ,kBAAmB3gB,KAAKJ,MAAMkR,IAAM9Q,KAAKJ,MAAMkR,IAAM,OAZlD,YAzB2B3O,aCEnBye,eAEnB,SAAAA,EAAYhhB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4gB,IACjB/gB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8gB,GAAAzgB,KAAAH,QACKO,MAAQ,CACX0P,IAAKrQ,EAAMqQ,IACXa,IAAKlR,EAAMkR,IACXC,QAAyB,IAAjBnR,EAAMmR,QAIhBlR,EAAKghB,aAAehhB,EAAKghB,aAAaxgB,KAAlBP,OAAAQ,EAAA,EAAAR,CAAAD,IACpBA,EAAKihB,aAAejhB,EAAKihB,aAAazgB,KAAlBP,OAAAQ,EAAA,EAAAR,CAAAD,IACpBA,EAAKkhB,WAAalhB,EAAKkhB,WAAW1gB,KAAhBP,OAAAQ,EAAA,EAAAR,CAAAD,IAClBA,EAAKmhB,cAAgBnhB,EAAKmhB,cAAc3gB,KAAnBP,OAAAQ,EAAA,EAAAR,CAAAD,IAZJA,kFAeAie,GACbA,IAAc9d,KAAKJ,OACrBI,KAAKS,SAAS,CACZwP,IAAKjQ,KAAKJ,MAAMqQ,IAChBa,IAAK9Q,KAAKJ,MAAMkR,IAChBC,SAAQ/Q,KAAKJ,MAAMmR,8CAKZQ,GACXvR,KAAKS,SAAS,CACZwP,IAAKsB,EAAE0P,cAAgBnhB,QAAUyR,EAAEY,MAAQZ,EAAEY,MAAQZ,uCAG9CA,GACTvR,KAAKS,SAAS,CACZqQ,IAAKS,EAAE0P,cAAgBC,MAAQ3P,EAAE,GAAKA,0CAG5BxJ,GACZ/H,KAAKS,SAAS,CACZsQ,OAAQhJ,EAAE1F,OAAO8V,+CAIRgJ,GACXA,EAAMC,iBACDphB,KAAKO,MAAMuQ,IAIhB9Q,KAAKJ,MAAMyhB,SAASrhB,KAAKO,MAAM0P,IAAKjQ,KAAKO,MAAMuQ,IAAK9Q,KAAKO,MAAMwQ,QAH7DuQ,MAAM,+DAOR,OACE5gB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAA,QAAMygB,SAAUrhB,KAAK6gB,aAAc5f,UAAU,QAE3CP,EAAAC,EAAAC,cAAC2gB,GAAA,EAAD,CAAWC,KAAG,GAEZ9gB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAI,GACPtc,EAAAC,EAAAC,cAAC6gB,GAAD,CACIzR,GAAKhQ,KAAKJ,MAAMoQ,GAChBC,IAAKjQ,KAAKO,MAAM0P,IAChBkH,SAAWnX,KAAK8gB,gBAItBpgB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAI,GACPtc,EAAAC,EAAAC,cAAC8gB,GAAD,CACEzR,IAAMjQ,KAAKO,MAAM0P,IACjBa,IAAK9Q,KAAKO,MAAMuQ,IAChBqG,SAAUnX,KAAK+gB,cAInBrgB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAI,GACPtc,EAAAC,EAAAC,cAAC+gB,GAAA,EAAD,CAAOC,OAAK,GACVlhB,EAAAC,EAAAC,cAACsW,GAAA,EAAD,CACI3P,KAAK,SACLmI,KAAK,WACLyI,QAASnY,KAAKO,MAAMwQ,OACpBoG,SAAUnX,KAAKghB,gBALrB,YAUFtgB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAI,GAAT,IAAatc,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQsJ,KAAK,SAAS5O,MAAM,UAAUuF,OAAK,GAA3C,WAAb,eAtFkClE,aCAzB0f,eAEnB,SAAAA,EAAYjiB,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6hB,GACjBhiB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+hB,GAAA1hB,KAAAH,KAAMJ,IAEN,IAAMgW,EAAUC,KAAGC,MAAMlW,EAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IAHnD,OAIjBnW,EAAKU,MAAQ,CACX0P,IAAK2F,EAAQpE,EACbV,IAAK8E,EAAQrE,EACbR,OAAS6E,EAAQrF,GAAmB,UAAdqF,EAAQrF,GAA+B,cAAdqF,EAAQrF,EACvDI,KAAMiF,EAAQjF,MAGhB9Q,EAAKiiB,cAAgBjiB,EAAKiiB,cAAczhB,KAAnBP,OAAAQ,EAAA,EAAAR,CAAAD,IAXJA,6EAcLoQ,EAAKa,EAAKC,GACtB,IAAMR,EAAI,KAAO3E,mBAAmBqE,IACrBc,EAAS,OAAS,IACnB,MAAQnF,mBAAmBkF,GAEzC9Q,KAAKS,SAAS,CACZwP,IAAKA,EACLa,IAAKA,EACLC,OAAQA,IAGV/Q,KAAKJ,MAAMmiB,QAAQ3P,KAAnB,WAAAvB,OAAmC7Q,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAA3D,KAAAjO,OAAoEN,+CAGnDuN,EAAWoB,GAC5B,IAAMtJ,EAAUC,KAAGC,MAAM9V,KAAKJ,MAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IACtEhW,KAAKO,MAAMoQ,OAASiF,EAAQjF,MAC7B3Q,KAAKS,SAAS,CACZkQ,KAAMiF,EAAQjF,wCAMlB,OACEjQ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACye,GAAD,CAASrP,GAAKhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAAQ1Z,KAAK,kBAEpD1E,EAAAC,EAAAC,cAAA,OAAKK,UAAU,sBACZP,EAAAC,EAAAC,cAACohB,GAAD,CACIhS,GAAKhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAC7BuC,SAAUrhB,KAAK8hB,cACf7R,IAAKjQ,KAAKO,MAAM0P,IAChBa,IAAK9Q,KAAKO,MAAMuQ,IAChBC,OAAQ/Q,KAAKO,MAAMwQ,SAEvBrQ,EAAAC,EAAAC,cAAA,YAGAZ,KAAKO,MAAM0P,KAAOjQ,KAAKO,MAAMuQ,KAAOpQ,EAAAC,EAAAC,cAAC0e,GAAD,CAClCtP,GAAIhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAC5BpP,KAAK,SACLO,IAAKjQ,KAAKO,MAAM0P,IAChBa,IAAK9Q,KAAKO,MAAMuQ,IAChBC,OAAQ/Q,KAAKO,MAAMwQ,OACnBJ,KAAM3Q,KAAKO,MAAMoQ,eA7DaxO,aCLrB8f,oLAmCjB,OACEvhB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsW,GAAA,EAADpX,OAAAkc,OAAA,CAAOtM,KAAK,SAAS2H,YAAY,UAAarX,KAAKJ,OAjCrC,CAChB,CACEqH,EAAK,OACLsK,EAAK,YAEP,CACEtK,EAAK,IACLsK,EAAK,cACP,CACEtK,EAAK,WACLsK,EAAK,oBACP,CACEtK,EAAK,cACLsK,EAAK,eACP,CACEtK,EAAK,YACLsK,EAAK,aACP,CACEtK,EAAK,WACLsK,EAAK,YACP,CACEtK,EAAK,eACLsK,EAAK,gBACP,CACEtK,EAAK,IACLsK,EAAK,kBACP,CACEtK,EAAK,IACLsK,EAAK,oBAMQvK,IAAK,SAACwK,EAAGtK,GAClB,OAAQxG,EAAAC,EAAAC,cAAA,UAAQuG,IAAKD,EAAGiL,MAAOX,EAAEvK,GAAKuK,EAAED,cAvCRpP,aCAvB+f,oLAIjB,OACExhB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsW,GAAA,EAADpX,OAAAkc,OAAA,CAAOtM,KAAK,UAAa1P,KAAKJ,OAC5Bc,EAAAC,EAAAC,cAAA,UAAQuR,MAAM,OAAd,OACAzR,EAAAC,EAAAC,cAAA,UAAQuR,MAAM,MAAd,eARmChQ,aCQxBggB,eAEnB,SAAAA,EAAYviB,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmiB,GACjBtiB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqiB,GAAAhiB,KAAAH,KAAMJ,IAEN,IAEIwiB,EAFExM,EAAUC,KAAGC,MAAMlW,EAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IAGhEvH,GAAO,EANM,OAQiC,IAA/C3O,OAAOuiB,oBAAoBzM,GAAS9N,OACrCsa,EAAO,CACLzhB,EAAK,CACH6Q,EAAG,GACHC,EAAG,OACHF,EAAG,MAIP6Q,EAAOxM,EACPnH,GAAO,GAGT5O,EAAKU,MAAQ,CACX6hB,KAAMA,EACNE,YAAa7T,EACbkC,MAAM,GAGR9Q,EAAK0iB,gBAAkB1iB,EAAK0iB,gBAAgBliB,KAArBP,OAAAQ,EAAA,EAAAR,CAAAD,IACvBA,EAAK2iB,iBAAmB3iB,EAAK2iB,iBAAiBniB,KAAtBP,OAAAQ,EAAA,EAAAR,CAAAD,IACxBA,EAAK4iB,QAAU5iB,EAAK4iB,QAAQpiB,KAAbP,OAAAQ,EAAA,EAAAR,CAAAD,IACfA,EAAK6iB,WAAa7iB,EAAK6iB,WAAWriB,KAAhBP,OAAAQ,EAAA,EAAAR,CAAAD,IA9BDA,0EAmCRkI,GACT,IAAIqa,EAAOpiB,KAAKO,MAAM6hB,YAEfA,EADQra,EAAE1F,OAAOkF,MAExBvH,KAAKS,SAAS,CACZ2hB,KAAMA,EACNE,aAAa,sCAKf,IAAIF,EAAOpiB,KAAKO,MAAM6hB,KAEtBA,EADY,IAAMjH,KAAKwH,SAASC,SAAS,IAAIC,OAAO,EAAG,IAC3C,CAAErR,EAAG,GAAIC,EAAG,OAAQF,EAAG,GAAIG,EAAG,OAC1C1R,KAAKS,SAAS,CACZ2hB,KAAMA,EACNE,aAAa,yCAIJQ,EAAOhS,GAClB,IAAIsR,EAAOpiB,KAAKO,MAAM6hB,KACtBA,EAAKU,GAAOtR,EAAIV,EAAImQ,cAAgBnhB,QAAUgR,EAAIqB,MAAQrB,EAAIqB,MAAQrB,EACtE9Q,KAAKS,SAAS,CACZ2hB,KAAMA,EACNE,aAAa,uCAINQ,EAAOhS,GAChB,IAAIsR,EAAOpiB,KAAKO,MAAM6hB,KACtBA,EAAKU,GAAOvR,EAAIT,EAAImQ,cAAgBC,MAAQpQ,EAAI,GAAKA,EACrD9Q,KAAKS,SAAS,CACZ2hB,KAAMA,EACNE,aAAa,4CAIDva,GACd,IAAIqa,EAAOpiB,KAAKO,MAAM6hB,KACtBA,EAAKra,EAAE1F,OAAOkF,MAAMkK,EAAI1J,EAAE1F,OAAO8P,MACjCnS,KAAKS,SAAS,CACZ2hB,KAAMA,EACNE,aAAa,6CAIAva,GACf,IAAIqa,EAAOpiB,KAAKO,MAAM6hB,KACtBA,EAAKra,EAAE1F,OAAOkF,MAAMmK,EAAI3J,EAAE1F,OAAO8P,MACjCnS,KAAKS,SAAS,CACZ2hB,KAAMA,EACNE,aAAa,0CAIHva,GACZA,EAAEqZ,iBACFphB,KAAKS,SAAS,CACZ6hB,aAAa,IAEf,IAAM/R,EAAIsF,KAAG0F,UAAUvb,KAAKO,MAAM6hB,MAClCpiB,KAAKJ,MAAMmiB,QAAQ3P,KAAnB,WAAAvB,OAAmC7Q,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAA3D,SAAAjO,OAAwEN,+CAGvDuN,EAAWoB,GAC5B,IAAMtJ,EAAUC,KAAGC,MAAM9V,KAAKJ,MAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IACtEhW,KAAKO,MAAMoQ,OAASiF,EAAQjF,MAC7B3Q,KAAKS,SAAS,CACZkQ,KAAMiF,EAAQjF,wCAKX,IAAA+E,EAAA1V,KACP,OACEU,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACye,GAAD,CAASrP,GAAKhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAAQ1Z,KAAK,oBAEnD1E,EAAAC,EAAAC,cAAA,OAAKK,UAAU,sBACbP,EAAAC,EAAAC,cAAA,QAAMygB,SAAUrhB,KAAK+iB,cAAc1iB,KAAKL,MAAOiB,UAAU,QAErDnB,OAAOqR,QAAQnR,KAAKO,MAAM6hB,MAAMpb,IAAI,SAACe,EAAGb,GACtC,IAAMD,EAAIc,EAAE,GACNwJ,EAAIxJ,EAAE,GAEZ,OAAOrH,EAAAC,EAAAC,cAAA,OAAKuG,IAAKD,EAAGjG,UAAU,QAC5BP,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KACE9B,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKC,GAAI,GACLwE,EAAI,GAAKxG,EAAAC,EAAAC,cAACoiB,GAAD,CACPnD,aAActO,EAAEG,EAChByF,SAAUzB,EAAK8M,iBACfjb,KAAMN,KAGZvG,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKC,GAAI,GACPhC,EAAAC,EAAAC,cAAC6gB,GAAD,CACEzR,GAAK0F,EAAK9V,MAAMyW,MAAMlH,OAAO2P,MAC7B7O,IAAKsB,EAAEC,EACP2F,SAAWzB,EAAKoL,aAAazgB,KAAKqV,EAAMzO,MAG5CvG,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKC,GAAI,GACPhC,EAAAC,EAAAC,cAACqiB,GAAD,CACEpD,aAActO,EAAEE,EAChBlK,KAAMN,EACNkQ,SAAWzB,EAAK6M,mBAGpB7hB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKC,GAAI,GACPhC,EAAAC,EAAAC,cAAC8gB,GAAD,CACEzR,IAAMsB,EAAEC,EACRV,IAAKS,EAAEA,EACP4F,SAAUzB,EAAKqL,WAAW1gB,KAAKqV,EAAMzO,MAIzCvG,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKC,GAAI,GACLwE,EAAE,IAAMpH,OAAO2H,KAAKiO,EAAKnV,MAAM6hB,MAAMta,QAAUpH,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQsJ,KAAK,SAAS5O,MAAM,OAAOuF,OAAK,EAAC9E,QAAUmU,EAAK+M,SAAxD,MAEnD/hB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKC,GAAI,GACLwE,EAAI,GAAKxG,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQsJ,KAAK,SAAS5O,MAAM,SAASuF,OAAK,EAACkB,KAAMN,EAAG1F,QAAUmU,EAAKgN,YAAnE,UAOrBhiB,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQsJ,KAAK,SAAS5O,MAAM,UAAUuF,OAAK,GAA3C,YAEF3F,EAAAC,EAAAC,cAAA,YAGAZ,KAAKO,MAAM+hB,aAAe5hB,EAAAC,EAAAC,cAAC0e,GAAD,CACxBtP,GAAIhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAC5BpP,KAAK,MACL3G,KAAM/I,KAAKO,MAAM6hB,KACjBzR,KAAM3Q,KAAKO,MAAMoQ,eA9KcxO,aCJtB0f,oLAIjB,IAAMjM,EAAUC,KAAGC,MAAM9V,KAAKJ,MAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IAEzE,OACEtV,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACye,GAAD,CAASrP,GAAKhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAAQ1Z,KAAK,iBACnD1E,EAAAC,EAAAC,cAAC0e,GAAD,CACItP,GAAIhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAC5BpP,KAAK,UACLgB,EAAGkF,EAAQlF,EACXC,KAAMiF,EAAQjF,eAbgBxO,aCArB+gB,eAEnB,SAAAA,EAAYtjB,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkjB,GACjBrjB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAojB,GAAA/iB,KAAAH,KAAMJ,IAEN,IAAMgW,EAAUC,KAAGC,MAAMlW,EAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IAHnD,OAIjBnW,EAAKU,MAAQ,CACXoQ,KAAMiF,EAAQjF,MALC9Q,kFASAie,EAAWoB,GAC5B,IAAMtJ,EAAUC,KAAGC,MAAM9V,KAAKJ,MAAM2D,SAASwS,OAAQ,CAACC,mBAAmB,IACtEhW,KAAKO,MAAMoQ,OAASiF,EAAQjF,MAC7B3Q,KAAKS,SAAS,CACZkQ,KAAMiF,EAAQjF,wCAMlB,OACEjQ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACye,GAAD,CAASrP,GAAKhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAAQ1Z,KAAK,aAEpD1E,EAAAC,EAAAC,cAAC0e,GAAD,CACKtP,GAAIhQ,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAC5BpP,KAAK,MACLiB,KAAM3Q,KAAKO,MAAMoQ,eA5BUxO,+UCsBxB,SAASghB,GAAMvjB,GAE5B,IAAMoQ,EAAKpQ,EAAMyW,MAAMlH,OAAO2P,MAExBsE,EAAU,CACdxb,OAAQ,CACNmS,MAAO,SACPsJ,IAAKC,KACLva,KAAM,CAAC,CACLxG,OAAO,EACPghB,OAAQC,QAGZpZ,YAAa,CACX2P,MAAO,cACPsJ,IAAKI,KACL1a,KAAM,CAAC,CACLxG,OAAO,EACPghB,OAAQG,QAGZpY,MAAO,CACLyO,MAAO,QACPsJ,IAAKM,KACL5a,KAAM,CAAC,CACLxG,OAAO,EACPghB,OAAQK,MACP,CACDrhB,MAAO,0DACPghB,OAAQM,QAGZtd,OAAQ,CACNwT,MAAO,SACPsJ,IAAKS,KACL/a,KAAM,CAAC,CACLxG,OAAO,EACPghB,OAAQQ,QAGZ7Z,QAAS,CACP6P,MAAO,UACPsJ,IAAKW,KACLjb,KAAM,CAAC,CACLxG,OAAO,EACPghB,OAAQU,QAGZ5W,UAAW,CACT0M,MAAO,YACPsJ,IAAKa,KACLnb,KAAM,CAAC,CACLxG,OAAO,EACPghB,OAAQY,QAGZxK,YAAa,CACXI,MAAO,cACPsJ,IAAKe,KACLrb,KAAM,CAAC,CACLxG,OAAO,EACPghB,OAAQc,SAMd,IAAKjB,EAAQkB,eAAetU,GAC1B,OAAQtP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,6CAAf,4BAENP,EAAAC,EAAAC,cAAA,YAAQoP,IAIZ,IAAMQ,EAAI4S,EAAQpT,GAEduU,EAAS,GAab,OAXG/T,EAAE6S,MACHkB,EAAS,CACP1gB,MAAO,OACP6W,OAAQ,QACR8J,gBAAiB,OAAShU,EAAE6S,IAAK,IACjCoB,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,YAIjBjkB,EAAAC,EAAAC,cAAA,WACLF,EAAAC,EAAAC,cAAA,OAAKiB,MAAQ0iB,IAEb7jB,EAAAC,EAAAC,cAACye,GAAD,CAASvG,QAAStI,EAAEuJ,MAAO/J,GAAIA,EAAI5K,KAAK,iBACxC1E,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACXuP,EAAEzH,KAAK/B,IAAK,SAACE,EAAGD,GAChB,OAAQvG,EAAAC,EAAAC,cAAA,OAAKuG,IAAMF,EAAIhG,UAAS,eAAA4P,OAAiB5J,EAAjB,0BAC5BC,EAAE3E,OAAS7B,EAAAC,EAAAC,cAAA,UAAMsG,EAAE3E,OACrB7B,EAAAC,EAAAC,cAAA,OAAKK,UAAU,2CACbP,EAAAC,EAAAC,cAACmD,EAAD,CAAmBa,KAAMsC,EAAEqc,kDC1FxBqB,eAhCb,SAAAA,EAAYhlB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4kB,IACjB/kB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8kB,GAAAzkB,KAAAH,KAAMJ,KACDW,MAAQ,CACXskB,IAAM1J,KAAKwH,SAASC,SAAS,IAAIC,OAAO,EAAG,IAH5BhjB,mFAQQ,OAAtBG,KAAKJ,MAAMsQ,QACF,IAAI4U,KAAO,SAAY9kB,KAAKO,MAAMskB,KAC1CE,YAAY/kB,KAAKJ,MAAMsQ,OAAQ,aAAelQ,KAAKO,MAAMskB,sCAK7D,IAAInK,GAAS,EAIb,OAHyB,OAAtB1a,KAAKJ,MAAMsQ,SACZwK,EAAS,IAAM1a,KAAKJ,MAAMsQ,OAAOpI,OAAS,EAAI,IAG9CpH,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KACE9B,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAK+D,GAAG,aAAcxG,KAAKJ,MAAMsQ,QACjCxP,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAK+D,GAAK,aAAexG,KAAKO,MAAMskB,OAEpCnK,GAAUha,EAAAC,EAAAC,cAAA,UAAQiD,MAAM,MAAM6W,OAASA,EAASlU,GAAK,SAAUxG,KAAKO,MAAMskB,cA3BtD1iB,kCCG9B,IAAM6iB,GAAY,SAAC5f,GASjB,OARe6f,KAAM7f,GACG4B,IAAK,SAACuM,EAAGrM,GAC/B,MAAiB,kBAANqM,EACF7S,EAAAC,EAAAC,cAAA,QAAMK,UAAU,gBAAgBkG,IAAKD,EAAGge,wBAAyB,CAAEC,QCN1C/f,EDMgEmO,ECL7FnO,EAAKkL,QACV,4CACA,SAAS+F,EAAO+O,EAAIC,EAAIC,EAAIC,EAAI1iB,EAAQqN,GACtC,mBAAAW,OAAoBuU,EAApB,KAAAvU,OAA0BwU,EAA1B,gBAAAxU,OACKyU,GAAMC,EAAKA,EAAX,SAAA1U,OAAyBuU,EAAzB,KAAAvU,OAA+BwU,GADpC,sBDIO9R,ECRE,IAAuBnO,KDejBogB,eAEnB,SAAAA,EAAY5lB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwlB,IACjB3lB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0lB,GAAArlB,KAAAH,KAAMJ,KACDW,MAAQ,CACXklB,QAAU,QAEZ5lB,EAAK6lB,cAAgB7lB,EAAK6lB,cAAcrlB,KAAnBP,OAAAQ,EAAA,EAAAR,CAAAD,IALJA,+EAUjBG,KAAKS,SAAS,CACZglB,QAAgC,SAAvBzlB,KAAKO,MAAMklB,QAAqB,SAAW,0CAKtD,IAAME,EE9BK,SAAuBnR,EAAc3R,GAA8B,IAAb+iB,EAAargB,UAAAuC,OAAA,QAAAmT,IAAA1V,UAAA,GAAAA,UAAA,GAAL,IAG3E,IAAKiP,GAAOA,EAAI1M,QAAUjF,EACxB,MAAO,CAAC2R,GAAK,GAGf,IAAMqR,EAAOrR,EAAIqO,OAAO,EAAGhgB,GAG3B,GAAIgjB,EAAKhD,OAAOgD,EAAK/d,OAAS,KAAO8d,EACnC,MAAO,CAACC,GAAM,GAIhB,IAAMC,EAAQD,EAAO,GAAKrR,EAAIlE,QAAQuV,EAAM,IAAI1F,MAAMyF,GAAO,GAEvDG,EAAOvR,EAAIlE,QAAQwV,EAAQ,GAAKF,EAAO,IAG7C,MAAO,CACLE,EAAQF,EACRG,IAASD,GAAgBC,GFQPC,CAAahmB,KAAKJ,MAAMwF,KAAM,IAAKpF,KAAKJ,MAAMqmB,WAChE,OAAKN,EAAU,GAKbjlB,EAAAC,EAAAC,cAAA,YAAQokB,GAAUW,EAAU,IAC1BjlB,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE4jB,QAASzlB,KAAKO,MAAMklB,UAAaT,GAAUW,EAAU,KAC5C,SAAvB3lB,KAAKO,MAAMklB,QAAqB,SAAW,GAC5C/kB,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQtF,MAAM,OAAO6B,KAAK,KAAK1B,UAAU,OAAOM,QAAUvB,KAAK0lB,eACrC,SAAvB1lB,KAAKO,MAAMklB,QAAqB,IAAM,MARpCT,GAAUW,EAAU,WApBQxjB,aGiB1B+jB,oLA3BX,IAAMpV,EAAM9Q,KAAKJ,MAAMkR,IACjBiJ,EAAQ/Z,KAAKJ,MAAMma,MACzB,IAAKjJ,GAAe,KAARA,EACV,OAAO,KAET,IAAI7P,EAAY,GAOhB,OANGjB,KAAKJ,MAAM2Z,QACZtY,EAAUmR,KAAK,UAEdpS,KAAKJ,MAAM4Z,OACZvY,EAAUmR,KAAK,SAGf1R,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAKvB,UAAW,gCAA0C,OAAR6P,EAAe,GAAK,YACpEpQ,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAG,IAAIpa,GAAG,KACblC,EAAAC,EAAAC,cAAA,SAAOK,UAAU,oBAAoB8Y,IAEvCrZ,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,KACE/B,EAAAC,EAAAC,cAAA,OAAKK,UAAYA,EAAU+H,KAAK,MACf,iBAAV+Q,EAA8BrZ,EAAAC,EAAAC,cAACulB,GAAD,CAAiBjW,OAAQY,IAAWpQ,EAAAC,EAAAC,cAACwlB,GAAD,CAAahhB,KAAM0L,EAAKmV,UAAWjmB,KAAKJ,MAAM2Z,OAAS,SAAW,gBAtB5HpX,iBCIJkkB,oLAIjB,OACE3lB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAEbP,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KAAYxc,EAAAC,EAAAC,cAAA,UAAMZ,KAAKJ,MAAMmJ,KAAKud,SAASC,WAC3C7lB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KAEElZ,KAAKJ,MAAMmJ,KAAKA,KAAK/B,IAAK,SAACwJ,EAAGgW,GAC5B,OACE9lB,EAAAC,EAAAC,cAAA,QAAMuG,IAAKqf,EAAIvlB,UAAU,SArBvBwlB,EAsBWjW,EAAEiW,OAAO3V,IAtBZ4V,EAsBiBlW,EAAEkW,MAAM5V,IArB7C2V,EACM/lB,EAAAC,EAAAC,cAAA,KAAGsB,KAAM,iEAAmEukB,EAAQpkB,OAAO,SAASC,IAAI,uBAAuBokB,GAEhIA,GAmBSlW,EAAEmW,QAAQ7V,IAAO,KAAON,EAAEmW,QAAQ7V,IAAO,GACzCN,EAAEoW,OAAO9V,IAAT,KAAAD,OAAqBL,EAAEoW,OAAO9V,IAA9B,MAAyC,KAxB7D,IAAkB2V,EAAQC,cAQgBvkB,aCNrB0kB,eAEnB,SAAAA,EAAYjnB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6mB,IACjBhnB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+mB,GAAA1mB,KAAAH,KAAMJ,KACDW,MAAQ,CACXwF,OAAO,GAGTlG,EAAKO,OAASP,EAAKO,OAAOC,KAAZP,OAAAQ,EAAA,EAAAR,CAAAD,IANGA,gFAQF2Q,GACf,OACE9P,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK4P,EAAEsW,QAAQhW,KACxCpQ,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK4P,EAAEuW,KAAKjW,KACrCpQ,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK4P,EAAEwW,YAAYlW,KAC5CpQ,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK4P,EAAEjJ,KAAKuJ,KACrCpQ,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAK4P,EAAEyW,WAAWnW,KAC3CpQ,EAAAC,EAAAC,cAAA,8BAAyBF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,gCAAwB4P,EAAEhK,GAAGsK,sCAKzDN,GACDA,EAAEhK,IACJxG,KAAKS,SAAS,CACZ8B,MAAOiO,EAAE0W,SAASpW,IAClBqW,KAAMnnB,KAAKonB,iBAAiB5W,KAKhCxQ,KAAKS,SAAS,CACZsF,OAAQ/F,KAAKO,MAAMwF,yCAMd,IAAA2P,EAAA1V,KACP,OACEU,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAEbP,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KAAYxc,EAAAC,EAAAC,cAAA,UAAMZ,KAAKJ,MAAMmJ,KAAKud,SAASC,WAC3C7lB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KACExY,EAAAC,EAAAC,cAAA,UAEEZ,KAAKJ,MAAMmJ,KAAKA,KAAK/B,IAAK,SAACwJ,EAAGgW,GAC5B,OACE9lB,EAAAC,EAAAC,cAAA,MAAIuG,IAAKqf,GACP9lB,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQvE,MAAO,CAAC4G,OAAQ,YAAaC,QAAS,GAAI5H,MAAM,OAAOS,QAAU,kBAAMmU,EAAKtV,OAAOoQ,KACxFA,EAAE0W,SAASpW,KAEZN,EAAE6W,UAAUvW,IAAM,KAAON,EAAE6W,UAAUvW,IAAM,GAC3CN,EAAE8W,GAAGxW,IAAM,KAAON,EAAE8W,GAAGxW,IAAM,SAS3CpQ,EAAAC,EAAAC,cAACoF,GAAA,EAAD,CAAOxF,OAAQR,KAAKO,MAAMwF,MAAO3F,OAAQJ,KAAKI,QAC5CM,EAAAC,EAAAC,cAACqF,GAAA,EAAD,CAAa7F,OAAQJ,KAAKI,QAAUJ,KAAKO,MAAMgC,OAC/C7B,EAAAC,EAAAC,cAACsF,GAAA,EAAD,KAAalG,KAAKO,MAAM4mB,eAlEYhlB,aCDxColB,eAEJ,SAAAA,EAAY3nB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAunB,IACjB1nB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAynB,GAAApnB,KAAAH,KAAMJ,KACDW,MAAQ,CACXklB,QAAU,QAEZ5lB,EAAK6lB,cAAgB7lB,EAAK6lB,cAAcrlB,KAAnBP,OAAAQ,EAAA,EAAAR,CAAAD,IALJA,+EAUjBG,KAAKS,SAAS,CACZglB,QAAgC,SAAvBzlB,KAAKO,MAAMklB,QAAqB,SAAW,0CAKtD,OACE/kB,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE4jB,QAASzlB,KAAKO,MAAMklB,SAAWxkB,UAAU,gCAAiCjB,KAAKJ,MAAMwF,MACpG1E,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQtF,MAAM,OAAO6B,KAAK,KAAK1B,UAAU,OAAOM,QAAUvB,KAAK0lB,eACrC,SAAvB1lB,KAAKO,MAAMklB,QAAqB/kB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,SAAY,aAtBpDE,aA6BnBqlB,oLAGF,IAAMC,EAAMznB,KAAKJ,MAAMmJ,KAAKjB,OAC5B,OAAQpH,EAAAC,EAAAC,cAAA,WACLZ,KAAKJ,MAAMmJ,KAAK/B,IAAK,SAACwJ,EAAGgW,GACxB,OAAO9lB,EAAAC,EAAAC,cAAA,QAAMK,UAAW,aAAewmB,IAAQjB,EAAG,EAAI,GAAK,gCAAiCrf,IAAKqf,GAC/F9lB,EAAAC,EAAAC,cAAA,QAAMK,UAAYuP,EAAEkX,SAAS5W,IAAMN,EAAEkX,SAAS5W,IAAI8D,cAAgB,GAAKrS,MAAOiO,EAAEmX,MAAM7W,KAClFN,EAAE6B,QAAQvB,IAAM,KAElBN,EAAEoX,cAAc9W,IAAMpQ,EAAAC,EAAAC,cAAA,QAAMK,UAAU,mBAAhB,IAAoCuP,EAAEoX,cAAc9W,IAApD,KAAmE,GACzFN,EAAEmX,MAAM7W,IAAMpQ,EAAAC,EAAAC,cAACinB,GAAD,CAAYziB,KAAOoL,EAAEmX,MAAM7W,MAAW,cAXzC3O,aAkBF2lB,sLAER1F,GACT,IAAI2F,EAAM,GASV,OAPA3F,EAAKhR,QAAS,SAACZ,EAAGgW,GACXuB,EAAIvX,EAAEkX,SAAS5W,OAClBiX,EAAIvX,EAAEkX,SAAS5W,KAAO,IAExBiX,EAAIvX,EAAEkX,SAAS5W,KAAKsB,KAAK5B,KAGpB1Q,OAAO2H,KAAKsgB,GAAK/gB,IAAI,SAACghB,EAAG9gB,GAC9B,OAAOxG,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAKvB,UAAW,+BAAiCkG,IAAKD,GAC3DxG,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAG,IAAIpa,GAAG,KACblC,EAAAC,EAAAC,cAAA,SAAOK,UAAU,oBAAoB+mB,IAEvCtnB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,KACE/B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqnB,GAAD,CAAUlf,KAAMgf,EAAIC,2CAS5B,OACEtnB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WACbP,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KAAYxc,EAAAC,EAAAC,cAAA,UAAMZ,KAAKJ,MAAMmJ,KAAKud,SAASC,WAC3C7lB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KACIlZ,KAAKkoB,WAAWloB,KAAKJ,MAAMmJ,KAAKA,gBAjCF5G,aCQ7BgmB,oLA9CJ,IAAAtoB,EAAAG,KAEP,OAAIA,KAAKJ,MAAMmJ,KAAKA,KAAKjB,OAAS,EACzB,KAG6B,oBAAnC9H,KAAKJ,MAAMmJ,KAAKud,SAAS8B,MACnB1nB,EAAAC,EAAAC,cAACynB,GAAD,CAActf,KAAO/I,KAAKJ,MAAMmJ,OAEH,wBAAnC/I,KAAKJ,MAAMmJ,KAAKud,SAAS8B,MACnB1nB,EAAAC,EAAAC,cAAC0nB,GAAD,CAAkBvf,KAAO/I,KAAKJ,MAAMmJ,OAEP,sBAAnC/I,KAAKJ,MAAMmJ,KAAKud,SAAS8B,MACnB1nB,EAAAC,EAAAC,cAAC2nB,GAAD,CAAgBxf,KAAO/I,KAAKJ,MAAMmJ,OAIzCrI,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAEbP,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KAAYxc,EAAAC,EAAAC,cAAA,UAAMZ,KAAKJ,MAAMmJ,KAAKud,SAASC,WAEzCvmB,KAAKJ,MAAMmJ,KAAKA,KAAK/B,IAAK,SAACwJ,EAAGgW,GAC5B,OAAQ9lB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,CAAU/R,IAAKqf,EAAIvlB,UAAU,2BACjCnB,OAAO2H,KAAK+I,GAAGxJ,IAAK,SAACwK,EAAGgX,GACtB,OAAIlP,GAAIG,OAAO8D,QAAQ1d,EAAKD,MAAMmJ,KAAKud,SAASmC,YAAc,IAAMjX,IAAM,EACjE,KAEC,SAANA,EACK,KAELhB,EAAEgB,GAAGuI,MACArZ,EAAAC,EAAAC,cAAC8nB,GAAD,CAAY5X,IAAMN,EAAEgB,GAAGmX,UAAYnY,EAAEgB,GAAGmX,UAAYnY,EAAEgB,GAAGV,IAAMiJ,MAAQvJ,EAAEgB,GAAGuI,MAAQ5S,IAAKqhB,IAEzF,OAGZ9nB,EAAAC,EAAAC,cAAA,uBAvCIuB,aCHAymB,oLAGjB,IAAM9X,EAAM9Q,KAAKJ,MAAMmJ,KAAK4f,UAAY3oB,KAAKJ,MAAMmJ,KAAK4f,UAAY3oB,KAAKJ,MAAMmJ,KAAK+H,IAC9EiJ,EAAQ/Z,KAAKJ,MAAMmJ,KAAKgR,MAE9B,IAAKjJ,GAAe,KAARA,EACV,OAAO,KAET,IAAI7P,EAAY,GAOhB,OANGjB,KAAKJ,MAAM2Z,QACZtY,EAAUmR,KAAK,UAEdpS,KAAKJ,MAAM4Z,OACZvY,EAAUmR,KAAK,SAGf1R,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAKvB,UAAW,gCAA0C,OAAR6P,EAAe,GAAK,YACpEpQ,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAG,IAAIpa,GAAG,KACblC,EAAAC,EAAAC,cAAA,SAAOK,UAAU,oBAAoB8Y,IAEvCrZ,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,KACE/B,EAAAC,EAAAC,cAAA,OAAKK,UAAYA,EAAU+H,KAAK,MACf,iBAAV+Q,EAA8BrZ,EAAAC,EAAAC,cAACulB,GAAD,CAAiBjW,OAAQY,IAAWpQ,EAAAC,EAAAC,cAACwlB,GAAD,CAAahhB,KAAM0L,EAAKmV,UAAWjmB,KAAKJ,MAAM2Z,OAAS,SAAW,gBAvB3GpX,aCJrB0mB,oLAGjB,IAAMlM,EAAS3c,KAAKJ,MAAM+c,OACpBmM,EAAS9oB,KAAKJ,MAAMkpB,OACtBra,GAAO,EAOX,OANAkO,EAAOvL,QAAS,SAAAI,GACO,qBAAVA,EAAEV,KAAuBU,EAAEV,KAAiB,KAAVU,EAAEV,MAC7CrC,GAAO,OAINA,GAKD/N,EAAAC,EAAAC,cAAA,YAAUK,UAAU,kCAChB6nB,GAAUpoB,EAAAC,EAAAC,cAAA,UAAQK,UAAU,uDAAuDY,MAAO,CAAEknB,SAAU,SAAUC,WAAc,SAAYF,GAE1InM,EAAO3V,IAAI,SAACwK,EAAEvK,GACZ,OAAQvG,EAAAC,EAAAC,cAACqoB,GAAD,CAAc9hB,IAAKF,EAAG8B,KAAOyI,cArBbrP,aCGjB+mB,oLAGjB,IAAMC,EAAMnpB,KAAKJ,MAAMupB,IAEvB,OACEzoB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,yBAAyBnM,OAAQ,CAC9CwM,EAAIE,KAAK7iB,GACT2iB,EAAIE,KAAKC,OACTH,EAAIE,KAAKE,GACTJ,EAAIE,KAAKG,KACTL,EAAIE,KAAKI,KACTN,EAAIE,KAAKK,MACTP,EAAIE,KAAKM,aACTR,EAAIE,KAAKO,aACTT,EAAIE,KAAKQ,cACTV,EAAIE,KAAKS,YAGXX,EAAIY,QAAJ,qBAAsCrpB,EAAAC,EAAAC,cAACopB,GAAD,CAAQjhB,KAAMogB,EAAIY,QAAJ,sBAEtDrpB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,WAAWnM,OAAQ,CAClCwM,EAAIE,KAAKY,QACTd,EAAIE,KAAKa,gBAGXxpB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,SAASnM,OAAQ,CAChCwM,EAAIE,KAAKc,aACThB,EAAIE,KAAKe,WACTjB,EAAIE,KAAKgB,SACTlB,EAAIE,KAAKiB,kBAGTnB,EAAIY,QAAJ,mBAAoCrpB,EAAAC,EAAAC,cAACopB,GAAD,CAAQjhB,KAAMogB,EAAIY,QAAJ,oBAEpDrpB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,YAAYnM,OAAQ,CACnCwM,EAAIE,KAAKkB,SACTpB,EAAIE,KAAKmB,kBAGX9pB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,sBAAsBnM,OAAQ,CAC7CwM,EAAIE,KAAKoB,cACTtB,EAAIE,KAAKqB,QACTvB,EAAIE,KAAKsB,QACTxB,EAAIE,KAAKuB,iBACTzB,EAAIE,KAAKwB,aACT1B,EAAIE,KAAKyB,YAGXpqB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,mBAAmBnM,OAAQ,CAC1CwM,EAAIE,KAAK0B,QACT5B,EAAIE,KAAK2B,SACT7B,EAAIE,KAAK4B,eACT9B,EAAIE,KAAK6B,aACT/B,EAAIE,KAAK8B,UACThC,EAAIE,KAAK+B,kBAGX1qB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,kCAAkCnM,OAAQ,CACzDwM,EAAIE,KAAKgC,MACTlC,EAAIE,KAAKiC,MACTnC,EAAIE,KAAKkC,OACTpC,EAAIE,KAAKmC,OACTrC,EAAIE,KAAKoC,eACTtC,EAAIE,KAAKqC,SACTvC,EAAIE,KAAKsC,UACTxC,EAAIE,KAAKuC,SACTzC,EAAIE,KAAKwC,UACT1C,EAAIE,KAAKyC,WACT3C,EAAIE,KAAK0C,YACT5C,EAAIE,KAAK2C,eACT7C,EAAIE,KAAK4C,OACT9C,EAAIE,KAAK6C,OACT/C,EAAIE,KAAK8C,YAGThD,EAAIY,QAAJ,iBAAkCrpB,EAAAC,EAAAC,cAACopB,GAAD,CAAQjhB,KAAMogB,EAAIY,QAAJ,kBAElDrpB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUzM,OAAQ,CAAEwM,EAAIE,KAAK+C,cAE7B1rB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,kBAAkBnM,OAAQ,CACzCwM,EAAIE,KAAKgD,SACTlD,EAAIE,KAAKiD,UACTnD,EAAIE,KAAKkD,cACTpD,EAAIE,KAAKmD,gBAGX9rB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,aAAanM,OAAQ,CACpCwM,EAAIE,KAAKoD,WACTtD,EAAIE,KAAKqD,QACTvD,EAAIE,KAAKsD,YACTxD,EAAIE,KAAKuD,WAGXlsB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,iCAAiCnM,OAAQ,CACxDwM,EAAIE,KAAKwD,UACT1D,EAAIE,KAAKyD,QACT3D,EAAIE,KAAK0D,YACT5D,EAAIE,KAAK2D,YAGXtsB,EAAAC,EAAAC,cAACqoB,GAAD,CAAclgB,KAAOogB,EAAIE,KAAK4D,WAE5B9D,EAAIY,QAAJ,gBAAiCrpB,EAAAC,EAAAC,cAACopB,GAAD,CAAQjhB,KAAMogB,EAAIY,QAAJ,iBAEjDrpB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,oBAAoBnM,OAAQ,CAC3CwM,EAAIE,KAAK6D,eACT/D,EAAIE,KAAK8D,gBACThE,EAAIE,KAAK+D,cAGX1sB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,gBAAgBnM,OAAQ,CACvCwM,EAAIE,KAAKgE,cACTlE,EAAIE,KAAKiE,aAGX5sB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,sBAAsBnM,OAAQ,CAC7CwM,EAAIE,KAAKkE,OACTpE,EAAIE,KAAKmE,WACTrE,EAAIE,KAAKoE,WACTtE,EAAIE,KAAKqE,SACTvE,EAAIE,KAAKsE,eAGXjtB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,GAAGnM,OAAQ,CAC1BwM,EAAIE,KAAKuE,SACTzE,EAAIE,KAAKwE,iBAGXntB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,2BAA2BnM,OAAQ,CAClDwM,EAAIE,KAAKyE,UACT3E,EAAIE,KAAK0E,iBACT5E,EAAIE,KAAK2E,YACT7E,EAAIE,KAAK4E,OACT9E,EAAIE,KAAK6E,WAGXxtB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,UAAUnM,OAAQ,CACjCwM,EAAIE,KAAK8E,SACThF,EAAIE,KAAK+E,OACTjF,EAAIE,KAAKgF,YACTlF,EAAIE,KAAKiF,QACTnF,EAAIE,KAAKkF,WACTpF,EAAIE,KAAKmF,QACTrF,EAAIE,KAAKoF,iBACTtF,EAAIE,KAAKqF,cAIbhuB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,oBAAoBnM,OAAQ,CACzCwM,EAAIE,KAAKsF,OACTxF,EAAIE,KAAKuF,YACTzF,EAAIE,KAAKwF,YAGbnuB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,aAAanM,OAAQ,CAClCwM,EAAIE,KAAKyF,QACT3F,EAAIE,KAAK0F,YACT5F,EAAIE,KAAK2F,YAGXtuB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,yBAAyBnM,OAAQ,CAChDwM,EAAIE,KAAK4F,cACT9F,EAAIE,KAAK6F,eACT/F,EAAIE,KAAK8F,oBACThG,EAAIE,KAAK+F,WACTjG,EAAIE,KAAKgG,gBACTlG,EAAIE,KAAKiG,UACTnG,EAAIE,KAAKkG,UACTpG,EAAIE,KAAKmG,gBACTrG,EAAIE,KAAKoG,iBACTtG,EAAIE,KAAKqG,YACTvG,EAAIE,KAAKsG,cAGXxG,EAAIY,QAAJ,iBAAkCrpB,EAAAC,EAAAC,cAACopB,GAAD,CAAQjhB,KAAMogB,EAAIY,QAAJ,kBAGhDrpB,EAAAC,EAAAC,cAACwoB,GAAD,CAAUN,OAAO,WAAWnM,OAAQ,CAClCwM,EAAIE,KAAKuG,WACTzG,EAAIE,KAAKwG,QACT1G,EAAIE,KAAKzY,kBAtLyBzO,aCEvB2tB,0LAEJ3G,GAEb,OAAQA,EAAI7C,SAASmC,aACnB,IAAK,cACH,OAAQ/nB,EAAAC,EAAAC,cAACmvB,GAAD,CAAiB5G,IAAMA,IACjC,QACE,OACEzoB,EAAAC,EAAAC,cAAA,WAEId,OAAO0O,OAAO2a,EAAIE,MAAMriB,IAAK,SAACE,EAAGD,GAC/B,OAAIqS,GAAIG,OAAO8D,QAAQ4L,EAAI7C,SAASmC,YAAc,IAAMvhB,EAAEK,OAAS,EAC1D,KAEF7G,EAAAC,EAAAC,cAAC8nB,GAAD,CACHnP,OAAUD,GAAIC,OAAOgE,QAAQ4L,EAAI7C,SAASmC,YAAc,IAAMvhB,EAAEK,OAAS,EACzEiS,MAASF,GAAIE,MAAM+D,QAAQ4L,EAAI7C,SAASmC,YAAc,IAAMvhB,EAAEK,OAAS,EACvEwS,MAAQ7S,EAAE6S,MACVjJ,IAAM5J,EAAEyhB,UAAYzhB,EAAEyhB,UAAYzhB,EAAE4J,IACpC3J,IAAKF,MAIXnH,OAAO2H,KAAK0hB,EAAIY,SAAS/iB,IAAK,SAACuM,EAAGtM,GAChC,OAAQvG,EAAAC,EAAAC,cAACopB,GAAD,CAAQ7iB,IAAKF,EAAG8B,KAAMogB,EAAIY,QAAQxW,0CAStD,OAAKvT,KAAKJ,MAAMupB,IAKdzoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACXjB,KAAKgwB,eAAehwB,KAAKJ,MAAMupB,MAL5BzoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAAUP,EAAAC,EAAAC,cAACiF,EAAD,cAnCD1D,aCkEtB8tB,oLAnEJnR,EAAOzC,GAYd,MAVU,CACR,IACA,SACA,IAJiByC,EAAMxO,QAAQ,UAAW,IAM1C,IACA,UACA,MAAQtB,OAAO3F,KAAK,iBAAmByV,EAAQ,UAAYzC,IAGlDrT,KAAK,wCAGNknB,GAAM,IAAArwB,EAAAG,KAEf,OAAOF,OAAOqR,QAAQ+e,GAAOlpB,IAC5B,SAAAqK,EAAanK,GAAM,IAAAoK,EAAAxR,OAAAqE,EAAA,EAAArE,CAAAuR,EAAA,GAAjBrB,EAAiBsB,EAAA,GAAb6e,EAAa7e,EAAA,GACjB,OAAI6e,EAAK1I,IAAM,EACN,KAEF/mB,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CAAelS,IAAKD,EAAG9F,IAAKC,IAAMF,GAAKtB,EAAKuwB,SAASpgB,EAAImgB,EAAK7d,QACnE5R,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,6BADjB,IACgDkuB,EAAK1I,IAAM,oBAAsB0I,EAAK1I,IAAM,EAAI,IAAK,IAAM,OAAS0I,EAAK5J,oDAMtH8J,GAAU,IAAA3a,EAAA1V,KACxB,QAAyB,qBAAdqwB,GAA6BA,EAAUvoB,OAAS,IAIpDhI,OAAOqR,QAAQkf,GAAWrpB,IAC/B,SAAAiL,EAAY/K,GAAM,IAAAgL,EAAApS,OAAAqE,EAAA,EAAArE,CAAAmS,EAAA,GAAhBjC,EAAgBkC,EAAA,GAAZoe,EAAYpe,EAAA,GAChB,QAAIoe,EAAI7I,IAAM,IAIP/mB,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CAAelS,IAAKD,EAAG9F,IAAKC,IAAMF,GAAKuU,EAAK0a,SAASpgB,EAAIsgB,EAAIhe,QAClE5R,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,6BADjB,IACgDquB,EAAI7I,IAAM,oBAAsB6I,EAAI7I,IAAM,EAAI,IAAK,IAAM,OAAS6I,EAAI/J,6CAOjI,OAAMvmB,KAAKJ,MAAMswB,QAAUlwB,KAAKJ,MAAMywB,WAAerwB,KAAKJ,MAAMswB,MAAMpoB,OAAS,GAAK9H,KAAKJ,MAAMywB,UAAUvoB,OAAS,EACzG,KAGPpH,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KACExc,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,SADxB,UAGAvB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KACExY,EAAAC,EAAAC,cAACwY,GAAA,EAAD,KACIpZ,KAAKuwB,YAAYvwB,KAAKJ,MAAMswB,OAC5BlwB,KAAKwwB,gBAAgBxwB,KAAKJ,MAAMywB,qBA7DpBluB,aC4CXsuB,oLA1CJ3R,EAAOtY,GASd,MAPU,CACR,IAFiBsY,EAAMxO,QAAQ,UAAW,IAI1C,IACA9J,GAGSwC,KAAK,qCAGT,IAAAnJ,EAAAG,KACDkwB,EAAQlwB,KAAKJ,MAAMswB,OAAS,GAElC,MAAqB,qBAAVA,GAAyBA,EAAMpoB,OAAS,EAC1C,KAIPpH,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KACExc,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,SADxB,2BAGAvB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KACExY,EAAAC,EAAAC,cAACwY,GAAA,EAAD,KAEI8W,EAAMlpB,IACJ,SAACghB,EAAG9gB,GACF,OAAOxG,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CAAelS,IAAKD,EAAG9F,IAAKC,IAAMF,GAAKtB,EAAKuwB,SAASpI,EAAES,YAAaT,EAAE0I,SAC3EhwB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,6BADjB,KACkD+lB,EAAEzB,SADpD,KACkEyB,EAAE2I,UAAY3I,EAAE2I,UAAY3I,EAAE0I,oBAhCjGvuB,uBCFHyuB,oLAEjB,OAAK5wB,KAAKJ,MAAMwF,KAGR1E,EAAAC,EAAAC,cAACsY,GAAA,EAAD,CAAUjY,UAAU,iBAAiBY,MAAO,CAAEknB,SAAU,QAAS8H,UAAW,WAAY7wB,KAAKJ,MAAMwF,MAFlG,YAHwBjD,aCEhB2uB,eAEnB,SAAAA,EAAYlxB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8wB,IACjBjxB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgxB,GAAA3wB,KAAAH,KAAMJ,KACDW,MAAQ,CACXwF,OAAO,GAGTlG,EAAKO,OAASP,EAAKO,OAAOC,KAAZP,OAAAQ,EAAA,EAAAR,CAAAD,IANGA,wEAUjBG,KAAKS,SAAS,CACZsF,OAAQ/F,KAAKO,MAAMwF,yCAQrB,OACErF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACmwB,GAAA,EAAD,CAASjZ,KAAG,EACRjU,MAAM,OACNf,IAAK9C,KAAKJ,MAAMoxB,KAChBzvB,QAASvB,KAAKI,SAChBM,EAAAC,EAAAC,cAACqwB,GAAD,CAAS7rB,KAAMpF,KAAKJ,MAAMsxB,eAG9BxwB,EAAAC,EAAAC,cAACoF,GAAA,EAAD,CAAOxF,OAAQR,KAAKO,MAAMwF,MAAO3F,OAAQJ,KAAKI,OAAQa,UAAWjB,KAAKJ,MAAMqB,UAAW0B,KAAK,MAC1FjC,EAAAC,EAAAC,cAACsF,GAAA,EAAD,KACExF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiB,MAAQ,CAAEgC,MAAO,QAClBf,IAAK9C,KAAKJ,MAAMoxB,KAChBhuB,IAAMhD,KAAKJ,MAAMsxB,gBAGzBxwB,EAAAC,EAAAC,cAACuF,GAAA,EAAD,KAAazF,EAAAC,EAAAC,cAACqwB,GAAD,CAAS7rB,KAAMpF,KAAKJ,MAAMsxB,wBAvCP/uB,aCDrBgvB,eACnB,SAAAA,EAAYvxB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmxB,IACjBtxB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqxB,GAAAhxB,KAAAH,KAAMJ,KACDW,MAAQ,CACX6wB,OAAO,EACPC,WAAY,oBAEdxxB,EAAKO,OAASP,EAAKO,OAAOC,KAAZP,OAAAQ,EAAA,EAAAR,CAAAD,IANGA,wEAUjBG,KAAKS,SAAS,CACZ2wB,OAAQpxB,KAAKO,MAAM6wB,MACnBC,WAAuC,qBAA1BrxB,KAAKO,MAAM8wB,WAAoC,OAAS,+CAIjE,IAAA3b,EAAA1V,KACN,OAAKA,KAAKJ,MAAM0xB,OAAStxB,KAAKJ,MAAM0xB,MAAMxpB,OAAS,EAC1C,KAGPpH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAE4jB,QAASzlB,KAAKO,MAAM6wB,MAAQ,QAAU,SAElDpxB,KAAKJ,MAAM0xB,MAAMtqB,IAAK,SAACwK,EAAGhL,GACxB,OAAO9F,EAAAC,EAAAC,cAAC2wB,GAAD,CAAcpqB,IAAKX,EACxBwqB,KAAMtb,EAAK9V,MAAMmP,QAAQuB,QAAQ,QAAS,cAAgB,SAAWkB,EAAEhL,GAAK,IAAMgL,EAAEggB,IAAKN,YAAa1f,EAAE0f,iBAI9GxwB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,oBACbP,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQ7E,QAASvB,KAAKI,OAAQU,MAAM,QAASd,KAAKO,MAAM8wB,qBAhC1BlvB,aCCnBsvB,oLAEV,IAAA5xB,EAAAG,KACHsxB,EAAQtxB,KAAKJ,MAAM0xB,OAAS,GAS1BI,GAPNJ,EAAQA,EAAMtqB,IAAK,SAAAwK,GACjB,QAAI,CAAC,MAAO,MAAO,MAAO,MAAO,OAAQ,QAAQiC,SAASjC,EAAEggB,IAAI5c,gBACvDpD,IAIRiG,OAAO,SAAA1P,GAAO,OAAOA,KACC4pB,MAAM,EAAE,GAC3BC,EAAaN,EAAMK,MAAM,GAE/B,OAAGD,EAAW5pB,OAAS,EACd,KAKPpH,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAA,6BAEE8wB,EAAW1qB,IAAK,SAACwK,EAAGhL,GAClB,OAAO9F,EAAAC,EAAAC,cAAC2wB,GAAD,CAAcpqB,IAAKX,EACxBwqB,KAAMnxB,EAAKD,MAAMmP,QAAQuB,QAAQ,QAAS,cAAgB,SAAWkB,EAAEhL,GAAK,IAAMgL,EAAEggB,IAAKN,YAAa1f,EAAE0f,gBAG9GxwB,EAAAC,EAAAC,cAACixB,GAAD,CAAYP,MAAOM,EAAY7iB,QAAS/O,KAAKJ,MAAMmP,kBA7BxB5M,uBCsBpB2vB,oLAtBX,GAAI9xB,KAAKJ,MAAMmyB,KAAKjqB,OAAS,EAC3B,OAAO,KAET,IAAM+P,EAAWma,KAAKlc,MAAM9V,KAAKJ,MAAMmyB,KAAK,GAAGE,SAASC,YAAYC,UAEpE,OACEzxB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAE6Y,OAAQ,QAAS7W,MAAO,SACpCnD,EAAAC,EAAAC,cAACmX,GAAA,EAAD,CAAK9W,UAAU,wBAAwBmxB,OAASva,EAAWwa,KAAM,GAAIra,aAAa,GAChFtX,EAAAC,EAAAC,cAACsX,GAAA,EAAD,CAAWpP,IAAI,wDAEb9I,KAAKJ,MAAMmyB,KAAK/qB,IAAK,SAACe,EAAGb,GACzB,IAAMorB,EAAQN,KAAKlc,MAAM/N,EAAEkqB,SAASC,YAAYC,UAChD,OAAQzxB,EAAAC,EAAAC,cAAC2xB,GAAA,EAAD,CAAQ1a,SAAWya,EAAQnrB,IAAMD,eAf/B/E,aCEDqwB,oLAGjB,MAAuB,gBAAlBxyB,KAAKJ,MAAMoQ,KAAyBhQ,KAAKJ,MAAMmJ,KAAK+H,KAAO9Q,KAAKJ,MAAMmJ,KAAK+H,IAAIhJ,OAAS,EACpF,KAEFpH,EAAAC,EAAAC,cAACyY,GAAA,EAAD,KACL3Y,EAAAC,EAAAC,cAAA,KAAGsB,KAAM,8DAAgE0J,mBAAmB5L,KAAKJ,MAAMmJ,KAAK+H,KAAMzO,OAAO,SAASC,IAAI,uBACpI5B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,sBADxB,4DAP8BE,aCAfswB,oLAGjB,MAAuB,gBAAlBzyB,KAAKJ,MAAMoQ,KAAyBhQ,KAAKJ,MAAMmJ,KAAK+H,KAAO9Q,KAAKJ,MAAMmJ,KAAK+H,IAAIhJ,OAAS,EACpF,KAIPpH,EAAAC,EAAAC,cAAA,WACIZ,KAAKJ,MAAMmJ,KAAK+H,IAAIqP,MAAM,KAAKnZ,IAAK,SAACuK,EAAGtK,GACxC,OAAOvG,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CAAelS,IAAKF,GACzBvG,EAAAC,EAAAC,cAAA,KAAGsB,KAAM,qCAAuCqP,EAAEmhB,OAASrwB,OAAO,SAASC,IAAI,uBAC7E5B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,sBADxB,OACmDsP,cAZ/BpP,aCAXwwB,oLAGjB,MAAuB,WAAlB3yB,KAAKJ,MAAMoQ,KAAoBhQ,KAAKJ,MAAMmJ,KAAK+H,KAAO9Q,KAAKJ,MAAMmJ,KAAK+H,IAAIhJ,OAAS,EAC/E,KAGPpH,EAAAC,EAAAC,cAAA,WACIZ,KAAKJ,MAAMmJ,KAAK+H,IAAIqP,MAAM,KAAKnZ,IAAK,SAACuK,EAAGtK,GACxC,OAAOvG,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CAAelS,IAAMF,GAC1BvG,EAAAC,EAAAC,cAAA,KAAGsB,KAAM,sCAAwCqP,EAAEmhB,OAASrwB,OAAO,SAASC,IAAI,uBAC9E5B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,sBADxB,WACuDsP,cAX7BpP,aCAjBywB,oLAGjB,MAAuB,gBAAlB5yB,KAAKJ,MAAMoQ,KAAyBhQ,KAAKJ,MAAMmJ,KAAK+H,KAAO9Q,KAAKJ,MAAMmJ,KAAK+H,IAAIhJ,OAAS,EACpF,KAGPpH,EAAAC,EAAAC,cAAA,WACIZ,KAAKJ,MAAMmJ,KAAK+H,IAAIqP,MAAM,KAAKnZ,IAAK,SAACuK,EAAGtK,GACxC,OAAOvG,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CAAelS,IAAKF,GACzBvG,EAAAC,EAAAC,cAAA,KAAGsB,KAAM,oDAAsDqP,EAAEmhB,OAASrwB,OAAO,SAASC,IAAI,uBAC5F5B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,sBADxB,SACqDsP,cAX/BpP,aCAb0wB,oLAGjB,MAAuB,WAAlB7yB,KAAKJ,MAAMoQ,KAAoBhQ,KAAKJ,MAAMmJ,KAAK+H,KAAO9Q,KAAKJ,MAAMmJ,KAAK+H,IAAIhJ,OAAS,EAC/E,KAGPpH,EAAAC,EAAAC,cAAA,WACIZ,KAAKJ,MAAMmJ,KAAK+H,IAAIqP,MAAM,KAAKnZ,IAAK,SAACuK,EAAGtK,GACxC,OAAOvG,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CAAelS,IAAKF,GACzBvG,EAAAC,EAAAC,cAAA,KAAGsB,KAAM,oCAAsCqP,EAAEmhB,OAASrwB,OAAO,SAASC,IAAI,uBAC5E5B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,sBADxB,aACyDsP,cAX/BpP,aCAjB2wB,oLAGjB,MAAuB,cAAlB9yB,KAAKJ,MAAMoQ,KAAuBhQ,KAAKJ,MAAMmJ,KAAK+H,KAAO9Q,KAAKJ,MAAMmJ,KAAK+H,IAAIhJ,OAAS,EAClF,KAEFpH,EAAAC,EAAAC,cAACyY,GAAA,EAAD,KACL3Y,EAAAC,EAAAC,cAAA,KAAGsB,KAAI,mFAAA2O,OAAqF7Q,KAAKJ,MAAMmJ,KAAK+H,IAArG,QAAiHzO,OAAO,SAASC,IAAI,uBAC1I5B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,sBADxB,0CAPuCE,aCOxB4wB,oLAGjB,OAAM/yB,KAAKJ,MAAMupB,KAAOnpB,KAAKJ,MAAMupB,IAAIrhB,OAAS,EACvC,KAEFpH,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QAEpBP,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KACExc,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAM,CAAC,MAAO,aADjC,mBAGAvB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KACExY,EAAAC,EAAAC,cAACwY,GAAA,EAAD,KACE1Y,EAAAC,EAAAC,cAACoyB,GAAD,CAAUjqB,KAAM/I,KAAKJ,MAAMupB,IAAIM,KAAOzZ,GAAIhQ,KAAKJ,MAAMoQ,KACrDtP,EAAAC,EAAAC,cAACqyB,GAAD,CAAUlqB,KAAM/I,KAAKJ,MAAMupB,IAAII,GAAOvZ,GAAIhQ,KAAKJ,MAAMoQ,KACrDtP,EAAAC,EAAAC,cAACsyB,GAAD,CAAUnqB,KAAM/I,KAAKJ,MAAMupB,IAAIK,KAAOxZ,GAAIhQ,KAAKJ,MAAMoQ,KAErDtP,EAAAC,EAAAC,cAACuyB,GAAD,CAAUpqB,KAAM/I,KAAKJ,MAAMupB,IAAII,GAAOvZ,GAAIhQ,KAAKJ,MAAMoQ,KACrDtP,EAAAC,EAAAC,cAACwyB,GAAD,CAAUrqB,KAAM/I,KAAKJ,MAAMupB,IAAIkK,SAAUrjB,GAAIhQ,KAAKJ,MAAMoQ,KACxDtP,EAAAC,EAAAC,cAAC0yB,GAAD,CAAiBvqB,KAAM/I,KAAKJ,MAAMupB,IAAI3iB,GAAIwJ,GAAIhQ,KAAKJ,MAAMoQ,gBApB1B7N,aCGtB2tB,eAEnB,SAAAA,EAAYlwB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8vB,IACjBjwB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgwB,GAAA3vB,KAAAH,KAAMJ,KACDW,MAAQ,CACX4oB,KAAK,EACLoK,QAAQ,GAJO1zB,gGAQcsW,GAAU,IAAAT,EAAA1V,KACtCmW,IAAcnW,KAAKJ,QACpBI,KAAKS,SAAS,CACZ0oB,IAAK,OAGPja,GAASskB,OAAOrd,EAAUE,MAAMlH,OAAO2P,MAAO3I,EAAUE,MAAMlH,OAAO3I,GAAI,SAACgK,GACxEkF,EAAKjV,SAAS,CACZ0oB,IAAK3Y,mDAMM,IAAAwN,EAAAhe,KACjBkP,GAASskB,OAAOxzB,KAAKJ,MAAMyW,MAAMlH,OAAO2P,MAAO9e,KAAKJ,MAAMyW,MAAMlH,OAAO3I,GAAI,SAACgK,GAC1EwN,EAAKvd,SAAS,CACZ0oB,IAAK3Y,6CAKI2Y,GAAK,IAAAsK,EAAAzzB,KAElB,MAAiB,UAAbmpB,EAAIzZ,KACEhP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,mBAAoBkoB,EAAI/jB,OAGzC+jB,EAAI7C,SAASmC,YAKbU,EAAIE,KAAKvhB,OAAS,EAElBpH,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACye,GAAD,CAASrP,GAAKmZ,EAAI7C,SAASmC,YAAc3P,QAASqQ,EAAI7C,SAASC,SAAUnhB,KAAK,gBAC5E1E,EAAAC,EAAAC,cAACmY,GAAA,EAAD,CAAM9X,UAAU,QACdP,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KACExc,EAAAC,EAAAC,cAAA,MAAIK,UAAU,eAAd,gBAA2CkoB,EAAI7C,SAASmC,YAAxD,IAAwEzoB,KAAKJ,MAAMyW,MAAMlH,OAAO3I,GAAhG,mBAOV9F,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aAEbP,EAAAC,EAAAC,cAACye,GAAD,CAASrP,GAAKmZ,EAAI7C,SAASmC,YAAc3P,QAASqQ,EAAI7C,SAASC,SAAUnhB,KAAK,gBAE9E1E,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAKvB,UAAU,QACbP,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAG,KACNtc,EAAAC,EAAAC,cAACmY,GAAA,EAAD,KACErY,EAAAC,EAAAC,cAACsc,GAAA,EAAD,KACExc,EAAAC,EAAAC,cAAA,mBACUuoB,EAAI7C,SAASmC,YADvB,IACuCU,EAAIE,KAAK7iB,GAAGsK,KAEjDpQ,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iDACbP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,SADxB,mCACmEknB,EAAI7C,SAASmC,YADhF,IACgGU,EAAIE,KAAK7iB,GAAGsK,KAE5GpQ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC8yB,GAAA,gBAAD,CACEtuB,KAAO,kCAAoC+jB,EAAI7C,SAASmC,YAAc,IAAMU,EAAIE,KAAK7iB,GAAGsK,IACxF6iB,OAAQ,WAAQF,EAAKhzB,SAAS,CAAC8yB,QAAQ,IAAQvkB,OAAO4kB,WAAW,WAAMH,EAAKhzB,SAAS,CAAC8yB,QAAQ,KAAY,OAE1G7yB,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAQzD,KAAK,KAAK7B,MAAQd,KAAKO,MAAMgzB,OAAS,UAAW,aACvD7yB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,UADxB,IACmCvB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,sBAC9CjB,KAAKO,MAAMgzB,OAAS,UAAY,0BAO/C7yB,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KACExY,EAAAC,EAAAC,cAACizB,GAAD,CAAM1K,IAAMA,OAIlBzoB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAKua,GAAG,KACNtc,EAAAC,EAAAC,cAACkzB,GAAD,CAAS/B,KAAO5I,EAAI4K,UACpBrzB,EAAAC,EAAAC,cAACozB,GAAD,CAAO1C,MAAQnI,EAAImI,MAAQviB,QAAUG,GAAS+kB,eAC9CvzB,EAAAC,EAAAC,cAACszB,GAAD,CAAahE,MAAQ/G,EAAI+G,MAAQG,UAAYlH,EAAIkH,YACjD3vB,EAAAC,EAAAC,cAACuzB,GAAD,CAAWjE,MAAQ/G,EAAIiL,cACvB1zB,EAAAC,EAAAC,cAACyzB,GAAD,CAAelL,IAAMA,EAAIE,KAAOrZ,GAAKmZ,EAAI7C,SAASmC,mDAS9D,OAAKzoB,KAAKO,MAAM4oB,IAKdzoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACXjB,KAAKgwB,eAAehwB,KAAKO,MAAM4oB,MAL5BzoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAAUP,EAAAC,EAAAC,cAACiF,EAAD,cAzGD1D,uBCThBmyB,qLAETvrB,GACR,IAAIyH,EAAI,CACN+jB,OAAQ,GACRC,SAAU,CAAC,CACTza,MAAO,mBACPjY,gBAAiB,sBACjB2yB,YAAa,oBACbvxB,YAAa,EACbwxB,qBAAsB,oBACtBC,iBAAkB,sBAClB5rB,KAAM,MAcV,OAVAA,EAAKqI,QAAQ,SAAAoQ,GACXhR,EAAE+jB,OAAOniB,KAAKoP,EAAIoT,aAClB90B,OAAO2H,KAAK+Z,GAAKpQ,QAAQ,SAAAnK,GACb,gBAANA,IACFuJ,EAAEgkB,SAAS,GAAGzrB,KAAKqJ,KAAKoP,EAAIva,IAC5BuJ,EAAEgkB,SAAS,GAAGza,MAAQ9S,OAKrBuJ,mCAIP,GAAIxQ,KAAKJ,MAAMi1B,QACb,OAAOn0B,EAAAC,EAAAC,cAACiF,EAAD,yBAET,IAAK7F,KAAKJ,MAAMmJ,KACd,OAAO,KAGT,IAAMA,EAAO/I,KAAK80B,UAAU90B,KAAKJ,MAAMmJ,MACvC,OACErI,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAAA,UAAMZ,KAAKJ,MAAM2H,MACf7G,EAAAC,EAAAC,cAACm0B,GAAA,EAAD,CAAKhsB,KAAOA,EAAQlF,MAAO,IAC3B6W,OAAQ,IACRoF,QAAS,CACPkV,qBAAqB,aA5CM7yB,aCClB8yB,eAEnB,SAAAA,EAAYr1B,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAi1B,IACjBp1B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAm1B,GAAA90B,KAAAH,KAAMJ,KACDW,MAAQ,CACXgH,MAAM,EACNwB,MAAM,EACN8rB,SAAS,GALMh1B,yEAST2G,GAAG,IAAAkP,EAAA1V,KACXA,KAAKS,SAAS,CAAEo0B,SAAS,IACzB3lB,GAASgmB,SAAS1uB,EAAI,SAAAgK,GACpBkF,EAAKjV,SAAS,CAAE8G,KAAMiJ,EAAEjJ,OACxBmO,EAAKjV,SAAS,CAAEsI,KAAMyH,EAAEzH,OACxB2M,EAAKjV,SAAS,CAAEo0B,SAAS,uCAKrB,IAAA7W,EAAAhe,KACN,OAAKA,KAAKJ,MAAMu1B,OAGe,UAA3Bn1B,KAAKJ,MAAMu1B,OAAOzlB,KAElBhP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBAAf,wEAIFP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,QACbP,EAAAC,EAAAC,cAACw0B,GAAD,CAAW7tB,KAAMvH,KAAKO,MAAMgH,KAAMwB,KAAM/I,KAAKO,MAAMwI,KAAM8rB,QAAS70B,KAAKO,MAAMs0B,UAC7En0B,EAAAC,EAAAC,cAACmY,GAAA,EAAD,KACErY,EAAAC,EAAAC,cAACsY,GAAA,EAAD,KACExY,EAAAC,EAAAC,cAACwY,GAAA,EAAD,KACIpZ,KAAKJ,MAAMu1B,OAAOnuB,IAAK,SAAC0K,EAAGxK,GAC3B,OACExG,EAAAC,EAAAC,cAACyY,GAAA,EAAD,CACElS,IAAKD,EACL9F,IAAKgF,KACL7E,QAAU,kBAAMyc,EAAKqX,UAAU3jB,EAAElL,KAAMvF,UAAU,OAEjDH,MAAM,aACJ4Q,EAAEnK,YArBX7G,EAAAC,EAAAC,cAACiF,EAAD,qCAvB0B1D,aCAlBmzB,eAEnB,SAAAA,EAAY11B,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAs1B,IACjBz1B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAw1B,GAAAn1B,KAAAH,KAAMJ,KACDW,MAAQ,CACXg1B,WAAW,GAHI11B,iFAODie,EAAWoB,GAAU,IAAAxJ,EAAA1V,KACrCkP,GAASgmB,SAAS,MAAO,SAAA1kB,GACvBkF,EAAKjV,SAAS,CAAE80B,UAAW/kB,uCAM7B,OACE9P,EAAAC,EAAAC,cAAA,OAAKK,UAAU,kBACbP,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAiBC,KAAK,cAA1B,qBACAvB,EAAAC,EAAAC,cAAC40B,GAAD,CAAWL,OAAQn1B,KAAKO,MAAMg1B,oBApBFpzB,2CCCrB,SAASszB,KAEtB,OACE/0B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBACbP,EAAAC,EAAAC,cAAA,oGAGJF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,kBACbP,EAAAC,EAAAC,cAACmD,EAAD,CAAmBa,KAAM8wB,mCCdpB,SAASC,KAEtB,OACEj1B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBACbP,EAAAC,EAAAC,cAAA,uCAGJF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACmD,EAAD,CAAmBa,KAAMgxB,kCCa7BtuB,GAAUuuB,oBAGb7mB,OAAOzL,SAASrB,KAAKmU,MAAM,2BAC5Byf,KAAQC,WAAW,kBACnBD,KAAQE,SAAShnB,OAAOzL,SAAS6Q,SAAWpF,OAAOzL,SAASwS,SAG9D,IAAMrO,GAAgB,CACpBuuB,GAAM,IACNC,aAAc,IACdC,KAAQ,IACRC,KAAQ,GACRC,QAAW,GACXC,OAAU,GACVC,OAAU,GACVC,MAAS,GACTC,QAAW,IAGTC,IAAe,EACnB,GAAIpvB,GAAQ,CACV,IAAMqvB,GAAQrvB,GAAQC,KAChBqvB,GAAWtvB,GAAQlE,QAAQ+c,MAAM,KAAK,GAEvCrgB,OAAO2H,KAAKC,IAAe6V,QAAQoZ,KAAU,GAAKC,GAAWlvB,GAAcivB,MAC9ED,IAAe,GAInBG,IAAQC,IAAIC,IAAKC,IAAKC,IAAoBC,IAAOC,IAAOC,IAAyBC,IAAUC,IAAUC,IAAWC,IAAQC,SAmCzGC,oLA9BX,OAAIhB,GACKh2B,EAAAC,EAAAC,cAAC+2B,GAAD,CAAqBrwB,QAASA,GAASI,cAAeA,KAI7DhH,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAeuvB,SAAS,KACtBl3B,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,KACEn3B,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOjzB,KAAK,uBAAuBkzB,UAAWhlB,KAC9CpS,EAAAC,EAAAC,cAACm3B,EAAD,KACEr3B,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,IAAIkzB,UAAYxxB,KAClC5F,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,yEAAyEkzB,UAAW3U,KACtGziB,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,6EAA6EkzB,UAAWhI,KAE1GpvB,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,sFAAsFkzB,UAAW9Y,KACnHte,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,oFAAoFkzB,UAAW5U,KACjHxiB,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,oFAAoFkzB,UAAWG,KACjHv3B,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,wFAAwFkzB,UAAWI,KACrHx3B,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,gFAAgFkzB,UAAWjW,KAE7GnhB,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,eAAekzB,UAAWxC,KAC5C50B,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,QAAQkzB,UAAWrC,KACrC/0B,EAAAC,EAAAC,cAACi3B,EAAA,EAAD,CAAOG,OAAK,EAACpzB,KAAK,OAAOkzB,UAAWnC,eAvB9BxzB,aCpDEg2B,QACW,cAA7BnpB,OAAOzL,SAAS0L,UAEe,UAA7BD,OAAOzL,SAAS0L,UAEhBD,OAAOzL,SAAS0L,SAASoH,MACvB,2DCVN+hB,IAASC,OAAO33B,EAAAC,EAAAC,cAAC03B,GAAD,MAASC,SAASC,eAAe,SDyG3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzzB,KAAK,SAAA0zB,GACjCA,EAAaC,mCEjHnBt5B,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.3fbaf41a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/erc.9fb24811.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sapienza.8672e003.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Ripple-1.7s-200px.7466db60.svg\";","module.exports = __webpack_public_path__ + \"static/media/IntroMd.a1ede9f8.md\";","module.exports = __webpack_public_path__ + \"static/media/LogoMd.36d698ce.md\";","module.exports = __webpack_public_path__ + \"static/media/MissionStatementMd.9709d2db.md\";","module.exports = __webpack_public_path__ + \"static/media/lod.3a5d08d7.md\";","module.exports = __webpack_public_path__ + \"static/media/license.69087295.md\";","module.exports = __webpack_public_path__ + \"static/media/places.c6fdd924.md\";","module.exports = __webpack_public_path__ + \"static/media/places.1485b780.jpg\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.a19f686b.md\";","module.exports = __webpack_public_path__ + \"static/media/manuscripts.ef53f386.jpg\";","module.exports = __webpack_public_path__ + \"static/media/works.a14c270e.md\";","module.exports = __webpack_public_path__ + \"static/media/works-without-clavis.107bee25.md\";","module.exports = __webpack_public_path__ + \"static/media/works.7aa6593a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/titles.018dac5d.md\";","module.exports = __webpack_public_path__ + \"static/media/titles.2b8757e2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/authors.1055b2ab.md\";","module.exports = __webpack_public_path__ + \"static/media/authors.d6df50d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/colophons.96843ce5.md\";","module.exports = __webpack_public_path__ + \"static/media/colophons.1df56f78.jpg\";","module.exports = __webpack_public_path__ + \"static/media/collections.63bdac97.md\";","module.exports = __webpack_public_path__ + \"static/media/collections.93d620a0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Cite.0ac293ef.md\";","module.exports = __webpack_public_path__ + \"static/media/Api.ed3fdf35.md\";","import React, { Component } from 'react';\nimport { NavLink, Navbar, Nav, NavItem, NavbarBrand, NavbarToggler, Collapse } from 'reactstrap';\nimport { Link, NavLink as RRNavLink } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass FixedNavbar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false\n    };\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\nrender() {\n    return (\n          <div>\n            <Navbar color=\"dark\" dark expand=\"md\" className=\"fixed-top\">\n              <NavbarBrand to=\"/\" tag={Link}>PAThs</NavbarBrand>\n              <NavbarToggler onClick={this.toggle} />\n              <Collapse isOpen={this.state.isOpen} navbar>\n                <Nav navbar>\n                  <NavItem>\n                    <NavLink style={{ backgroundColor: '#cc545a', color: '#fff'}} to=\"/map\" tag={RRNavLink}>\n                      <FontAwesomeIcon icon=\"map\" /> Atlas\n                    </NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/places\" tag={RRNavLink}>Places</NavLink>\n                  </NavItem>\n\n                  <NavItem>\n                    <NavLink to=\"/manuscripts\" tag={RRNavLink}>Manuscripts</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/works\" tag={RRNavLink}>Works</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/authors\" tag={RRNavLink}>Authors</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/titles\" tag={RRNavLink}>Titles</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/colophons\" tag={RRNavLink}>Colophons</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/collections\" tag={RRNavLink}>Collections</NavLink>\n                  </NavItem>\n                </Nav>\n\n                <Nav className=\"ml-auto\" navbar>\n                  <NavItem>\n                    <NavLink href=\"http://paths.uniroma1.it\">\n                      Website\n                    </NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/cite\" tag={RRNavLink}>\n                      How to cite PAThs</NavLink>\n                  </NavItem>\n                  <NavItem>\n                    <NavLink to=\"/api\" tag={RRNavLink}>\n                      API</NavLink>\n                  </NavItem>\n                </Nav>\n              </Collapse>\n            </Navbar>\n          </div>\n    );\n  }\n}\n\nexport default FixedNavbar;\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport packageJson from '../../../package.json';\n\nimport Erc from './img/erc.jpg';\nimport Sapienza from './img/sapienza.jpg';\n\nexport default class Footer extends Component {\n\nrender() {\n\n    return (\n      <footer className=\"mt-5 bg-dark text-white p-3\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <p>Tracking Papyrus and Parchment Paths<br />\n              <span  className=\"lead\" style={{ color: '#ffab00'}}>An Archaeological Atlas of Coptic Literature</span><br />\n              <small>Literary Texts in their Geographical Context:<br />\n              Production, Copying, Usage, Dissemination and Preservation</small></p>\n            </div>\n            <div className=\"col text-right\">\n              <p>An <a href=\"https://erc.europa.eu/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"European Research Council\">ERC</a> funded project hosted at the <a href=\"https://www.uniroma1.it\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Sapienza University of Rome\">Sapienza University of Rome</a></p>\n              <p>Principal Investigator <a href=\"http://www.lettere.uniroma1.it/users/paola-buzi\" title=\"Paola Buzi\" target=\"_blank\" rel=\"noopener noreferrer\">Paola Buzi</a> [<a href=\"mailto:paola.buzi@uniroma1.it\" title=\"Email to Paola Buzi\">paola.buzi(at)uniroma1.it</a>]</p>\n              <p>\n                <a href=\"http://paths.uniroma1.it/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"PAThs web site\">\n                  paths.uniroma1.it\n                </a>\n              </p>\n            </div>\n          </div>\n\n          <Row className=\"my-3\">\n            <Col xs={{ size: 6 }} md={{size: 3, offset: 3}}><img src={Sapienza} alt=\"Sapienza Universit di Roma\" className=\"img-fluid\" /></Col>\n            <Col xs={{ size: 6 }} md={{size: 3}}><img src={Erc} alt=\"European Research Council\" className=\"img-fluid\" /></Col>\n          </Row>\n\n          <div className=\"text-center\">\n            <p className=\"\">\n              Copyright  PAThs team, Sapienza Universit di Roma.<br />\n              <small>\n                <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/4.0/\">\n                  Use, sharing and remixing permitted under terms of the<br />\n                  Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License<br />\n                  <img alt=\"Creative Commons License\" style={{borderWidth:0}}\n                        src=\"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\" />\n                </a>\n              </small>\n            </p>\n\n            <p>\n              Version { packageJson.version }<br />\n              <a href=\"https://github.com/paths-erc/atlas/commits/master\" target=\"_blank\" rel=\"noopener noreferrer\">Changelog</a>\n            </p>\n\n          </div>\n\n        </div>\n      </footer>\n    );\n  }\n}\n","import React from \"react\";\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport './MainTemplate.css';\n\nexport default class MainTemplate extends React.Component{\n\n  render(){\n    return (\n      <div>\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n            { this.props.children }\n          </main>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Ripple from './Ripple-1.7s-200px.svg';\n\n\n\nexport default class Loading extends Component {\n\n  render() {\n    const style = {\n      width: this.props.width ? this.props.width : '100px'\n    };\n    return (\n      <span>\n        <img src={Ripple} style={style} alt=\"Loading...\"/>\n        {\n          this.props.children !== '' ? this.props.children : <span>Loading...</span>\n        }\n      </span>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport ReactMarkdown from 'react-markdown/with-html';\n\n\nimport Loading from '../Loading/Loading';\n\n\n\n\nexport default function ReactMarkdownPath(props){\n\n  const [mdText, setMdtext] = useState();\n\n  useEffect( () => {\n    async function getMd(path){\n      await fetch(path).then((response) => response.text()).then((text) => {\n        setMdtext(text);\n      });\n    }\n    getMd(props.path);\n  } );\n\n  if (mdText){\n    return <ReactMarkdown source={mdText} escapeHtml={false} />;\n  } else {\n    return <Loading />\n  }\n}\n","import React from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nexport default class Disclaimer extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: true,\n    }\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render(){\n    return (\n      <Modal isOpen={this.state.modal} toggle={this.toggle.bind(this)} className={this.props.className}>\n        <ModalHeader>Disclaimer</ModalHeader>\n        <ModalBody>\n          <p>The Archaeological Atlas of Coptic Literature is still in progress, therefore many features might not be yet available or work as expected. Our datasets are growing on a daily basis, and will continue to grow in the next years.</p>\n          <p>Please, feel free to report any malfunction, breakdown, omission, error you might encounter during your work session, by writing to <a href=\"mailto:paola.buzi@uniroma1.it\">paola.buzi@uniroma1.it</a>.</p>\n          <p><strong>The Atlas is meant to become a tool useful for the whole scholarly community, and its completeness and correctness also depends on the contribution of users.</strong></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" block onClick={this.toggle.bind(this)}>I do understand</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n","import React from \"react\";\n\nimport imgPathsLogo from './paths-logo.png';\n\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\nimport intro from './IntroMd.md';\nimport logo from './LogoMd.md';\nimport missionstatement from './MissionStatementMd.md';\nimport lod from './lod.md';\nimport license from './license.md';\nimport Disclaimer from './Disclaimer';\n\n\nexport default function Home(){\n   const titles = [\n     {\n       id    : 'intro',\n       title : \"Introduction\",\n       path  : intro\n     },\n     {\n       id    : 'logo',\n       title : \"Logo\",\n       path  : logo\n     },\n     {\n       id    : 'missionstatement',\n       title : \"Mission Statement\",\n       path  : missionstatement\n     },\n     {\n       id    : 'lod',\n       title : \"Linked Open Data\",\n       path  : lod\n     },\n     {\n       id    : 'license',\n       title : \"Copyright and license\",\n       path  : license\n     }\n   ];\n\n\n   const showContentAndToc = function(){\n     return (\n       <div>\n         <div className=\"border p-3 d-inline-block bg-light float-right ml-5 mb-5 shadow\">\n           <h4>Table of contents</h4>\n           <ul className=\"p-0 m-0\">\n             {titles.map( (k, i) =>{\n               return (\n                 <li key={i} style={{ listStyle: 'none' }}>\n                   <a href={ '#' + k.id }>{ k.title }</a>\n                 </li>\n               );\n             })}\n           </ul>\n         </div>\n         { titles.map( (k, i) =>{\n           return (\n             <div key={i} className=\"text-justify\">\n               <h1 id={ k.id } className=\"mt-5\">{ k.title }</h1>\n               <ReactMarkdownPath path={k.path} />\n             </div>\n           );\n         })}\n       </div>\n     );\n   }\n\n   return (\n     <div>\n       <Disclaimer />\n       <div className=\"jumbotron\">\n         <div className=\"container text-center\">\n           <img className=\"img-fluid shadow-lg\" src={ imgPathsLogo } alt=\"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation\" />\n         </div>\n       </div>\n       <div className=\"container\">\n         <div className=\"my-5 px-5\">\n\n           { showContentAndToc() }\n         </div>\n       </div>\n     </div>\n   );\n} // end of function\n","import React from \"react\";\n\nimport imgPathsLogo from './paths-logo.png';\n\nexport default class BrowserNotSupported extends React.Component{\n\n  render(){\n\n    return (\n      <div className=\"container text-center\">\n        <div className=\"my-5 py-5\">\n          <h1>Sorry, it seems that your browser is not supported!</h1>\n          <p>You are running <code>{ this.props.browser.name }</code>, version <code>{ this.props.browser.version }</code> on <code>{ this.props.browser.os }</code>.</p>\n          <p>Please upgrade your browser or use a modern one to work with PAThs Atlas.</p>\n\n          <div>\n            <h4>Compatibility list</h4>\n            <pre>\n            {\n              Object.keys(this.props.compatibility).map((i, k)=>{\n                return (\n                  <div key={k}>\n                    {\n                      (this.props.compatibility[i] !== 10000 ? i + ' >= ' + this.props.compatibility[i] : '' )\n                    }\n                </div>\n                );\n              })\n            }\n            </pre>\n          </div>\n\n          <div className=\"border-top pt-5 mt-5\">\n            <img className=\"img-fluid shadow-lg\" src={ imgPathsLogo } alt=\"Tracking Papyrus and Parchment Paths. An Archaeological Atlas of Coptic Literature. Literary Texts in their Geographical Context: Production, Copying, Usage, Dissemination and Preservation\" />\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Badge } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n\n    if (!this.props.places || !this.props.places.features) {\n      return null;\n    }\n\n    return (\n      <div className=\"mt-3\">\n        <h5>Found { this.props.places.features.length } places</h5>\n        <ol>\n          {\n            this.props.places.features.map( (e, i)=>{\n              return <li key={i} className=\"border-bottom border-info mb-3 pb-1\">\n                <strong>{ e.properties.name }</strong>\n                <br /><small><span className=\"coptic\">{e.properties.copticname}</span></small>\n                {\n                  ['greekname', 'egyptianname'].map( (ee, ii)=>{\n                    if (e[ee]){\n                      return (<div key={ii}><small>{e.properties[ee]}</small></div>);\n                    } else {\n                      return null;\n                    }\n                  } )\n                }\n\n                {\n                  e.properties['count(mp.id_link)'] ?  <div className=\"text-right\"><Badge color=\"secondary\">{ e.properties['count(mp.id_link)'] } manuscripts related</Badge></div>  : null\n                }\n\n                <div><small><FontAwesomeIcon icon=\"id-badge\" /> <Link to={ '/places/' + e.properties.id }>paths.places.{e.properties.id}</Link></small></div>\n              </li>\n            } )\n          }\n        </ol>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nexport default class UrlFilterButton extends Component {\n\nrender() {\n\n    if (this.props.urlFilter) {\n      return (\n        <div>\n          <Link to=\"/map\" className=\"btn btn-warning btn-block mt-1 mb-3\">\n            <FontAwesomeIcon icon=\"filter\" /> Filter active. Click to disable\n          </Link>\n        </div>\n\n      );\n    } else {\n      return null;\n    }\n\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class TabLegend extends Component {\n\n  render() {\n\n    return (\n      <div>\n\n        <h5>Map legend</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#f64747'}}></span>\n            Production places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#d47500'}}></span>\n            Storage places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#aa8f00'}}></span>\n            Discovery places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#b381b3'}}></span>\n            Discovery and production places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#009fd4'}}></span>\n            Storage and production places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#00aa55'}}></span>\n            Discovery and storage places of manuscripts\n          </li>\n          <li className=\"p-1 m-1\">\n            <span className=\"legend-item rounded-circle\" style={{ background: '#939393'}}></span>\n            Discovery, storage and production places of manuscripts\n          </li>\n        </ul>\n\n        <hr />\n        <h5>Available basemaps</h5>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://pelagios.org/maps/greco-roman/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Pelagios</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://dare.ht.lu.se/\" target=\"_blank\" rel=\"noopener noreferrer\">Imperium, Digital Atlas of Ancient World (DARE)</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"http://awmc.unc.edu/wordpress/\" target=\"_blank\" rel=\"noopener noreferrer\">Ancient World Mapping Center</a>\n          </li>\n          <li className=\"p-1 m-1\">\n            <a href=\"https://www.openstreetmap.org\" target=\"_blank\" rel=\"noopener noreferrer\">Open Street Map</a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*jshint esversion: 6 */\n\nexport default {\n  places: {\n    discovery_places: {\n      id: 'discovery_places',\n      title: 'Discovery places of Coptic literary manuscripts',\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"join\": \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` \",\n        \"group\": \"paths__places.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" `mp`.`type` = 'discovery' \")\n      }\n    },\n    storage_places: {\n      id: 'storage_places',\n      title: 'Storage places of Coptic literary manuscripts',\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"join\": \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` \",\n        \"group\": \"paths__places.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" `mp`.`type` = 'storage' \")\n      }\n    },\n    production_places: {\n      id: 'production_places',\n      title: 'Production places of Coptic literary manuscripts',\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"join\": \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `mp`.`place` \",\n        \"group\": \"paths__places.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" `mp`.`type` = 'production' \")\n      }\n    },\n    episcopal_sees: {\n      id: \"episcopal_sees\",\n      title: \"Episcopal sees\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`episcopalsee`=1\")\n      }\n    },\n    has_monasteries: {\n      id: \"has_monasteries\",\n      title: \"Sites with one or more monasteries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`hasmonastery` = 1\")\n      }\n    },\n    churches: {\n      id: \"churches\",\n      title: \"Churches\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'church'\")\n      }\n    },\n    cemeteries: {\n      id: \"cemeteries\",\n      title: \"Catacombs, cemeteries tombs or necropoleis\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'catacomb, cemetery, necropolis' OR `typology` = 'tomb'\")\n      }\n    },\n    // forts: {\n    //   id: \"forts\",\n    //   title: \"Forts or towers\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`typology` = 'fort, tower'\")\n    //   }\n    // },\n    hermitages: {\n      id: \"hermitages\",\n      title: \"Hermitage units (mainly referred to the area of Western Thebes)\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'hermitage unit(s)'\")\n      }\n    },\n    mines: {\n      id: \"mines\",\n      title: \"Mines or quarries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'mine, quarry'\")\n      }\n    },\n    monasteries: {\n      id: \"monasteries\",\n      title: \"Monasteries\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'monastery'\")\n      }\n    },\n    settlements: {\n      id: \"settlements\",\n      title: \"Settlement\",\n      url: 'places?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`typology` = 'settlement'\")\n      }\n    },\n    // shrines: {\n    //   id: \"shrines\",\n    //   title: \"Shrines\",\n    //   url: 'places?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`typology` = 'shrine'\")\n    //   }\n    // },\n  },\n  titles: {\n    final: {\n      id: \"final\",\n      title: \"Final titles\",\n      url: \"titles?verb=search&type=encoded\",\n      data: {\n        q_encoded: btoa(\" `type` = 'final'\")\n      }\n    },\n    section_headings: {\n      id: \"section_headings\",\n      title: \"Section headings\",\n      url: \"titles?verb=search&type=encoded\",\n      data: {\n        q_encoded: btoa(\" `type` = 'section heading'\")\n      }\n    }\n  },\n  authors: {\n    bishops: {\n      id: \"bishops\",\n      title: \"Authors-(arch)bishops\",\n      url: 'authors?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `title` LIKE '%bishop' \")\n      }\n    }\n  },\n  manuscripts: {\n    palimpsest_ms: {\n      id: \"palimpsest_ms\",\n      title: \"Palimpsest manuscripts\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`palimpsest` = 1\")\n      }\n    },\n    wandering_ms: {\n      id: \"wandering_ms\",\n      title: \"Wandering manuscripts (for instance manufactured in a place but stored in another palace, etc.)\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`id` IN ( SELECT `mp`.`id_link` FROM `paths__m_msplaces` as `mp` GROUP BY `mp`.`id_link` HAVING COUNT(DISTINCT `place`) > 1 )\")\n      }\n    },\n    ms_has_bindings: {\n      id: \"ms_has_bindings\",\n      title: \"Manuscripts with ancient bookbindings\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bindings`=1\")\n      }\n    },\n    detached_bindings: {\n      id: \"detached_bindings\",\n      title: \"Bookbindings detached from original manuscripts\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`isbookbinding`=1\")\n      }\n    },\n    horizontal_rolls : {\n      id: \"horizontal_rolls\",\n      title: \"Horizontal rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'horizontal roll'\")\n      }\n    },\n    vertical_rolls : {\n      id: \"vertical_rolls\",\n      title: \"Vertical rolls\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform` = 'vertical roll'\")\n      }\n    },\n    minor_dialects : {\n      id: \"minor_dialects\",\n      title: \"Minor dialects\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` NOT LIKE '%F;%' AND `dialect` NOT LIKE '%S;%' AND `dialect` NOT LIKE '%B;%' AND `dialect` NOT LIKE '%F' AND `dialect` NOT LIKE '%S' AND `dialect` NOT LIKE '%B'\")\n      }\n    },\n    miniature_codices : {\n      id: \"miniature_codices\",\n      title: \"Miniature codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`leafw`<101 AND `leafw`>0 AND `bookform` = 'codex'\")\n      }\n    },\n    square_codices : {\n      id: \"square_codices\",\n      title: \"Square format codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform`='codex' AND `prophw`>.84 AND `prophw`<1.16\")\n      }\n    },\n    oblong_codices : {\n      id: \"oblong_codices\",\n      title: \"Oblong format codices\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`bookform`='codex' AND `prophw`>1.84\")\n      }\n    },\n    // ms_with_date: {\n    //   id: \"ms_with_date\",\n    //   title: \"Dated manuscripts\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"(`chronofrom`!='' AND `chronofrom` IS NOT NULL) OR (`chronoto`!='' AND `chronoto` IS NOT NULL)\")\n    //   }\n    // },\n    early_bohairic: {\n      id: \"early_bohairic\",\n      title: \"Early Bohairic manuscripts (up to 7th cent.)\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` LIKE '%B%' AND `chronoto`<'701'\")\n      }\n    },\n    fayyumic: {\n      id: \"fayyumic\",\n      title: \"Fayyumic dialect manuscripts\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`dialect` LIKE '%F%' \")\n      }\n    },\n    ms_third_c: {\n      id: \"ms_third_c\",\n      title: \"Manuscripts up to the 3rd Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` < 301\")\n      }\n    },\n    ms_forth_c: {\n      id: \"ms_forth_c\",\n      title: \"Manuscripts of the 4th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 299 AND `chronofrom` < 400\")\n      }\n    },\n    ms_fifth_c: {\n      id: \"ms_fifth_c\",\n      title: \"Manuscripts of the 5th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 399 AND `chronofrom` < 500\")\n      }\n    },\n    ms_sixth_c: {\n      id: \"ms_sixth_c\",\n      title: \"Manuscripts of the 6th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 499 AND `chronofrom` < 600\")\n      }\n    },\n    ms_seventh_c: {\n      id: \"ms_seventh_c\",\n      title: \"Manuscripts of the 7th Century\",\n      url: 'manuscripts?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\"`chronofrom` > 599 AND `chronofrom` < 700\")\n      }\n    },\n    // ms_eighth_c: {\n    //   id: \"ms_eighth_c\",\n    //   title: \"Manuscripts of the 8th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 699  AND `chronofrom` < 800\")\n    //   }\n    // },\n    // ms_ninth_c: {\n    //   id: \"ms_ninth_c\",\n    //   title: \"Manuscripts of the 9th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 799 AND `chronofrom` < 900\")\n    //   }\n    // },\n    // ms_tenth_c: {\n    //   id: \"ms_tenth_c\",\n    //   title: \"Manuscripts of the 10th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 899 AND `chronofrom` < 1000\")\n    //   }\n    // },\n    // ms_eleventh_c: {\n    //   id: \"ms_eleventh_c\",\n    //   title: \"Manuscripts of the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 999 AND `chronofrom` < 1100\")\n    //   }\n    // },\n    // ms_post_eleventh_c: {\n    //   id: \"ms_post_eleventh_c\",\n    //   title: \"Manuscripts after the 11th Century\",\n    //   url: 'manuscripts?verb=search&type=encoded',\n    //   data: {\n    //     \"q_encoded\": btoa(\"`chronofrom` > 1099\")\n    //   }\n    // }\n  },\n  works: {\n    translations_biblical_sahidic: {\n      id: \"translations_biblical_sahidic\",\n      title: \"Translations of biblical works into Sahidic - first phase (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into Sahidic - first phase (3rd-4th cent.)'\")\n      }\n    },\n    translations_biblical_bohairic: {\n      id: \"translations_biblical_bohairic\",\n      title: \"Translations of biblical works into Bohairic - first phase (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into Bohairic - first phase (4th cent.)\")\n      }\n    },\n    early_translations_other: {\n      id: \"early_translations_other\",\n      title: \"Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(\" `litperiod` = 'Translations of biblical works into, Akhmimic, Lykopolitan, Oxyrhyrinchite, Fayyumic, etc. (4th cent.)'\")\n      }\n    },\n    translations_apocryphal: {\n      id: \"translations_apocryphal\",\n      title: \"Translations of apocryphal works  first phase (4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\" `litperiod` = 'Translations of apocryphal works  first phase (4th cent.)'\")))\n      }\n    },\n    translations_gnostic: {\n      id: \"translations_gnostic\",\n      title: \"Translation and (eventual) re-elaboration of a Gnostic corpus (3rd-4th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a Gnostic corpus (3rd-4th cent.)' \")))\n      }\n    },\n    translations_manichaean: {\n      id: \"translations_manichaean\",\n      title: \"Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation and (eventual) re-elaboration of a Manichaean corpus (3th-5th cent.)' \")))\n      }\n    },\n    translations_patristic: {\n      id: \"translations_patristic\",\n      title: \"Translation of patristic works  first phase (3th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translation of patristic works  first phase (3th-5th cent.)' \")))\n      }\n    },\n    pachomius: {\n      id: \"pachomius\",\n      title: \"Pachomius and the early Pachomian milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Pachomius and the early Pachomian milieu (4th-5th cent.)' \")))\n      }\n    },\n    shenoute: {\n      id: \"shenoute\",\n      title: \"Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Early original literary production: Shenoute and the Shenoutean milieu (4th-5th cent.)' \")))\n      }\n    },\n    standard_translations: {\n      id: \"standard_translations\",\n      title: \"Standard translations of biblical works into Sahidic (5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Standard translations of biblical works into Sahidic (5th cent.)' \")))\n      }\n    },\n    translations_apocryphal_second: {\n      id: \"translations_apocryphal_second\",\n      title: \"Translations of apocryphal texts  second phase (4th-5th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translations of apocryphal texts  second phase (4th-5th cent.)' \")))\n      }\n    },\n    translations_hagiographical: {\n      id: \"translations_hagiographical\",\n      title: \"Translations of hagiographical works  first phase (4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Translations of hagiographical works  first phase (4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_homilies: {\n      id: \"classsical_translations_homilies\",\n      title: \"Classical translations - homilies (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations - homilies (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_historiae: {\n      id: \"classsical_translations_historiae\",\n      title: \"Classical translations  historiae monachorum (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  historiae monachorum (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_acts: {\n      id: \"classsical_translations_acts\",\n      title: \"Classical translations  acts of councils and Canones (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  acts of councils and Canones (end of 4th-6th cent.)' \")))\n      }\n    },\n    classsical_translations_monastic: {\n      id: \"classsical_translations_monastic\",\n      title: \"Classical translations  monastic works (end of 4th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Classical translations  monastic works (end of 4th-6th cent.)' \")))\n      }\n    },\n    post_chalcedonian: {\n      id: \"post_chalcedonian\",\n      title: \"Post-Chalcedonian opposition literature: the plerophories and other works (5th-6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Post-Chalcedonian opposition literature: the plerophories and other works (5th-6th cent.)' \")))\n      }\n    },\n    historiographic: {\n      id: \"historiographic\",\n      title: \"Historiographic Production (6th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Historiographic Production (6th cent.)' \")))\n      }\n    },\n    orig_lit_formation: {\n      id: \"orig_lit_formation\",\n      title: \"Original Literature: Formation of the earlier hagiographic cycles (6 cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the earlier hagiographic cycles (6 cent.)' \")))\n      }\n    },\n    orig_lit_damian_hag: {\n      id: \"orig_lit_damian_hag\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Hagiographies' \")))\n      }\n    },\n    orig_lit_damian_hom: {\n      id: \"orig_lit_damian_hom\",\n      title: \"Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: The period of Damian and his cultural circle (6th-7th cent.): Homilies' \")))\n      }\n    },\n    poetry: {\n      id: \"poetry\",\n      title: \"Poetic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Poetic production (7th-8th cent.)' \")))\n      }\n    },\n    orig_lit_hom: {\n      id: \"orig_lit_hom\",\n      title: \"Original Literature: Homilies with apocryphal insertions (6th -8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Homilies with apocryphal insertions (6th -8th cent.)' \")))\n      }\n    },\n    original_lit_early_islamic: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Literary production of the early Islamic period (7th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Literary production of the early Islamic period (7th cent.)' \")))\n      }\n    },\n    standard_translations_in_bohairic: {\n      id: \"standard_translations_in_bohairic\",\n      title: \"Standard translations of biblical works into Bohairic (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Standard translations of biblical works into Bohairic (7th-8th cent.)' \")))\n      }\n    },\n    original_lit_later_hag: {\n      id: \"original_lit_early_islamic\",\n      title: \"Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Original Literature: Formation of the later (pseudo-epigraphical) hagiographic cycles and re-arrangement of homiletic production (7th-8th cent.)' \")))\n      }\n    },\n    synaxarial: {\n      id: \"synaxarial\",\n      title: \"Synaxarial arrangement (9th-10th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Synaxarial arrangement (9th-10th cent.)' \")))\n      }\n    },\n    late_liturgical: {\n      id: \"late_liturgical\",\n      title: \"Late liturgical production (10th-14th cent.)\",\n      url: 'works?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`litperiod` = 'Late liturgical production (10th-14th cent.)' \")))\n      }\n    },\n  },\n  colophons: {\n    cryptography: {\n      id: 'cryptography',\n      title: \"Colophons with cryptography\",\n      url: 'colophons?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`cryptography`=1 \")))\n      }\n    },\n    greek_minuscule: {\n      id: 'greek_minuscule',\n      title: \"Colophons with Greek minuscule\",\n      url: 'colophons?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`minusculegreek`=1 \")))\n      }\n    },\n    coptic_minuscule: {\n      id: 'coptic_minuscule',\n      title: \"Colophons with Coptic minuscule\",\n      url: 'colophons?verb=search&type=encoded',\n      data: {\n        \"q_encoded\": btoa(unescape(encodeURIComponent(\"`minusculecopitc`=1 \")))\n      }\n    }\n  },\n  map: {\n    discovery_places: {\n      id: 'discovery_places',\n      title: 'Discovery places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'discovery' \")\n      }\n    },\n    storage_places: {\n      id: 'storage_places',\n      title: 'Storage places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n\n        \"q_encoded\": btoa(\" mp.type = 'storage' \")\n      }\n    },\n    production_places: {\n      id: 'production_places',\n      title: 'Production places of Coptic literary manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN `paths__m_msplaces` as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[mp.type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" mp.type = 'production' \")\n      }\n    },\n    all_ms_places: {\n      id: 'all_ms_places',\n      title: 'All places connected to manuscripts',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \" JOIN paths__places as p ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = p.id\" +\n                \" JOIN  (SELECT * FROM `paths__m_msplaces` GROUP BY `id_link`, `place`) as mp ON `mp`.`table_link`= 'paths__manuscripts' AND `p`.`id` = `mp`.`place` \",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[p.id]\": \"Id\",\n        \"fields[p.name]\": \"Name\",\n        \"fields[p.pleiades]\": \"Pleiades Id\",\n        \"fields[p.typology]\": \"Site typology\",\n        \"fields[GROUP_CONCAT(DISTINCT mp.type) as type]\": \"Place type\",\n        \"fields[count(mp.id_link)]\": \"Tot ms\",\n        \"group\": \"p.id\",\n        \"limit_start\": \"0\",\n        \"limit_end\": \"500\",\n        \"q_encoded\": btoa(\" 1 \")\n      }\n    },\n    bishoprics: {\n      id: 'bishoprics',\n      title: 'Bishoprics',\n      url: 'geodata?verb=search&geojson=true&type=encoded',\n      data: {\n        \"join\": \"JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\",\n        \"fields[paths__geodata.geometry]\": \"Geometry\",\n        \"fields[paths__places.id]\": \"Id\",\n        \"fields[paths__places.name]\": \"Name\",\n        \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n        \"fields[paths__places.typology]\": \"Site typology\",\n        \"q_encoded\": btoa( '`paths__places`.`episcopalsee`=1 LIMIT 0, 100')\n      }\n    },\n    // multi_stratified: {\n    //   id: 'multi_stratified',\n    //   title: 'Multi stratified sites',\n    //   url: 'geodata?verb=search&geojson=true&type=encoded',\n    //   data: {\n    //     \"join\": \"JOIN `paths__places` ON `paths__geodata`.`table_link` = 'paths__places' AND `paths__geodata`.`id_link` = `paths__places`.`id` \" +\n    //     \"JOIN (SELECT `id_link`, count(id) as tot from `paths__m_placephase` GROUP BY `id_link` ORDER BY `tot` DESC LIMIT 0,10) as t ON `t`.`id_link` = `paths__geodata`.`id_link` \",\n    //     \"fields[paths__geodata.geometry]\": \"Geometry\",\n    //     \"fields[paths__places.id]\": \"Id\",\n    //     \"fields[paths__places.name]\": \"Name\",\n    //     \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n    //     \"fields[paths__places.typology]\": \"Site typology\",\n    //     \"q_encoded\": btoa( '1 ORDER BY `t`.`tot` DESC')\n    //   }\n    // }\n  }\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class TabSavedQueries extends Component {\n\n  render() {\n    return (\n      <ul style={{ listStyle: 'none', margin: 0, padding: 0}}>\n        { Object.values(SavedQueries.map).map( (e, i) => {\n          return <li key={i}  className=\"mb-3\">\n            <Link to={ '/map/saved/' + e.id }>\n              <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n            </Link>\n          </li>\n        }) }\n      </ul>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { InputGroupAddon, Button } from 'reactstrap';\n\nexport default class ListPlaces extends Component {\n\n  render() {\n    if (!this.props.show){\n      return null;\n    }\n    return (\n      <InputGroupAddon addonType=\"append\">\n        <Button color=\"danger\" onClick = { this.props.onClick }>\n          <span aria-hidden=\"true\">&times;</span>\n        </Button>\n      </InputGroupAddon>\n    );\n  }\n}\n","import React, {useState} from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nexport default function ShowError(props) {\n  const [modal, toggleModal] = useState(false);\n\n  return (\n    <Modal isOpen={ !modal } toggle={ ()=>toggleModal(!modal) } className={props.className}>\n      <ModalHeader>Error</ModalHeader>\n      <ModalBody>\n        { props.children }\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" block onClick={ () => toggleModal(!modal) }>Close</Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n","import axios from 'axios';\nimport SavedQueries from '../SavedQueries';\n\n\nlet baseUrl = 'https://db-dev.bradypus.net/api/paths/';\n\nif (window.location.hostname === 'localhost'){\n  baseUrl = 'http://db.localhost/api/paths/';\n}\n\nexport default class Database {\n\n  static getData(url, params, callback) {\n\n    url = baseUrl + url;\n\n    axios({\n      method: 'post',\n      url: url,\n      params: params,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      if (res.data.type && res.data.type === 'error'){\n        console.log('API error:');\n        console.log(res.data.text);\n        return false;\n      }\n      callback(res.data);\n    })\n    .catch( res => {\n      if(res instanceof Error) {\n        console.log(res.message);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  static getBaseUrl(){\n    return baseUrl;\n  }\n\n  static getUniqueVal(tb, fld, string, cb) {\n    this.getData('../v2/paths/' + tb, {\n      verb: 'getUniqueVal',\n      tb: tb.replace('paths__', ''),\n      fld: fld,\n      s: string\n    }, d => { cb(d); }, true);\n\n  }\n\n  static getSaved(grp, q, page, cb) {\n    if (typeof SavedQueries[grp][q] === 'undefined') {\n      cb({\n        status: 'error',\n        text: `No saved query found for id: ${grp}.${q}`\n      });\n      return;\n    } else {\n      SavedQueries[grp][q].data.page = page;\n      this.getData(SavedQueries[grp][q].url, SavedQueries[grp][q].data, d => {\n        cb(d, SavedQueries[grp][q].title);\n      });\n    }\n  }\n\n  static getSimple(tb, fld, val, strict, page, cb){\n    const data = {\n      verb: 'search',\n      type: 'advanced',\n      page: page,\n      'adv[a0][fld]': fld,\n      'adv[a0][operator]': strict ? '=' : 'LIKE',\n      'adv[a0][value]': val\n    };\n    this.getData(tb, data, d => { cb(d); }, true);\n  }\n\n  /**\n   * Executes an advanced query on the database\n   * @param  {String}   tb   Table to be queried, no prefix\n   * @param  {Object}   data Object of query data: {a:{f:'fieldname', v:'value', o: 'operator'}, a2:{f:'fieldname', v:'value', o: 'operator', c: 'connector'}}\n   * @param  {Integer}   page Page number\n   * @param  {Function} cb   Callback function\n   */\n  static getAdv(tb, data, page, cb) {\n    let d = {\n      verb: 'search',\n      type: 'advanced',\n      page: page\n    };\n    Object.entries(data).forEach(([k, v]) => {\n      d[`adv[${k}][fld]`] = v.f;\n      d[`adv[${k}][value]`] = v.v;\n      d[`adv[${k}][operator]`] = v.o;\n      d[`adv[${k}][connector]`] = v.c;\n    });\n\n    this.getData(tb, d, d => { cb(d); }, true);\n  }\n\n  static getStr(tb, string, page, cb) {\n    this.getData(tb, {\n      verb: 'search',\n      type: 'fast',\n      string: string,\n      page: page\n    }, d => { cb(d, 'Search [' + string + '] in ' + d.head.table_label); }, true);\n  }\n\n  static getByEncodedSql(tb, sql, page, cb) {\n      this.getData(tb, {\n        verb: 'search',\n        type: 'encoded',\n        'q_encoded': sql,\n        page: page\n      }, d => { cb(d); }, true);\n  }\n\n  static getAll(tb, page, cb) {\n    this.getData(tb, {\n      verb : 'search',\n      type: 'all',\n      page: page\n    }, d => { cb(d); });\n  }\n\n  static getOne(tb, id, cb) {\n    this.getData('../v2/paths', {\n      tb: tb,\n      verb : 'read',\n      id : id\n    }, d => { cb(d); });\n  }\n\n  static inspect(tb, cb) {\n    this.getData('../v2/paths' , {\n      tb: tb,\n      'verb':'inspect'\n    }, d => { cb(d); });\n  }\n\n  static getChart(id, cb) {\n    this.getData('../v2/paths/' + id, {\n      id: id,\n      'verb':'getChart'\n    }, d => { cb(d); });\n  }\n\n  static simplifyGeojson(gj) {\n    let newgj = {\n      type: \"FeatureCollection\",\n      features: [ ]\n    };\n    let currentId = false;\n\n    Object.entries(gj.features).forEach( ([key, value]) => {\n      if (!currentId || currentId !== value.properties.id){\n        newgj.features.push(value);\n        currentId = value.properties.id;\n      }\n      if (currentId === value.properties.id){\n        newgj.features[newgj.features.length-1].properties.toponym += '|'+value.properties.toponym;\n      }\n    });\n    return newgj;\n  }\n\n  static getPlaces(where, cb) {\n    let data = {\n      \"join\": \"JOIN paths__geodata as g ON g.table_link = 'paths__places' AND g.id_link = paths__places.id \"\n      + \" JOIN paths__m_toponyms as t ON t.table_link = 'paths__places' AND t.id_link = paths__places.id\",\n      \"fields[g.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[GROUP_CONCAT(t.toponym)]\": \"Toponyms\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa( ( where ? where.replace(/`id`/gi, '`paths__places`.`id`') : \" 1\" ))\n    };\n\n    this.getData(\n      'places?verb=search&geojson=true&type=encoded',\n      data,\n      d => {\n        cb( d );\n      }\n    );\n  }\n\n  static getMsPlaces(ms_where, cb) {\n    const data = {\n      \"join\": \" JOIN paths__places ON paths__geodata.table_link = 'paths__places' AND paths__geodata.id_link = paths__places.id\" +\n              \" JOIN `paths__m_msplaces` ON `paths__m_msplaces`.`table_link`= 'paths__manuscripts' AND `paths__places`.`id` = `paths__m_msplaces`.`place` \",\n      \"fields[paths__geodata.geometry]\": \"Geometry\",\n      \"fields[paths__places.id]\": \"Id\",\n      \"fields[paths__places.name]\": \"Name\",\n      \"fields[paths__places.pleiades]\": \"Pleiades Id\",\n      \"fields[paths__places.typology]\": \"Site typology\",\n      \"fields[paths__m_msplaces.type]\": \"Place type\",\n      \"group\": \"paths__places.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa(\" `paths__m_msplaces`.`id_link` IN (SELECT `id` FROM `paths__manuscripts` WHERE \" + ms_where + \" )\")\n    };\n    this.getData(\n      'geodata?verb=search&geojson=true&type=encoded',\n      data,\n      d => { cb(d) }\n    );\n  }\n\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, LayersControl, GeoJSON, WMSTileLayer } from 'react-leaflet';\nimport { InputGroup, InputGroupAddon, Input } from 'reactstrap';\nimport qs from 'qs';\nimport hash from 'object-hash';\nimport { Sidebar, Tab } from 'react-leaflet-sidebarv2';\nimport L from 'leaflet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { GoogleLayer } from 'react-leaflet-google';\n\n\nimport Header from \"../mainLayout/Header\"\nimport ListPlaces from './ListPlaces';\nimport UrlFilterButton from './UrlFilterButton';\nimport TabLegend from './TabLegend';\nimport TabSavedQueries from './TabSavedQueries';\nimport ClearButton from './ClearButton';\nimport Loading from '../Loading/Loading';\nimport ShowError from '../ShowError/ShowError';\n\nimport Database from '../Services/Database/Database';\n\nimport './PathsMap.css';\n\nconst { BaseLayer } = LayersControl\n\nconst googleKey = \"AIzaSyCLRylxZwGnCbbDE7pH-oUURTZHOre7h5o\";\nexport default class PathsMap extends Component {\n\n  constructor(props) {\n\n    super(props);\n    this.state = {\n      places: null,\n      shownPlaces: null,\n      urlFilter: false,\n      sidebarCollapsed: false,\n      selected: 'home',\n      manualFilter: '',\n      error: false\n    };\n    this.placesLayerRef = React.createRef();\n    this.mapRef = React.createRef();\n  }\n\n  onSidebarClose() {\n    this.setState({\n      sidebarCollapsed: true\n    });\n  }\n\n  onSidebarOpen(id) {\n    this.setState({\n      sidebarCollapsed: false,\n      selected: id,\n    })\n  }\n\n\n  pointToLayer(t, i) {\n    let col = '#0f4880'; // 15, 72, 128\n\n    if (t.properties.type){\n\n      // discovery && storage && production\n      if (t.properties.type.includes('discovery') && t.properties.type.includes('storage') && t.properties.type.includes('production')) {\n        col = '#939393'; //147, 147, 147\n\n      // dicovery && storage\n      } else if (t.properties.type.includes('discovery') && t.properties.type.includes('storage')) {\n        col = '#00aa55'; // rgb 0,170,85\n\n      // storage && production\n      } else if (t.properties.type.includes('storage') && t.properties.type.includes('production')) {\n        col = '#009fd4'; // 0, 159, 212\n\n      // dicovery && production\n      } else if (t.properties.type.includes('discovery') && t.properties.type.includes('production')) {\n        col = '#b381b3'; // 179, 129, 179\n\n      // discovery\n      } else if (t.properties.type.includes('discovery')){\n        col = '#aa8f00'; // 170, 143, 0\n\n      // storage\n      } else if (t.properties.type.includes('storage')) {\n        col = '#d47500'; // 212, 117, 0\n\n      // production\n      } else if (t.properties.type.includes('production')) {\n        col = '#f64747'; // 246, 71, 71\n      }\n    }\n\n    return new L.CircleMarker(i, {\n      radius: 5,\n      weight: 1,\n      color: \"#fff\",\n      opacity: 0.9,\n      fillColor: col,\n      fillOpacity: 1\n    })\n  }\n\n  onEachFeature(feature, layer){\n    const base = window.location.pathname.replace(/\\/map(.*)/, '');\n    layer.bindPopup(`<strong>${feature.properties.name}</strong>` +\n       (feature.properties.copticname ? '<br /><span class=\"coptic\">' + feature.properties.copticname + '</span>': '') +\n       (feature.properties.type ? `<br /><span class=\"text-secondary\">${feature.properties.type}</span>` : '') +\n       `<br /><a href=\"${base}/places/${feature.properties.id}\">paths/places/${feature.properties.id}</a>`\n    );\n    layer.on('mouseover', function() { layer.openPopup(); });\n  }\n\n  filterPlaces(e) {\n    const str =  e.target.value;\n    let fgj = {};\n    if (str === ''){\n      fgj = this.state.places;\n    } else {\n      fgj = {\n        \"type\": \"FeatureCollection\",\n        \"features\": []\n      };\n      for (const val of Object.values(this.state.places.features)) {\n        if (Object.values(val.properties).join('|').toLowerCase().includes(str.toLowerCase())){\n          fgj.features.push(val);\n        }\n      }\n    }\n\n    // this.placesLayerRef.current.leafletElement.clearLayers();\n    // this.placesLayerRef.current.leafletElement.addData(fgj);\n    this.setState({\n      manualFilter: str,\n      shownPlaces: fgj\n    });\n    this.fitMapToBounds();\n  }\n\n  clearFiltered(){\n    this.setState({\n      manualFilter: '',\n      shownPlaces: this.state.places\n    });\n    this.fitMapToBounds();\n  }\n\n  fitMapToBounds(){\n    let bounds = [ [19.700194, 16.570227], [35.4737, 32.869317] ];\n    if (this.placesLayerRef && this.placesLayerRef.current.props.data.features.length > 1){\n      bounds = this.placesLayerRef.current.leafletElement.getBounds();\n\n      if(bounds._northEast.lat === bounds._southWest.lat && bounds._northEast.lng === bounds._southWest.lng){\n        bounds.pad();\n      }\n    }\n\n    this.mapRef.current.leafletElement.fitBounds(bounds);\n\n  }\n\n\n  fetchData(savedQ, locationSearch){\n    if (savedQ) {\n      Database.getSaved('map', savedQ, null, data => {\n        this.setState({\n          places: data,\n          shownPlaces: data,\n          urlFilter: true\n        });\n        this.fitMapToBounds()\n      });\n    } else if (locationSearch) {\n      let qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true})\n      if (qstring.tb === 'manuscripts') {\n        Database.getMsPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else if (qstring.tb === 'places') {\n\n        Database.getPlaces(qstring.where, data => {\n          this.setState({\n            places: data,\n            shownPlaces: data,\n            urlFilter: qstring.where\n          });\n          this.fitMapToBounds()\n        });\n      } else {\n        return false;\n      }\n\n    } else {\n      Database.getPlaces(null, data => {\n        if (data.type && data.type === 'error') {\n          this.setState({\n            error: <div>Sorry. There was an error in getting the data from database. Please report this error to <a href=\"mailto:julian.bogdani@uniroma1.it\">julian.bogdani@uniroma1.it</a> and be sure to copy and paste the following lines:<br /><div className=\"border p-3 mt-3\"><code>{window.location.href}</code><pre>{data.text}</pre></div></div>\n          });\n          return;\n        }\n        this.setState({\n          places: data,\n          shownPlaces: data,\n        });\n        this.fitMapToBounds();\n      });\n    }\n  }\n\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        places: null,\n        urlFilter: null\n      });\n      this.fetchData(nextProps.match.params.data, null);\n    }\n  }\n\n\n  componentDidMount(){\n    this.fetchData(this.props.match.params.data, this.props.location.search);\n  }\n\n  showGeoJson(){\n    if (!this.state.shownPlaces){\n      return <div style={{ textAlign: 'center', zIndex: 999, marginTop: '5rem'}}>\n          <Loading>Loading map data...</Loading>\n        </div>\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"maxHeight\">\n        <Header location={this.props.location} />\n          <main role=\"main\" className=\"maxHeight\">\n\n          <Sidebar id=\"sidebar\" collapsed={this.state.sidebarCollapsed} selected={this.state.selected}\n                   onOpen={this.onSidebarOpen.bind(this)} onClose={this.onSidebarClose.bind(this)}\n                   closeIcon={<FontAwesomeIcon icon=\"caret-left\" />}>\n            <Tab id=\"home\" header=\"Home\" icon={<FontAwesomeIcon icon=\"home\" />}>\n\n              <div className=\"sidebarSearch\">\n                <InputGroup className=\"my-2\">\n                  <InputGroupAddon addonType=\"prepend\">\n                    Search:\n                  </InputGroupAddon>\n                  <Input type=\"search\" value={this.state.manualFilter} onChange={this.filterPlaces.bind(this)} placeholder=\"start typing to filter places...\" />\n                    <ClearButton show={this.state.manualFilter} onClick={ this.clearFiltered.bind(this) } />\n                </InputGroup>\n              </div>\n\n              <div className=\"mt-2\">\n                <UrlFilterButton urlFilter={ this.state.urlFilter } filter={ this.state.filter }/>\n                <ListPlaces places={ this.state.shownPlaces } />\n              </div>\n            </Tab>\n\n            <Tab id=\"savedQueries\" header=\"Saved queries\" icon={<FontAwesomeIcon icon=\"save\" />}>\n              <div className=\"mt-5\">\n                <TabSavedQueries />\n              </div>\n            </Tab>\n\n            <Tab id=\"legend\" header=\"Legend\" icon={<FontAwesomeIcon icon=\"info\" />}>\n              <div className=\"mt-5\">\n                <TabLegend />\n              </div>\n            </Tab>\n          </Sidebar>\n\n          {this.state.error && <ShowError>{this.state.error}</ShowError>}\n\n          { !this.state.shownPlaces && <div style={{ position: 'absolute', top: '5rem', textAlign: 'center', zIndex: 999, width: '100%'}}>\n                <Loading>Loading map data...</Loading>\n              </div> }\n\n          <Map className=\"sidebar-map maxHeight\" zoomControl={true} ref={this.mapRef}>\n            <LayersControl position=\"topright\">\n              { /**\n              <BaseLayer name=\"Imperium (Pelagios)\">\n                <TileLayer url=\"http://pelagios.org/tilesets/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              */ }\n              <BaseLayer name=\"Imperium (DARE)\">\n                <TileLayer url=\"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"AWMC\" checked={true}>\n                <TileLayer url=\"http://{s}.tiles.mapbox.com/v3/isawnyu.map-knmctlkh/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name='Google Maps Roads'>\n                 <GoogleLayer googlekey={googleKey}  maptype='ROADMAP'/>\n              </BaseLayer>\n\n              <BaseLayer name='Google Satellite'>\n               <GoogleLayer googlekey={googleKey}  maptype='SATELLITE'/>\n              </BaseLayer>\n              <BaseLayer name=\"OpenStreetMap\">\n                <TileLayer url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" />\n              </BaseLayer>\n              <BaseLayer name=\"Series 4085 - GB &amp; USA\">\n                <WMSTileLayer\n                  layers='Series 4085-Great Britain War Office-U.S. Army Map Service-1941-'\n                  url=\"http://wms.paths-erc.eu/\"\n                />\n              </BaseLayer>\n              <BaseLayer name=\"Arrowsmith 1807\">\n                <WMSTileLayer\n                  layers='Arrowsmith 1807'\n                  url=\"http://wms.paths-erc.eu/\"\n                />\n              </BaseLayer>\n\n              { this.state.shownPlaces && <GeoJSON\n                ref={this.placesLayerRef}\n                key={ hash(this.state.shownPlaces) }\n                data={this.state.shownPlaces}\n                pointToLayer={this.pointToLayer.bind(this)}\n                onEachFeature={this.onEachFeature.bind(this) } /> }\n            </LayersControl>\n\n          </Map>\n        </main>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardTitle, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Link } from 'react-router-dom';\n\nimport SavedQueries from '../Services/SavedQueries';\n\nexport default class SavedQueriesList extends Component {\n\n  render(){\n    const tblabel = this.props.tblabel;\n    const tb = this.props.tb;\n\n    return (\n      <div>\n        <Card className=\"mt-5 mb-5\" color=\"light\">\n          <div className=\"text-right\">\n            <button type=\"button\" className=\"close mr-2 mt-2\" aria-label=\"Close\" onClick={this.props.closeFn}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n        <CardBody>\n          <CardTitle>Saved queries for {tblabel}</CardTitle>\n            <ListGroup>\n              { Object.values(SavedQueries[tb]).map( (e, i) => {\n                return <ListGroupItem key={i}  onClick={this.props.closeFn} className=\"mb-3\" tag={Link} to={ `/search/${tb}/saved?q=${e.id}`} color=\"secondary\">\n                    <FontAwesomeIcon icon=\"arrow-circle-right\" /> { e.title }\n                </ListGroupItem>\n              }) }\n            </ListGroup>\n        </CardBody>\n      </Card>\n      </div>\n    );\n  }\n}\n","/*jshint esversion: 6 */\n\n\nexport default {\n    \"coptic\": [\n      \"authors.copticname\",\n      \"titles.text\",\n      \"colophons.text\"\n    ],\n    \"greek\": [\n      \"authors.greekname\"\n    ],\n    \"hidden\": [\n      \"manuscripts.creator\",\n      \"collections.creator\",\n      \"collections.cmclname\",\n      \"works.id\",\n      \"works.creator\",\n      \"works.shelfmarks\",\n      \"works.period\",\n      \"works.problems\",\n      \"titles.creator\",\n      \"colophons.creator\",\n      \"authors.id\",\n      \"authors.creator\",\n      \"authors.cmclname\",\n      \"editors.cmclname\",\n      \"places.creator\",\n      \"places.hasplans\",\n      \"places.hasphotos\",\n      \"persons.id\",\n      \"persons.creator\",\n      \"biblio.creator\",\n      \"biblio.editors\",\n      \"m_quires.id\",\n      \"m_hands.id\"\n    ],\n    \"id_fld\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"name\",\n      \"persons\": \"name\"\n    },\n    \"searchDefault\": {\n      \"manuscripts\": \"id\",\n      \"collections\": \"fullname\",\n      \"works\": \"cmcl\",\n      \"titles\": \"cc\",\n      \"colophons\": \"id\",\n      \"authors\": \"name\",\n      \"places\": \"paths__m_toponyms:toponym\",\n      \"persons\": \"name\"\n    },\n    \"preview\": {\n      \"manuscripts\":  [ \"id\", \"cmclid\", \"tm\", \"ldab\", \"bookform\", \"writingsupport\" ],\n      \"collections\":  [ \"id\", \"fullname\", \"cmclname\", \"country\", \"town\", \"institution\", \"name\", \"notes\" ],\n      \"works\":        [ \"id\", \"cmcl\", \"title\", \"cpg\" ],\n      \"titles\":       [ \"cc\", \"type\", \"workcc\", \"msid\" ],\n      \"colophons\":    [ \"id\", \"msid\", \"dialect\", \"chronofrom\", \"chronoto\", \"datingcriteria\" ],\n      \"authors\":      [ \"name\", \"title\", \"copticname\", \"greekname\", \"cmclname\" ],\n      \"places\":       [ \"id\", \"name\", \"tm\", \"pleiades\", \"region\", \"area\", \"episcopalsee\" ],\n      \"persons\":      [ \"id\", \"name\", \"type\", \"profession\", \"patronymic\" ]\n    },\n    \"label\": {\n      \"manuscripts\": \"Manuscripts\",\n      \"collections\": \"Collections\",\n      \"works\": \"Works\",\n      \"titles\": \"Titles\",\n      \"colophons\": \"Colophons\",\n      \"authors\": \"Authors\",\n      \"places\": \"Places\",\n      \"persons\": \"Persons attested in colophons\"\n    },\n\n    \"fld_whitelist\": [\n        \"paths__places:id\",\n        \"paths__places:name\",\n        \"paths__places:tm\",\n        \"paths__places:pleiades\",\n        \"paths__places:region\",\n        \"paths__places:area\",\n        \"paths__places:meris\",\n        \"paths__places:nomos\",\n        \"paths__places:province\",\n        \"paths__places:episcopalsee\",\n        \"paths__places:typology\",\n        \"paths__places:description\",\n        \"paths__places:hasmonastery\",\n        \"paths__places:isnomoscapital\",\n        \"paths__m_toponyms:toponym\",\n        \"paths__m_placephase:fperiod\",\n        \"paths__m_placephase:ftypology\",\n\n        \"paths__works:id\",\n        \"paths__works:cmcl\",\n        \"paths__works:title\",\n        \"paths__works:cpg\",\n        \"paths__works:cant\",\n        \"paths__works:cavt\",\n        \"paths__works:bho\",\n        \"paths__works:bhg\",\n        \"paths__works:bhl\",\n        \"paths__works:cae\",\n        \"paths__works:litperiod\",\n        \"paths__m_wkauthors:type\",\n        \"paths__m_wkauthors:author\",\n\n        \"paths__authors:id\",\n        \"paths__authors:name\",\n        \"paths__authors:copticname\",\n        \"paths__authors:greekname\",\n        \"paths__authors:viaf\",\n        \"paths__authors:title\",\n\n        \"paths__titles:id\",\n        \"paths__titles:cc\",\n        \"paths__titles:workcc\",\n        \"paths__titles:msid\",\n        \"paths__titles:type\",\n        \"paths__titles:text\",\n        \"paths__titles:translation\",\n\n        \"paths__colophons:id\",\n        \"paths__colophons:msid\",\n        \"paths__colophons:chronofrom\",\n        \"paths__colophons:chronoto\",\n        \"paths__colophons:dialect\",\n        \"paths__colophons:greektext\",\n        \"paths__colophons:writingaxis\",\n        \"paths__colophons:cryptography\",\n        \"paths__colophons:minusculecopitc\",\n        \"paths__colophons:minusculegreek\",\n        \"paths__colophons:text\",\n        \"paths__colophons:translation\",\n\n        \"paths__collections:id\",\n        \"paths__collections:fullname\",\n        \"paths__collections:country\",\n        \"paths__collections:town\",\n        \"paths__collections:institution\",\n        \"paths__collections:name\",\n\n        \"paths__manuscripts:id\",\n        \"paths__m_shelfmarks:collection\",\n        \"paths__m_shelfmarks:shelfmark\",\n        \"paths__manuscripts:cmclid\",\n        \"paths__manuscripts:tm\",\n        \"paths__manuscripts:ldab\",\n        \"paths__manuscripts:lcbm\",\n        \"paths__manuscripts:alias\",\n        \"paths__manuscripts:bookform\",\n        \"paths__manuscripts:writingsupport\",\n        \"paths__manuscripts:issinglefrag\",\n        \"paths__manuscripts:isbookbinding\",\n        \"paths__manuscripts:dialect\",\n        \"paths__manuscripts:chronofrom\",\n        \"paths__manuscripts:chronoto\",\n        \"paths__m_msplaces:place\",\n        \"paths__m_msplaces:type\",\n        \"paths__manuscripts:datingsource\",\n        \"paths__manuscripts:leaftotextant\",\n        \"paths__manuscripts:quiresextant\",\n        \"paths__manuscripts:columns\",\n        \"paths__manuscripts:linespercolumn\",\n        \"paths__manuscripts:charsperline\",\n        \"paths__manuscripts:quiresig\",\n        \"paths__manuscripts:quiretype\",\n        \"paths__manuscripts:quireposition\",\n        \"paths__manuscripts:pagination\",\n        \"paths__manuscripts:pagtype\",\n        \"paths__manuscripts:pagposition\",\n        \"paths__manuscripts:foliation\",\n        \"paths__manuscripts:foltype\",\n        \"paths__manuscripts:folposition\",\n        \"paths__manuscripts:handstot\",\n        \"paths__manuscripts:lectionalsigns\",\n        \"paths__manuscripts:structuralsigns\",\n        \"paths__manuscripts:abbreviations\",\n        \"paths__manuscripts:ruling\",\n        \"paths__manuscripts:rulingtype\",\n        \"paths__manuscripts:rulingtool\",\n        \"paths__manuscripts:pricking\",\n        \"paths__manuscripts:leaftabs\",\n        \"paths__manuscripts:kolleseis\",\n        \"paths__manuscripts:bindings\",\n        \"paths__manuscripts:sewings\",\n        \"paths__manuscripts:sewingtype\",\n        \"paths__manuscripts:covers\",\n        \"paths__manuscripts:palimpsest\",\n        \"paths__manuscripts:decortype\",\n        \"paths__manuscripts:decorsubj\",\n        \"paths__m_hands:handno\",\n        \"paths__m_hands:modulartypology\",\n        \"paths__m_hands:writingaxis\",\n        \"paths__m_hands:thickandthin\",\n\n        \"paths__m_biblio:short\",\n        \"paths__m_biblio:details\",\n\n      ]\n};\n","import React, { Component } from 'react';\nimport { Jumbotron, Navbar, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SavedQueriesList from './SavedQueriesList';\nimport SavedQueries from '../Services/SavedQueries';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nclass SubHead extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSaved: false\n    };\n  }\n\n  toggleSaved(e){\n    this.setState({\n      showSaved: !this.state.showSaved\n    });\n  }\n\n  render(){\n    const tblabel = this.props.tblabel ? this.props.tblabel : Cfg.label[this.props.tb];\n    const tb = this.props.tb;\n    const text = this.props.text ? <span className=\"subText\">{this.props.text}</span> : false;\n\n    let menuItems = [\n      {\n        to: '/search/' + tb + '/all',\n        icon: 'list-ul',\n        text: 'Show all'\n      },\n      {\n        to: '/search/' + tb ,\n        icon: 'search',\n        text: 'Search'\n      },\n      {\n        to: '/search/' + tb + '/adv',\n        icon: 'search-plus',\n        text: 'Advanced search'\n      }\n    ];\n\n    return (\n      <div>\n        <Jumbotron className=\"p-4\">\n\n        <div className=\"container\">\n          <h2>{text}</h2>\n          <Navbar color=\"light\" light expand=\"xs\" className=\"ml-auto\">\n            <NavbarBrand>\n              <h3><small>{ tblabel }</small></h3>\n            </NavbarBrand>\n            <Nav className=\"ml-auto\" navbar>\n              {\n                menuItems.map( (e, k) => {\n                  return (\n                    <NavItem key={k}>\n                      <NavLink to={e.to} tag={Link}>\n                        <FontAwesomeIcon icon={e.icon} /> <span className=\"d-none d-md-inline\">{e.text}</span>\n                      </NavLink>\n                    </NavItem>\n                  );\n                })\n              }\n              { SavedQueries[tb] && (<NavItem><NavLink onClick={this.toggleSaved.bind(this)} style={{cursor: 'pointer'}}><FontAwesomeIcon icon=\"save\" /><span className=\"d-none d-md-inline\"> Saved queries</span></NavLink></NavItem>)}\n            </Nav>\n          </Navbar>\n\n          {this.state.showSaved && <SavedQueriesList  tb={tb} tblabel={tblabel} closeFn={this.toggleSaved.bind(this)}/>}\n        </div>\n      </Jumbotron>\n      </div>\n    );\n  }\n}\n\nexport default SubHead;\n","import React, { Component } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass SqlModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <span>\n        <Button color=\"danger\" size=\"sm\" onClick={this.toggle}><FontAwesomeIcon icon=\"code\" /></Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Executed SQL</ModalHeader>\n          <ModalBody>\n            <pre style={{ height: '200px', whiteSpace: 'pre-wrap' }}>{this.props.sql}</pre>  \n          </ModalBody>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default SqlModal;\n","import React, { Component } from 'react';\nimport qs from 'qs';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport SqlModal from '../SqlModal/SqlModal';\n\n\nfunction build_object(path, queryString, tot_rows, curr_page = 1)\n{\n\n  const rpp = 30;\n\n  let tot_pages = Math.ceil(tot_rows / rpp);\n  let result = [];\n\n  curr_page = parseInt(curr_page, 10);\n\n  let qString = qs.parse(queryString, {ignoreQueryPrefix: true});\n\n  if (curr_page - 2 > 0 ) {\n    qString.page = 1;\n    result.push({\n      to :  path + '?' + qs.stringify(qString),\n      text : 1\n    });\n  }\n\n  if (curr_page - 3 > 0 ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n\n  // -1 page\n  if (curr_page - 1 > 0 ) {\n    qString.page = (curr_page - 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  // current page\n  qString.page = curr_page;\n  result.push({\n    to : path + '?' + qs.stringify(qString),\n    active : true,\n    text : curr_page\n  });\n\n  // +1 page\n  if (curr_page + 1 < tot_pages ) {\n    qString.page = (curr_page + 1);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n    // +3 page\n  if (curr_page + 2 < tot_pages ) {\n    result.push({\n      to : '#',\n      disabled : true,\n      text : '...'\n    });\n  }\n\n  if (curr_page !== tot_pages ) {\n    qString.page = (tot_pages);\n    result.push({\n      to : path + '?' + qs.stringify(qString),\n      text : qString.page\n    });\n  }\n\n  return result;\n}\n\nclass PaginateResult extends Component {\n\n  render() {\n\n    const result = build_object(\n      this.props.path,\n      this.props.search,\n      this.props.totalRows,\n      this.props.page\n    );\n\n    return (\n      <Pagination>\n        <PaginationItem>\n          <PaginationLink>Pages: </PaginationLink>\n        </PaginationItem>\n        { result.map( (r, i) => {\n          const props = {\n            disabled: r.disabled,\n            active: r.active\n          };\n         return <PaginationItem {...props} key={i}>\n           <PaginationLink tag={Link} to= { r.to }>\n              { r.text }\n           </PaginationLink>\n         </PaginationItem>\n        }) }\n\n      </Pagination>\n    );\n\n  }\n}\nclass PaginateResultSummary extends Component {\n\n  render() {\n\n    const curr_page =  this.props.page ? this.props.page : 1;\n    const start_at = curr_page * 30 - 30 + 1;\n    const up_to = (curr_page * 30) < this.props.totalRows ? curr_page * 30 : this.props.totalRows;\n\n    return (\n      <div className=\"mb-3\">\n        Showing records <span className=\"badge badge-primary\">\n        { start_at }   { up_to } </span> of <span className=\"badge badge-success\">\n        { this.props.totalRows }</span> records found\n        &nbsp;<SqlModal sql={this.props.query}/>\n      </div>\n    );\n\n  }\n}\n\nexport {PaginateResult, PaginateResultSummary};\n","import React, { Component } from 'react';\nimport { Row, Col, Table, Card, CardBody, CardHeader, ButtonGroup, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nclass ItemPreviewWrapper extends Component {\n\n  render() {\n    return (\n      <Row>{ this.props.children }</Row>\n    );\n  }\n}\n\nclass ItemPreview extends Component {\n\n  render() {\n\n    const el = this.props.record;\n    const flds = this.props.fields;\n    const tb = this.props.tb;\n\n    const preview_flds = this.props.previewFlds;\n    const id_field = this.props.idField;\n\n    return (\n      <Col sm=\"4\">\n      \t<Card className=\"mt-3\" outline color=\"dark\">\n          <CardHeader tag=\"h4\">{ el[id_field] }</CardHeader>\n          <CardBody id={ el.id }>\n\n            <Table hover size=\"sm\">\n              <tbody>\n                {\n                  preview_flds.map( (e, k) => {\n                    return <tr key={k}>\n                      <th>{ flds[e] }</th>\n                      <td>{ el[e] }</td>\n                    </tr>\n                  } )\n                }\n              </tbody>\n            </Table>\n\n            <div className=\"clearfix\">\n              <div className=\"btn-group float-right\" role=\"group\">\n                <ButtonGroup>\n                  <Button size=\"sm\" color=\"info\" tag={Link} to={ '/' + [tb, el.id].join('/') }>\n                    <FontAwesomeIcon icon=\"eye\" /> View\n                  </Button>\n                </ButtonGroup>\n              </div>\n            </div>\n\n          </CardBody>\n    \t  </Card>\n      </Col>\n    );\n  }\n}\n\nexport {ItemPreview, ItemPreviewWrapper};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass OpenInMap extends Component {\n\nrender() {\n\n  const tb = this.props.tb;\n\n  if (['manuscripts', 'places'].indexOf(tb) < 0){\n    return null;\n  }\n  return (\n    <div className=\"float-right mt-2\">\n      <Link to={'/map?tb=' + tb + '&where=' + encodeURI(this.props.where) } className=\"btn btn-warning\">\n        <FontAwesomeIcon icon=\"map-marker-alt\" /> View on Map\n      </Link>\n    </div>\n  );\n  }\n}\n\nexport default OpenInMap;\n","import React, { Component } from 'react';\nimport { Alert } from 'reactstrap';\nimport qs from 'qs';\nimport {withRouter} from 'react-router';\n\nimport Database from '../Services/Database/Database';\nimport {PaginateResult, PaginateResultSummary} from '../PaginateResult/PaginateResult';\nimport { ItemPreview, ItemPreviewWrapper } from './ItemPreview';\nimport OpenInMap from '../Manuscripts/OpenInMap';\nimport Loading from '../Loading/Loading';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\n\nclass Results extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: false\n    };\n  }\n\n  _fetchData(){\n    switch (this.props.type) {\n      case 'simple':\n        Database.getSimple(this.props.tb, this.props.fld, this.props.val, this.props.strict, this.props.page, d => {\n          this.setState({\n            result: d\n          });\n        });\n        break;\n\n        case 'adv':\n          Database.getAdv(this.props.tb, this.props.data, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'all':\n          Database.getAll(this.props.tb, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'saved':\n          Database.getSaved(this.props.tb, this.props.query, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        case 'encoded':\n          Database.getByEncodedSql(this.props.tb, this.props.q, this.props.page, d => {\n            this.setState({\n              result: d\n            });\n          });\n          break;\n\n        default:\n          console.log(`Unknown verb ${this.props.type}`);\n          return null;\n    }\n\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.page !== prevProps.page\n      || this.props.fld !== prevProps.fld\n      || this.props.val !== prevProps.val\n      || this.props.strict !== prevProps.strict\n      || this.props.query !== prevProps.query\n    ) {\n      this._fetchData();\n    }\n  }\n\n  componentDidMount(){\n    this._fetchData();\n  }\n\n  render() {\n    if (!this.state.result) {\n      return <div className=\"container\"><Loading /></div>;\n    }\n\n    if(this.state.result.type === 'error') {\n      return (\n        <div>\n          <div className=\"container\">\n            <Alert color=\"danger\" className=\"mt-5\">\n                <h4 className=\"alert-heading\">We are so sorry!</h4>\n                <p>Something went terribly wrong. Please report this error to <a href=\"https://github.com/paths-erc/atlas/issues\">our public repository</a> in order to get it fixes as soon as possible.</p>\n            </Alert>\n            <div>\n              <p>Please file the current URL:</p>\n\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ window.location.href }</Alert>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">{ decodeURIComponent(window.location.href) }</Alert>\n              <p>and the following error message</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.text}\n                </pre>\n              </Alert>\n              <p>Full error trace</p>\n              <Alert color=\"info\" className=\"border p-3 m-2 ml-4\">\n                <pre>\n                {this.state.result.trace}\n                </pre>\n              </Alert>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    if(this.state.result.head.total_rows === 0) {\n      return (\n        <div>\n\n            <div className=\"container\">\n              <Alert color=\"warning\" className=\"mt-5\">\n                  <h4 className=\"alert-heading\">Ooops!</h4>\n                  No result found. Please reformulate the query.\n              </Alert>\n            </div>\n        </div>\n      )\n    }\n\n    return (\n    \t<div>\n\n        <div className=\"container\">\n\n          <div className=\"clearfix\">\n\n            <OpenInMap\n                tb={this.state.result.head.stripped_table}\n                where={this.state.result.head.query_where}\n                type={this.props.match.params.type}\n                search={ qs.parse(this.props.location.search, {ignoreQueryPrefix: true}) }\n                />\n\n            <PaginateResultSummary\n              totalRows={this.state.result.head.total_rows}\n              page={this.state.result.head.page}\n              query={this.state.result.head.query_arrived}\n              />\n\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n\n\n          <ItemPreviewWrapper>\n          {\n             this.state.result.records.map( (e, i) => {\n              return <ItemPreview\n                  idField = { Cfg.id_fld[this.props.match.params.table] }\n                  previewFlds = { Cfg.preview[this.props.match.params.table] }\n                  tb={this.props.match.params.table}\n                  record={e}\n                  fields={this.state.result.head.fields}\n                  key={i} />\n            })\n          }\n          </ItemPreviewWrapper>\n\n          <div className=\"pt-3\">\n            <PaginateResult\n                path={this.props.location.pathname}\n                search={ this.props.location.search }\n                totalRows={this.state.result.head.total_rows}\n                page={this.state.result.head.page}\n              />\n          </div>\n\n        </div>\n\n\t\t  </div>\n    );\n  }\n}\nexport default withRouter(Results);\n","import React, { Component } from 'react';\nimport { Alert } from 'reactstrap';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport SavedQueries from '../Services/SavedQueries';\n\n\n\n\nexport default class SearchSaved extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      saved: qstring.q,\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const old_qstring = qs.parse(prevProps.location.search, {ignoreQueryPrefix: true});\n    const new_qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    if(old_qstring.page !== new_qstring.page){\n      this.setState({\n        page: new_qstring.page\n      });\n    }\n    if(old_qstring.q !== new_qstring.q){\n      this.setState({\n        saved: new_qstring.q\n      });\n    }\n  }\n\n  render() {\n    if (typeof SavedQueries[this.props.match.params.table][this.state.saved] === 'undefined'){\n      return (\n        <div className=\"container\">\n          <Alert color=\"warning\" className=\"mt-5\">\n              <h4 className=\"alert-heading\">Ooops!</h4>\n              No saved query <code>{this.state.saved}</code> found.\n          </Alert>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text={SavedQueries[this.props.match.params.table][this.state.saved].title} />\n      \t<Results\n            tb={this.props.match.params.table}\n            query={this.state.saved}\n            type=\"saved\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Select from 'react-select';\n\nimport Database from '../Services/Database/Database';\nimport Cfg from '../Services/Cfg/Cfg';\n\n\nexport default class FldSelect extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fields: false,\n      fld: false\n    };\n  }\n\n  _setState(fldList, selected){\n    fldList = Cfg.fld_whitelist.map(id => {\n      if(fldList[id]){\n        return { value: id, label: fldList[id].label };\n      } else {\n        return false;\n      }\n    }).filter( i => { return i; } );\n\n    let selObj;\n    if (selected){\n      selObj= fldList.filter( e => {\n        return e.value === selected;\n      })[0];\n    } else {\n      if (Cfg.searchDefault[this.props.tb]){\n        const v = Cfg.searchDefault[this.props.tb].includes('paths') ? Cfg.searchDefault[this.props.tb] : `paths__${this.props.tb}:${Cfg.searchDefault[this.props.tb]}`;\n\n        selObj = fldList.filter( e => {\n          return e.value === v;\n        })[0];\n      } else {\n        selObj = fldList[0];\n      }\n      this.props.onChange(selObj);\n    }\n\n    this.setState({\n      fields: fldList,\n      fld: selObj\n    });\n  }\n\n\n  componentDidMount(){\n    Database.inspect(this.props.tb, data => {\n      this._setState(data.fields, this.props.fld);\n    });\n  }\n\n  render() {\n    if (!this.state.fields){\n      return null;\n    }\n\n    return (\n        <Select\n          defaultValue={ this.state.fld }\n          options={ this.state.fields }\n          onChange={ this.props.onChange }\n          />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\n\nimport Database from '../Services/Database/Database';\n\n\n\nexport default class ValueInput extends Component {\n\n  constructor(props) {\n    super();\n\n    this.state = {\n      isLoading: false,\n      multiple: false,\n      options: []\n    }\n  }\n\n  _handleSearch = (string) => {\n    this.setState({isLoading: true});\n    const [tb, fld] = this.props.fld.split(':');\n    Database.getUniqueVal(tb, fld, string, d => {\n      this.setState({\n        options : d,\n        isLoading: false\n      })\n    });\n  }\n\n  render() {\n    if(!this.state.options){\n      return null;\n    }\n\n    return (\n      <div>\n        <AsyncTypeahead\n          {...this.state}\n          minLength={1}\n          placeholder=\"Add a value\"\n          onSearch={this._handleSearch}\n          onInputChange={this.props.onChange}\n          onChange={this.props.onChange}\n          defaultInputValue={this.props.val ? this.props.val : ''}\n          />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport { FormGroup, Input, Button, Col, Label } from 'reactstrap';\n\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\n\n\n\nexport default class CustomSearchForm extends Component {\n\n  constructor(props) {\n    super();\n    this.state = {\n      fld: props.fld,\n      val: props.val,\n      strict: props.strict === true\n    }\n\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this._changeField = this._changeField.bind(this);\n    this._changeVal = this._changeVal.bind(this);\n    this._changeStrict = this._changeStrict.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props){\n      this.setState({\n        fld: this.props.fld,\n        val: this.props.val,\n        strict: this.props.strict ? true : false\n      });\n    }\n  }\n\n  _changeField(v){\n    this.setState({\n      fld: v.constructor === Object && v.value ? v.value : v\n    });\n  }\n  _changeVal(v){\n    this.setState({\n      val: v.constructor === Array ? v[0] : v\n    });\n  }\n  _changeStrict(e){\n    this.setState({\n      strict: e.target.checked\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (!this.state.val){\n      alert('Insert a value to continue');\n      return;\n    }\n    this.props.onSubmit(this.state.fld, this.state.val, this.state.strict);\n  }\n\n  render() {\n    return (\n      <div className=\"my-5\">\n        <form onSubmit={this.handleSubmit} className=\"form\">\n\n          <FormGroup row>\n\n            <Col sm={4}>\n              <FldSelect\n                  tb={ this.props.tb }\n                  fld={this.state.fld}\n                  onChange={ this._changeField }\n                  />\n            </Col>\n\n            <Col sm={5}>\n              <ValueInput\n                fld={ this.state.fld }\n                val={this.state.val}\n                onChange={this._changeVal}\n               />\n            </Col>\n\n            <Col sm={1}>\n              <Label check>\n                <Input\n                    name=\"strict\"\n                    type=\"checkbox\"\n                    checked={this.state.strict }\n                    onChange={this._changeStrict}\n                  /> Strict\n              </Label>\n            </Col>\n\n            <Col sm={2}> <Button type=\"submit\" color=\"success\" block>Search!</Button> </Col>\n          </FormGroup>\n\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport CustomSearchForm from './CustomSearchForm';\nimport Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      fld: qstring.f,\n      val: qstring.v,\n      strict: (qstring.s && qstring.s !== 'false' && qstring.s !== 'undefined'),\n      page: qstring.page\n    };\n\n    this._onFormSubmit = this._onFormSubmit.bind(this);\n  }\n\n  _onFormSubmit(fld, val, strict){\n    const s = \"f=\" + encodeURIComponent(fld) +\n                  (strict ? \"&s=1\" : '')+\n                  \"&v=\" + encodeURIComponent(val);\n\n    this.setState({\n      fld: fld,\n      val: val,\n      strict: strict\n    });\n\n    this.props.history.push(`/search/${this.props.match.params.table}?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Simple search' />\n\n      \t<div className=\"mt-3 p-1 container\">\n          <CustomSearchForm\n              tb={ this.props.match.params.table }\n              onSubmit={this._onFormSubmit}\n              fld={this.state.fld}\n              val={this.state.val}\n              strict={this.state.strict}\n             />\n          <hr />\n  \t\t  </div>\n\n        { this.state.fld && this.state.val && <Results\n            tb={this.props.match.params.table}\n            type=\"simple\"\n            fld={this.state.fld}\n            val={this.state.val}\n            strict={this.state.strict}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class OperatorSelect extends Component {\n\n  render() {\n\n    const operators = [\n      {\n        'k': 'LIKE',\n        'v': 'Contains'\n      },\n      {\n        'k': '=',\n        'v': 'Is exactly'},\n      {\n        'k': 'NOT LIKE',\n        'v': 'Does not contain'},\n      {\n        'k': 'starts_with',\n        'v': 'Starts with'},\n      {\n        'k': 'ends_with',\n        'v': 'Ends with'},\n      {\n        'k': 'is_empty',\n        'v': 'Is empty'},\n      {\n        'k': 'is_not_empty',\n        'v': 'Is not empty'},\n      {\n        'k': '>',\n        'v': 'Is bigger than'},\n      {\n        'k': '<',\n        'v': 'Is smaller than'}\n    ];\n\n    return (\n      <div>\n        <Input type=\"select\" placeholder=\"select\" {...this.props}>\n          {operators.map( (f, i) => {\n            return (<option key={i} value={f.k}>{ f.v }</option>);\n          } ) }\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Input} from 'reactstrap';\n\n\nexport default class ConnectorSelect extends Component {\n\n  render() {\n\n    return (\n      <div>\n        <Input type=\"select\" {...this.props}>\n          <option value=\"AND\">AND</option>\n          <option value=\"OR\">OR</option>\n        </Input>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col, Button } from 'reactstrap';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\nimport FldSelect from './FldSelect';\nimport ValueInput from './ValueInput';\nimport OperatorSelect from './OperatorSelect';\nimport ConnectorSelect from './ConnectorSelect';\n\n\nexport default class AdvSearchForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n\n    let rows;\n    let show = false;\n\n    if(Object.getOwnPropertyNames(qstring).length === 0){\n      rows = {\n        'a': {\n          f: '',\n          o: 'LIKE',\n          v: ''\n        }\n      };\n    } else {\n      rows = qstring;\n      show = true;\n    }\n\n    this.state = {\n      rows: rows,\n      showResults: show,\n      page: false\n    };\n\n    this._changeOperator = this._changeOperator.bind(this);\n    this._changeConnector = this._changeConnector.bind(this);\n    this._addRow = this._addRow.bind(this);\n    this._removeRow = this._removeRow.bind(this);\n\n  }\n\n\n  _removeRow(e){\n    let rows = this.state.rows;\n    const delKey = e.target.name;\n    delete rows[delKey];\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _addRow(){\n    let rows = this.state.rows;\n    const uid = 'a' + Math.random().toString(36).substr(2, 9);\n    rows[uid] = { f: '', o: 'LIKE', v: '', c: 'AND'}\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeField(index, val){\n    let rows = this.state.rows;\n    rows[index].f = val.constructor === Object && val.value ? val.value : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeVal(index, val){\n    let rows = this.state.rows;\n    rows[index].v = val.constructor === Array ? val[0] : val;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeOperator(e){\n    let rows = this.state.rows;\n    rows[e.target.name].o = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _changeConnector(e){\n    let rows = this.state.rows;\n    rows[e.target.name].c = e.target.value;\n    this.setState({\n      rows: rows,\n      showResults: false\n    });\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n    this.setState({\n      showResults: true\n    });\n    const s = qs.stringify(this.state.rows)\n    this.props.history.push(`/search/${this.props.match.params.table}/adv?${s}`);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Advanced search' />\n\n        <div className=\"mt-3 p-1 container\">\n          <form onSubmit={this._handleSubmit.bind(this)} className=\"form\">\n            {\n              Object.entries(this.state.rows).map((e, i)=>{\n                const k = e[0];\n                const v = e[1];\n\n                return <div key={i} className=\"my-3\">\n                  <Row>\n                    <Col xs={1}>\n                      { i > 0 && <ConnectorSelect\n                          defaultValue={v.c}\n                          onChange={this._changeConnector}\n                          name={k}\n                        />}\n                    </Col>\n                    <Col xs={4}>\n                      <FldSelect\n                        tb={ this.props.match.params.table }\n                        fld={v.f}\n                        onChange={ this._changeField.bind(this, k) }\n                        />\n                    </Col>\n                    <Col xs={2}>\n                      <OperatorSelect\n                        defaultValue={v.o}\n                        name={k}\n                        onChange={ this._changeOperator }\n                        />\n                    </Col>\n                    <Col xs={3}>\n                      <ValueInput\n                        fld={ v.f }\n                        val={v.v}\n                        onChange={this._changeVal.bind(this, k)}\n                        />\n                    </Col>\n\n                    <Col xs={1}>\n                      { i+1 === Object.keys(this.state.rows).length && <Button type=\"button\" color=\"info\" block onClick={ this._addRow }>+</Button>}\n                    </Col>\n                    <Col xs={1}>\n                      { i > 0 && <Button type=\"button\" color=\"danger\" block name={k} onClick={ this._removeRow }>-</Button>}\n                    </Col>\n                  </Row>\n                </div>\n              })\n            }\n\n            <Button type=\"submit\" color=\"success\" block>Search!</Button>\n          </form>\n          <hr />\n        </div>\n\n        { this.state.showResults && <Results\n            tb={this.props.match.params.table}\n            type=\"adv\"\n            data={this.state.rows}\n            page={this.state.page}\n            />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\n  import Results from './Results';\n\n\n\nexport default class SearchSimple extends Component {\n\n\n  render() {\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='Custom query' />\n        <Results\n            tb={this.props.match.params.table}\n            type=\"encoded\"\n            q={qstring.q}\n            page={qstring.page}\n            />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport qs from 'qs';\n\nimport SubHead from '../SubHead/SubHead';\nimport Results from './Results';\n\n\n\nexport default class SearchAll extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n    this.state = {\n      page: qstring.page\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    const qstring = qs.parse(this.props.location.search, {ignoreQueryPrefix: true});\n    if(this.state.page !== qstring.page){\n      this.setState({\n        page: qstring.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SubHead tb={ this.props.match.params.table } text='View all' />\n\n      \t<Results\n            tb={this.props.match.params.table}\n            type=\"all\"\n            page={this.state.page}\n            />\n      </div>\n    );\n  }\n}\n","/* jshint esversion: 6 */\nimport React from \"react\";\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\n\nimport SubHead from '../SubHead/SubHead';\n\nimport PlacesMd from './places/places.md';\nimport PlacesImg from './places/places.jpg';\n\nimport ManuscriptsMd from './manuscripts/manuscripts.md';\nimport ManuscriptsImg from './manuscripts/manuscripts.jpg';\n\nimport WorksMd from './works/works.md';\nimport WorksWithoutClavisMd from './works/works-without-clavis.md';\nimport WorksImg from './works/works.jpg';\n\nimport TitlesMd from './titles/titles.md';\nimport TitlesImg from './titles/titles.jpg';\n\nimport AuthorsMd from './authors/authors.md';\nimport AuthorsImg from './authors/authors.jpg';\n\nimport ColophonsMd from './colophons/colophons.md';\nimport ColophonsImg from './colophons/colophons.jpg';\n\nimport CollectionsMd from './collections/collections.md';\nimport CollectionsImg from './collections/collections.jpg';\n\nimport './Intro.css';\n\nexport default function Intro(props){\n\n  const tb = props.match.params.table;\n\n  const dataMap = {\n    places: {\n      label: \"Places\",\n      img: PlacesImg,\n      data: [{\n        title: false,\n        mdPath: PlacesMd\n      }]\n    },\n    manuscripts: {\n      label: \"Manuscripts\",\n      img: ManuscriptsImg,\n      data: [{\n        title: false,\n        mdPath: ManuscriptsMd\n      }]\n    },\n    works: {\n      label: \"Works\",\n      img: WorksImg,\n      data: [{\n        title: false,\n        mdPath: WorksMd\n      }, {\n        title: \"Literary works currently without a Clavis Coptica entry\",\n        mdPath: WorksWithoutClavisMd\n      }]\n    },\n    titles: {\n      label: \"Titles\",\n      img: TitlesImg,\n      data: [{\n        title: false,\n        mdPath: TitlesMd\n      }]\n    },\n    authors: {\n      label: \"Authors\",\n      img: AuthorsImg,\n      data: [{\n        title: false,\n        mdPath: AuthorsMd\n      }]\n    },\n    colophons: {\n      label: \"Colophons\",\n      img: ColophonsImg,\n      data: [{\n        title: false,\n        mdPath: ColophonsMd\n      }]\n    },\n    collections: {\n      label: \"Collections\",\n      img: CollectionsImg,\n      data: [{\n        title: false,\n        mdPath: CollectionsMd\n      }]\n    }\n  };\n\n\n  if (!dataMap.hasOwnProperty(tb)) {\n    return (<div className=\"container m-5 p-5 text-center text-danger\">\n      Error: invalid table name\n      <code>{ tb }</code>\n    </div>);\n  }\n\n  const d = dataMap[tb];\n\n  let styles = {};\n\n  if(d.img){\n    styles = {\n      width: '100%',\n      height: '300px',\n      backgroundImage: 'url(' + d.img +')',\n      backgroundSize: 'cover',\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: '50% 50%'\n    };\n  }\n\n  return <div>\n    <div style={ styles }></div>\n\n    <SubHead tblabel={d.label} tb={tb} text=\"Introduction\" />\n    <div className=\"container\">\n      { d.data.map( (i, k) => {\n        return (<div key={ k } className={`intro-level-${k} mt-5 border-top pt-5`}>\n          { i.title && <h1>{ i.title }</h1> }\n          <div className=\"my-3 px-md-5 double-column text-justify\">\n            <ReactMarkdownPath path={i.mdPath} />\n          </div>\n        </div>)\n      } )}\n\n    </div>\n  </div>\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport Matrix from 'quirematrix';\n\nclass QuireMatrixView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid : Math.random().toString(36).substr(2, 5)\n    };\n  }\n\n  componentDidMount(){\n    if(this.props.string !== null){\n      const m = new Matrix('canvas'  + this.state.uid);\n      m.parseString(this.props.string, 'secondHalf' + this.state.uid);\n    }\n  }\n\n  render() {\n    let height = false;\n    if(this.props.string !== null){\n      height = 100 + this.props.string.length / 3 * 20;\n    }\n    return (\n      <div className=\"mt-2 mb-4\">\n        <Row>\n          <Col id=\"firstHalf\">{ this.props.string }</Col>\n          <Col id={ 'secondHalf' + this.state.uid }></Col>\n        </Row>\n        { height && <canvas width=\"400\" height={ height } id={ 'canvas'+ this.state.uid }></canvas> }\n      </div>\n    );\n  }\n}\n\n\nexport default QuireMatrixView;\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport nl2br from 'react-nl2br';\nimport relaxedSplit from '../Utils/relaxedSplit.jsx';\nimport internalLinks from '../Utils/internalLinks.jsx';\n\n\nconst parseText = (text) => {\n  const nltext = nl2br(text);\n  const linktext = nltext.map( (t, i) => {\n    if (typeof t === 'string'){\n      return <span className=\"internal-link\" key={i} dangerouslySetInnerHTML={{ __html: internalLinks(t) }}></span>;\n    } else {\n      return t;\n    }\n  });\n  return linktext;\n}\n\n\nexport default class PreviewText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n    const textParts = relaxedSplit(this.props.text, 200, this.props.separator);\n    if (!textParts[1]){\n      return parseText(textParts[0]);\n    }\n\n    return (\n      <span>{ parseText(textParts[0]) }\n        <span style={{ display: this.state.display }}>{ parseText(textParts[1]) }</span>\n        {this.state.display === 'none' ? '\\u2026' : ''}\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? '+' : '-'}\n        </Button>\n      </span>\n    )\n  }\n}\n","/**\n * Transforms @tb.id or @tb.id[label] parts to active links to records\n * @param  {String} text Text to parse\n * @return {String}      Replaces text\n */\nexport default function internalLinks(text : String) {\n  return text.replace(\n    /@([a-z]+)\\.([a-z0-9/]+)(\\[([^\\]]+)\\])?/gi,\n    function(match, p1, p2, p3, p4, offset, string){\n      return `<a href=\"/${p1}/${p2}\">\n        ${ p3 && p4 ? p4 : `paths.${p1}.${p2}` }\n      </a>`;\n    });\n};\n","/**\n * Returns an array of two elements of the input string\n * @param  {String} str         The original string\n * @param  {Int} offset         The offet to cut at\n * @param  {String} [until='.'] The charactet to cut at\n * @return {Array}             Array of two elements containing the splitted string\n */\n\nexport default function relaxedSplit (str : String, offset : Number, until = '.') {\n\n  // String is empty or shorter than offset.\n  if (!str || str.length <= offset){\n    return [str, false];\n  }\n  // str1 is cut at offset.\n  const str1 = str.substr(0, offset);\n\n  // If last char is until, return str1.\n  if (str1.substr(str1.length - 1) === until){\n    return [str1, false];\n  }\n\n  // first part is original string truncated at until\n  const start = str1 + '' + str.replace(str1, '').split(until)[0];\n  // second part is original string - ( first part + unitil )\n  const cont = str.replace(start + '' + until, '');\n\n  // return (start + until) and cont\n  return [\n    start + until,\n    cont === start ? false : cont\n  ];\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport QuireMatrixView from './QuireMatrixView';\nimport PreviewText from './PreviewText';\n\n\n\nclass RecordCell extends Component {\n\n  render() {\n    const val = this.props.val;\n    const label = this.props.label;\n    if (!val || val === '') {\n      return null;\n    }\n    let className = [];\n    if(this.props.coptic){\n      className.push('coptic');\n    }\n    if(this.props.greek){\n      className.push('greek');\n    }\n    return (\n      <Row className={\"border-bottom mt-2 mb-2 pb-1\" + (val !== null ? '' : ' d-none') }>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{label}</label>\n        </Col>\n        <Col>\n          <div className={ className.join(' ') }>\n            {  ( label === 'Quire layout' ) ? (<QuireMatrixView string={val} />) : <PreviewText text={val} separator={this.props.coptic ? '\\u2027' : '.'} /> }\n          </div>\n        </Col>\n\t    </Row>\n    );\n  }\n}\n\nexport default RecordCell;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nfunction showLink(zotero, short){\n  if (zotero){\n    return (<a href={'https://www.zotero.org/groups/2189557/erc-paths/items/itemKey/' + zotero} target=\"_blank\" rel=\"noopener noreferrer\">{short}</a>)\n  } else {\n    return short;\n  }\n}\n\nexport default class PluginBiblio extends Component {\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (\n                <span key={di} className=\"mr-3\">\n                  { showLink(d.zotero.val, d.short.val) }\n                  { d.details.val ? (', ' + d.details.val) : ''}\n                  { d.images.val ? (` [${d.images.val}];`) : ';'}\n                </span>\n              )\n            })\n          }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\n\n\nexport default class PluginShelfmarks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n  getHtmlModalBody(d){\n    return (\n      <dl>\n        <dt>Country:        </dt><dd>{d.country.val}</dd>\n        <dt>Town:           </dt><dd>{d.town.val}</dd>\n        <dt>Institution:    </dt><dd>{d.institution.val}</dd>\n        <dt>Collection name:</dt><dd>{d.name.val}</dd>\n        <dt>CMCL full name: </dt><dd>{d.fullsegnat.val}</dd>\n        <dt>URN:            </dt><dd><code>paths.shelfmarks.{d.id.val}</code></dd>\n      </dl>\n    );\n  }\n\n  toggle(d) {\n    if (d.id){\n      this.setState({\n        title: d.fullname.val,\n        body: this.getHtmlModalBody(d)\n      });\n    } else {\n\n    }\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            <ul>\n            {\n              this.props.data.data.map( (d, di) =>{\n                return (\n                  <li key={di}>\n                    <Button style={{margin: '0 0 4px 0', padding: 0}} color=\"link\" onClick={ () => this.toggle(d) }>\n                      {d.fullname.val}\n                    </Button>\n                    { d.shelfmark.val ? ', ' + d.shelfmark.val : ''}\n                    { d.pp.val ? ', ' + d.pp.val : ''}\n                  </li>\n                )\n              })\n            }\n          </ul>\n          </CardBody>\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>{ this.state.title }</ModalHeader>\n          <ModalBody>{ this.state.body }</ModalBody>\n        </Modal>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass ToggleText extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      display : 'none'\n    };\n    this.toggleDisplay = this.toggleDisplay.bind(this);\n  }\n\n\n  toggleDisplay(){\n    this.setState({\n      display: this.state.display === 'none' ? 'inline' : 'none'\n    });\n  }\n\n  render() {\n    return (\n      <span>\n        <span style={{ display: this.state.display }} className=\"ml-3 bg-light text-muted p-2\">{ this.props.text }</span>\n        <Button color=\"info\" size=\"sm\" className=\"ml-3\" onClick={ this.toggleDisplay }>\n          {this.state.display === 'none' ? <FontAwesomeIcon icon=\"info\" /> : '<'}\n        </Button>\n      </span>\n    )\n  }\n}\n\nclass TopoCell extends Component{\n\n  render(){\n    const tot = this.props.data.length;\n    return (<div>\n      {this.props.data.map( (d, di) =>{\n        return <span className={'mr-2 pr-2' + (tot === di+1 ? '' : ' border-right border-warning')} key={di}>\n          <span className={ d.language.val ? d.language.val.toLowerCase() : '' } title={d.notes.val}>\n            { d.toponym.val }{'\\u0020'}\n          </span>\n          { d.transcription.val ? <span className=\"text-muted ml-2\">[{d.transcription.val}]</span> : ''}\n          { d.notes.val ? <ToggleText text={ d.notes.val } /> : ''}\n        </span>\n      })}\n    </div>);\n  }\n};\n\nexport default class PluginToponyms extends Component {\n\n  parseNames(rows){\n    let obj = {};\n\n    rows.forEach( (d, di) =>{\n      if (!obj[d.language.val]){\n        obj[d.language.val] = []\n      }\n      obj[d.language.val].push(d);\n    });\n\n    return Object.keys(obj).map((l, i) => {\n      return <Row className={\"border-bottom mt-2 mb-2 pb-1\" } key={i}>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{l}</label>\n        </Col>\n        <Col>\n          <div>\n            <TopoCell data={obj[l]} />\n          </div>\n        </Col>\n\t    </Row>\n    });\n  }\n\n  render() {\n\n    return (\n      <div className=\"plugins\">\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          <CardBody>\n            { this.parseNames(this.props.data.data) }\n          </CardBody>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\n\nimport Cfg from '../Services/Cfg/Cfg';\nimport RecordCell from './RecordCell';\nimport PluginBiblio from './PluginBiblio';\nimport PluginShelfmarks from './PluginShelfmarks';\nimport PluginToponyms from './PluginToponyms';\n\n\n\nclass Plugin extends Component {\n\n  render() {\n\n    if (this.props.data.data.length < 1) {\n      return null;\n    }\n\n    if(this.props.data.metadata.tb_id === 'paths__m_biblio'){\n      return <PluginBiblio data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_shelfmarks'){\n      return <PluginShelfmarks data={ this.props.data } />\n    }\n    if(this.props.data.metadata.tb_id === 'paths__m_toponyms'){\n      return <PluginToponyms data={ this.props.data } />\n    }\n\n    return (\n      <div className=\"plugins\">\n\n        <Card className=\"mt-2\">\n          <CardHeader><h5>{ this.props.data.metadata.tb_label }</h5></CardHeader>\n          {\n            this.props.data.data.map( (d, di) =>{\n              return (<CardBody key={di} className=\"border border-info mb-2\">{\n                  Object.keys(d).map( (f, fi) => {\n                    if (Cfg.hidden.indexOf(this.props.data.metadata.tb_stripped + '.' + f) > -1){\n                      return null;\n                    }\n                    if (f === 'sort'){\n                      return null;\n                    }\n                    if (d[f].label){\n                      return <RecordCell val={ d[f].val_label ? d[f].val_label : d[f].val } label={ d[f].label } key={fi} />\n                    } else {\n                      return null;\n                    }\n                  })\n                }<hr /></CardBody>)\n            } )\n          }\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default Plugin;\n","import React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport QuireMatrixView from './QuireMatrixView';\nimport PreviewText from './PreviewText';\n\n\n\n\nexport default class RecordCellDb extends Component {\n\n  render() {\n    const val = this.props.data.val_label ? this.props.data.val_label : this.props.data.val;\n    const label = this.props.data.label;\n\n    if (!val || val === '') {\n      return null;\n    }\n    let className = [];\n    if(this.props.coptic){\n      className.push('coptic');\n    }\n    if(this.props.greek){\n      className.push('greek');\n    }\n    return (\n      <Row className={\"border-bottom mt-2 mb-2 pb-1\" + (val !== null ? '' : ' d-none') }>\n        <Col sm=\"4\" md=\"3\">\n          <label className=\"font-weight-bold\">{label}</label>\n        </Col>\n        <Col>\n          <div className={ className.join(' ') }>\n            {  ( label === 'Quire layout' ) ? (<QuireMatrixView string={val} />) : <PreviewText text={val} separator={this.props.coptic ? '\\u2027' : '.'} /> }\n          </div>\n        </Col>\n\t    </Row>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport RecordCellDb from '../RecordCellDb';\n\nexport default class FieldSet extends Component {\n\n  render() {\n    const fields = this.props.fields;\n    const legend = this.props.legend;\n    let show = false;\n    fields.forEach( f => {\n      if (typeof f.val !== 'undefined' && f.val && f.val !== ''){\n        show = true;\n      }\n    });\n\n    if (!show){\n      return false;\n    }\n\n    return (\n        <fieldset className=\"p-3 border border-warning mt-3\">\n          { legend && <legend className=\"border border-warning shadow-sm text-muted px-3 py-1\" style={{ fontSize: '1.1rem', 'fontWeight': 'bold' }}>{ legend }</legend> }\n          {\n            fields.map((f,k) => {\n              return (<RecordCellDb key={k} data={ f } />)\n            })\n          }\n        </fieldset>\n\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport RecordCellDb from '../RecordCellDb';\nimport FieldSet from './FieldSet';\nimport Plugin from '../Plugin';\n\n\nexport default class ManuscriptBody extends Component {\n\n  render() {\n    const rec = this.props.rec;\n\n    return (\n      <div>\n        <FieldSet legend=\"Manuscript identifiers\" fields={[\n            rec.core.id,\n            rec.core.cmclid,\n            rec.core.tm,\n            rec.core.ldab,\n            rec.core.lcbm,\n            rec.core.alias,\n            rec.core.issinglefrag,\n            rec.core.stratigraphy,\n            rec.core.modernhistory,\n            rec.core.contents\n          ]} />\n\n        { rec.plugins['paths__m_shelfmarks'] && <Plugin data={rec.plugins['paths__m_shelfmarks']} /> }\n\n        <FieldSet legend=\"Dialects\" fields={[\n          rec.core.dialect,\n          rec.core.dialectnotes\n        ]} />\n\n        <FieldSet legend=\"Dating\" fields={[\n          rec.core.datingsource,\n          rec.core.chronofrom,\n          rec.core.chronoto,\n          rec.core.datingcriteria\n        ]} />\n\n        { rec.plugins['paths__m_msplaces'] && <Plugin data={rec.plugins['paths__m_msplaces']} /> }\n\n        <FieldSet legend=\"Book form\" fields={[\n          rec.core.bookform,\n          rec.core.writingsupport\n        ]} />\n\n        <FieldSet legend=\"General description\" fields={[\n          rec.core.leaftotextant,\n          rec.core.fragtot,\n          rec.core.fragdim,\n          rec.core.leaftotestimated,\n          rec.core.quiresextant,\n          rec.core.gennotes\n        ]} />\n\n        <FieldSet legend=\"Page description\" fields={[\n          rec.core.columns,\n          rec.core.colnotes,\n          rec.core.linespercolumn,\n          rec.core.charsperline,\n          rec.core.alignment,\n          rec.core.alignmentnotes\n        ]} />\n\n        <FieldSet legend=\"Dimensions (mm) and proportions\" fields={[\n          rec.core.leafw,\n          rec.core.leafh,\n          rec.core.framew,\n          rec.core.frameh,\n          rec.core.intercolumnium,\n          rec.core.marginup,\n          rec.core.marginlow,\n          rec.core.marginin,\n          rec.core.marginout,\n          rec.core.marginleft,\n          rec.core.marginright,\n          rec.core.heighttenlines,\n          rec.core.prophw,\n          rec.core.propwt,\n          rec.core.dimnotes\n        ]} />\n\n        { rec.plugins['paths__m_quires'] && <Plugin data={rec.plugins['paths__m_quires']} /> }\n\n        <FieldSet fields={[ rec.core.quirenotes ]} />\n\n        <FieldSet legend=\"Quire signature\" fields={[\n          rec.core.quiresig,\n          rec.core.quiretype,\n          rec.core.quireposition,\n          rec.core.quirenrnotes\n        ]} />\n\n        <FieldSet legend=\"Pagination\" fields={[\n          rec.core.pagination,\n          rec.core.pagtype,\n          rec.core.pagposition,\n          rec.core.pagnote\n        ]} />\n\n        <FieldSet legend=\"Foliation (ancient and modern)\" fields={[\n          rec.core.foliation,\n          rec.core.foltype,\n          rec.core.folposition,\n          rec.core.folnotes\n        ]} />\n\n        <RecordCellDb data={ rec.core.handstot } />\n\n        { rec.plugins['paths__m_hands'] && <Plugin data={rec.plugins['paths__m_hands']} /> }\n\n        <FieldSet legend=\"Diacritical signs\" fields={[\n          rec.core.lectionalsigns,\n          rec.core.structuralsigns,\n          rec.core.signsnotes\n        ]} />\n\n        <FieldSet legend=\"Abbreviations\" fields={[\n          rec.core.abbreviations,\n          rec.core.abbrnotes\n        ]} />\n\n        <FieldSet legend=\"Ruling and pricking\" fields={[\n          rec.core.ruling,\n          rec.core.rulingtype,\n          rec.core.rulingtool,\n          rec.core.pricking,\n          rec.core.rulingnotes\n        ]} />\n\n        <FieldSet legend=\"\" fields={[\n          rec.core.leaftabs,\n          rec.core.leaftabsnotes\n        ]} />\n\n        <FieldSet legend=\"Manufacture of the rolls\" fields={[\n          rec.core.kolleseis,\n          rec.core.kolleseseisdescr,\n          rec.core.tracesnotes,\n          rec.core.kollno,\n          rec.core.kolldim\n        ]} />\n\n        <FieldSet legend=\"Binding\" fields={[\n          rec.core.bindings,\n          rec.core.covers,\n          rec.core.coversnotes,\n          rec.core.sewings,\n          rec.core.sewingtype,\n          rec.core.holesno,\n          rec.core.holesarrangement,\n          rec.core.holesnotes\n        ]} />\n\n\n      <FieldSet legend=\"Coloured pigments\" fields={[\n          rec.core.pgmcol,\n          rec.core.pgmlocation,\n          rec.core.pgmnotes\n        ]} />\n\n      <FieldSet legend=\"Black inks\" fields={[\n          rec.core.blktype,\n          rec.core.blklocation,\n          rec.core.blknotes\n        ]} />\n\n        <FieldSet legend=\"Additional information\" fields={[\n          rec.core.marginalnotes,\n          rec.core.greekminuscule,\n          rec.core.greekminusculenotes,\n          rec.core.palimpsest,\n          rec.core.palimpsestnotes,\n          rec.core.decortype,\n          rec.core.decorsubj,\n          rec.core.decorationdescr,\n          rec.core.enlargedinitials,\n          rec.core.restancient,\n          rec.core.restmodern\n        ]} />\n\n      { rec.plugins['paths__m_biblio'] && <Plugin data={rec.plugins['paths__m_biblio']} /> }\n\n\n        <FieldSet legend=\"Metadata\" fields={[\n          rec.core.sourceinfo,\n          rec.core.editors,\n          rec.core.status\n        ]} />\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport Cfg from '../../Services/Cfg/Cfg';\nimport RecordCell from '../RecordCell';\nimport Plugin from '../Plugin';\nimport Loading from '../../Loading/Loading';\nimport ManuscriptsBody from './ManuscriptsBody';\n\n\nexport default class ViewOne extends Component {\n\n  renderTemplate(rec) {\n\n    switch (rec.metadata.tb_stripped) {\n      case 'manuscripts':\n        return (<ManuscriptsBody rec={ rec } /> )\n      default:\n        return(\n          <div>\n            {\n              Object.values(rec.core).map( (i, k) => {\n                if (Cfg.hidden.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1){\n                  return null;\n                }\n                return <RecordCell\n                    coptic= { Cfg.coptic.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    greek= { Cfg.greek.indexOf(rec.metadata.tb_stripped + '.' + i.name) > -1}\n                    label={ i.label }\n                    val={ i.val_label ? i.val_label : i.val }\n                    key={k} />\n              })\n            }\n            {\n              Object.keys(rec.plugins).map( (t, k) => {\n                return  <Plugin key={k} data={rec.plugins[t]} />\n              })\n            }\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.props.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.props.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass RecordLinks extends Component {\n\n  makeHref(table, query){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      'search',\n      '/',\n      strippedTb,\n      '/',\n      'encoded',\n      '?q=' + window.btoa('SELECT * FROM ' + table + ' WHERE ' + query)\n    ];\n\n    return url.join('');\n  }\n\n  renderLinks(links){\n\n     return Object.entries(links).map(\n      ([tb, info], i) => {\n        if (info.tot < 1) {\n          return null;\n        }\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, info.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {info.tot + ' referenced item' + (info.tot > 1 ? 's': '') + ' in ' + info.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  renderBackLinks(backlinks){\n    if (typeof backlinks === 'undefined' || backlinks.length < 1){\n      return false;\n    }\n\n    return Object.entries(backlinks).map(\n      ([tb, arr], i) => {\n        if (arr.tot < 1){\n          return false;\n        }\n\n        return <ListGroupItem key={i} tag={Link} to={ this.makeHref(tb, arr.where) }>\n          <FontAwesomeIcon icon=\"external-link-square-alt\" /> {arr.tot + ' referenced item' + (arr.tot > 1 ? 's': '') + ' in ' + arr.tb_label}\n        </ListGroupItem>\n      }\n    )\n  }\n\n  render() {\n    if( (!this.props.links && !this.props.backlinks) || (this.props.links.length < 1 && this.props.backlinks.length < 1) ){\n      return null;\n    }\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            { this.renderLinks(this.props.links) }\n            { this.renderBackLinks(this.props.backlinks) }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default RecordLinks;\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\n\nclass UserLinks extends Component {\n\n  makeHref(table, id){\n    const strippedTb = table.replace('paths__', '');\n    let url = [\n      '/',\n      strippedTb,\n      '/',\n      id\n    ];\n\n    return url.join('');\n  }\n\n  render() {\n    const links = this.props.links || [];\n\n    if (typeof links === 'undefined' || links.length < 1) {\n      return null;\n    }\n\n    return (\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon=\"link\" /> Manually entered links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            {\n              links.map(\n                (l, i) => {\n                  return <ListGroupItem key={i} tag={Link} to={ this.makeHref(l.tb_stripped, l.ref_id) }>\n                    <FontAwesomeIcon icon=\"external-link-square-alt\" />  { l.tb_label } #{ l.ref_label ? l.ref_label : l.ref_id }\n                  </ListGroupItem>\n                }\n              )\n            }\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default UserLinks;\n","import React, { Component } from 'react';\n\nimport { CardBody } from 'reactstrap';\n\nexport default class Caption extends Component {\n  render(){\n    if (!this.props.text){\n      return null;\n    }\n    return (<CardBody className=\"text-secondary\" style={{ fontSize: '.9rem', fontStyle: 'italic'}}>{this.props.text}</CardBody>);\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardImg, Modal, ModalFooter, ModalBody } from 'reactstrap';\n\nimport Caption from './Caption';\n\n\nexport default class PreviewModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n\n\n  render(){\n\n    return (\n      <div>\n        <Card className=\"mt-1\">\n          <CardImg top\n              width=\"100%\"\n              src={this.props.file}\n              onClick={this.toggle} />\n            <Caption text={this.props.description} />\n        </Card>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className} size=\"lg\">\n          <ModalBody>\n            <div>\n              <img style={ { width: \"100%\" } }\n                  src={this.props.file}\n                  alt={ this.props.description } />\n            </div>\n          </ModalBody>\n          <ModalFooter><Caption text={this.props.description} /></ModalFooter>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\n\nimport PreviewModal from './PreviewModal';\n\nexport default class MoreImages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: false,\n      buttonText: 'Show more images'\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      shown: !this.state.shown,\n      buttonText : this.state.buttonText === 'Show more images' ? 'Hide' : 'Show more'\n    });\n  }\n\n  render(){\n    if (!this.props.files || this.props.files.length < 1){\n      return null;\n    }\n    return (\n      <div>\n        <div style={{ display: this.state.shown ? 'block' : 'none' }}>\n        {\n          this.props.files.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        </div>\n        <div className=\"text-center mt-2\" >\n          <Button onClick={this.toggle} color=\"info\">{ this.state.buttonText}</Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport MoreImages from './MoreImages';\nimport PreviewModal from './PreviewModal';\n\n\nexport default class Files extends Component {\n\n  render() {\n    let files = this.props.files || [];\n\n    files = files.map( f => {\n      if (['jpg', 'png', 'gif', 'tif', 'tiff', 'jpeg'].includes(f.ext.toLowerCase())){\n        return f;\n      } else {\n        return false;\n      }\n    }).filter(e => { return e; });\n    const firstFiles = files.slice(0,3);\n    const otherFiles = files.slice(3);\n\n    if(firstFiles.length < 1){\n      return null;\n    }\n\n    return (\n\n      <div className=\"mt-3\">\n        <h5>Attached images</h5>\n        {\n          firstFiles.map( (f, id) => {\n            return <PreviewModal key={id}\n              file={this.props.baseUrl.replace('/api/', '/projects/') + 'files/' + f.id + '.' + f.ext} description={f.description} />\n          })\n        }\n        <MoreImages files={otherFiles} baseUrl={this.props.baseUrl} />\n      </div>\n\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Map, TileLayer, Marker } from 'react-leaflet';\n\nclass MiniMap extends Component {\n\n  render() {\n    if (this.props.geom.length < 1) {\n      return null;\n    }\n    const position = JSON.parse(this.props.geom[0].geojson).coordinates.reverse();\n\n    return (\n      <div style={{ height: '300px', width: '100%' }}>\n        <Map className=\"sidebar-map maxHeight\" center={ position } zoom={10} zoomControl={true}>\n          <TileLayer url=\"http://dare.ht.lu.se/tiles/imperium/{z}/{x}/{y}.png\" />\n\n          { this.props.geom.map( (e, i) => {\n            const coord = JSON.parse(e.geojson).coordinates.reverse();\n            return (<Marker position={ coord } key={ i } />)\n          } ) }\n\n        </Map>\n      </div>\n\n    );\n  }\n}\n\nexport default MiniMap;\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class CoptOT extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={\"http://coptot.manuscriptroom.com/manuscript-catalog/?gaNum=\" + encodeURIComponent(this.props.data.val)} target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> The Digital Edition of the Coptic Old Testament\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TM extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n\n    return (\n      <div>\n        { this.props.data.val.split(',').map( (v, k) => {\n          return <ListGroupItem key={k}>\n            <a href={\"https://www.trismegistos.org/text/\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n              <FontAwesomeIcon icon=\"external-link-alt\" /> TM {v}\n            </a>\n          </ListGroupItem>\n        }) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class TmPlaces extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return (\n      <div>\n        { this.props.data.val.split(',').map( (v, k) => {\n          return <ListGroupItem key={ k }>\n            <a href={\"https://www.trismegistos.org/place/\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n              <FontAwesomeIcon icon=\"external-link-alt\" /> TM Geo {v}\n            </a>\n          </ListGroupItem>\n        }) }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Ldab extends Component {\n\n  render() {\n    if ( this.props.tb !== 'manuscripts' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return (\n      <div>\n        { this.props.data.val.split(',').map( (v, k) => {\n          return <ListGroupItem key={k}>\n            <a href={\"https://www.trismegistos.org/ldab/text.php?quick=\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n              <FontAwesomeIcon icon=\"external-link-alt\" /> LDAB {v}\n            </a>\n          </ListGroupItem>\n        }) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class Pleiades extends Component {\n\n  render() {\n    if ( this.props.tb !== 'places' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return (\n      <div>\n        { this.props.data.val.split(',').map( (v, k) => {\n          return <ListGroupItem key={k}>\n            <a href={\"https://pleiades.stoa.org/places/\" + v.trim() } target=\"_blank\" rel=\"noopener noreferrer\">\n              <FontAwesomeIcon icon=\"external-link-alt\" /> Pleiades {v}\n            </a>\n          </ListGroupItem>\n        }) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { ListGroupItem } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nexport default class CopticColophons extends Component {\n\n  render() {\n    if ( this.props.tb !== 'colophons' || !this.props.data.val || this.props.data.val.length < 1 ) {\n      return null;\n    }\n    return <ListGroupItem>\n      <a href={`https://github.com/paths-erc/coptic-texts/blob/master/colophons/paths.colophons.${this.props.data.val}.xml` } target=\"_blank\" rel=\"noopener noreferrer\">\n        <FontAwesomeIcon icon=\"external-link-alt\" /> View marked-up text on GitHub\n      </a>\n    </ListGroupItem>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, ListGroup } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport CoptOT from './ExternalLinks/CoptOT';\nimport TM from './ExternalLinks/TM';\nimport TmPlaces from './ExternalLinks/TmPlaces';\nimport Ldab from './ExternalLinks/Ldab';\nimport Pleiades from './ExternalLinks/Pleiades';\nimport CopticColophons from './ExternalLinks/CopticColophons';\n\n\nexport default class ExternalLinks extends Component {\n\n  render() {\n    if ( !this.props.rec || this.props.rec.length < 1 ) {\n      return null;\n    }\n    return <div className=\"mt-3\">\n\n      <Card className=\"mt-2\">\n        <CardHeader>\n          <FontAwesomeIcon icon={['fab', 'hubspot']} /> External links\n        </CardHeader>\n        <CardBody>\n          <ListGroup>\n            <CoptOT   data={this.props.rec.lcbm}  tb={this.props.tb}/>\n            <TM       data={this.props.rec.tm}    tb={this.props.tb} />\n            <Ldab     data={this.props.rec.ldab}  tb={this.props.tb} />\n\n            <TmPlaces data={this.props.rec.tm}    tb={this.props.tb} />\n            <Pleiades data={this.props.rec.pleiades} tb={this.props.tb} />\n            <CopticColophons data={this.props.rec.id} tb={this.props.tb} />\n\n    \t    </ListGroup>\n        </CardBody>\n      </Card>\n\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, Row, Col, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport Database from '../Services/Database/Database';\nimport SubHead from '../SubHead/SubHead';\nimport Body from './Bodies/Body';\nimport RecordLinks from './RecordLinks';\nimport UserLinks from './UserLinks';\nimport Files from '../ViewFiles/Files';\nimport MiniMap from './MiniMap';\nimport Loading from '../Loading/Loading';\nimport ExternalLinks from './ExternalLinks';\n\nexport default class ViewOne extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rec: false,\n      copied: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps !== this.props ){\n      this.setState({\n        rec: null\n      });\n\n      Database.getOne(nextProps.match.params.table, nextProps.match.params.id, (d) =>{\n        this.setState({\n          rec: d\n        });\n      });\n    }\n  }\n\n  componentDidMount(){\n    Database.getOne(this.props.match.params.table, this.props.match.params.id, (d) =>{\n      this.setState({\n        rec: d\n      });\n    });\n  }\n\n  renderTemplate(rec) {\n\n    if (rec.type === 'error'){\n      return (<pre className=\"text-danger p-5\">{ rec.text }</pre>)\n    }\n\n    switch (rec.metadata.tb_stripped) {\n      // case 'titles':\n      //   return (<ViewOneTitle record={ rec } />);\n      default:\n        // No record found!\n        if (rec.core.length < 1){\n          return (\n            <div className=\"container\">\n              <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n                <Card className=\"mt-2\">\n                  <CardHeader>\n                    <h3 className=\"text-danger\">Record paths.{ rec.metadata.tb_stripped }.{ this.props.match.params.id }  not found!</h3>\n                  </CardHeader>\n                </Card>\n            </div>\n          )\n        }\n        return(\n          <div className=\"container\">\n\n            <SubHead tb={ rec.metadata.tb_stripped } tblabel={rec.metadata.tb_label} text=\"View record\" />\n\n            <Row className=\"mt-2\">\n              <Col sm=\"8\">\n                <Card>\n                  <CardHeader>\n                    <h3>\n                      paths.{ rec.metadata.tb_stripped }.{ rec.core.id.val }\n                    </h3>\n                      <div className=\"text-secondary d-flex justify-content-between\">\n                        <div>\n                          <FontAwesomeIcon icon=\"link\" /> http://paths.uniroma1.it/atlas/{ rec.metadata.tb_stripped }/{ rec.core.id.val }\n                        </div>\n                        <div>\n                          <CopyToClipboard\n                            text={ 'http://paths.uniroma1.it/atlas/' + rec.metadata.tb_stripped + '/' + rec.core.id.val }\n                            onCopy={() => { this.setState({copied: true}); window.setTimeout(()=>{ this.setState({copied: false}); }, 2000); } }\n                            >\n                            <Button size=\"sm\" color={ this.state.copied ? 'primary': 'secondary'}>\n                              <FontAwesomeIcon icon=\"clone\" /> <span className=\"d-none d-sm-inline\">\n                                {this.state.copied ? 'Copied!' : 'Copy to clipboard'}\n                              </span>\n                            </Button>\n                          </CopyToClipboard>\n                        </div>\n                      </div>\n                  </CardHeader>\n                  <CardBody>\n                    <Body rec={ rec } />\n                  </CardBody>\n                </Card>\n              </Col>\n              <Col sm=\"4\">\n                <MiniMap geom={ rec.geodata } />\n                <Files files={ rec.files } baseUrl={ Database.getBaseUrl() } />\n                <RecordLinks links={ rec.links } backlinks={ rec.backlinks } />\n                <UserLinks links={ rec.manualLinks } />\n                <ExternalLinks rec={ rec.core } tb={ rec.metadata.tb_stripped } />\n              </Col>\n            </Row>\n          </div>\n        )\n    }\n  }\n\n  render() {\n    if (!this.state.rec) {\n      return <div className=\"m-5 p-5\"><Loading /></div>;\n    }\n\n    return (\n      <div className=\"mb-5\">\n        { this.renderTemplate(this.state.rec) }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {Bar} from 'react-chartjs-2';\n\nimport Loading from '../Loading/Loading';\n\n\nexport default class ChartView extends Component {\n\n  parseData(data){\n    let d = {\n      labels: [],\n      datasets: [{\n        label: 'My First dataset',\n        backgroundColor: 'rgba(195,31,42,0.8)',\n        borderColor: 'rgba(195,31,42,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(195,31,42,1)',\n        hoverBorderColor: 'rgba(195,31,42,0.8)',\n        data: []\n      }]\n    }\n\n    data.forEach(row => {\n      d.labels.push(row.series_name)\n      Object.keys(row).forEach(k =>{\n        if (k !== 'series_name'){\n          d.datasets[0].data.push(row[k]);\n          d.datasets[0].label = k;\n        }\n      });\n    });\n\n    return d;\n  }\n\n  render(){\n    if (this.props.loading){\n      return <Loading>Loading chart...</Loading>;\n    }\n    if (!this.props.data){\n      return null;\n    }\n\n    const data = this.parseData(this.props.data);\n    return (\n      <div className=\"my-5\">\n        <h2>{ this.props.name }</h2>\n          <Bar data={ data }  width={100}\n          height={350}\n          options={{\n            maintainAspectRatio: false\n          }}/>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, Card, CardBody, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport Database from '../Services/Database/Database';\nimport ChartView from './ChartView';\nimport Loading from '../Loading/Loading';\n\nexport default class ChartList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: false,\n      data: false,\n      loading: false\n    };\n  }\n\n  loadChart(id){\n    this.setState({ loading: true });\n    Database.getChart(id, d => {\n      this.setState({ name: d.name });\n      this.setState({ data: d.data });\n      this.setState({ loading: false });\n    });\n\n  }\n\n  render(){\n    if (!this.props.charts){\n      return <Loading>Loading chart list...</Loading>;\n    }\n    if (this.props.charts.type === 'error'){\n      return (\n        <div className=\"text-danger mt-5 px-5\">Sorry! There was an error getting list of chart from the database...</div>\n      );\n    }\n    return (\n      <div className=\"mt-5\">\n        <ChartView name={this.state.name} data={this.state.data} loading={this.state.loading}/>\n        <Card>\n          <CardBody>\n            <ListGroup>\n              { this.props.charts.map( (c, i) => {\n                return (\n                  <ListGroupItem\n                    key={i}\n                    tag={Button}\n                    onClick={ () => this.loadChart(c.id) } className=\"mb-3\"\n\n                    color=\"secondary\">\n                    { c.name }\n                  </ListGroupItem>\n                );\n              } ) }\n            </ListGroup>\n          </CardBody>\n        </Card>\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Database from '../Services/Database/Database';\nimport ChartList from './ChartList';\n\n\nexport default class Charts extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartList: false\n    };\n  }\n\n  componentDidMount(prevProps, prevState){\n    Database.getChart('all', d => {\n      this.setState({ chartList: d });\n    });\n  }\n\n\n  render(){\n    return (\n      <div className=\"container mt-5\">\n        <h1><FontAwesomeIcon icon=\"chart-bar\" /> Available charts</h1>\n        <ChartList charts={this.state.chartList} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport './Cite.css';\n\n\nimport cite from './Cite.md';\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\n\n\nexport default function Cite(){\n\n  return (\n    <div>\n      <div className=\"jumbotron\">\n        <div className=\"container text-center\">\n          <h1>How to cite the PAThs project as a whole and the single database records</h1>\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"my-5 px-5 cite\">\n          <ReactMarkdownPath path={cite} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport ReactMarkdownPath from '../ReactMarkdownPath/ReactMarkdownPath';\nimport api from './Api.md';\n\nexport default function Api(){\n\n  return (\n    <div>\n      <div className=\"jumbotron\">\n        <div className=\"container text-center\">\n          <h1>PAThs API & Data export</h1>\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"my-5 px-5\">\n          <ReactMarkdownPath path={api} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faIdBadge, faLink, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\n\nimport MainTemplate from './components/mainLayout/MainTemplate';\nimport Home from './components/Home/Home';\nimport BrowserNotSupported from './components/Home/BrowserNotSupported';\nimport PathsMap from './components/PathsMap/PathsMap';\n\nimport SearchSaved from './components/Search/SearchSaved';\nimport SearchSimple from './components/Search/SearchSimple';\nimport SearchAdv from './components/Search/SearchAdv';\nimport SearchEncoded from './components/Search/SearchEncoded';\nimport SearchAll from './components/Search/SearchAll';\n\nimport Intro from './components/Intro/Intro';\n\nimport ViewOne from './components/Record/ViewOne';\nimport Charts from './components/Charts/Charts';\nimport Cite from './components/Cite/Cite';\nimport Api from './components/Api/Api';\nimport ReactGA from 'react-ga';\nimport { detect } from 'detect-browser';\n\nconst browser = detect();\n\n\nif(window.location.href.match(/atlas\\.paths-erc\\.eu/g)){\n  ReactGA.initialize('UA-10461068-45');\n  ReactGA.pageview(window.location.pathname + window.location.search);\n}\n\nconst compatibility = {\n  'ie': 10000,\n  'opera-mini': 10000,\n  'bb10': 10000,\n  'edge': 14,\n  'firefox': 39,\n  'chrome': 42, // 42\n  'safari': 11,\n  'opera': 29,\n  'android': 67,\n}\n\nlet notSupported = false;\nif (browser){\n  const bName = browser.name;\n  const bVersion = browser.version.split('.')[0];\n\n  if ( Object.keys(compatibility).indexOf(bName) > -1 && bVersion < compatibility[bName] ) {\n    notSupported = true;\n  }\n}\n\nlibrary.add(fas, fab, faArrowCircleRight, faBug, faEye, faExternalLinkSquareAlt, faFilter, faGithub, faIdBadge, faLink, faMapMarkerAlt);\n\n\nclass App extends Component {\n  render() {\n    if (notSupported){\n      return <BrowserNotSupported browser={browser} compatibility={compatibility} />\n    }\n\n    return (\n      <BrowserRouter basename=\"/\">\n        <Switch>\n          <Route path='/map/:action?/:data?' component={PathsMap}/>\n          <MainTemplate>\n            <Route exact path='/' component={ Home } />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={Intro} />\n            <Route exact path='/:table(places|titles|works|manuscripts|authors|colophons|collections)/:id' component={ViewOne} />\n\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/saved' component={SearchSaved} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/all' component={SearchAll} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/adv' component={SearchAdv} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)/encoded' component={SearchEncoded} />\n            <Route exact path='/search/:table(places|titles|works|manuscripts|authors|colophons|collections)' component={SearchSimple} />\n\n            <Route exact path='/charts/:id?' component={Charts} />\n            <Route exact path='/cite' component={Cite} />\n            <Route exact path='/api' component={Api} />\n\n          </MainTemplate>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\nunregister();\n","module.exports = __webpack_public_path__ + \"static/media/paths-logo.d0a2b412.png\";"],"sourceRoot":""}